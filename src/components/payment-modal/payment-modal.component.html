<div
  *ngIf="show()"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"
>
  <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6 relative">
    <button
      (click)="handleClose()"
      class="absolute top-2 right-2 text-gray-400 hover:text-gray-600"
      aria-label="Fechar"
    >
      <i class="fas fa-times"></i>
    </button>
    <h2 class="text-xl font-bold mb-4 text-gray-900">{{ "payNow" | i18n }}</h2>
    <div class="mb-4">
      <div class="text-sm text-gray-700 mb-2">
        {{ "service" | i18n }}:
        <span class="font-medium">{{ request().title }}</span>
      </div>
      <div class="text-sm text-gray-700 mb-2">
        {{ "category" | i18n }}:
        <span class="font-medium">{{ request().category }}</span>
      </div>
      <div class="text-sm text-gray-700 mb-2">
        {{ "professional" | i18n }}:
        <span class="font-medium">{{
          request().professional_id
            ? request().professional_id
            : ("unassigned" | i18n)
        }}</span>
      </div>
      <div class="text-sm text-gray-700 mb-2">
        {{ "cost" | i18n }}:
        <span class="font-semibold text-green-700"
          >R$ {{ request().cost | number : "1.2-2" }}</span
        >
      </div>
      <div class="text-sm text-gray-700 mb-2">
        {{ "status" | i18n }}:
        <span class="font-medium">{{ request().status }}</span>
      </div>
    </div>
    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700 mb-2">{{
        "choosePaymentMethod" | i18n
      }}</label>
      <div class="space-y-2">
        <ng-container *ngFor="let method of paymentMethods">
          <label class="flex items-center cursor-pointer">
            <input
              type="radio"
              name="paymentMethod"
              [value]="method.id"
              [checked]="selectedMethod() === method.id"
              (change)="selectedMethod.set(method.id)"
              class="form-radio text-green-600"
            />
            <span class="ml-2 text-gray-800">{{ method.label }}</span>
          </label>
        </ng-container>
      </div>
    </div>
    <button
      (click)="handlePay()"
      [disabled]="!selectedMethod()"
      class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50"
    >
      <i class="fas fa-credit-card mr-2"></i>{{ "confirmPayment" | i18n }}
    </button>
  </div>
</div>
