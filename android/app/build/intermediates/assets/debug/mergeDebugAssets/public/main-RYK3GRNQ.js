import{b as k0,c as ik}from"./chunk-JENGY3ED.js";import{a as wl}from"./chunk-ELF4O7UH.js";import{a as B,b as ee}from"./chunk-UUTQQLSI.js";var rk=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),Zu=class n{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let t=[],i=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},r=new n,o,s=r,a=!1;for(rk.lastIndex=0;o=rk.exec(e);){if(o[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,s=new n,r.notSelectors.push(s)}let l=o[2];if(l){let u=o[3];u==="#"?s.addAttribute("id",l.slice(1)):u==="."?s.addClassName(l.slice(1)):s.setElement(l)}let c=o[4];if(c&&s.addAttribute(s.unescapeAttribute(c),o[6]),o[7]&&(a=!1,s=r),o[8]){if(a)throw new Error("Multiple selectors in :not are not supported");i(t,r),r=s=new n}}return i(t,r),t}unescapeAttribute(e){let t="",i=!1;for(let r=0;r<e.length;r++){let o=e.charAt(r);if(o==="\\"){i=!0;continue}if(o==="$"&&!i)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);i=!1,t+=o}return t}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){let i=this.escapeAttribute(this.attrs[t]),r=this.attrs[t+1];e+=`[${i}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}},ev=class n{static createNotMatcher(e){let t=new n;return t.addSelectables(e,null),t}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,t){let i=null;e.length>1&&(i=new wC(e),this._listContexts.push(i));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,i)}_addSelectable(e,t,i){let r=this,o=e.element,s=e.classNames,a=e.attrs,l=new EC(e,t,i);if(o&&(a.length===0&&s.length===0?this._addTerminal(r._elementMap,o,l):r=this._addPartial(r._elementPartialMap,o)),s)for(let c=0;c<s.length;c++){let u=a.length===0&&c===s.length-1,m=s[c];u?this._addTerminal(r._classMap,m,l):r=this._addPartial(r._classPartialMap,m)}if(a)for(let c=0;c<a.length;c+=2){let u=c===a.length-2,m=a[c],y=a[c+1];if(u){let v=r._attrValueMap,w=v.get(m);w||(w=new Map,v.set(m,w)),this._addTerminal(w,y,l)}else{let v=r._attrValuePartialMap,w=v.get(m);w||(w=new Map,v.set(m,w)),r=this._addPartial(w,y)}}}_addTerminal(e,t,i){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(i)}_addPartial(e,t){let i=e.get(t);return i||(i=new n,e.set(t,i)),i}match(e,t){let i=!1,r=e.element,o=e.classNames,s=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(i=this._matchTerminal(this._elementMap,r,e,t)||i,i=this._matchPartial(this._elementPartialMap,r,e,t)||i,o)for(let a=0;a<o.length;a++){let l=o[a];i=this._matchTerminal(this._classMap,l,e,t)||i,i=this._matchPartial(this._classPartialMap,l,e,t)||i}if(s)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1],u=this._attrValueMap.get(l);c&&(i=this._matchTerminal(u,"",e,t)||i),i=this._matchTerminal(u,c,e,t)||i;let m=this._attrValuePartialMap.get(l);c&&(i=this._matchPartial(m,"",e,t)||i),i=this._matchPartial(m,c,e,t)||i}return i}_matchTerminal(e,t,i,r){if(!e||typeof t!="string")return!1;let o=e.get(t)||[],s=e.get("*");if(s&&(o=o.concat(s)),o.length===0)return!1;let a,l=!1;for(let c=0;c<o.length;c++)a=o[c],l=a.finalize(i,r)||l;return l}_matchPartial(e,t,i,r){if(!e||typeof t!="string")return!1;let o=e.get(t);return o?o.match(i,r):!1}},wC=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},EC=class{selector;cbContext;listContext;notSelectors;constructor(e,t,i){this.selector=e,this.cbContext=t,this.listContext=i,this.notSelectors=e.notSelectors}finalize(e,t){let i=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(i=!ev.createNotMatcher(this.notSelectors).match(e,null)),i&&t&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),i}},tv=class{registry;constructor(e){this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var Sl=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Sl||{}),zw=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(zw||{}),Mf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Mf||{}),ok={name:"custom-elements"},sk={name:"no-errors-schema"};var Et=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Et||{});function y5(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return[n.element&&n.element!=="*"?n.element:"",...n.attrs,...e]}function b5(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return n.element?[5,n.element,...n.attrs,...e]:n.attrs.length?[3,...n.attrs,...e]:n.classNames&&n.classNames.length?[9,...n.classNames]:[]}function x5(n){let e=y5(n),t=n.notSelectors&&n.notSelectors.length?n.notSelectors.map(i=>b5(i)):[];return e.concat(...t)}function Ww(n){return n?Zu.parse(n).map(x5):[]}var Rs=(function(n){return n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule",n})(Rs||{});var nv;function C5(n){return D5(S5(n.nodes).join("")+`[${n.meaning}]`)}function w5(n){return n.id||QM(n)}function QM(n){let e=new SC,t=n.nodes.map(i=>i.visit(e,null));return YM(t.join(""),n.meaning)}var iv=class{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(i=>i.visit(this)).join(", ")}]`}visitIcu(e,t){let i=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expression}, ${e.type}, ${i.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,t){return`<ph block name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}},E5=new iv;function S5(n){return n.map(e=>e.visit(E5,null))}var SC=class extends iv{visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.type}, ${t.join(", ")}}`}};function D5(n){nv??=new TextEncoder;let e=[...nv.encode(n)],t=I5(e,Gw.Big),i=e.length*8,r=new Uint32Array(80),o=1732584193,s=4023233417,a=2562383102,l=271733878,c=3285377520;t[i>>5]|=128<<24-i%32,t[(i+64>>9<<4)+15]=i;for(let u=0;u<t.length;u+=16){let m=o,y=s,v=a,w=l,D=c;for(let I=0;I<80;I++){I<16?r[I]=t[u+I]:r[I]=tC(r[I-3]^r[I-8]^r[I-14]^r[I-16],1);let M=A5(I,s,a,l),q=M[0],G=M[1],N=[tC(o,5),q,c,G,r[I]].reduce(Mu);c=l,l=a,a=tC(s,30),s=o,o=N}o=Mu(o,m),s=Mu(s,y),a=Mu(a,v),l=Mu(l,w),c=Mu(c,D)}return Af(o)+Af(s)+Af(a)+Af(l)+Af(c)}function Af(n){return(n>>>0).toString(16).padStart(8,"0")}function A5(n,e,t,i){return n<20?[e&t|~e&i,1518500249]:n<40?[e^t^i,1859775393]:n<60?[e&t|e&i|t&i,2400959708]:[e^t^i,3395469782]}function ak(n){nv??=new TextEncoder;let e=nv.encode(n),t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=lk(t,e.length,0),r=lk(t,e.length,102072);return i==0&&(r==0||r==1)&&(i=i^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(i))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function YM(n,e=""){let t=ak(n);return e&&(t=BigInt.asUintN(64,t<<BigInt(1))|t>>BigInt(63)&BigInt(1),t+=ak(e)),BigInt.asUintN(63,t).toString()}function lk(n,e,t){let i=2654435769,r=2654435769,o=0,s=e-12;for(;o<=s;o+=12){i+=n.getUint32(o,!0),r+=n.getUint32(o+4,!0),t+=n.getUint32(o+8,!0);let l=ck(i,r,t);i=l[0],r=l[1],t=l[2]}let a=e-o;return t+=e,a>=4?(i+=n.getUint32(o,!0),o+=4,a>=8?(r+=n.getUint32(o,!0),o+=4,a>=9&&(t+=n.getUint8(o++)<<8),a>=10&&(t+=n.getUint8(o++)<<16),a===11&&(t+=n.getUint8(o++)<<24)):(a>=5&&(r+=n.getUint8(o++)),a>=6&&(r+=n.getUint8(o++)<<8),a===7&&(r+=n.getUint8(o++)<<16))):(a>=1&&(i+=n.getUint8(o++)),a>=2&&(i+=n.getUint8(o++)<<8),a===3&&(i+=n.getUint8(o++)<<16)),ck(i,r,t)[2]}function ck(n,e,t){return n-=e,n-=t,n^=t>>>13,e-=t,e-=n,e^=n<<8,t-=n,t-=e,t^=e>>>13,n-=e,n-=t,n^=t>>>12,e-=t,e-=n,e^=n<<16,t-=n,t-=e,t^=e>>>5,n-=e,n-=t,n^=t>>>3,e-=t,e-=n,e^=n<<10,t-=n,t-=e,t^=e>>>15,[n,e,t]}var Gw=(function(n){return n[n.Little=0]="Little",n[n.Big=1]="Big",n})(Gw||{});function Mu(n,e){return T5(n,e)[1]}function T5(n,e){let t=(n&65535)+(e&65535),i=(n>>>16)+(e>>>16)+(t>>>16);return[i>>>16,i<<16|t&65535]}function tC(n,e){return n<<e|n>>>32-e}function I5(n,e){let t=n.length+3>>>2,i=[];for(let r=0;r<t;r++)i[r]=k5(n,r*4,e);return i}function uk(n,e){return e>=n.length?0:n[e]}function k5(n,e,t){let i=0;if(t===Gw.Big)for(let r=0;r<4;r++)i+=uk(n,e+r)<<24-8*r;else for(let r=0;r<4;r++)i+=uk(n,e+r)<<8*r;return i}var ZM=(function(n){return n[n.None=0]="None",n[n.Const=1]="Const",n})(ZM||{}),rv=class{modifiers;constructor(e=ZM.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Hs=(function(n){return n[n.Dynamic=0]="Dynamic",n[n.Bool=1]="Bool",n[n.String=2]="String",n[n.Int=3]="Int",n[n.Number=4]="Number",n[n.Function=5]="Function",n[n.Inferred=6]="Inferred",n[n.None=7]="None",n})(Hs||{}),zo=class extends rv{name;constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}},Nr=class extends rv{value;typeParams;constructor(e,t,i=null){super(t),this.value=e,this.typeParams=i}visitType(e,t){return e.visitExpressionType(this,t)}};var Lh=new zo(Hs.Dynamic),cr=new zo(Hs.Inferred),M5=new zo(Hs.Bool),Ahe=new zo(Hs.Int),Qw=new zo(Hs.Number),Yw=new zo(Hs.String),The=new zo(Hs.Function),Wo=new zo(Hs.None),Hf=(function(n){return n[n.Minus=0]="Minus",n[n.Plus=1]="Plus",n})(Hf||{}),Z=(function(n){return n[n.Equals=0]="Equals",n[n.NotEquals=1]="NotEquals",n[n.Assign=2]="Assign",n[n.Identical=3]="Identical",n[n.NotIdentical=4]="NotIdentical",n[n.Minus=5]="Minus",n[n.Plus=6]="Plus",n[n.Divide=7]="Divide",n[n.Multiply=8]="Multiply",n[n.Modulo=9]="Modulo",n[n.And=10]="And",n[n.Or=11]="Or",n[n.BitwiseOr=12]="BitwiseOr",n[n.BitwiseAnd=13]="BitwiseAnd",n[n.Lower=14]="Lower",n[n.LowerEquals=15]="LowerEquals",n[n.Bigger=16]="Bigger",n[n.BiggerEquals=17]="BiggerEquals",n[n.NullishCoalesce=18]="NullishCoalesce",n[n.Exponentiation=19]="Exponentiation",n[n.In=20]="In",n[n.AdditionAssignment=21]="AdditionAssignment",n[n.SubtractionAssignment=22]="SubtractionAssignment",n[n.MultiplicationAssignment=23]="MultiplicationAssignment",n[n.DivisionAssignment=24]="DivisionAssignment",n[n.RemainderAssignment=25]="RemainderAssignment",n[n.ExponentiationAssignment=26]="ExponentiationAssignment",n[n.AndAssignment=27]="AndAssignment",n[n.OrAssignment=28]="OrAssignment",n[n.NullishCoalesceAssignment=29]="NullishCoalesceAssignment",n})(Z||{});function N5(n,e){return n==null||e==null?n==e:n.isEquivalent(e)}function XM(n,e,t){let i=n.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function pr(n,e){return XM(n,e,(t,i)=>t.isEquivalent(i))}var pt=class{type;sourceSpan;constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new fr(this,e,null,t)}key(e,t,i){return new js(this,e,t,i)}callFn(e,t,i){return new Fi(this,e,null,t,i)}instantiate(e,t,i){return new Wf(this,e,t,i)}conditional(e,t=null,i){return new Go(this,e,t,null,i)}equals(e,t){return new Xe(Z.Equals,this,e,null,t)}notEquals(e,t){return new Xe(Z.NotEquals,this,e,null,t)}identical(e,t){return new Xe(Z.Identical,this,e,null,t)}notIdentical(e,t){return new Xe(Z.NotIdentical,this,e,null,t)}minus(e,t){return new Xe(Z.Minus,this,e,null,t)}plus(e,t){return new Xe(Z.Plus,this,e,null,t)}divide(e,t){return new Xe(Z.Divide,this,e,null,t)}multiply(e,t){return new Xe(Z.Multiply,this,e,null,t)}modulo(e,t){return new Xe(Z.Modulo,this,e,null,t)}power(e,t){return new Xe(Z.Exponentiation,this,e,null,t)}and(e,t){return new Xe(Z.And,this,e,null,t)}bitwiseOr(e,t){return new Xe(Z.BitwiseOr,this,e,null,t)}bitwiseAnd(e,t){return new Xe(Z.BitwiseAnd,this,e,null,t)}or(e,t){return new Xe(Z.Or,this,e,null,t)}lower(e,t){return new Xe(Z.Lower,this,e,null,t)}lowerEquals(e,t){return new Xe(Z.LowerEquals,this,e,null,t)}bigger(e,t){return new Xe(Z.Bigger,this,e,null,t)}biggerEquals(e,t){return new Xe(Z.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(L5,e)}nullishCoalesce(e,t){return new Xe(Z.NullishCoalesce,this,e,null,t)}toStmt(){return new Pr(this,null)}},Rr=class n extends pt{name;constructor(e,t,i){super(t,i),this.name=e}isEquivalent(e){return e instanceof n&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}clone(){return new n(this.name,this.type,this.sourceSpan)}set(e){return new Xe(Z.Assign,this,e,null,this.sourceSpan)}},Xu=class n extends pt{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},ov=class n extends pt{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitVoidExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},He=class n extends pt{node;constructor(e,t,i){super(t,i),this.node=e}isEquivalent(e){return e instanceof n&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}clone(){return new n(this.node,this.type,this.sourceSpan)}},Fi=class n extends pt{fn;args;pure;constructor(e,t,i,r,o=!1){super(i,r),this.fn=e,this.args=t,this.pure=o}get receiver(){return this.fn}isEquivalent(e){return e instanceof n&&this.fn.isEquivalent(e.fn)&&pr(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}clone(){return new n(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},zf=class n extends pt{tag;template;constructor(e,t,i,r){super(i,r),this.tag=e,this.template=t}isEquivalent(e){return e instanceof n&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateLiteralExpr(this,t)}clone(){return new n(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Wf=class n extends pt{classExpr;args;constructor(e,t,i,r){super(i,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof n&&this.classExpr.isEquivalent(e.classExpr)&&pr(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}clone(){return new n(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},zn=class n extends pt{value;constructor(e,t,i){super(t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}clone(){return new n(this.value,this.type,this.sourceSpan)}},Gf=class n extends pt{elements;expressions;constructor(e,t,i){super(null,i),this.elements=e,this.expressions=t}isEquivalent(e){return e instanceof n&&XM(this.elements,e.elements,(t,i)=>t.text===i.text)&&pr(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTemplateLiteralExpr(this,t)}clone(){return new n(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},sv=class n extends pt{text;rawText;constructor(e,t,i){super(Yw,t),this.text=e,this.rawText=i??DC(G0(e))}visitExpression(e,t){return e.visitTemplateLiteralElementExpr(this,t)}isEquivalent(e){return e instanceof n&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new n(this.text,this.sourceSpan,this.rawText)}},Pl=class{text;sourceSpan;constructor(e,t){this.text=e,this.sourceSpan=t}},zu=class{text;sourceSpan;associatedMessage;constructor(e,t,i){this.text=e,this.sourceSpan=t,this.associatedMessage=i}},R5="|",dk="@@",P5="\u241F",av=class n extends pt{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,t,i,r,o){super(Yw,o),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=i,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}clone(){return new n(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${R5}${e}`),this.metaBlock.customId&&(e=`${e}${dk}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(t=>{e=`${e}${P5}${t}`}),pk(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let t=this.placeHolderNames[e-1],i=this.messageParts[e],r=t.text;return t.associatedMessage?.legacyIds.length===0&&(r+=`${dk}${YM(t.associatedMessage.messageString,t.associatedMessage.meaning)}`),pk(r,i.text,this.getMessagePartSourceSpan(e))}},G0=n=>n.replace(/\\/g,"\\\\"),O5=n=>n.replace(/^:/,"\\:"),F5=n=>n.replace(/:/g,"\\:"),DC=n=>n.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function pk(n,e,t){return n===""?{cooked:e,raw:DC(O5(G0(e))),range:t}:{cooked:`:${n}:${e}`,raw:DC(`:${F5(G0(n))}:${G0(e)}`),range:t}}var ql=class n extends pt{value;typeParams;constructor(e,t,i=null,r){super(t,r),this.value=e,this.typeParams=i}isEquivalent(e){return e instanceof n&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}clone(){return new n(this.value,this.type,this.typeParams,this.sourceSpan)}};var Go=class n extends pt{condition;falseCase;trueCase;constructor(e,t,i=null,r,o){super(r||t.type,o),this.condition=e,this.falseCase=i,this.trueCase=t}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&N5(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}clone(){return new n(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var Qf=class n extends pt{condition;constructor(e,t){super(M5,t),this.condition=e}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}clone(){return new n(this.condition.clone(),this.sourceSpan)}},Dn=class n{name;type;constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}clone(){return new n(this.name,this.type)}},Da=class n extends pt{params;statements;name;constructor(e,t,i,r,o){super(i,r),this.params=e,this.statements=t,this.name=o}isEquivalent(e){return(e instanceof n||e instanceof Yf)&&pr(this.params,e.params)&&pr(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new Yf(e,this.params,this.statements,this.type,t,this.sourceSpan)}clone(){return new n(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},Ul=class n extends pt{params;body;constructor(e,t,i,r){super(i,r),this.params=e,this.body=t}isEquivalent(e){return!(e instanceof n)||!pr(this.params,e.params)?!1:this.body instanceof pt&&e.body instanceof pt?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?pr(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,t){return e.visitArrowFunctionExpr(this,t)}clone(){return new n(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,t){return new gn(e,this,cr,t,this.sourceSpan)}},$l=class n extends pt{operator;expr;parens;constructor(e,t,i,r,o=!0){super(i||Qw,r),this.operator=e,this.expr=t,this.parens=o}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},uo=class n extends pt{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitParenthesizedExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},Xe=class n extends pt{operator;rhs;lhs;constructor(e,t,i,r,o){super(r||t.type,o),this.operator=e,this.rhs=i,this.lhs=t}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let e=this.operator;return e===Z.Assign||e===Z.AdditionAssignment||e===Z.SubtractionAssignment||e===Z.MultiplicationAssignment||e===Z.DivisionAssignment||e===Z.RemainderAssignment||e===Z.ExponentiationAssignment||e===Z.AndAssignment||e===Z.OrAssignment||e===Z.NullishCoalesceAssignment}},fr=class n extends pt{receiver;name;constructor(e,t,i,r){super(i,r),this.receiver=e,this.name=t}get index(){return this.name}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new Xe(Z.Assign,this.receiver.prop(this.name),e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},js=class n extends pt{receiver;index;constructor(e,t,i,r){super(i,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new Xe(Z.Assign,this.receiver.key(this.index),e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},po=class n extends pt{entries;constructor(e,t,i){super(t,i),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof n&&pr(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}clone(){return new n(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},Ju=class n{key;value;quoted;constructor(e,t,i){this.key=e,this.value=t,this.quoted=i}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new n(this.key,this.value.clone(),this.quoted)}},Qo=class n extends pt{entries;valueType=null;constructor(e,t,i){super(t,i),this.entries=e,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof n&&pr(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}clone(){let e=this.entries.map(t=>t.clone());return new n(e,this.type,this.sourceSpan)}};var Ku=new zn(null,null,null),L5=new zn(null,cr,null),Un=(function(n){return n[n.None=0]="None",n[n.Final=1]="Final",n[n.Private=2]="Private",n[n.Exported=4]="Exported",n[n.Static=8]="Static",n})(Un||{}),AC=class{text;multiline;trailingNewline;constructor(e,t,i){this.text=e,this.multiline=t,this.trailingNewline=i}toString(){return this.multiline?` ${this.text} `:this.text}},lv=class extends AC{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return U5(this.tags)}},Hl=class{modifiers;sourceSpan;leadingComments;constructor(e=Un.None,t=null,i){this.modifiers=e,this.sourceSpan=t,this.leadingComments=i}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},gn=class n extends Hl{name;value;type;constructor(e,t,i,r,o,s){super(r,o,s),this.name=e,this.value=t,this.type=i||t&&t.type||null}isEquivalent(e){return e instanceof n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}},Yf=class n extends Hl{name;params;statements;type;constructor(e,t,i,r,o,s,a){super(o,s,a),this.name=e,this.params=t,this.statements=i,this.type=r||null}isEquivalent(e){return e instanceof n&&pr(this.params,e.params)&&pr(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}},Pr=class n extends Hl{expr;constructor(e,t,i){super(Un.None,t,i),this.expr=e}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}},$n=class n extends Hl{value;constructor(e,t=null,i){super(Un.None,t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}},cv=class n extends Hl{condition;trueCase;falseCase;constructor(e,t,i=[],r,o){super(Un.None,r,o),this.condition=e,this.trueCase=t,this.falseCase=i}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&pr(this.trueCase,e.trueCase)&&pr(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}};function B5(n=[]){return new lv(n)}function je(n,e,t){return new Rr(n,e,t)}function oe(n,e=null,t){return new ql(n,null,e,t)}function Hn(n,e,t){return new Nr(n,e,t)}function Bh(n){return new Xu(n)}function at(n,e,t){return new po(n,e,t)}function bi(n,e=null){return new Qo(n.map(t=>new Ju(t.key,t.value,t.quoted)),e,null)}function V5(n,e){return new Qf(n,e)}function Ta(n,e,t,i,r){return new Da(n,e,t,i,r)}function fo(n,e,t,i){return new Ul(n,e,t,i)}function h_(n,e,t,i,r){return new cv(n,e,t,i,r)}function j5(n,e,t,i){return new zf(n,e,t,i)}function U(n,e,t){return new zn(n,e,t)}function q5(n,e,t,i,r){return new av(n,e,t,i,r)}function fk(n){let e="";if(n.tagName&&(e+=` @${n.tagName}`),n.text){if(n.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+n.text.replace(/@/g,"\\@")}return e}function U5(n){if(n.length===0)return"";if(n.length===1&&n[0].tagName&&!n[0].text)return`*${fk(n[0])} `;let e=`*
`;for(let t of n)e+=" *",e+=fk(t).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var $5="_c",hk=je("<unknown>"),H5={},z5=50,uv=class n extends pt{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===H5?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},dv=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,t){if(e instanceof zn&&!mk(e)||e instanceof uv)return e;let i=Wu.INSTANCE.keyOf(e),r=this.literals.get(i),o=!1;if(r||(r=new uv(e),this.literals.set(i,r),o=!0),!o&&!r.shared||o&&t){let s=this.freshName(),a,l;this.isClosureCompilerEnabled&&mk(e)?(a=new Da([],[new $n(e)]),l=je(s).callFn([])):(a=e,l=je(s)),this.statements.push(new gn(s,a,cr,Un.Final)),r.fixup(l)}return r}getSharedConstant(e,t){let i=e.keyOf(t);if(!this.sharedConstants.has(i)){let r=this.freshName();this.sharedConstants.set(i,je(r)),this.statements.push(e.toSharedConstantDeclaration(r,t))}return this.sharedConstants.get(i)}getLiteralFactory(e){if(e instanceof po){let t=e.entries.map(r=>r.isConstant()?r:hk),i=Wu.INSTANCE.keyOf(at(t));return this._getLiteralFactory(i,e.entries,r=>at(r))}else{let t=bi(e.entries.map(r=>({key:r.key,value:r.value.isConstant()?r.value:hk,quoted:r.quoted}))),i=Wu.INSTANCE.keyOf(t);return this._getLiteralFactory(i,e.entries.map(r=>r.value),r=>bi(r.map((o,s)=>({key:e.entries[s].key,value:o,quoted:e.entries[s].quoted}))))}}getSharedFunctionReference(e,t,i=!0){let r=e instanceof Ul;for(let s of this.statements)if(r&&s instanceof gn&&s.value?.isEquivalent(e)||!r&&s instanceof Yf&&e instanceof Da&&e.isEquivalent(s))return je(s.name);let o=i?this.uniqueName(t):t;return this.statements.push(e instanceof Da?e.toDeclStmt(o,Un.Final):new gn(o,e,cr,Un.Final,e.sourceSpan)),je(o)}_getLiteralFactory(e,t,i){let r=this.literalFactories.get(e),o=t.filter(s=>!s.isConstant());if(!r){let s=t.map((u,m)=>u.isConstant()?this.getConstLiteral(u,!0):je(`a${m}`)),a=s.filter(W5).map(u=>new Dn(u.name,Lh)),l=fo(a,i(s),cr),c=this.freshName();this.statements.push(new gn(c,l,cr,Un.Final)),r=je(c),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:o}}uniqueName(e,t=!0){let i=this._claimedNames.get(e)??0,r=i===0&&!t?`${e}`:`${e}${i}`;return this._claimedNames.set(e,i+1),r}freshName(){return this.uniqueName($5)}},Wu=class n{static INSTANCE=new n;keyOf(e){if(e instanceof zn&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof zn)return String(e.value);if(e instanceof po){let t=[];for(let i of e.entries)t.push(this.keyOf(i));return`[${t.join(",")}]`}else if(e instanceof Qo){let t=[];for(let i of e.entries){let r=i.key;i.quoted&&(r=`"${r}"`),t.push(r+":"+this.keyOf(i.value))}return`{${t.join(",")}}`}else{if(e instanceof ql)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Rr)return`read(${e.name})`;if(e instanceof Xu)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function W5(n){return n instanceof Rr}function mk(n){return n instanceof zn&&typeof n.value=="string"&&n.value.length>=z5}var L="@angular/core",P=(()=>{class n{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:L};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:L};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:L};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:L};static element={name:"\u0275\u0275element",moduleName:L};static elementStart={name:"\u0275\u0275elementStart",moduleName:L};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:L};static domElement={name:"\u0275\u0275domElement",moduleName:L};static domElementStart={name:"\u0275\u0275domElementStart",moduleName:L};static domElementEnd={name:"\u0275\u0275domElementEnd",moduleName:L};static domElementContainer={name:"\u0275\u0275domElementContainer",moduleName:L};static domElementContainerStart={name:"\u0275\u0275domElementContainerStart",moduleName:L};static domElementContainerEnd={name:"\u0275\u0275domElementContainerEnd",moduleName:L};static domTemplate={name:"\u0275\u0275domTemplate",moduleName:L};static domListener={name:"\u0275\u0275domListener",moduleName:L};static advance={name:"\u0275\u0275advance",moduleName:L};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:L};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:L};static attribute={name:"\u0275\u0275attribute",moduleName:L};static classProp={name:"\u0275\u0275classProp",moduleName:L};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:L};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:L};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:L};static styleMap={name:"\u0275\u0275styleMap",moduleName:L};static classMap={name:"\u0275\u0275classMap",moduleName:L};static styleProp={name:"\u0275\u0275styleProp",moduleName:L};static interpolate={name:"\u0275\u0275interpolate",moduleName:L};static interpolate1={name:"\u0275\u0275interpolate1",moduleName:L};static interpolate2={name:"\u0275\u0275interpolate2",moduleName:L};static interpolate3={name:"\u0275\u0275interpolate3",moduleName:L};static interpolate4={name:"\u0275\u0275interpolate4",moduleName:L};static interpolate5={name:"\u0275\u0275interpolate5",moduleName:L};static interpolate6={name:"\u0275\u0275interpolate6",moduleName:L};static interpolate7={name:"\u0275\u0275interpolate7",moduleName:L};static interpolate8={name:"\u0275\u0275interpolate8",moduleName:L};static interpolateV={name:"\u0275\u0275interpolateV",moduleName:L};static nextContext={name:"\u0275\u0275nextContext",moduleName:L};static resetView={name:"\u0275\u0275resetView",moduleName:L};static templateCreate={name:"\u0275\u0275template",moduleName:L};static defer={name:"\u0275\u0275defer",moduleName:L};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:L};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:L};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:L};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:L};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:L};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:L};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:L};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:L};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:L};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:L};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:L};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:L};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:L};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:L};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:L};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:L};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:L};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:L};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:L};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:L};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:L};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:L};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:L};static conditionalCreate={name:"\u0275\u0275conditionalCreate",moduleName:L};static conditionalBranchCreate={name:"\u0275\u0275conditionalBranchCreate",moduleName:L};static conditional={name:"\u0275\u0275conditional",moduleName:L};static repeater={name:"\u0275\u0275repeater",moduleName:L};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:L};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:L};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:L};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:L};static text={name:"\u0275\u0275text",moduleName:L};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:L};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:L};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:L};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:L};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:L};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:L};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:L};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:L};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:L};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:L};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:L};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:L};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:L};static restoreView={name:"\u0275\u0275restoreView",moduleName:L};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:L};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:L};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:L};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:L};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:L};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:L};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:L};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:L};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:L};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:L};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:L};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:L};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:L};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:L};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:L};static domProperty={name:"\u0275\u0275domProperty",moduleName:L};static ariaProperty={name:"\u0275\u0275ariaProperty",moduleName:L};static property={name:"\u0275\u0275property",moduleName:L};static animationEnterListener={name:"\u0275\u0275animateEnterListener",moduleName:L};static animationLeaveListener={name:"\u0275\u0275animateLeaveListener",moduleName:L};static animationEnter={name:"\u0275\u0275animateEnter",moduleName:L};static animationLeave={name:"\u0275\u0275animateLeave",moduleName:L};static i18n={name:"\u0275\u0275i18n",moduleName:L};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:L};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:L};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:L};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:L};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:L};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:L};static pipe={name:"\u0275\u0275pipe",moduleName:L};static projection={name:"\u0275\u0275projection",moduleName:L};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:L};static reference={name:"\u0275\u0275reference",moduleName:L};static inject={name:"\u0275\u0275inject",moduleName:L};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:L};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:L};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:L};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:L};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:L};static forwardRef={name:"forwardRef",moduleName:L};static resolveForwardRef={name:"resolveForwardRef",moduleName:L};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:L};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:L};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:L};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:L};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:L};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:L};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:L};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:L};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:L};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:L};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:L};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:L};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:L};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:L};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:L};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:L};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:L};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:L};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:L};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:L};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:L};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:L};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:L};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:L};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:L};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:L};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:L};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:L};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:L};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:L};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:L};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:L};static definePipe={name:"\u0275\u0275definePipe",moduleName:L};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:L};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:L};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:L};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:L};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:L};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:L};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:L};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:L};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:L};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:L};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:L};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:L};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:L};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:L};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:L};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:L};static declareLet={name:"\u0275\u0275declareLet",moduleName:L};static storeLet={name:"\u0275\u0275storeLet",moduleName:L};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:L};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:L};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:L};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:L};static CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:L};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:L};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:L};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:L};static AnimationsFeature={name:"\u0275\u0275AnimationsFeature",moduleName:L};static listener={name:"\u0275\u0275listener",moduleName:L};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:L};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:L};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:L};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:L};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:L};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:L};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:L};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:L};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:L};static validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:L};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:L};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:L};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:L};static assertType={name:"\u0275assertType",moduleName:L}}return n})(),G5=/-+([a-z0-9])/g;function Q5(n){return n.replace(G5,(...e)=>e[1].toUpperCase())}function Y5(n,e){return JM(n,":",e)}function Z5(n,e){return JM(n,".",e)}function JM(n,e,t){let i=n.indexOf(e);return i==-1?t:[n.slice(0,i).trim(),n.slice(i+1).trim()]}function X5(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i>=55296&&i<=56319&&n.length>t+1){let r=n.charCodeAt(t+1);r>=56320&&r<=57343&&(t++,i=(i-55296<<10)+r-56320+65536)}i<=127?e.push(i):i<=2047?e.push(i>>6&31|192,i&63|128):i<=65535?e.push(i>>12|224,i>>6&63|128,i&63|128):i<=2097151&&e.push(i>>18&7|240,i>>12&63|128,i>>6&63|128,i&63|128)}return e}function KM(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(KM).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;if(!n.toString)return"object";let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}var TC=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Lf=globalThis,J5=/^([1-9]|1[0-8])\./;function eN(n){return n.startsWith("0.")?!0:!J5.test(n)}var K5=3,ej="# sourceMappingURL=data:application/json;base64,",IC=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,i,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(t!=null&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(i==null||r==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:i,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,t=[],i=[];Array.from(this.sourcesContent.keys()).forEach((c,u)=>{e.set(c,u),t.push(c),i.push(this.sourcesContent.get(c)||null)});let r="",o=0,s=0,a=0,l=0;return this.lines.forEach(c=>{o=0,r+=c.map(u=>{let m=M0(u.col0-o);return o=u.col0,u.sourceUrl!=null&&(m+=M0(e.get(u.sourceUrl)-s),s=e.get(u.sourceUrl),m+=M0(u.sourceLine0-a),a=u.sourceLine0,m+=M0(u.sourceCol0-l),l=u.sourceCol0),m}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:K5,sourceRoot:"",sources:t,sourcesContent:i,mappings:r}}toJsComment(){return this.hasMappings?"//"+ej+tj(JSON.stringify(this,null,0)):""}};function tj(n){let e="",t=X5(n);for(let i=0;i<t.length;){let r=t[i++],o=i<t.length?t[i++]:null,s=i<t.length?t[i++]:null;e+=Nf(r>>2),e+=Nf((r&3)<<4|(o===null?0:o>>4)),e+=o===null?"=":Nf((o&15)<<2|(s===null?0:s>>6)),e+=o===null||s===null?"=":Nf(s&63)}return e}function M0(n){n=n<0?(-n<<1)+1:n<<1;let e="";do{let t=n&31;n=n>>5,n>0&&(t=t|32),e+=Nf(t)}while(n>0);return e}var nj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Nf(n){if(n<0||n>=64)throw new Error("Can only encode value in the range [0, 63]");return nj[n]}var ij=/'|\\|\n|\r|\$/g,rj=/^[$A-Z_][0-9A-Z_$]*$/i,kC="  ",pv=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},oj=new Map([[Z.And,"&&"],[Z.Bigger,">"],[Z.BiggerEquals,">="],[Z.BitwiseOr,"|"],[Z.BitwiseAnd,"&"],[Z.Divide,"/"],[Z.Assign,"="],[Z.Equals,"=="],[Z.Identical,"==="],[Z.Lower,"<"],[Z.LowerEquals,"<="],[Z.Minus,"-"],[Z.Modulo,"%"],[Z.Exponentiation,"**"],[Z.Multiply,"*"],[Z.NotEquals,"!="],[Z.NotIdentical,"!=="],[Z.NullishCoalesce,"??"],[Z.Or,"||"],[Z.Plus,"+"],[Z.In,"in"],[Z.AdditionAssignment,"+="],[Z.SubtractionAssignment,"-="],[Z.MultiplicationAssignment,"*="],[Z.DivisionAssignment,"/="],[Z.RemainderAssignment,"%="],[Z.ExponentiationAssignment,"**="],[Z.AndAssignment,"&&="],[Z.OrAssignment,"||="],[Z.NullishCoalesceAssignment,"??="]]),MC=class n{_indent;static createRoot(){return new n(0)}_lines;constructor(e){this._indent=e,this._lines=[new pv(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*kC.length+this._currentLine.partsLength}print(e,t,i=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),i&&this._lines.push(new pv(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?gk(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,t=0){let i=new IC(e),r=!1,o=()=>{r||(i.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let s=0;s<t;s++)i.addLine(),o();return this.sourceLines.forEach((s,a)=>{i.addLine();let l=s.srcSpans,c=s.parts,u=s.indent*kC.length,m=0;for(;m<l.length&&!l[m];)u+=c[m].length,m++;for(m<l.length&&a===0&&u===0?r=!0:o();m<l.length;){let y=l[m],v=y.start.file,w=y.start.line,D=y.start.col;for(i.addSource(v.url,v.content).addMapping(u,v.url,w,D),u+=c[m].length,m++;m<l.length&&(y===l[m]||!l[m]);)u+=c[m].length,m++}}),i}spanOf(e,t){let i=this._lines[e];if(i){let r=t-gk(i.indent).length;for(let o=0;o<i.parts.length;o++){let s=i.parts[o];if(s.length>r)return i.srcSpans[o];r-=s.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},NC=class{_escapeDollarInStrings;lastIfCondition=null;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(e.leadingComments!==void 0)for(let i of e.leadingComments)i instanceof lv?t.print(e,`/*${i.toString()}*/`,i.trailingNewline):i.multiline?t.print(e,`/* ${i.text} */`,i.trailingNewline):i.text.split(`
`).forEach(r=>{t.println(e,`// ${r}`)})}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,t),this.lastIfCondition=null,t.print(e,") {");let i=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!i?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),i&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitInvokeFunctionExpr(e,t){let i=e.fn instanceof Ul;return i&&t.print(e.fn,"("),e.fn.visitExpression(this,t),i&&t.print(e.fn,")"),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,t){return e.tag.visitExpression(this,t),e.template.visitExpression(this,t),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){t.print(e,e.rawText)}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitVoidExpr(e,t){t.print(e,"void "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){return t.print(e,e.name),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){let i=e.value;return typeof i=="string"?t.print(e,Il(i,this._escapeDollarInStrings)):t.print(e,`${i}`),null}visitLocalizedString(e,t){let i=e.serializeI18nHead();t.print(e,"$localize `"+i.raw);for(let r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitDynamicImportExpr(e,t){t.print(e,`import(${e.url})`)}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let i;switch(e.operator){case Hf.Plus:i="+";break;case Hf.Minus:i="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let r=e!==this.lastIfCondition;return r&&t.print(e,"("),t.print(e,i),e.expr.visitExpression(this,t),r&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let i=oj.get(e.operator);if(!i)throw new Error(`Unknown operator ${e.operator}`);let r=e!==this.lastIfCondition;return r&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${i} `),e.rhs.visitExpression(this,t),r&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(i=>{t.print(e,`${Il(i.key,this._escapeDollarInStrings,i.quoted)}:`),i.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitParenthesizedExpr(e,t){e.expr.visitExpression(this,t)}visitAllExpressions(e,t,i){this.visitAllObjects(r=>r.visitExpression(this,t),e,t,i)}visitAllObjects(e,t,i,r){let o=!1;for(let s=0;s<t.length;s++)s>0&&(i.lineLength()>80?(i.print(null,r,!0),o||(i.incIndent(),i.incIndent(),o=!0)):i.print(null,r,!1)),e(t[s]);o&&(i.decIndent(),i.decIndent())}visitAllStatements(e,t){e.forEach(i=>i.visitStatement(this,t))}};function Il(n,e,t=!0){if(n==null)return null;let i=n.replace(ij,(...o)=>o[0]=="$"?e?"\\$":"$":o[0]==`
`?"\\n":o[0]=="\r"?"\\r":`\\${o[0]}`);return t||!rj.test(i)?`'${i}'`:i}function gk(n){let e="";for(let t=0;t<n;t++)e+=kC;return e}function m_(n,e){if(e===0)return Hn(n);let t=[];for(let i=0;i<e;i++)t.push(Lh);return Hn(n,void 0,t)}function sj(n,e){let t=Il(e,!1,!1);return t!==e?`${n}[${t}]`:`${n}.${e}`}function aj(n){return lj("ngJitMode",n)}function lj(n,e){let t=new ql({name:n,moduleName:null}),i=new Xe(Z.Identical,new Xu(t),U("undefined")),r=new Xe(Z.Or,i,t,void 0,void 0);return new Xe(Z.And,r,e)}function hn(n){let e=new He(n);return{value:e,type:e}}function kl(n,e){let t=at(n.map(i=>i.value));return e?fo([],t):t}function Zw(n,e){return{expression:n,forwardRef:e}}function cj({expression:n,forwardRef:e}){switch(e){case 0:case 1:return n;case 2:return uj(n)}}function uj(n){return oe(P.forwardRef).callFn([fo([],n)])}var fv=(function(n){return n[n.Class=0]="Class",n[n.Function=1]="Function",n})(fv||{});function Dl(n){let e=je("__ngFactoryType__"),t=null,i=_k(n)?e:new Xe(Z.Or,e,n.type.value),r=null;n.deps!==null?n.deps!=="invalid"&&(r=new Wf(i,vk(n.deps,n.target))):(t=je(`\u0275${n.name}_BaseFactory`),r=t.callFn([i]));let o=[],s=null;function a(c){let u=je("__ngConditionalFactory__");o.push(new gn(u.name,Ku,cr));let m=r!==null?u.set(r).toStmt():oe(P.invalidFactory).callFn([]).toStmt();return o.push(h_(e,[m],[u.set(c).toStmt()])),u}if(_k(n)){let c=vk(n.delegateDeps,n.target),u=new(n.delegateType===fv.Class?Wf:Fi)(n.delegate,c);s=a(u)}else mj(n)?s=a(n.expression):s=r;if(s===null)o.push(oe(P.invalidFactory).callFn([]).toStmt());else if(t!==null){let c=oe(P.getInheritedFactory).callFn([n.type.value]),u=new Xe(Z.Or,t,t.set(c));o.push(new $n(u.callFn([i])))}else o.push(new $n(s));let l=Ta([new Dn(e.name,Lh)],o,cr,void 0,`${n.name}_Factory`);return t!==null&&(l=fo([],[new gn(t.name),new $n(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:dj(n)}}function dj(n){let e=n.deps!==null&&n.deps!=="invalid"?fj(n.deps):Wo;return Hn(oe(P.FactoryDeclaration,[m_(n.type.type,n.typeArgumentCount),e]))}function vk(n,e){return n.map((t,i)=>pj(t,e,i))}function pj(n,e,t){if(n.token===null)return oe(P.invalidFactoryDep).callFn([U(t)]);if(n.attributeNameType===null){let i=0|(n.self?2:0)|(n.skipSelf?4:0)|(n.host?1:0)|(n.optional?8:0)|(e===Rs.Pipe?16:0),r=i!==0||n.optional?U(i):null,o=[n.token];r&&o.push(r);let s=gj(e);return oe(s).callFn(o)}else return oe(P.injectAttribute).callFn([n.token])}function fj(n){let e=!1,t=n.map(i=>{let r=hj(i);return r!==null?(e=!0,r):U(null)});return e?Hn(at(t)):Wo}function hj(n){let e=[];return n.attributeNameType!==null&&e.push({key:"attribute",value:n.attributeNameType,quoted:!1}),n.optional&&e.push({key:"optional",value:U(!0),quoted:!1}),n.host&&e.push({key:"host",value:U(!0),quoted:!1}),n.self&&e.push({key:"self",value:U(!0),quoted:!1}),n.skipSelf&&e.push({key:"skipSelf",value:U(!0),quoted:!1}),e.length>0?bi(e):null}function _k(n){return n.delegateType!==void 0}function mj(n){return n.expression!==void 0}function gj(n){switch(n){case Rs.Component:case Rs.Directive:case Rs.Pipe:return P.directiveInject;case Rs.NgModule:case Rs.Injectable:default:return P.inject}}var zl=class{start;end;constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new ur(e+this.start,e+this.end)}},Rt=class{span;sourceSpan;constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}},Zf=class extends Rt{nameSpan;constructor(e,t,i){super(e,t),this.nameSpan=i}},Mi=class extends Rt{visit(e,t=null){}},Yo=class extends Rt{visit(e,t=null){return e.visitImplicitReceiver(this,t)}},Wl=class extends Yo{visit(e,t=null){return e.visitThisReceiver?.(this,t)}},ed=class extends Rt{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitChain(this,t)}},hv=class extends Rt{condition;trueExp;falseExp;constructor(e,t,i,r,o){super(e,t),this.condition=i,this.trueExp=r,this.falseExp=o}visit(e,t=null){return e.visitConditional(this,t)}},Ls=class extends Zf{receiver;name;constructor(e,t,i,r,o){super(e,t,i),this.receiver=r,this.name=o}visit(e,t=null){return e.visitPropertyRead(this,t)}},Xf=class extends Zf{receiver;name;constructor(e,t,i,r,o){super(e,t,i),this.receiver=r,this.name=o}visit(e,t=null){return e.visitSafePropertyRead(this,t)}},Gl=class extends Rt{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}},Jf=class extends Rt{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}},Q0=(function(n){return n[n.ReferencedByName=0]="ReferencedByName",n[n.ReferencedDirectly=1]="ReferencedDirectly",n})(Q0||{}),mv=class extends Zf{exp;name;args;type;constructor(e,t,i,r,o,s,a){super(e,t,a),this.exp=i,this.name=r,this.args=o,this.type=s}visit(e,t=null){return e.visitPipe(this,t)}},or=class extends Rt{value;constructor(e,t,i){super(e,t),this.value=i}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}},gv=class extends Rt{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitLiteralArray(this,t)}},vv=class extends Rt{keys;values;constructor(e,t,i,r){super(e,t),this.keys=i,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}},Vh=class extends Rt{strings;expressions;constructor(e,t,i,r){super(e,t),this.strings=i,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}},gi=class extends Rt{operation;left;right;constructor(e,t,i,r,o){super(e,t),this.operation=i,this.left=r,this.right=o}visit(e,t=null){return e.visitBinary(this,t)}static isAssignmentOperation(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="||e==="%="||e==="**="||e==="&&="||e==="||="||e==="??="}},Gu=class n extends gi{operator;expr;left=null;right=null;operation=null;static createMinus(e,t,i){return new n(e,t,"-",i,"-",new or(e,t,0),i)}static createPlus(e,t,i){return new n(e,t,"+",i,"-",i,new or(e,t,0))}constructor(e,t,i,r,o,s,a){super(e,t,o,s,a),this.operator=i,this.expr=r}visit(e,t=null){return e.visitUnary!==void 0?e.visitUnary(this,t):e.visitBinary(this,t)}},Kf=class extends Rt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitPrefixNot(this,t)}},eh=class extends Rt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitTypeofExpression(this,t)}},th=class extends Rt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitVoidExpression(this,t)}},nh=class extends Rt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitNonNullAssert(this,t)}},td=class extends Rt{receiver;args;argumentSpan;constructor(e,t,i,r,o){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=o}visit(e,t=null){return e.visitCall(this,t)}},_v=class extends Rt{receiver;args;argumentSpan;constructor(e,t,i,r,o){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=o}visit(e,t=null){return e.visitSafeCall(this,t)}},ih=class extends Rt{tag;template;constructor(e,t,i,r){super(e,t),this.tag=i,this.template=r}visit(e,t){return e.visitTaggedTemplateLiteral(this,t)}},rh=class extends Rt{elements;expressions;constructor(e,t,i,r){super(e,t),this.elements=i,this.expressions=r}visit(e,t){return e.visitTemplateLiteral(this,t)}},yv=class extends Rt{text;constructor(e,t,i){super(e,t),this.text=i}visit(e,t){return e.visitTemplateLiteralElement(this,t)}},oh=class extends Rt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t){return e.visitParenthesizedExpression(this,t)}},ur=class{start;end;constructor(e,t){this.start=e,this.end=t}},sr=class extends Rt{ast;source;location;errors;constructor(e,t,i,r,o){super(new zl(0,t===null?0:t.length),new ur(r,t===null?r:r+t.length)),this.ast=e,this.source=t,this.location=i,this.errors=o}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}},sh=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},RC=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},bv=class{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitTypeofExpression(e,t){this.visit(e.expression,t)}visitVoidExpression(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitTemplateLiteral(e,t){for(let i=0;i<e.elements.length;i++){this.visit(e.elements[i],t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&this.visit(r,t)}}visitTemplateLiteralElement(e,t){}visitTaggedTemplateLiteral(e,t){this.visit(e.tag,t),this.visit(e.template,t)}visitParenthesizedExpression(e,t){this.visit(e.expression,t)}visitAll(e,t){for(let i of e)this.visit(i,t)}},ju=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;isAnimation;constructor(e,t,i,r,o,s){this.name=e,this.expression=t,this.type=i,this.sourceSpan=r,this.keySpan=o,this.valueSpan=s,this.isLiteral=this.type===Uo.LITERAL_ATTR,this.isLegacyAnimation=this.type===Uo.LEGACY_ANIMATION,this.isAnimation=this.type===Uo.ANIMATION}},Uo=(function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.LITERAL_ATTR=1]="LITERAL_ATTR",n[n.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",n[n.TWO_WAY=3]="TWO_WAY",n[n.ANIMATION=4]="ANIMATION",n})(Uo||{}),_i=(function(n){return n[n.Regular=0]="Regular",n[n.LegacyAnimation=1]="LegacyAnimation",n[n.TwoWay=2]="TwoWay",n[n.Animation=3]="Animation",n})(_i||{}),xv=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,o,s,a){this.name=e,this.targetOrPhase=t,this.type=i,this.handler=r,this.sourceSpan=o,this.handlerSpan=s,this.keySpan=a}},PC=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}},it=(function(n){return n[n.Property=0]="Property",n[n.Attribute=1]="Attribute",n[n.Class=2]="Class",n[n.Style=3]="Style",n[n.LegacyAnimation=4]="LegacyAnimation",n[n.TwoWay=5]="TwoWay",n[n.Animation=6]="Animation",n})(it||{}),Cv=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=o,this.sourceSpan=s,this.keySpan=a,this.valueSpan=l}},$o=(function(n){return n[n.RAW_TEXT=0]="RAW_TEXT",n[n.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",n[n.PARSABLE_DATA=2]="PARSABLE_DATA",n})($o||{});function ho(n,e=!0){if(n[0]!=":")return[null,n];let t=n.indexOf(":",1);if(t===-1){if(e)throw new Error(`Unsupported format "${n}" expecting ":namespace:name"`);return[null,n]}return[n.slice(1,t),n.slice(t+1)]}function yk(n){return ho(n)[1]==="ng-container"}function OC(n){return ho(n)[1]==="ng-content"}function vj(n){return ho(n)[1]==="ng-template"}function FC(n){return n===null?null:ho(n)[0]}function Y0(n,e){return n?`:${n}:${e}`:e}var g_=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){throw new Error("visit() not implemented for Comment")}},Ml=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}},nd=class{value;sourceSpan;i18n;constructor(e,t,i){this.value=e,this.sourceSpan=t,this.i18n=i}visit(e){return e.visitBoundText(this)}},id=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,o,s){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o,this.i18n=s}visit(e){return e.visitTextAttribute(this)}},LC=class n{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,o,s,a,l,c){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=o,this.sourceSpan=s,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,t){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}},BC=class n{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.type=t,this.handler=i,this.target=r,this.phase=o,this.sourceSpan=s,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let t=e.type===_i.Regular?e.targetOrPhase:null,i=e.type===_i.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.handler,t,i,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},Zo=class{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;isVoid;i18n;constructor(e,t,i,r,o,s,a,l,c,u,m,y,v){this.name=e,this.attributes=t,this.inputs=i,this.outputs=r,this.directives=o,this.children=s,this.references=a,this.isSelfClosing=l,this.sourceSpan=c,this.startSourceSpan=u,this.endSourceSpan=m,this.isVoid=y,this.i18n=v}visit(e){return e.visitElement(this)}},Xo=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,t,i,r,o){this.nameSpan=e,this.sourceSpan=t,this.prefetchSpan=i,this.whenOrOnSourceSpan=r,this.hydrateSpan=o}visit(e){return e.visitDeferredTrigger(this)}},wv=class extends Xo{value;constructor(e,t,i,r,o){super(null,t,i,r,o),this.value=e}},VC=class extends Xo{},jC=class extends Xo{},qC=class extends Xo{},Ev=class extends Xo{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},UC=class extends Xo{delay;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.delay=e}},Sv=class extends Xo{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},Dv=class extends Xo{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},Or=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r){this.nameSpan=e,this.sourceSpan=t,this.startSourceSpan=i,this.endSourceSpan=r}},ah=class extends Or{children;minimumTime;i18n;constructor(e,t,i,r,o,s,a){super(i,r,o,s),this.children=e,this.minimumTime=t,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},lh=class extends Or{children;afterTime;minimumTime;i18n;constructor(e,t,i,r,o,s,a,l){super(r,o,s,a),this.children=e,this.afterTime=t,this.minimumTime=i,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},ch=class extends Or{children;i18n;constructor(e,t,i,r,o,s){super(t,i,r,o),this.children=e,this.i18n=s}visit(e){return e.visitDeferredBlockError(this)}},Ql=class extends Or{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,t,i,r,o,s,a,l,c,u,m,y,v){super(l,c,m,y),this.children=e,this.placeholder=o,this.loading=s,this.error=a,this.mainBlockSpan=u,this.i18n=v,this.triggers=t,this.prefetchTriggers=i,this.hydrateTriggers=r,this.definedTriggers=Object.keys(t),this.definedPrefetchTriggers=Object.keys(i),this.definedHydrateTriggers=Object.keys(r)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),Z0(e,this.children);let t=[this.placeholder,this.loading,this.error].filter(i=>i!==null);Z0(e,t)}visitTriggers(e,t,i){Z0(i,e.map(r=>t[r]))}},Av=class extends Or{expression;cases;unknownBlocks;constructor(e,t,i,r,o,s,a){super(a,r,o,s),this.expression=e,this.cases=t,this.unknownBlocks=i}visit(e){return e.visitSwitchBlock(this)}},uh=class extends Or{expression;children;i18n;constructor(e,t,i,r,o,s,a){super(s,i,r,o),this.expression=e,this.children=t,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},rd=class extends Or{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,t,i,r,o,s,a,l,c,u,m,y,v){super(y,l,u,m),this.item=e,this.expression=t,this.trackBy=i,this.trackKeywordSpan=r,this.contextVariables=o,this.children=s,this.empty=a,this.mainBlockSpan=c,this.i18n=v}visit(e){return e.visitForLoopBlock(this)}},dh=class extends Or{children;i18n;constructor(e,t,i,r,o,s){super(o,t,i,r),this.children=e,this.i18n=s}visit(e){return e.visitForLoopBlockEmpty(this)}},Tv=class extends Or{branches;constructor(e,t,i,r,o){super(o,t,i,r),this.branches=e}visit(e){return e.visitIfBlock(this)}},Ol=class extends Or{expression;children;expressionAlias;i18n;constructor(e,t,i,r,o,s,a,l){super(a,r,o,s),this.expression=e,this.children=t,this.expressionAlias=i,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},Iv=class{name;sourceSpan;nameSpan;constructor(e,t,i){this.name=e,this.sourceSpan=t,this.nameSpan=i}visit(e){return e.visitUnknownBlock(this)}},Xw=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=o}visit(e){return e.visitLetDeclaration(this)}},Bf=class{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,c,u,m,y,v,w){this.componentName=e,this.tagName=t,this.fullName=i,this.attributes=r,this.inputs=o,this.outputs=s,this.directives=a,this.children=l,this.references=c,this.isSelfClosing=u,this.sourceSpan=m,this.startSourceSpan=y,this.endSourceSpan=v,this.i18n=w}visit(e){return e.visitComponent(this)}},tN=class{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,c){this.name=e,this.attributes=t,this.inputs=i,this.outputs=r,this.references=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitDirective(this)}},dr=class{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,c,u,m,y,v,w){this.tagName=e,this.attributes=t,this.inputs=i,this.outputs=r,this.directives=o,this.templateAttrs=s,this.children=a,this.references=l,this.variables=c,this.isSelfClosing=u,this.sourceSpan=m,this.startSourceSpan=y,this.endSourceSpan=v,this.i18n=w}visit(e){return e.visitTemplate(this)}},od=class{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(e,t,i,r,o,s,a,l){this.selector=e,this.attributes=t,this.children=i,this.isSelfClosing=r,this.sourceSpan=o,this.startSourceSpan=s,this.endSourceSpan=a,this.i18n=l}visit(e){return e.visitContent(this)}},Ia=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}visit(e){return e.visitVariable(this)}},ph=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}visit(e){return e.visitReference(this)}},nN=class{vars;placeholders;sourceSpan;i18n;constructor(e,t,i,r){this.vars=e,this.placeholders=t,this.sourceSpan=i,this.i18n=r}visit(e){return e.visitIcu(this)}},fh=class{tagNames;bindings;listeners;sourceSpan;constructor(e,t,i,r){if(this.tagNames=e,this.bindings=t,this.listeners=i,this.sourceSpan=r,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function Z0(n,e){let t=[];if(n.visit)for(let i of e)n.visit(i);else for(let i of e){let r=i.visit(n);r&&t.push(r)}return t}var yi=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,t,i,r,o,s){this.nodes=e,this.placeholders=t,this.placeholderToMessage=i,this.meaning=r,this.description=o,this.customId=s,this.id=this.customId,this.messageString=_j(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Tf=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}},Bs=class{children;sourceSpan;constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}},kv=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,t,i,r,o){this.expression=e,this.type=t,this.cases=i,this.sourceSpan=r,this.expressionPlaceholder=o}visit(e,t){return e.visitIcu(this,t)}},ka=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l,c){this.tag=e,this.attrs=t,this.startName=i,this.closeName=r,this.children=o,this.isVoid=s,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,t){return e.visitTagPlaceholder(this,t)}},hh=class{value;name;sourceSpan;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitPlaceholder(this,t)}},sd=class{value;name;sourceSpan;previousMessage;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitIcuPlaceholder(this,t)}},Ma=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.parameters=t,this.startName=i,this.closeName=r,this.children=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,t){return e.visitBlockPlaceholder(this,t)}};function _j(n){let e=new $C;return n.map(i=>i.visit(e)).join("")}var $C=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}};var yj=class{visitTag(e){let t=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${t}/>`;let i=e.children.map(r=>r.visit(this));return`<${e.name}${t}>${i.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let t=Object.keys(e).map(i=>`${i}="${e[i]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},jhe=new yj;function bj(n){return n.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var iN="i18n",HC="i18n-",xj="VAR_";function rN(n){return n===iN||n.startsWith(HC)}function Cj(n){return n.attrs.some(e=>rN(e.name))}function oN(n){return n.nodes[0]}function Jw(n={},e){let t={};return n&&Object.keys(n).length&&Object.keys(n).forEach(i=>t[jh(i,e)]=n[i]),t}function jh(n,e=!0){let t=bj(n);if(!e)return t;let i=t.split("_");if(i.length===1)return n.toLowerCase();let r;/^\d+$/.test(i[i.length-1])&&(r=i.pop());let o=i.shift().toLowerCase();return i.length&&(o+=i.map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join("")),r?`${o}_${r}`:o}var wj=/[-.]/,Kw="_t",mh="ctx",eE="rf";function sN(n,e){let t=null;return()=>(t||(n(new gn(Kw,void 0,Lh)),t=je(e)),t)}function qu(n){return Array.isArray(n)?at(n.map(qu)):U(n,cr)}function bk(n,e){let t=Object.getOwnPropertyNames(n);return t.length===0?null:bi(t.map(i=>{let r=n[i],o,s,a,l;if(typeof r=="string")o=i,a=i,s=r,l=qu(s);else{a=i,o=r.classPropertyName,s=r.bindingPropertyName;let c=s!==o,u=r.transformFunction!==null,m=Mf.None;if(r.isSignal&&(m|=Mf.SignalBased),u&&(m|=Mf.HasDecoratorInputTransform),e&&(c||u||m!==Mf.None)){let y=[U(m),qu(s)];(c||u)&&(y.push(qu(o)),u&&y.push(r.transformFunction)),l=at(y)}else l=qu(s)}return{key:a,quoted:wj.test(a),value:l}}))}var Na=class{values=[];set(e,t){if(t){let i=this.values.find(r=>r.key===e);i?i.value=t:this.values.push({key:e,value:t,quoted:!1})}}toLiteralMap(){return bi(this.values)}};function Ej(n){let e=n instanceof Zo?n.name:"ng-template",t=Sj(n),i=new Zu,r=ho(e)[1];return i.setElement(r),Object.getOwnPropertyNames(t).forEach(o=>{let s=ho(o)[1],a=t[o];i.addAttribute(s,a),o.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>i.addClassName(c))}),i}function Sj(n){let e={};return n instanceof dr&&n.tagName!=="ng-template"?n.templateAttrs.forEach(t=>e[t.name]=""):(n.attributes.forEach(t=>{rN(t.name)||(e[t.name]=t.value)}),n.inputs.forEach(t=>{(t.type===it.Property||t.type===it.TwoWay)&&(e[t.name]="")}),n.outputs.forEach(t=>{e[t.name]=""})),e}function xk(n,e){let t=null,i={name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:[],target:Rs.Injectable};if(n.useClass!==void 0){let a=n.useClass.expression.isEquivalent(n.type.value),l;n.deps!==void 0&&(l=n.deps),l!==void 0?t=Dl(ee(B({},i),{delegate:n.useClass.expression,delegateDeps:l,delegateType:fv.Class})):a?t=Dl(i):t={statements:[],expression:Ck(n.type.value,n.useClass.expression,e)}}else n.useFactory!==void 0?n.deps!==void 0?t=Dl(ee(B({},i),{delegate:n.useFactory,delegateDeps:n.deps||[],delegateType:fv.Function})):t={statements:[],expression:fo([],n.useFactory.callFn([]))}:n.useValue!==void 0?t=Dl(ee(B({},i),{expression:n.useValue.expression})):n.useExisting!==void 0?t=Dl(ee(B({},i),{expression:oe(P.inject).callFn([n.useExisting.expression])})):t={statements:[],expression:Ck(n.type.value,n.type.value,e)};let r=n.type.value,o=new Na;return o.set("token",r),o.set("factory",t.expression),n.providedIn.expression.value!==null&&o.set("providedIn",cj(n.providedIn)),{expression:oe(P.\u0275\u0275defineInjectable).callFn([o.toLiteralMap()],void 0,!0),type:Dj(n),statements:t.statements}}function Dj(n){return new Nr(oe(P.InjectableDeclaration,[m_(n.type.type,n.typeArgumentCount)]))}function Ck(n,e,t){if(n.node===e.node)return e.prop("\u0275fac");if(!t)return wk(e);let i=oe(P.resolveForwardRef).callFn([e]);return wk(i)}function wk(n){let e=new Dn("__ngFactoryType__",Lh);return fo([e],n.prop("\u0275fac").callFn([je(e.name)]))}var Aj=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Tj(n,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${n}' to be an array, [start, end].`);if(e!=null){let t=e[0],i=e[1];Aj.forEach(r=>{if(r.test(t)||r.test(i))throw new Error(`['${t}', '${i}'] contains unusable interpolation symbol.`)})}}var Mv=class n{start;end;static fromArray(e){return e?(Tj("interpolation",e),new n(e[0],e[1])):Ho}constructor(e,t){this.start=e,this.end=t}},Ho=new Mv("{{","}}"),Ij=new Set(["switch"]),qn=0,kj=8,tE=9,Fl=10,aN=11,lN=12,nE=13,cN=32,zC=33,gh=34,uN=35,v_=36,Mj=37,Nv=38,vh=39,co=40,vi=41,Ek=42,dN=43,Mr=44,Rv=45,Rf=46,so=47,Ps=58,ar=59,Qu=60,ni=61,Sr=62,Sk=63,iE=48,Nj=55,pN=57,Oa=65,Rj=69,Pj=70,Oj=88,gd=90,Aa=91,Yu=92,Nl=93,Fj=94,Fa=95,Yl=97,Lj=98,Bj=101,rE=102,fN=110,hN=114,mN=116,gN=117,vN=118,_N=120,qh=122,lo=123,Dk=124,Ri=125,yN=160,Nu=64,WC=96;function _h(n){return n>=tE&&n<=cN||n==yN}function ao(n){return iE<=n&&n<=pN}function ad(n){return n>=Yl&&n<=qh||n>=Oa&&n<=gd}function Vj(n){return n>=Yl&&n<=rE||n>=Oa&&n<=Pj||ao(n)}function Pv(n){return n===Fl||n===nE}function Ak(n){return iE<=n&&n<=Nj}function Vf(n){return n===vh||n===gh||n===WC}var yh=class n{file;offset;line;col;constructor(e,t,i,r){this.file=e,this.offset=t,this.line=i,this.col=r}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let t=this.file.content,i=t.length,r=this.offset,o=this.line,s=this.col;for(;r>0&&e<0;)if(r--,e++,t.charCodeAt(r)==Fl){o--;let l=t.substring(0,r-1).lastIndexOf(String.fromCharCode(Fl));s=l>0?r-l:r}else s--;for(;r<i&&e>0;){let a=t.charCodeAt(r);r++,e--,a==Fl?(o++,s=0):s++}return new n(this.file,r,o,s)}getContext(e,t){let i=this.file.content,r=this.offset;if(r!=null){r>i.length-1&&(r=i.length-1);let o=r,s=0,a=0;for(;s<e&&r>0&&(r--,s++,!(i[r]==`
`&&++a==t)););for(s=0,a=0;s<e&&o<i.length-1&&(o++,s++,!(i[o]==`
`&&++a==t)););return{before:i.substring(r,this.offset),after:i.substring(this.offset,o+1)}}return null}},Ov=class{content;url;constructor(e,t){this.content=e,this.url=t}},Te=class{start;end;fullStart;details;constructor(e,t,i=e,r=null){this.start=e,this.end=t,this.fullStart=i,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Ea=(function(n){return n[n.WARNING=0]="WARNING",n[n.ERROR=1]="ERROR",n})(Ea||{}),Ce=class extends Error{span;msg;level;relatedError;constructor(e,t,i=Ea.ERROR,r){super(t),this.span=e,this.msg=t,this.level=i,this.relatedError=r,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Ea[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function jj(n,e,t){let i=`in ${n} ${e} in ${t}`,r=new Ov("",i);return new Te(new yh(r,-1,-1,-1),new yh(r,-1,-1,-1))}var qj=0;function Uj(n){if(!n||!n.reference)return null;let e=n.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let t=KM(e);return t.indexOf("(")>=0?(t=`anonymous_${qj++}`,e.__anonymousType=t):t=Al(t),t}function Al(n){return n.replace(/\W/g,"_")}var Tk='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',GC=class extends NC{constructor(){super(!1)}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,t){let i=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${Tk}(`),t.print(e,`[${i.map(r=>Il(r.text,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>Il(r.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){return t.print(e,e.rawText),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitArrowFunctionExpr(e,t){if(t.print(e,"("),this._visitParams(e.params,t),t.print(e,") =>"),Array.isArray(e.body))t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.print(e,"}");else{let i=e.body instanceof Qo;i&&t.print(e,"("),e.body.visitExpression(this,t),i&&t.print(e,")")}return null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${Tk}(`);let i=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)i.push(e.serializeI18nTemplatePart(r));return t.print(e,`[${i.map(r=>Il(r.cooked,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>Il(r.raw,!1)).join(", ")}])`),e.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects(i=>t.print(null,i.name),e,t,",")}},N0;function $j(){if(N0===void 0){let n=Lf.trustedTypes;if(N0=null,n)try{N0=n.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return N0}function Hj(n){return $j()?.createScript(n)||n}function Ik(...n){if(!Lf.trustedTypes)return new Function(...n);let e=n.slice(0,-1).join(","),t=n[n.length-1],i=`(function anonymous(${e}
) { ${t}
})`,r=Lf.eval(Hj(i));return r.bind===void 0?new Function(...n):(r.toString=()=>i,r.bind(Lf))}var QC=class{evaluateStatements(e,t,i,r){let o=new YC(i),s=MC.createRoot();return t.length>0&&!zj(t[0])&&(t=[U("use strict").toStmt(),...t]),o.visitAllStatements(t,s),o.createReturnStmt(s),this.evaluateCode(e,s,o.getArgs(),r)}evaluateCode(e,t,i,r){let o=`"use strict";${t.toSource()}
//# sourceURL=${e}`,s=[],a=[];for(let c in i)a.push(i[c]),s.push(c);if(r){let c=Ik(...s.concat("return null;")).toString(),u=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;o+=`
${t.toSourceMapGenerator(e,u).toJsComment()}`}let l=Ik(...s.concat(o));return this.executeFunction(l,a)}executeFunction(e,t){return e(...t)}},YC=class extends GC{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new $n(new Qo(this._evalExportedVars.map(i=>new Ju(i,je(i),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(Un.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(Un.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}_emitReferenceToExternal(e,t,i){let r=this._evalArgValues.indexOf(t);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(t);let o=Uj({reference:t})||"val";this._evalArgNames.push(`jit_${o}_${r}`)}i.print(e,this._evalArgNames[r])}};function zj(n){return n.isEquivalent(U("use strict").toStmt())}function kk(n){let e=new Na;n.providers!==null&&e.set("providers",n.providers),n.imports.length>0&&e.set("imports",at(n.imports));let t=oe(P.defineInjector).callFn([e.toLiteralMap()],void 0,!0),i=Wj(n);return{expression:t,type:i,statements:[]}}function Wj(n){return new Nr(oe(P.InjectorDeclaration,[new Nr(n.type.type)]))}var ZC=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},Fv=(function(n){return n[n.Inline=0]="Inline",n[n.SideEffect=1]="SideEffect",n[n.Omit=2]="Omit",n})(Fv||{}),Sa=(function(n){return n[n.Global=0]="Global",n[n.Local=1]="Local",n})(Sa||{});function Gj(n){let e=[],t=new Na;if(t.set("type",n.type.value),n.kind===Sa.Global&&n.bootstrap.length>0&&t.set("bootstrap",kl(n.bootstrap,n.containsForwardDecls)),n.selectorScopeMode===Fv.Inline)n.declarations.length>0&&t.set("declarations",kl(n.declarations,n.containsForwardDecls)),n.imports.length>0&&t.set("imports",kl(n.imports,n.containsForwardDecls)),n.exports.length>0&&t.set("exports",kl(n.exports,n.containsForwardDecls));else if(n.selectorScopeMode===Fv.SideEffect){let o=Zj(n);o!==null&&e.push(o)}n.schemas!==null&&n.schemas.length>0&&t.set("schemas",at(n.schemas.map(o=>o.value))),n.id!==null&&(t.set("id",n.id),e.push(oe(P.registerNgModuleType).callFn([n.type.value,n.id]).toStmt()));let i=oe(P.defineNgModule).callFn([t.toLiteralMap()],void 0,!0),r=Yj(n);return{expression:i,type:r,statements:e}}function Qj(n){let e=new Na;return e.set("type",new He(n.type)),n.bootstrap!==void 0&&e.set("bootstrap",new He(n.bootstrap)),n.declarations!==void 0&&e.set("declarations",new He(n.declarations)),n.imports!==void 0&&e.set("imports",new He(n.imports)),n.exports!==void 0&&e.set("exports",new He(n.exports)),n.schemas!==void 0&&e.set("schemas",new He(n.schemas)),n.id!==void 0&&e.set("id",new He(n.id)),oe(P.defineNgModule).callFn([e.toLiteralMap()])}function Yj(n){if(n.kind===Sa.Local)return new Nr(n.type.value);let{type:e,declarations:t,exports:i,imports:r,includeImportTypes:o,publicDeclarationTypes:s}=n;return new Nr(oe(P.NgModuleDeclaration,[new Nr(e.type),s===null?nC(t):Xj(s),o?nC(r):Wo,nC(i)]))}function Zj(n){let e=new Na;if(n.kind===Sa.Global?n.declarations.length>0&&e.set("declarations",kl(n.declarations,n.containsForwardDecls)):n.declarationsExpression&&e.set("declarations",n.declarationsExpression),n.kind===Sa.Global?n.imports.length>0&&e.set("imports",kl(n.imports,n.containsForwardDecls)):n.importsExpression&&e.set("imports",n.importsExpression),n.kind===Sa.Global?n.exports.length>0&&e.set("exports",kl(n.exports,n.containsForwardDecls)):n.exportsExpression&&e.set("exports",n.exportsExpression),n.kind===Sa.Local&&n.bootstrapExpression&&e.set("bootstrap",n.bootstrapExpression),Object.keys(e.values).length===0)return null;let t=new Fi(oe(P.setNgModuleScope),[n.type.value,e.toLiteralMap()]),i=aj(t),r=new Da([],[i.toStmt()]);return new Fi(r,[]).toStmt()}function nC(n){let e=n.map(t=>Bh(t.type));return n.length>0?Hn(at(e)):Wo}function Xj(n){let e=n.map(t=>Bh(t));return n.length>0?Hn(at(e)):Wo}function Mk(n){let e=[];e.push({key:"name",value:U(n.pipeName??n.name),quoted:!1}),e.push({key:"type",value:n.type.value,quoted:!1}),e.push({key:"pure",value:U(n.pure),quoted:!1}),n.isStandalone===!1&&e.push({key:"standalone",value:U(!1),quoted:!1});let t=oe(P.definePipe).callFn([bi(e)],void 0,!0),i=Jj(n);return{expression:t,type:i,statements:[]}}function Jj(n){return new Nr(oe(P.PipeDeclaration,[m_(n.type.type,n.typeArgumentCount),new Nr(new zn(n.pipeName)),new Nr(new zn(n.isStandalone))]))}var ld=(function(n){return n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule",n})(ld||{}),Kj=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),e6=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],XC=class{shimCssText(e,t,i=""){let r=[];e=e.replace(f6,a=>{if(a.match(h6))r.push(a);else{let l=a.match(p6);r.push((l?.join("")??"")+`
`)}return oE}),e=this._insertDirectives(e);let o=this._scopeCssText(e,t,i),s=0;return o.replace(m6,()=>r[s++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,t){let i=new Set,r=R0(e,o=>this._scopeLocalKeyframeDeclarations(o,t,i));return R0(r,o=>this._scopeAnimationRule(o,t,i))}_scopeLocalKeyframeDeclarations(e,t,i){return ee(B({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(r,o,s,a,l)=>(i.add(Pk(a,s)),`${o}${s}${t}_${a}${s}${l}`))})}_scopeAnimationKeyframe(e,t,i){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(r,o,s,a,l)=>(a=`${i.has(Pk(a,s))?t+"_":""}${a}`,`${o}${s}${a}${s}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,t,i){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(o,s,a)=>s+a.replace(this._animationDeclarationKeyframesRe,(l,c,u="",m,y)=>m?`${c}${this._scopeAnimationKeyframe(`${u}${m}${u}`,t,i)}`:Kj.has(y)?l:`${c}${this._scopeAnimationKeyframe(y,t,i)}`));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(o,s,a)=>`${s}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,t,i)).join(",")}`),ee(B({},e),{content:r})}_insertPolyfillDirectivesInCssText(e){return e.replace(n6,function(...t){return t[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(i6,(...t)=>{let i=t[0].replace(t[1],"").replace(t[2],"");return t[4]+i})}_scopeCssText(e,t,i){let r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeKeyframesRelatedCss(e,t),e=this._scopeSelectors(e,t,i)),e=e+`
`+r,e.trim()}_extractUnscopedRulesFromCssText(e){let t="",i;for(Nk.lastIndex=0;(i=Nk.exec(e))!==null;){let r=i[0].replace(i[2],"").replace(i[1],i[4]);t+=r+`

`}return t}_convertColonHost(e){return e.replace(r6,(t,i,r)=>{if(i){let o=[],s=i.split(",").map(a=>a.trim());for(let a of s){if(!a)break;let l=xa+a.replace(Lv,"")+r;o.push(l)}return o.join(",")}else return xa+r})}_convertColonHostContext(e){let t=e.length,i=0,r=0,o="";for(let s=0;s<t;s++){let a=e[s];if(a===","&&i===0){o+=this._convertColonHostContextInSelectorPart(e.slice(r,s))+",",r=s+1;continue}if(s===t-1){o+=this._convertColonHostContextInSelectorPart(e.slice(r));break}a==="("?i++:a===")"&&i--}return o}_convertColonHostContextInSelectorPart(e){return e.replace(o6,(t,i)=>{let r=[[]],o;for(;o=s6.exec(t);){let s=(o[1]??"").trim().split(",").map(l=>l.trim()).filter(l=>l!==""),a=r.length;D6(r,s.length);for(let l=0;l<s.length;l++)for(let c=0;c<a;c++)r[c+l*a].push(s[l]);t=o[2]}return r.map(s=>S6(s,t,i)).join(", ")})}_convertShadowDOMSelectors(e){return l6.reduce((t,i)=>t.replace(i," "),e)}_scopeSelectors(e,t,i){return R0(e,r=>{let o=r.selector,s=r.content;return r.selector[0]!=="@"?o=this._scopeSelector({selector:o,scopeSelector:t,hostSelector:i,isParentSelector:!0}):e6.some(a=>r.selector.startsWith(a))?s=this._scopeSelectors(r.content,t,i):(r.selector.startsWith("@font-face")||r.selector.startsWith("@page"))&&(s=this._stripScopingSelectors(r.content)),new bh(o,s)})}_stripScopingSelectors(e){return R0(e,t=>{let i=t.selector.replace(Rk," ").replace(iC," ");return new bh(i,t.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r=!1}){let o=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(o).map(s=>s.split(Rk)).map(s=>{let[a,...l]=s;return[(u=>this._selectorNeedsScoping(u,t)?this._applySelectorScope({selector:u,scopeSelector:t,hostSelector:i,isParentSelector:r}):u)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){let t=/\[/g,i=/\]/g;return e=e.replace(t,"\\[").replace(i,"\\]"),new RegExp("^("+e+")"+c6,"m")}_applySimpleSelectorScope(e,t,i){if(Uu.lastIndex=0,Uu.test(e)){let r=`[${i}]`,o=e;for(;o.match(iC);)o=o.replace(iC,(s,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,c,u,m)=>c+r+u+m));return o.replace(Uu,r)}return t+" "+e}_applySelectorScope({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r}){let o=/\[is=([^\]]*)\]/g;t=t.replace(o,(D,...I)=>I[0]);let s=`[${t}]`,a=D=>{let I=D.trim();if(!I)return D;if(D.includes(xa)){if(I=this._applySimpleSelectorScope(D,t,i),!D.match(a6)){let[M,q,G,N]=I.match(/([^:]*)(:*)([\s\S]*)/);I=q+s+G+N}}else{let M=D.replace(Uu,"");if(M.length>0){let q=M.match(/([^:]*)(:*)([\s\S]*)/);q&&(I=q[1]+s+q[2]+q[3])}}return I},l=D=>{let I="",M=[],q;for(;(q=If.exec(D))!==null;){let G=1,N=If.lastIndex;for(;N<D.length;){let X=D[N];if(N++,X==="("){G++;continue}if(X===")"){if(G--,G===0)break;continue}}M.push(`${q[0]}${D.slice(If.lastIndex,N)}`),If.lastIndex=N}return M.join("")===D?I=M.map(G=>{let[N]=G.match(If)??[],X=G.slice(N?.length,-1);X.includes(xa)&&(this._shouldScopeIndicator=!0);let Y=this._scopeSelector({selector:X,scopeSelector:t,hostSelector:i});return`${N}${Y})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||D.includes(xa),I=this._shouldScopeIndicator?a(D):D),I};r&&(this._safeSelector=new JC(e),e=this._safeSelector.content());let c="",u=0,m,y=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,v=e.includes(xa);for((r||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!v);(m=y.exec(e))!==null;){let D=m[1],I=e.slice(u,m.index);if(I.match(/__esc-ph-(\d+)__/)&&e[m.index+1]?.match(/[a-fA-F\d]/))continue;let M=l(I);c+=`${M} ${D} `,u=y.lastIndex}let w=e.substring(u);return c+=l(w),this._safeSelector.restore(c)}_insertPolyfillHostInCssText(e){return e.replace(d6,bN).replace(u6,Lv)}},JC=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(t,i)=>{let r=`__esc-ph-${this.index}__`;return this.placeholders.push(i),this.index++,r}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(t,i,r)=>{let o=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,i+o})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(t,i)=>this.placeholders[+i])}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,(i,r)=>{let o=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,o})}},t6="(:(where|is)\\()?",If=/:(where|is)\(/gi,n6=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,i6=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Nk=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Lv="-shadowcsshost",bN="-shadowcsscontext",xN="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",r6=new RegExp(Lv+xN+"?([^,{]*)","gim"),CN=bN+xN+"?([^{]*)",o6=new RegExp(`${t6}(${CN})`,"gim"),s6=new RegExp(CN,"im"),xa=Lv+"-no-combinator",a6=new RegExp(`${xa}(?![^(]*\\))`,"g"),iC=/-shadowcsshost-no-combinator([^\s,]*)/,l6=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Rk=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,c6="([>\\s~+[.,{:][\\s\\S]*)?$",Uu=/-shadowcsshost/gim,u6=/:host/gim,d6=/:host-context/gim,p6=/\r?\n/g,f6=/\/\*[\s\S]*?\*\//g,h6=/\/\*\s*#\s*source(Mapping)?URL=/g,oE="%COMMENT%",m6=new RegExp(oE,"g"),rC="%BLOCK%",g6=new RegExp(`(\\s*(?:${oE}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),v6=new Map([["{","}"]]),wN="%COMMA_IN_PLACEHOLDER%",EN="%SEMI_IN_PLACEHOLDER%",SN="%COLON_IN_PLACEHOLDER%",_6=new RegExp(wN,"g"),y6=new RegExp(EN,"g"),b6=new RegExp(SN,"g"),bh=class{selector;content;constructor(e,t){this.selector=e,this.content=t}};function R0(n,e){let t=w6(n),i=x6(t,v6,rC),r=0,o=i.escapedString.replace(g6,(...s)=>{let a=s[2],l="",c=s[4],u="";c&&c.startsWith("{"+rC)&&(l=i.blocks[r++],c=c.substring(rC.length+1),u="{");let m=e(new bh(a,l));return`${s[1]}${m.selector}${s[3]}${u}${m.content}${c}`});return E6(o)}var KC=class{escapedString;blocks;constructor(e,t){this.escapedString=e,this.blocks=t}};function x6(n,e,t){let i=[],r=[],o=0,s=0,a=-1,l,c;for(let u=0;u<n.length;u++){let m=n[u];m==="\\"?u++:m===c?(o--,o===0&&(r.push(n.substring(a,u)),i.push(t),s=u,a=-1,l=c=void 0)):m===l?o++:o===0&&e.has(m)&&(l=m,c=e.get(m),o=1,a=u+1,i.push(n.substring(s,a)))}return a!==-1?(r.push(n.substring(a)),i.push(t)):i.push(n.substring(s)),new KC(i.join(""),r)}var C6={";":EN,",":wN,":":SN};function w6(n){let e=n,t=null;for(let i=0;i<e.length;i++){let r=e[i];if(r==="\\")i++;else if(t!==null)if(r===t)t=null;else{let o=C6[r];o&&(e=`${e.substr(0,i)}${o}${e.substr(i+1)}`,i+=o.length-1)}else(r==="'"||r==='"')&&(t=r)}return e}function E6(n){let e=n.replace(_6,",");return e=e.replace(y6,";"),e=e.replace(b6,":"),e}function Pk(n,e){return e?n.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):n}function S6(n,e,t=""){let i=xa;Uu.lastIndex=0;let r=Uu.test(e);if(n.length===0)return i+e;let o=[n.pop()||""];for(;n.length>0;){let s=o.length,a=n.pop();for(let l=0;l<s;l++){let c=o[l];o[s*2+l]=c+" "+a,o[s+l]=a+" "+c,o[l]=a+c}}return o.map(s=>r?`${t}${s}${e}`:`${t}${s}${i}${e}, ${t}${s} ${i}${e}`).join(",")}function D6(n,e){let t=n.length;for(let i=1;i<e;i++)for(let r=0;r<t;r++)n[r+i*t]=n[r].slice(0)}var C=(function(n){return n[n.ListEnd=0]="ListEnd",n[n.Statement=1]="Statement",n[n.Variable=2]="Variable",n[n.ElementStart=3]="ElementStart",n[n.Element=4]="Element",n[n.Template=5]="Template",n[n.ElementEnd=6]="ElementEnd",n[n.ContainerStart=7]="ContainerStart",n[n.Container=8]="Container",n[n.ContainerEnd=9]="ContainerEnd",n[n.DisableBindings=10]="DisableBindings",n[n.ConditionalCreate=11]="ConditionalCreate",n[n.ConditionalBranchCreate=12]="ConditionalBranchCreate",n[n.Conditional=13]="Conditional",n[n.EnableBindings=14]="EnableBindings",n[n.Text=15]="Text",n[n.Listener=16]="Listener",n[n.InterpolateText=17]="InterpolateText",n[n.Binding=18]="Binding",n[n.Property=19]="Property",n[n.StyleProp=20]="StyleProp",n[n.ClassProp=21]="ClassProp",n[n.StyleMap=22]="StyleMap",n[n.ClassMap=23]="ClassMap",n[n.Advance=24]="Advance",n[n.Pipe=25]="Pipe",n[n.Attribute=26]="Attribute",n[n.ExtractedAttribute=27]="ExtractedAttribute",n[n.Defer=28]="Defer",n[n.DeferOn=29]="DeferOn",n[n.DeferWhen=30]="DeferWhen",n[n.I18nMessage=31]="I18nMessage",n[n.DomProperty=32]="DomProperty",n[n.Namespace=33]="Namespace",n[n.ProjectionDef=34]="ProjectionDef",n[n.Projection=35]="Projection",n[n.RepeaterCreate=36]="RepeaterCreate",n[n.Repeater=37]="Repeater",n[n.TwoWayProperty=38]="TwoWayProperty",n[n.TwoWayListener=39]="TwoWayListener",n[n.DeclareLet=40]="DeclareLet",n[n.StoreLet=41]="StoreLet",n[n.I18nStart=42]="I18nStart",n[n.I18n=43]="I18n",n[n.I18nEnd=44]="I18nEnd",n[n.I18nExpression=45]="I18nExpression",n[n.I18nApply=46]="I18nApply",n[n.IcuStart=47]="IcuStart",n[n.IcuEnd=48]="IcuEnd",n[n.IcuPlaceholder=49]="IcuPlaceholder",n[n.I18nContext=50]="I18nContext",n[n.I18nAttributes=51]="I18nAttributes",n[n.SourceLocation=52]="SourceLocation",n[n.Animation=53]="Animation",n[n.AnimationString=54]="AnimationString",n[n.AnimationBinding=55]="AnimationBinding",n[n.AnimationListener=56]="AnimationListener",n})(C||{}),le=(function(n){return n[n.LexicalRead=0]="LexicalRead",n[n.Context=1]="Context",n[n.TrackContext=2]="TrackContext",n[n.ReadVariable=3]="ReadVariable",n[n.NextContext=4]="NextContext",n[n.Reference=5]="Reference",n[n.StoreLet=6]="StoreLet",n[n.ContextLetReference=7]="ContextLetReference",n[n.GetCurrentView=8]="GetCurrentView",n[n.RestoreView=9]="RestoreView",n[n.ResetView=10]="ResetView",n[n.PureFunctionExpr=11]="PureFunctionExpr",n[n.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",n[n.PipeBinding=13]="PipeBinding",n[n.PipeBindingVariadic=14]="PipeBindingVariadic",n[n.SafePropertyRead=15]="SafePropertyRead",n[n.SafeKeyedRead=16]="SafeKeyedRead",n[n.SafeInvokeFunction=17]="SafeInvokeFunction",n[n.SafeTernaryExpr=18]="SafeTernaryExpr",n[n.EmptyExpr=19]="EmptyExpr",n[n.AssignTemporaryExpr=20]="AssignTemporaryExpr",n[n.ReadTemporaryExpr=21]="ReadTemporaryExpr",n[n.SlotLiteralExpr=22]="SlotLiteralExpr",n[n.ConditionalCase=23]="ConditionalCase",n[n.ConstCollected=24]="ConstCollected",n[n.TwoWayBindingSet=25]="TwoWayBindingSet",n})(le||{}),Tr=(function(n){return n[n.None=0]="None",n[n.AlwaysInline=1]="AlwaysInline",n})(Tr||{}),Sn=(function(n){return n[n.Context=0]="Context",n[n.Identifier=1]="Identifier",n[n.SavedView=2]="SavedView",n[n.Alias=3]="Alias",n})(Sn||{}),hr=(function(n){return n[n.Normal=0]="Normal",n[n.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",n})(hr||{}),ie=(function(n){return n[n.Attribute=0]="Attribute",n[n.ClassName=1]="ClassName",n[n.StyleProperty=2]="StyleProperty",n[n.Property=3]="Property",n[n.Template=4]="Template",n[n.I18n=5]="I18n",n[n.LegacyAnimation=6]="LegacyAnimation",n[n.TwoWayProperty=7]="TwoWayProperty",n[n.Animation=8]="Animation",n})(ie||{}),xh=(function(n){return n[n.Creation=0]="Creation",n[n.Postproccessing=1]="Postproccessing",n})(xh||{}),vd=(function(n){return n[n.I18nText=0]="I18nText",n[n.I18nAttribute=1]="I18nAttribute",n})(vd||{}),_t=(function(n){return n[n.None=0]="None",n[n.ElementTag=1]="ElementTag",n[n.TemplateTag=2]="TemplateTag",n[n.OpenTag=4]="OpenTag",n[n.CloseTag=8]="CloseTag",n[n.ExpressionIndex=16]="ExpressionIndex",n})(_t||{}),ii=(function(n){return n[n.HTML=0]="HTML",n[n.SVG=1]="SVG",n[n.Math=2]="Math",n})(ii||{}),ht=(function(n){return n[n.Idle=0]="Idle",n[n.Immediate=1]="Immediate",n[n.Timer=2]="Timer",n[n.Hover=3]="Hover",n[n.Interaction=4]="Interaction",n[n.Viewport=5]="Viewport",n[n.Never=6]="Never",n})(ht||{}),Rl=(function(n){return n[n.RootI18n=0]="RootI18n",n[n.Icu=1]="Icu",n[n.Attr=2]="Attr",n})(Rl||{}),Oi=(function(n){return n[n.NgTemplate=0]="NgTemplate",n[n.Structural=1]="Structural",n[n.Block=2]="Block",n})(Oi||{}),DN=Symbol("ConsumesSlot"),sE=Symbol("DependsOnSlotContext"),_d=Symbol("ConsumesVars"),__=Symbol("UsesVarOffset"),Lr={[DN]:!0,numSlotsUsed:1},mr={[sE]:!0},Li={[_d]:!0};function yd(n){return n[DN]===!0}function Ch(n){return n[sE]===!0}function oC(n){return n[_d]===!0}function Ok(n){return n[__]===!0}function Fr(n){return B({kind:C.Statement,statement:n},Ie)}function wa(n,e,t,i){return B({kind:C.Variable,xref:n,variable:e,initializer:t,flags:i},Ie)}var Ie={debugListId:null,prev:null,next:null};function A6(n,e,t){return B(B(B({kind:C.InterpolateText,target:n,interpolation:e,sourceSpan:t},mr),Li),Ie)}var Xt=class{strings;expressions;i18nPlaceholders;constructor(e,t,i){if(this.strings=e,this.expressions=t,this.i18nPlaceholders=i,i.length!==0&&i.length!==t.length)throw new Error(`Expected ${t.length} placeholders to match interpolation expression count, but got ${i.length}`)}};function Zl(n,e,t,i,r,o,s,a,l,c,u){return B({kind:C.Binding,bindingKind:e,target:n,name:t,expression:i,unit:r,securityContext:o,isTextAttribute:s,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:u},Ie)}function T6(n,e,t,i,r,o,s,a,l,c){return B(B(B({kind:C.Property,target:n,name:e,expression:t,bindingKind:i,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:o,templateKind:s,i18nContext:a,i18nMessage:l,sourceSpan:c},mr),Li),Ie)}function I6(n,e,t,i,r,o,s,a,l){return B(B(B({kind:C.TwoWayProperty,target:n,name:e,expression:t,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:r,templateKind:o,i18nContext:s,i18nMessage:a,sourceSpan:l},mr),Li),Ie)}function k6(n,e,t,i,r){return B(B(B({kind:C.StyleProp,target:n,name:e,expression:t,unit:i,sourceSpan:r},mr),Li),Ie)}function M6(n,e,t,i){return B(B(B({kind:C.ClassProp,target:n,name:e,expression:t,sourceSpan:i},mr),Li),Ie)}function N6(n,e,t){return B(B(B({kind:C.StyleMap,target:n,expression:e,sourceSpan:t},mr),Li),Ie)}function R6(n,e,t){return B(B(B({kind:C.ClassMap,target:n,expression:e,sourceSpan:t},mr),Li),Ie)}function P6(n,e,t,i,r,o,s,a,l,c){return B(B(B({kind:C.Attribute,target:n,namespace:e,name:t,expression:i,securityContext:r,sanitizer:null,isTextAttribute:o,isStructuralTemplateAttribute:s,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c},mr),Li),Ie)}function O6(n,e){return B({kind:C.Advance,delta:n,sourceSpan:e},Ie)}function AN(n,e,t,i){return B(B(B({kind:C.Conditional,target:n,test:e,conditions:t,processed:null,sourceSpan:i,contextValue:null},Ie),mr),Li)}function F6(n,e,t,i){return B(B({kind:C.Repeater,target:n,targetSlot:e,collection:t,sourceSpan:i},Ie),mr)}function Fk(n,e,t,i,r,o,s){return B({kind:C.AnimationBinding,name:n,target:e,animationKind:t,expression:i,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o,animationBindingKind:s},Ie)}function L6(n,e,t,i){return B(B(B({kind:C.DeferWhen,target:n,expr:e,modifier:t,sourceSpan:i},Ie),mr),Li)}function TN(n,e,t,i,r,o,s,a,l,c,u){return B(B(B({kind:C.I18nExpression,context:n,target:e,i18nOwner:t,handle:i,expression:r,icuPlaceholder:o,i18nPlaceholder:s,resolutionTime:a,usage:l,name:c,sourceSpan:u},Ie),Li),mr)}function B6(n,e,t){return B({kind:C.I18nApply,owner:n,handle:e,sourceSpan:t},Ie)}function V6(n,e,t,i){return B(B(B({kind:C.StoreLet,target:n,declaredName:e,value:t,sourceSpan:i},mr),Li),Ie)}function Jo(n){return n instanceof mt}var mt=class extends pt{constructor(e=null){super(null,e)}},jn=class n extends mt{name;kind=le.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,t){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.name)}},Bv=class n extends mt{target;targetSlot;offset;kind=le.Reference;constructor(e,t,i){super(),this.target=e,this.targetSlot=t,this.offset=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot,this.offset)}},wh=class n extends mt{target;value;sourceSpan;kind=le.StoreLet;[_d]=!0;[sE]=!0;constructor(e,t,i){super(),this.target=e,this.value=t,this.sourceSpan=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.value=te(this.value,e,t)}clone(){return new n(this.target,this.value,this.sourceSpan)}},Eh=class n extends mt{target;targetSlot;kind=le.ContextLetReference;constructor(e,t){super(),this.target=e,this.targetSlot=t}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot)}},Ra=class n extends mt{view;kind=le.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},ew=class n extends mt{view;kind=le.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},Vv=class n extends mt{kind=le.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n;return e.steps=this.steps,e}},tw=class n extends mt{kind=le.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n}},jv=class n extends mt{view;kind=le.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,t){typeof this.view!="number"&&this.view.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,t){typeof this.view!="number"&&(this.view=te(this.view,e,t))}clone(){return new n(this.view instanceof pt?this.view.clone():this.view)}},nw=class n extends mt{expr;kind=le.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=te(this.expr,e,t)}clone(){return new n(this.expr.clone())}},qv=class n extends mt{target;value;kind=le.TwoWayBindingSet;constructor(e,t){super(),this.target=e,this.value=t}visitExpression(e,t){this.target.visitExpression(e,t),this.value.visitExpression(e,t)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.target=te(this.target,e,t),this.value=te(this.value,e,t)}clone(){return new n(this.target,this.value)}},Vs=class n extends mt{xref;kind=le.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n(this.xref);return e.name=this.name,e}},Xl=class n extends mt{kind=le.PureFunctionExpr;[_d]=!0;[__]=!0;varOffset=null;body;args;fn=null;constructor(e,t){super(),this.body=e,this.args=t}visitExpression(e,t){this.body?.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((t,i)=>t.isEquivalent(this.args[i]))}isConstant(){return!1}transformInternalExpressions(e,t){this.body!==null?this.body=te(this.body,e,t|rt.InChildOperation):this.fn!==null&&(this.fn=te(this.fn,e,t));for(let i=0;i<this.args.length;i++)this.args[i]=te(this.args[i],e,t)}clone(){let e=new n(this.body?.clone()??null,this.args.map(t=>t.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},cd=class n extends mt{index;kind=le.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new n(this.index)}},Jl=class n extends mt{target;targetSlot;name;args;kind=le.PipeBinding;[_d]=!0;[__]=!0;varOffset=null;constructor(e,t,i,r){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r}visitExpression(e,t){for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){for(let i=0;i<this.args.length;i++)this.args[i]=te(this.args[i],e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.map(t=>t.clone()));return e.varOffset=this.varOffset,e}},Sh=class n extends mt{target;targetSlot;name;args;numArgs;kind=le.PipeBindingVariadic;[_d]=!0;[__]=!0;varOffset=null;constructor(e,t,i,r,o){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r,this.numArgs=o}visitExpression(e,t){this.args.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.args=te(this.args,e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},ud=class n extends mt{receiver;name;kind=le.SafePropertyRead;constructor(e,t){super(),this.receiver=e,this.name=t}get index(){return this.name}visitExpression(e,t){this.receiver.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=te(this.receiver,e,t)}clone(){return new n(this.receiver.clone(),this.name)}},dd=class n extends mt{receiver;index;kind=le.SafeKeyedRead;constructor(e,t,i){super(i),this.receiver=e,this.index=t}visitExpression(e,t){this.receiver.visitExpression(e,t),this.index.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=te(this.receiver,e,t),this.index=te(this.index,e,t)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},Kl=class n extends mt{receiver;args;kind=le.SafeInvokeFunction;constructor(e,t){super(),this.receiver=e,this.args=t}visitExpression(e,t){this.receiver.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=te(this.receiver,e,t);for(let i=0;i<this.args.length;i++)this.args[i]=te(this.args[i],e,t)}clone(){return new n(this.receiver.clone(),this.args.map(e=>e.clone()))}},pd=class n extends mt{guard;expr;kind=le.SafeTernaryExpr;constructor(e,t){super(),this.guard=e,this.expr=t}visitExpression(e,t){this.guard.visitExpression(e,t),this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.guard=te(this.guard,e,t),this.expr=te(this.expr,e,t)}clone(){return new n(this.guard.clone(),this.expr.clone())}},Dh=class n extends mt{kind=le.EmptyExpr;visitExpression(e,t){}isEquivalent(e){return e instanceof n}isConstant(){return!0}clone(){return new n}transformInternalExpressions(){}},Ko=class n extends mt{expr;xref;kind=le.AssignTemporaryExpr;name=null;constructor(e,t){super(),this.expr=e,this.xref=t}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=te(this.expr,e,t)}clone(){let e=new n(this.expr.clone(),this.xref);return e.name=this.name,e}},Pa=class n extends mt{xref;kind=le.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,t){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,t){}clone(){let e=new n(this.xref);return e.name=this.name,e}},Uv=class n extends mt{slot;kind=le.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,t){}isEquivalent(e){return e instanceof n&&e.slot===this.slot}isConstant(){return!0}clone(){return new n(this.slot)}transformInternalExpressions(){}},$v=class n extends mt{expr;target;targetSlot;alias;kind=le.ConditionalCase;constructor(e,t,i,r=null){super(),this.expr=e,this.target=t,this.targetSlot=i,this.alias=r}visitExpression(e,t){this.expr!==null&&this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&e.expr===this.expr}isConstant(){return!0}clone(){return new n(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,t){this.expr!==null&&(this.expr=te(this.expr,e,t))}},Ah=class n extends mt{expr;kind=le.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,t){this.expr=e(this.expr,t)}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr)}};function An(n,e){an(n,(t,i)=>(e(t,i),t),rt.None)}var rt=(function(n){return n[n.None=0]="None",n[n.InChildOperation=1]="InChildOperation",n})(rt||{});function sC(n,e,t){for(let i=0;i<n.expressions.length;i++)n.expressions[i]=te(n.expressions[i],e,t)}function an(n,e,t){switch(n.kind){case C.StyleProp:case C.StyleMap:case C.ClassProp:case C.ClassMap:case C.AnimationString:case C.AnimationBinding:case C.Binding:n.expression instanceof Xt?sC(n.expression,e,t):n.expression=te(n.expression,e,t);break;case C.Property:case C.DomProperty:case C.Attribute:n.expression instanceof Xt?sC(n.expression,e,t):n.expression=te(n.expression,e,t),n.sanitizer=n.sanitizer&&te(n.sanitizer,e,t);break;case C.TwoWayProperty:n.expression=te(n.expression,e,t),n.sanitizer=n.sanitizer&&te(n.sanitizer,e,t);break;case C.I18nExpression:n.expression=te(n.expression,e,t);break;case C.InterpolateText:sC(n.interpolation,e,t);break;case C.Statement:Hv(n.statement,e,t);break;case C.Variable:n.initializer=te(n.initializer,e,t);break;case C.Conditional:for(let i of n.conditions)i.expr!==null&&(i.expr=te(i.expr,e,t));n.processed!==null&&(n.processed=te(n.processed,e,t)),n.contextValue!==null&&(n.contextValue=te(n.contextValue,e,t));break;case C.Animation:case C.AnimationListener:case C.Listener:case C.TwoWayListener:for(let i of n.handlerOps)an(i,e,t|rt.InChildOperation);break;case C.ExtractedAttribute:n.expression=n.expression&&te(n.expression,e,t),n.trustedValueFn=n.trustedValueFn&&te(n.trustedValueFn,e,t);break;case C.RepeaterCreate:if(n.trackByOps===null)n.track=te(n.track,e,t);else for(let i of n.trackByOps)an(i,e,t|rt.InChildOperation);n.trackByFn!==null&&(n.trackByFn=te(n.trackByFn,e,t));break;case C.Repeater:n.collection=te(n.collection,e,t);break;case C.Defer:n.loadingConfig!==null&&(n.loadingConfig=te(n.loadingConfig,e,t)),n.placeholderConfig!==null&&(n.placeholderConfig=te(n.placeholderConfig,e,t)),n.resolverFn!==null&&(n.resolverFn=te(n.resolverFn,e,t));break;case C.I18nMessage:for(let[i,r]of n.params)n.params.set(i,te(r,e,t));for(let[i,r]of n.postprocessingParams)n.postprocessingParams.set(i,te(r,e,t));break;case C.DeferWhen:n.expr=te(n.expr,e,t);break;case C.StoreLet:n.value=te(n.value,e,t);break;case C.Advance:case C.Container:case C.ContainerEnd:case C.ContainerStart:case C.DeferOn:case C.DisableBindings:case C.Element:case C.ElementEnd:case C.ElementStart:case C.EnableBindings:case C.I18n:case C.I18nApply:case C.I18nContext:case C.I18nEnd:case C.I18nStart:case C.IcuEnd:case C.IcuStart:case C.Namespace:case C.Pipe:case C.Projection:case C.ProjectionDef:case C.Template:case C.Text:case C.I18nAttributes:case C.IcuPlaceholder:case C.DeclareLet:case C.SourceLocation:case C.ConditionalCreate:case C.ConditionalBranchCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${C[n.kind]}`)}}function te(n,e,t){if(n instanceof mt)n.transformInternalExpressions(e,t);else if(n instanceof Xe)n.lhs=te(n.lhs,e,t),n.rhs=te(n.rhs,e,t);else if(n instanceof $l)n.expr=te(n.expr,e,t);else if(n instanceof fr)n.receiver=te(n.receiver,e,t);else if(n instanceof js)n.receiver=te(n.receiver,e,t),n.index=te(n.index,e,t);else if(n instanceof Fi){n.fn=te(n.fn,e,t);for(let i=0;i<n.args.length;i++)n.args[i]=te(n.args[i],e,t)}else if(n instanceof po)for(let i=0;i<n.entries.length;i++)n.entries[i]=te(n.entries[i],e,t);else if(n instanceof Qo)for(let i=0;i<n.entries.length;i++)n.entries[i].value=te(n.entries[i].value,e,t);else if(n instanceof Go)n.condition=te(n.condition,e,t),n.trueCase=te(n.trueCase,e,t),n.falseCase!==null&&(n.falseCase=te(n.falseCase,e,t));else if(n instanceof Xu)n.expr=te(n.expr,e,t);else if(n instanceof ov)n.expr=te(n.expr,e,t);else if(n instanceof av)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=te(n.expressions[i],e,t);else if(n instanceof Qf)n.condition=te(n.condition,e,t);else if(n instanceof zf)n.tag=te(n.tag,e,t),n.template.expressions=n.template.expressions.map(i=>te(i,e,t));else if(n instanceof Ul)if(Array.isArray(n.body))for(let i=0;i<n.body.length;i++)Hv(n.body[i],e,t);else n.body=te(n.body,e,t);else if(!(n instanceof He)){if(n instanceof Gf)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=te(n.expressions[i],e,t);else if(n instanceof uo)n.expr=te(n.expr,e,t);else if(!(n instanceof Rr||n instanceof ql||n instanceof zn))throw new Error(`Unhandled expression kind: ${n.constructor.name}`)}return e(n,t)}function Hv(n,e,t){if(n instanceof Pr)n.expr=te(n.expr,e,t);else if(n instanceof $n)n.value=te(n.value,e,t);else if(n instanceof gn)n.value!==void 0&&(n.value=te(n.value,e,t));else if(n instanceof cv){n.condition=te(n.condition,e,t);for(let i of n.trueCase)Hv(i,e,t);for(let i of n.falseCase)Hv(i,e,t)}else throw new Error(`Unhandled statement kind: ${n.constructor.name}`)}function IN(n){return n instanceof zn&&typeof n.value=="string"}var W=(()=>{class n{static nextListId=0;debugListId=n.nextListId++;head={kind:C.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:C.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(t){if(Array.isArray(t)){for(let r of t)this.push(r);return}n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=this.debugListId;let i=this.tail.prev;t.prev=i,i.next=t,t.next=this.tail,this.tail.prev=t}prepend(t){if(t.length===0)return;for(let o of t)n.assertIsNotEnd(o),n.assertIsUnowned(o),o.debugListId=this.debugListId;let i=this.head.next,r=this.head;for(let o of t)r.next=o,o.prev=r,r=o;r.next=i,i.prev=r}*[Symbol.iterator](){let t=this.head.next;for(;t!==this.tail;){n.assertIsOwned(t,this.debugListId);let i=t.next;yield t,t=i}}*reversed(){let t=this.tail.prev;for(;t!==this.head;){n.assertIsOwned(t,this.debugListId);let i=t.prev;yield t,t=i}}static replace(t,i){n.assertIsNotEnd(t),n.assertIsNotEnd(i),n.assertIsOwned(t),n.assertIsUnowned(i),i.debugListId=t.debugListId,t.prev!==null&&(t.prev.next=i,i.prev=t.prev),t.next!==null&&(t.next.prev=i,i.next=t.next),t.debugListId=null,t.prev=null,t.next=null}static replaceWithMany(t,i){if(i.length===0){n.remove(t);return}n.assertIsNotEnd(t),n.assertIsOwned(t);let r=t.debugListId;t.debugListId=null;for(let u of i)n.assertIsNotEnd(u),n.assertIsUnowned(u);let{prev:o,next:s}=t;t.prev=null,t.next=null;let a=o;for(let u of i)n.assertIsUnowned(u),u.debugListId=r,a.next=u,u.prev=a,u.next=null,a=u;let l=i[0],c=a;o!==null&&(o.next=l,l.prev=o),s!==null&&(s.prev=c,c.next=s)}static remove(t){n.assertIsNotEnd(t),n.assertIsOwned(t),t.prev.next=t.next,t.next.prev=t.prev,t.debugListId=null,t.prev=null,t.next=null}static insertBefore(t,i){if(Array.isArray(t)){for(let r of t)n.insertBefore(r,i);return}if(n.assertIsOwned(i),i.prev===null)throw new Error("AssertionError: illegal operation on list start");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,t.prev=null,i.prev.next=t,t.prev=i.prev,t.next=i,i.prev=t}static insertAfter(t,i){if(n.assertIsOwned(i),i.next===null)throw new Error("AssertionError: illegal operation on list end");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,i.next.prev=t,t.next=i.next,t.prev=i,i.next=t}static assertIsUnowned(t){if(t.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${C[t.kind]}`)}static assertIsOwned(t,i){if(t.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${C[t.kind]}`);if(i!==void 0&&t.debugListId!==i)throw new Error(`AssertionError: node belongs to the wrong list (expected ${i}, actual ${t.debugListId})`)}static assertIsNotEnd(t){if(t.kind===C.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return n})(),Wn=class{slot=null},j6=new Set([C.Element,C.ElementStart,C.Container,C.ContainerStart,C.Template,C.RepeaterCreate,C.ConditionalCreate,C.ConditionalBranchCreate]);function qs(n){return j6.has(n.kind)}function q6(n,e,t,i,r,o){return B(B({kind:C.ElementStart,xref:e,tag:n,handle:new Wn,attributes:null,localRefs:[],nonBindable:!1,namespace:t,i18nPlaceholder:i,startSourceSpan:r,wholeSourceSpan:o},Lr),Ie)}function kN(n,e,t,i,r,o,s,a){return B(B({kind:C.Template,xref:n,templateKind:e,attributes:null,tag:t,handle:new Wn,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},Lr),Ie)}function MN(n,e,t,i,r,o,s,a){return B(B({kind:C.ConditionalCreate,xref:n,templateKind:e,attributes:null,tag:t,handle:new Wn,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},Lr),Ie)}function NN(n,e,t,i,r,o,s,a){return B(B({kind:C.ConditionalBranchCreate,xref:n,templateKind:e,attributes:null,tag:t,handle:new Wn,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},Lr),Ie)}function U6(n,e,t,i,r,o,s,a,l,c){return ee(B(B(B({kind:C.RepeaterCreate,attributes:null,xref:n,handle:new Wn,emptyView:e,track:i,trackByFn:null,trackByOps:null,tag:t,emptyTag:o,emptyAttributes:null,functionNameSuffix:"For",namespace:ii.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:r,usesComponentInstance:!1,i18nPlaceholder:s,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c},Lr),Ie),Li),{numSlotsUsed:e===null?2:3})}function $6(n,e){return B({kind:C.ElementEnd,xref:n,sourceSpan:e},Ie)}function H6(n){return B({kind:C.DisableBindings,xref:n},Ie)}function z6(n){return B({kind:C.EnableBindings,xref:n},Ie)}function RN(n,e,t,i){return B(B({kind:C.Text,xref:n,handle:new Wn,initialValue:e,icuPlaceholder:t,sourceSpan:i},Lr),Ie)}function W6(n,e,t,i,r,o){return B({kind:C.AnimationString,name:n,target:e,animationKind:t,expression:i,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o},Ie)}function G6(n,e,t,i,r,o){let s=new W;return s.push(i),B({kind:C.Animation,name:n,target:e,animationKind:t,handlerOps:s,handlerFnName:null,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o},Ie)}function aE(n,e,t,i,r,o,s,a,l){let c=new W;return c.push(r),B({kind:C.Listener,target:n,targetSlot:e,tag:i,hostListener:a,name:t,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:o!==null,legacyAnimationPhase:o,eventTarget:s,sourceSpan:l},Ie)}function PN(n,e,t,i,r,o,s,a,l){let c=new W;return c.push(r),B({kind:C.AnimationListener,target:n,targetSlot:e,tag:i,hostListener:a,name:t,animationKind:o,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,eventTarget:s,sourceSpan:l},Ie)}function ON(n,e,t,i,r,o){let s=new W;return s.push(r),B({kind:C.TwoWayListener,target:n,targetSlot:e,tag:i,name:t,handlerOps:s,handlerFnName:null,sourceSpan:o},Ie)}function FN(n,e,t){return B(B({kind:C.Pipe,xref:n,handle:e,name:t},Ie),Lr)}function Q6(n){return B({kind:C.Namespace,active:n},Ie)}function Y6(n){return B({kind:C.ProjectionDef,def:n},Ie)}function Z6(n,e,t,i,r){return ee(B(B({kind:C.Projection,xref:n,handle:new Wn,selector:e,i18nPlaceholder:t,fallbackView:i,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:r},Ie),Lr),{numSlotsUsed:i===null?1:2})}function Ir(n,e,t,i,r,o,s,a){return B({kind:C.ExtractedAttribute,target:n,bindingKind:e,namespace:t,name:i,expression:r,i18nContext:o,i18nMessage:s,securityContext:a,trustedValueFn:null},Ie)}function X6(n,e,t,i,r,o){return ee(B(B({kind:C.Defer,xref:n,handle:new Wn,mainView:e,mainSlot:t,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:i,resolverFn:r,flags:null,sourceSpan:o},Ie),Lr),{numSlotsUsed:2})}function ba(n,e,t,i){return B({kind:C.DeferOn,defer:n,trigger:e,modifier:t,sourceSpan:i},Ie)}function J6(n,e,t){return B(B({kind:C.DeclareLet,xref:n,declaredName:e,sourceSpan:t,handle:new Wn},Lr),Ie)}function K6(n,e,t,i,r,o,s,a){return B({kind:C.I18nMessage,xref:n,i18nContext:e,i18nBlock:t,message:i,messagePlaceholder:r,params:o,postprocessingParams:s,needsPostprocessing:a,subMessages:[]},Ie)}function y_(n,e,t,i){return B(B({kind:C.I18nStart,xref:n,handle:new Wn,root:t??n,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:i},Ie),Lr)}function b_(n,e){return B({kind:C.I18nEnd,xref:n,sourceSpan:e},Ie)}function eq(n,e,t,i){return B({kind:C.IcuStart,xref:n,message:e,messagePlaceholder:t,context:null,sourceSpan:i},Ie)}function tq(n){return B({kind:C.IcuEnd,xref:n},Ie)}function nq(n,e,t){return B({kind:C.IcuPlaceholder,xref:n,name:e,strings:t,expressionPlaceholders:[]},Ie)}function aC(n,e,t,i,r){if(t===null&&n!==Rl.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return B({kind:C.I18nContext,contextKind:n,xref:e,i18nBlock:t,message:i,sourceSpan:r,params:new Map,postprocessingParams:new Map},Ie)}function LN(n,e,t){return B(B({kind:C.I18nAttributes,xref:n,handle:e,target:t,i18nAttributesConfig:null},Ie),Lr)}function iq(n,e){return B({kind:C.SourceLocation,templatePath:n,locations:e},Ie)}function rq(n,e,t,i,r,o){return B(B({kind:C.DomProperty,name:n,expression:e,bindingKind:t,i18nContext:i,securityContext:r,sanitizer:null,sourceSpan:o},Li),Ie)}var BN="CTX_REF_MARKER",K=(function(n){return n[n.Tmpl=0]="Tmpl",n[n.Host=1]="Host",n[n.Both=2]="Both",n})(K||{}),rr=(function(n){return n[n.Full=0]="Full",n[n.DomOnly=1]="DomOnly",n})(rr||{}),zv=class{componentName;pool;compatibility;mode;constructor(e,t,i,r){this.componentName=e,this.pool=t,this.compatibility=i,this.mode=r}kind=K.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},Th=class extends zv{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,t,i,r,o,s,a,l,c,u){super(e,t,i,r),this.relativeContextFilePath=o,this.i18nUseExternalIds=s,this.deferMeta=a,this.allDeferrableDepsFn=l,this.relativeTemplatePath=c,this.enableDebugLocations=u,this.root=new kr(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=K.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let t=new kr(this,this.allocateXrefId(),e);return this.views.set(t.xref,t),t}get units(){return this.views.values()}addConst(e,t){for(let r=0;r<this.consts.length;r++)if(this.consts[r].isEquivalent(e))return r;let i=this.consts.length;return this.consts.push(e),t&&this.constsInitializers.push(...t),i}consts=[];constsInitializers=[]},Wv=class{xref;constructor(e){this.xref=e}create=new W;update=new W;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===C.Listener||e.kind===C.Animation||e.kind===C.AnimationListener||e.kind===C.TwoWayListener)for(let t of e.handlerOps)yield t;else if(e.kind===C.RepeaterCreate&&e.trackByOps!==null)for(let t of e.trackByOps)yield t;for(let e of this.update)yield e}},kr=class extends Wv{job;parent;constructor(e,t,i){super(t),this.job=e,this.parent=i}contextVariables=new Map;aliases=new Set;decls=null},Gv=class extends zv{constructor(e,t,i,r){super(e,t,i,r),this.root=new iw(this)}kind=K.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},iw=class extends Wv{job;constructor(e){super(0),this.job=e}attributes=null};function oq(n){for(let e of n.units)for(let t of e.ops())an(t,sq,rt.None)}function sq(n){if(n instanceof Fi&&n.fn instanceof jn&&n.fn.name==="$any"){if(n.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return n.args[0]}return n}function aq(n){let e=new Map;for(let t of n.units)for(let i of t.create)i.kind===C.I18nContext&&e.set(i.xref,i);for(let t of n.units)for(let i of t.update)i.kind===C.I18nExpression&&lq(e,i)&&W.insertAfter(B6(i.i18nOwner,i.handle,null),i)}function lq(n,e){if(e.next?.kind!==C.I18nExpression)return!0;let t=n.get(e.context),i=n.get(e.next.context);if(t===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(i===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return t.i18nBlock!==null?t.i18nBlock!==i.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function cq(n){for(let e of n.units){let t=e.update.head,i=[],r=null;for(let o of e.create){if(o.kind===C.I18nStart)r={blockXref:o.xref,lastSlotConsumer:o.xref};else if(o.kind===C.I18nEnd){for(let s of i)s.target=r.lastSlotConsumer,W.insertBefore(s,t);i.length=0,r=null}if(yd(o))for(r!==null&&(r.lastSlotConsumer=o.xref);t.next!==null;){if(r!==null&&t.kind===C.I18nExpression&&t.usage===vd.I18nText&&t.i18nOwner===r.blockXref){let a=t;t=t.next,W.remove(a),i.push(a);continue}let s=!1;if(Ch(t)&&t.target!==o.xref?s=!0:(t.kind===C.Statement||t.kind===C.Variable)&&An(t,a=>{!s&&Ch(a)&&a.target!==o.xref&&(s=!0)}),s)break;t=t.next}}}}function uq(n){if(!(!n.enableDebugLocations||n.relativeTemplatePath===null))for(let e of n.units){let t=[];for(let i of e.create)if(i.kind===C.ElementStart||i.kind===C.Element){let r=i.startSourceSpan.start;t.push({targetSlot:i.handle,offset:r.offset,line:r.line,column:r.col})}t.length>0&&e.create.push(iq(n.relativeTemplatePath,t))}}function lE(n){let e=new Map;for(let t of n.create)yd(t)&&(e.set(t.xref,t),t.kind===C.RepeaterCreate&&t.emptyView!==null&&e.set(t.emptyView,t));return e}function dq(n){for(let e of n.units){let t=lE(e);for(let i of e.ops())switch(i.kind){case C.Attribute:pq(e,i,t);break;case C.Property:if(i.bindingKind!==ie.LegacyAnimation&&i.bindingKind!==ie.Animation){let r;i.i18nMessage!==null&&i.templateKind===null?r=ie.I18n:i.isStructuralTemplateAttribute?r=ie.Template:r=ie.Property,W.insertBefore(Ir(i.target,r,null,i.name,null,null,null,i.securityContext),Vu(t,i.target))}break;case C.TwoWayProperty:W.insertBefore(Ir(i.target,ie.TwoWayProperty,null,i.name,null,null,null,i.securityContext),Vu(t,i.target));break;case C.StyleProp:case C.ClassProp:e.job.compatibility===hr.TemplateDefinitionBuilder&&i.expression instanceof Dh&&W.insertBefore(Ir(i.target,ie.Property,null,i.name,null,null,null,Et.STYLE),Vu(t,i.target));break;case C.Listener:if(!i.isLegacyAnimationListener){let r=Ir(i.target,ie.Property,null,i.name,null,null,null,Et.NONE);if(n.kind===K.Host){if(n.compatibility)break;e.create.push(r)}else W.insertBefore(r,Vu(t,i.target))}break;case C.TwoWayListener:if(n.kind!==K.Host){let r=Ir(i.target,ie.Property,null,i.name,null,null,null,Et.NONE);W.insertBefore(r,Vu(t,i.target))}break}}}function Vu(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function pq(n,e,t){if(e.expression instanceof Xt)return;let i=e.isTextAttribute||e.expression.isConstant();if(n.job.compatibility===hr.TemplateDefinitionBuilder&&(i&&=e.isTextAttribute),i){let r=Ir(e.target,e.isStructuralTemplateAttribute?ie.Template:ie.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(n.job.kind===K.Host)n.create.push(r);else{let o=Vu(t,e.target);W.insertBefore(r,o)}W.remove(e)}}function fq(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function hq(n){let e=new Map;for(let t of n.units)for(let i of t.create)qs(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.ops())if(i.kind===C.Binding)switch(i.bindingKind){case ie.Attribute:if(i.name==="ngNonBindable"){W.remove(i);let r=fq(e,i.target);r.nonBindable=!0}else if(i.name.startsWith("animate."))W.replace(i,Fk(i.name,i.target,i.name==="animate.enter"?"enter":"leave",i.expression,i.securityContext,i.sourceSpan,0));else{let[r,o]=ho(i.name);W.replace(i,P6(i.target,r,o,i.expression,i.securityContext,i.isTextAttribute,i.isStructuralTemplateAttribute,i.templateKind,i.i18nMessage,i.sourceSpan))}break;case ie.Animation:W.replace(i,Fk(i.name,i.target,i.name==="animate.enter"?"enter":"leave",i.expression,i.securityContext,i.sourceSpan,1));break;case ie.Property:case ie.LegacyAnimation:n.kind===K.Host?W.replace(i,rq(i.name,i.expression,i.bindingKind,i.i18nContext,i.securityContext,i.sourceSpan)):W.replace(i,T6(i.target,i.name,i.expression,i.bindingKind,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case ie.TwoWayProperty:if(!(i.expression instanceof pt))throw new Error(`Expected value of two-way property binding "${i.name}" to be an expression`);W.replace(i,I6(i.target,i.name,i.expression,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case ie.I18n:case ie.ClassName:case ie.StyleProperty:throw new Error(`Unhandled binding of kind ${ie[i.bindingKind]}`)}}var Lk=new Map([[P.ariaProperty,P.ariaProperty],[P.attribute,P.attribute],[P.classProp,P.classProp],[P.element,P.element],[P.elementContainer,P.elementContainer],[P.elementContainerEnd,P.elementContainerEnd],[P.elementContainerStart,P.elementContainerStart],[P.elementEnd,P.elementEnd],[P.elementStart,P.elementStart],[P.domProperty,P.domProperty],[P.i18nExp,P.i18nExp],[P.listener,P.listener],[P.listener,P.listener],[P.property,P.property],[P.styleProp,P.styleProp],[P.syntheticHostListener,P.syntheticHostListener],[P.syntheticHostProperty,P.syntheticHostProperty],[P.templateCreate,P.templateCreate],[P.twoWayProperty,P.twoWayProperty],[P.twoWayListener,P.twoWayListener],[P.declareLet,P.declareLet],[P.conditionalCreate,P.conditionalBranchCreate],[P.conditionalBranchCreate,P.conditionalBranchCreate],[P.domElement,P.domElement],[P.domElementStart,P.domElementStart],[P.domElementEnd,P.domElementEnd],[P.domElementContainer,P.domElementContainer],[P.domElementContainerStart,P.domElementContainerStart],[P.domElementContainerEnd,P.domElementContainerEnd],[P.domListener,P.domListener],[P.domTemplate,P.domTemplate],[P.animationEnter,P.animationEnter],[P.animationLeave,P.animationLeave],[P.animationEnterListener,P.animationEnterListener],[P.animationLeaveListener,P.animationLeaveListener]]),mq=256;function gq(n){for(let e of n.units)Bk(e.create),Bk(e.update)}function Bk(n){let e=null;for(let t of n){if(t.kind!==C.Statement||!(t.statement instanceof Pr)){e=null;continue}if(!(t.statement.expr instanceof Fi)||!(t.statement.expr.fn instanceof ql)){e=null;continue}let i=t.statement.expr.fn.value;if(!Lk.has(i)){e=null;continue}if(e!==null&&Lk.get(e.instruction)===i&&e.length<mq){let r=e.expression.callFn(t.statement.expr.args,t.statement.expr.sourceSpan,t.statement.expr.pure);e.expression=r,e.op.statement=r.toStmt(),e.length++,W.remove(t)}else e={op:t,instruction:i,expression:t.statement.expr,length:1}}}function vq(n){for(let e of n.units)for(let t of e.update)(t.kind===C.Attribute||t.kind===C.StyleProp||t.kind==C.StyleMap||t.kind===C.ClassMap)&&t.expression instanceof Xt&&t.expression.strings.length===2&&t.expression.strings.every(r=>r==="")&&(t.expression=t.expression.expressions[0])}function _q(n){for(let e of n.units)for(let t of e.ops()){if(t.kind!==C.Conditional)continue;let i,r=t.conditions.findIndex(a=>a.expr===null);if(r>=0){let a=t.conditions.splice(r,1)[0].targetSlot;i=new Uv(a)}else i=U(-1);let o=t.test==null?null:new Ko(t.test,n.allocateXrefId()),s=null;for(let a=t.conditions.length-1;a>=0;a--){let l=t.conditions[a];if(l.expr!==null){if(o!==null){let c=a===0?o:new Pa(o.xref);l.expr=new Xe(Z.Identical,c,l.expr)}else l.alias!==null&&(s??=n.allocateXrefId(),l.expr=new Ko(l.expr,s),t.contextValue=new Pa(s));i=new Go(l.expr,new Uv(l.targetSlot),i)}}t.processed=i,t.conditions=[]}}var yq=new Map([["&&",Z.And],[">",Z.Bigger],[">=",Z.BiggerEquals],["|",Z.BitwiseOr],["&",Z.BitwiseAnd],["/",Z.Divide],["=",Z.Assign],["==",Z.Equals],["===",Z.Identical],["<",Z.Lower],["<=",Z.LowerEquals],["-",Z.Minus],["%",Z.Modulo],["**",Z.Exponentiation],["*",Z.Multiply],["!=",Z.NotEquals],["!==",Z.NotIdentical],["??",Z.NullishCoalesce],["||",Z.Or],["+",Z.Plus],["in",Z.In],["+=",Z.AdditionAssignment],["-=",Z.SubtractionAssignment],["*=",Z.MultiplicationAssignment],["/=",Z.DivisionAssignment],["%=",Z.RemainderAssignment],["**=",Z.ExponentiationAssignment],["&&=",Z.AndAssignment],["||=",Z.OrAssignment],["??=",Z.NullishCoalesceAssignment]]);function VN(n){let e=new Map([["svg",ii.SVG],["math",ii.Math]]);return n===null?ii.HTML:e.get(n)??ii.HTML}function bq(n){let e=new Map([["svg",ii.SVG],["math",ii.Math]]);for(let[t,i]of e.entries())if(i===n)return t;return null}function xq(n,e){return e===ii.HTML?n:`:${bq(e)}:${n}`}function fd(n){return Array.isArray(n)?at(n.map(fd)):U(n)}function Cq(n){let e=new Map;for(let t of n.units)for(let i of t.create)if(i.kind===C.ExtractedAttribute){let r=e.get(i.target)||new rw(n.compatibility);e.set(i.target,r),r.add(i.bindingKind,i.name,i.expression,i.namespace,i.trustedValueFn),W.remove(i)}if(n instanceof Th)for(let t of n.units)for(let i of t.create)if(i.kind==C.Projection){let r=e.get(i.xref);if(r!==void 0){let o=ow(r);o.entries.length>0&&(i.attributes=o)}}else qs(i)&&(i.attributes=Vk(n,e,i.xref),i.kind===C.RepeaterCreate&&i.emptyView!==null&&(i.emptyAttributes=Vk(n,e,i.emptyView)));else if(n instanceof Gv)for(let[t,i]of e.entries()){if(t!==n.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let r=ow(i);r.entries.length>0&&(n.root.attributes=r)}}function Vk(n,e,t){let i=e.get(t);if(i!==void 0){let r=ow(i);if(r.entries.length>0)return n.addConst(r)}return null}var Ru=Object.freeze([]),rw=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(ie.Attribute)??Ru}get classes(){return this.byKind.get(ie.ClassName)??Ru}get styles(){return this.byKind.get(ie.StyleProperty)??Ru}get bindings(){return this.propertyBindings??Ru}get template(){return this.byKind.get(ie.Template)??Ru}get i18n(){return this.byKind.get(ie.I18n)??Ru}constructor(e){this.compatibility=e}isKnown(e,t){let i=this.known.get(e)??new Set;return this.known.set(e,i),i.has(t)?!0:(i.add(t),!1)}add(e,t,i,r,o){if(!(this.compatibility===hr.TemplateDefinitionBuilder&&(e===ie.Attribute||e===ie.ClassName||e===ie.StyleProperty))&&this.isKnown(e,t))return;if(t==="ngProjectAs"){if(i===null||!(i instanceof zn)||i.value==null||typeof i.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=i.value.toString()}let a=this.arrayFor(e);if(a.push(...wq(r,t)),e===ie.Attribute||e===ie.StyleProperty){if(i===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(o!==null){if(!IN(i))throw Error("AssertionError: extracted attribute value should be string literal");a.push(j5(o,new Gf([new sv(i.value)],[]),void 0,i.sourceSpan))}else a.push(i)}}arrayFor(e){return e===ie.Property||e===ie.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function wq(n,e){let t=U(e);return n?[U(0),U(n),t]:[t]}function ow({attributes:n,bindings:e,classes:t,i18n:i,projectAs:r,styles:o,template:s}){let a=[...n];if(r!==null){let l=Ww(r)[0];a.push(U(5),fd(l))}return t.length>0&&a.push(U(1),...t),o.length>0&&a.push(U(2),...o),e.length>0&&a.push(U(3),...e),s.length>0&&a.push(U(4),...s),i.length>0&&a.push(U(6),...i),at(a)}function Eq(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function Sq(n){let e=new Map;for(let t of n.units)for(let i of t.create)qs(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.ops())if(i.kind===C.AnimationBinding){let r=Dq(i);n.kind===K.Host?t.create.push(r):W.insertAfter(r,Eq(e,i.target)),W.remove(i)}}function Dq(n){if(n.animationBindingKind===0)return W6(n.name,n.target,n.name==="animate.enter"?"enter":"leave",n.expression,n.securityContext,n.sourceSpan);{let e=n.expression;return G6(n.name,n.target,n.name==="animate.enter"?"enter":"leave",[Fr(new $n(e,e.sourceSpan))],n.securityContext,n.sourceSpan)}}function Aq(n){let e=new Map;for(let t of n.units){for(let i of t.create)i.kind===C.I18nAttributes&&e.set(i.target,i);for(let i of t.update)switch(i.kind){case C.Property:case C.Attribute:if(i.i18nContext===null||!(i.expression instanceof Xt))continue;let r=e.get(i.target);if(r===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(r.target!==i.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let o=[];for(let s=0;s<i.expression.expressions.length;s++){let a=i.expression.expressions[s];if(i.expression.i18nPlaceholders.length!==i.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${i.expression.i18nPlaceholders.length} placeholders and ${i.expression.expressions.length} expressions`);o.push(TN(i.i18nContext,r.target,r.xref,r.handle,a,null,i.expression.i18nPlaceholders[s],xh.Creation,vd.I18nAttribute,i.name,i.sourceSpan))}W.replaceWithMany(i,o);break}}}function Tq(n){let e=new Map;for(let r of n.units)for(let o of r.ops())switch(o.kind){case C.Binding:case C.Property:case C.Attribute:case C.ExtractedAttribute:if(o.i18nMessage===null)continue;if(!e.has(o.i18nMessage)){let s=aC(Rl.Attr,n.allocateXrefId(),null,o.i18nMessage,null);r.create.push(s),e.set(o.i18nMessage,s.xref)}o.i18nContext=e.get(o.i18nMessage);break}let t=new Map;for(let r of n.units)for(let o of r.create)switch(o.kind){case C.I18nStart:if(o.xref===o.root){let s=aC(Rl.RootI18n,n.allocateXrefId(),o.xref,o.message,null);r.create.push(s),o.context=s.xref,t.set(o.xref,s)}break}for(let r of n.units)for(let o of r.create)if(o.kind===C.I18nStart&&o.xref!==o.root){let s=t.get(o.root);if(s===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");o.context=s.xref,t.set(o.xref,s)}let i=null;for(let r of n.units)for(let o of r.create)switch(o.kind){case C.I18nStart:i=o;break;case C.I18nEnd:i=null;break;case C.IcuStart:if(i===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(o.message.id!==i.message.id){let s=aC(Rl.Icu,n.allocateXrefId(),i.root,o.message,null);r.create.push(s),o.context=s.xref}else o.context=i.context,t.get(i.xref).contextKind=Rl.Icu;break}}function Iq(n){let e=new Map;for(let t of n.units)for(let i of t.update.reversed())if(i.kind===C.Binding&&i.isTextAttribute){let r=e.get(i.target)||new Set;r.has(i.name)&&n.compatibility===hr.TemplateDefinitionBuilder&&(i.name==="style"||i.name==="class")&&W.remove(i),r.add(i.name),e.set(i.target,r)}}function kq(n){for(let e of n.units)for(let t of e.create)t.kind===C.Defer&&(t.placeholderMinimumTime!==null&&(t.placeholderConfig=new Ah(fd([t.placeholderMinimumTime]))),(t.loadingMinimumTime!==null||t.loadingAfterTime!==null)&&(t.loadingConfig=new Ah(fd([t.loadingMinimumTime,t.loadingAfterTime]))))}function Mq(n){let e=new Map;function t(r){if(e.has(r.xref))return e.get(r.xref);let o=new Nq;for(let s of r.create)if(!(!qs(s)||s.localRefs===null)){if(!Array.isArray(s.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of s.localRefs)a.target===""&&o.targets.set(a.name,{xref:s.xref,slot:s.handle})}return e.set(r.xref,o),o}function i(r,o,s){switch(o.trigger.kind){case ht.Idle:case ht.Never:case ht.Immediate:case ht.Timer:return;case ht.Hover:case ht.Interaction:case ht.Viewport:if(o.trigger.targetName===null){if(s===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=n.views.get(s);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let u of c.create)if(yd(u)&&(qs(u)||u.kind===C.Projection)){o.trigger.targetXref=u.xref,o.trigger.targetView=s,o.trigger.targetSlotViewSteps=-1,o.trigger.targetSlot=u.handle;return}return}let a=s!==null?n.views.get(s):r,l=s!==null?-1:0;for(;a!==null;){let c=t(a);if(c.targets.has(o.trigger.targetName)){let{xref:u,slot:m}=c.targets.get(o.trigger.targetName);o.trigger.targetXref=u,o.trigger.targetView=a.xref,o.trigger.targetSlotViewSteps=l,o.trigger.targetSlot=m;return}a=a.parent!==null?n.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${o.trigger.kind} not handled`)}}for(let r of n.units){let o=new Map;for(let s of r.create)switch(s.kind){case C.Defer:o.set(s.xref,s);break;case C.DeferOn:let a=o.get(s.defer);i(r,s,s.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var Nq=class{targets=new Map},Rq=new Map([[C.ElementEnd,[C.ElementStart,C.Element]],[C.ContainerEnd,[C.ContainerStart,C.Container]],[C.I18nEnd,[C.I18nStart,C.I18n]]]),Pq=new Set([C.Pipe]);function Oq(n){for(let e of n.units)for(let t of e.create){let i=Rq.get(t.kind);if(i===void 0)continue;let[r,o]=i,s=t.prev;for(;s!==null&&Pq.has(s.kind);)s=s.prev;s!==null&&s.kind===r&&(s.kind=o,W.remove(t))}}function Fq(n){for(let e of n.units)for(let t of e.ops())an(t,i=>Uq(i,{job:n}),rt.None),an(t,$q,rt.None)}function ir(n){return n instanceof $l?ir(n.expr):n instanceof Xe?ir(n.lhs)||ir(n.rhs):n instanceof Go?n.falseCase&&ir(n.falseCase)?!0:ir(n.condition)||ir(n.trueCase):n instanceof Qf?ir(n.condition):n instanceof Ko?ir(n.expr):n instanceof fr?ir(n.receiver):n instanceof js?ir(n.receiver)||ir(n.index):n instanceof uo?ir(n.expr):n instanceof Fi||n instanceof po||n instanceof Qo||n instanceof Kl||n instanceof Jl}function Lq(n){let e=new Set;return te(n,t=>(t instanceof Ko&&e.add(t.xref),t),rt.None),e}function Bq(n,e,t){return te(n,i=>{if(i instanceof Ko&&e.has(i.xref)){let r=new Pa(i.xref);return t.job.compatibility===hr.TemplateDefinitionBuilder?new Ko(r,r.xref):r}return i},rt.None),n}function Pu(n,e,t){let i;if(ir(n)){let r=t.job.allocateXrefId();i=[new Ko(n,r),new Pa(r)]}else i=[n,n.clone()],Bq(i[1],Lq(i[0]),t);return new pd(i[0],e(i[1]))}function Vq(n){return n instanceof ud||n instanceof dd||n instanceof Kl}function jq(n){return n instanceof fr||n instanceof js||n instanceof Fi}function jN(n){return Vq(n)||jq(n)}function qq(n){if(jN(n)&&n.receiver instanceof pd){let e=n.receiver;for(;e.expr instanceof pd;)e=e.expr;return e}return null}function Uq(n,e){if(!jN(n))return n;let t=qq(n);if(t){if(n instanceof Fi)return t.expr=t.expr.callFn(n.args),n.receiver;if(n instanceof fr)return t.expr=t.expr.prop(n.name),n.receiver;if(n instanceof js)return t.expr=t.expr.key(n.index),n.receiver;if(n instanceof Kl)return t.expr=Pu(t.expr,i=>i.callFn(n.args),e),n.receiver;if(n instanceof ud)return t.expr=Pu(t.expr,i=>i.prop(n.name),e),n.receiver;if(n instanceof dd)return t.expr=Pu(t.expr,i=>i.key(n.index),e),n.receiver}else{if(n instanceof Kl)return Pu(n.receiver,i=>i.callFn(n.args),e);if(n instanceof ud)return Pu(n.receiver,i=>i.prop(n.name),e);if(n instanceof dd)return Pu(n.receiver,i=>i.key(n.index),e)}return n}function $q(n){return n instanceof pd?new uo(new Go(new Xe(Z.Equals,n.guard,Ku),Ku,n.expr)):n}var jk="\uFFFD",Hq="#",zq="*",Wq="/",Gq=":",Qq="[",Yq="]",Zq="|";function Xq(n){let e=new Map,t=new Map,i=new Map;for(let o of n.units)for(let s of o.create)switch(s.kind){case C.I18nContext:let a=Jq(n,s);o.create.push(a),e.set(s.xref,a),i.set(s.xref,s);break;case C.I18nStart:t.set(s.xref,s);break}let r=null;for(let o of n.units)for(let s of o.create)switch(s.kind){case C.IcuStart:r=s,W.remove(s);let a=i.get(s.context);if(a.contextKind!==Rl.Icu)continue;let l=t.get(a.i18nBlock);if(l.context===a.xref)continue;let c=t.get(l.root),u=e.get(c.context);if(u===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let m=e.get(a.xref);m.messagePlaceholder=s.messagePlaceholder,u.subMessages.push(m.xref);break;case C.IcuEnd:r=null,W.remove(s);break;case C.IcuPlaceholder:if(r===null||r.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(r.context).postprocessingParams.set(s.name,U(Kq(s))),W.remove(s);break}}function Jq(n,e,t){let i=qk(e.params),r=qk(e.postprocessingParams),o=[...e.params.values()].some(s=>s.length>1);return K6(n.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,i,r,o)}function Kq(n){if(n.strings.length!==n.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${n.strings.length} strings and ${n.expressionPlaceholders.length} expressions`);let e=n.expressionPlaceholders.map($u);return n.strings.flatMap((t,i)=>[t,e[i]||""]).join("")}function qk(n){let e=new Map;for(let[t,i]of n){let r=eU(i);r!==null&&e.set(t,U(r))}return e}function eU(n){if(n.length===0)return null;let e=n.map(t=>$u(t));return e.length===1?e[0]:`${Qq}${e.join(Zq)}${Yq}`}function $u(n){if(n.flags&_t.ElementTag&&n.flags&_t.TemplateTag){if(typeof n.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let r=$u(ee(B({},n),{value:n.value.element,flags:n.flags&~_t.TemplateTag})),o=$u(ee(B({},n),{value:n.value.template,flags:n.flags&~_t.ElementTag}));return n.flags&_t.OpenTag&&n.flags&_t.CloseTag?`${o}${r}${o}`:n.flags&_t.CloseTag?`${r}${o}`:`${o}${r}`}if(n.flags&_t.OpenTag&&n.flags&_t.CloseTag)return`${$u(ee(B({},n),{flags:n.flags&~_t.CloseTag}))}${$u(ee(B({},n),{flags:n.flags&~_t.OpenTag}))}`;if(n.flags===_t.None)return`${n.value}`;let e="",t="";n.flags&_t.ElementTag?e=Hq:n.flags&_t.TemplateTag&&(e=zq),e!==""&&(t=n.flags&_t.CloseTag?Wq:"");let i=n.subTemplateIndex===null?"":`${Gq}${n.subTemplateIndex}`;return`${jk}${t}${e}${n.value}${i}${jk}`}function tU(n){for(let e of n.units){let t=new Map;for(let r of e.create){if(yd(r)){if(r.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;t.set(r.xref,r.handle.slot)}let i=0;for(let r of e.update){let o=null;if(Ch(r)?o=r:An(r,a=>{o===null&&Ch(a)&&(o=a)}),o===null)continue;if(!t.has(o.target))throw new Error(`AssertionError: reference to unknown slot for target ${o.target}`);let s=t.get(o.target);if(i!==s){let a=s-i;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");W.insertBefore(O6(a,o.sourceSpan),r),i=s}}}}function nU(n){for(let e of n.units)for(let t of e.update){if(t.kind!==C.StoreLet)continue;let i={kind:Sn.Identifier,name:null,identifier:t.declaredName,local:!0};W.replace(t,wa(n.allocateXrefId(),i,new wh(t.target,t.value,t.sourceSpan),Tr.None))}}function iU(n){let e=n.compatibility===hr.TemplateDefinitionBuilder,t=[],i=0;for(let r of n.units)for(let o of r.create)o.kind===C.Projection&&(t.push(o.selector),o.projectionSlotIndex=i++);if(t.length>0){let r=null;if(t.length>1||t[0]!=="*"){let o=t.map(s=>s==="*"?s:Ww(s));r=n.pool.getConstLiteral(fd(o),e)}n.contentSelectors=n.pool.getConstLiteral(fd(t),e),n.root.create.prepend([Y6(r)])}}function rU(n){Pf(n.root,null)}function Pf(n,e){let t=oU(n,e);for(let i of n.create)switch(i.kind){case C.ConditionalCreate:case C.ConditionalBranchCreate:case C.Template:Pf(n.job.views.get(i.xref),t);break;case C.Projection:i.fallbackView!==null&&Pf(n.job.views.get(i.fallbackView),t);break;case C.RepeaterCreate:Pf(n.job.views.get(i.xref),t),i.emptyView&&Pf(n.job.views.get(i.emptyView),t),i.trackByOps!==null&&i.trackByOps.prepend(X0(n,t,!1));break;case C.Animation:case C.AnimationListener:case C.Listener:case C.TwoWayListener:i.handlerOps.prepend(X0(n,t,!0));break}n.update.prepend(X0(n,t,!1))}function oU(n,e){let t={view:n.xref,viewContextVariable:{kind:Sn.Context,name:null,view:n.xref},contextVariables:new Map,aliases:n.aliases,references:[],letDeclarations:[],parent:e};for(let i of n.contextVariables.keys())t.contextVariables.set(i,{kind:Sn.Identifier,name:null,identifier:i,local:!1});for(let i of n.create)switch(i.kind){case C.ElementStart:case C.ConditionalCreate:case C.ConditionalBranchCreate:case C.Template:if(!Array.isArray(i.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let r=0;r<i.localRefs.length;r++)t.references.push({name:i.localRefs[r].name,targetId:i.xref,targetSlot:i.handle,offset:r,variable:{kind:Sn.Identifier,name:null,identifier:i.localRefs[r].name,local:!1}});break;case C.DeclareLet:t.letDeclarations.push({targetId:i.xref,targetSlot:i.handle,variable:{kind:Sn.Identifier,name:null,identifier:i.declaredName,local:!1}});break}return t}function X0(n,e,t){let i=[];e.view!==n.xref&&i.push(wa(n.job.allocateXrefId(),e.viewContextVariable,new Vv,Tr.None));let r=n.job.views.get(e.view);for(let[o,s]of r.contextVariables){let a=new Ra(e.view),l=s===BN?a:new fr(a,s);i.push(wa(n.job.allocateXrefId(),e.contextVariables.get(o),l,Tr.None))}for(let o of r.aliases)i.push(wa(n.job.allocateXrefId(),o,o.expression.clone(),Tr.AlwaysInline));for(let o of e.references)i.push(wa(n.job.allocateXrefId(),o.variable,new Bv(o.targetId,o.targetSlot,o.offset),Tr.None));if(e.view!==n.xref||t)for(let o of e.letDeclarations)i.push(wa(n.job.allocateXrefId(),o.variable,new Eh(o.targetId,o.targetSlot),Tr.None));return e.parent!==null&&i.push(...X0(n,e.parent,!1)),i}function sU(n){for(let e of n.units)for(let t of e.ops())an(t,i=>i instanceof Ah?U(n.addConst(i.expr)):i,rt.None)}var Uk="style.",$k="class.",aU="style!",Hk="class!",zk="!important";function lU(n){for(let e of n.root.update)if(e.kind===C.Binding&&e.bindingKind===ie.Property)if(e.name.endsWith(zk)&&(e.name=e.name.substring(0,e.name.length-zk.length)),e.name.startsWith(Uk)){e.bindingKind=ie.StyleProperty,e.name=e.name.substring(Uk.length),cU(e.name)||(e.name=uU(e.name));let{property:t,suffix:i}=lC(e.name);e.name=t,e.unit=i}else e.name.startsWith(aU)?(e.bindingKind=ie.StyleProperty,e.name="style"):e.name.startsWith($k)?(e.bindingKind=ie.ClassName,e.name=lC(e.name.substring($k.length)).property):e.name.startsWith(Hk)&&(e.bindingKind=ie.ClassName,e.name=lC(e.name.substring(Hk.length)).property)}function cU(n){return n.startsWith("--")}function uU(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function lC(n){let e=n.indexOf("!important");e!==-1&&(n=e>0?n.substring(0,e):"");let t=null,i=n,r=n.lastIndexOf(".");return r>0&&(t=n.slice(r+1),i=n.substring(0,r)),{property:i,suffix:t}}function sw(n,e=!1){return bi(Object.keys(n).map(t=>({key:t,quoted:e,value:n[t]})))}var aw=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${jh(e,!1)}}`}},dU=new aw;function qN(n){return n.visit(dU)}var Us=class{sourceSpan;i18n;constructor(e,t){this.sourceSpan=e,this.i18n=t}},ec=class extends Us{value;tokens;constructor(e,t,i,r){super(t,r),this.value=e,this.tokens=i}visit(e,t){return e.visitText(this,t)}},Ll=class extends Us{switchValue;type;cases;switchValueSourceSpan;constructor(e,t,i,r,o,s){super(r,s),this.switchValue=e,this.type=t,this.cases=i,this.switchValueSourceSpan=o}visit(e,t){return e.visitExpansion(this,t)}},Qv=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,t,i,r,o){this.value=e,this.expression=t,this.sourceSpan=i,this.valueSourceSpan=r,this.expSourceSpan=o}visit(e,t){return e.visitExpansionCase(this,t)}},lw=class extends Us{name;value;keySpan;valueSpan;valueTokens;constructor(e,t,i,r,o,s,a){super(i,a),this.name=e,this.value=t,this.keySpan=r,this.valueSpan=o,this.valueTokens=s}visit(e,t){return e.visitAttribute(this,t)}},Dr=class extends Us{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;isVoid;constructor(e,t,i,r,o,s,a,l=null,c,u){super(s,u),this.name=e,this.attrs=t,this.directives=i,this.children=r,this.isSelfClosing=o,this.startSourceSpan=a,this.endSourceSpan=l,this.isVoid=c}visit(e,t){return e.visitElement(this,t)}},Ih=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}},Ar=class extends Us{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a=null,l){super(r,l),this.name=e,this.parameters=t,this.children=i,this.nameSpan=o,this.startSourceSpan=s,this.endSourceSpan=a}visit(e,t){return e.visitBlock(this,t)}},Ni=class extends Us{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l,c,u=null,m){super(l,m),this.componentName=e,this.tagName=t,this.fullName=i,this.attrs=r,this.directives=o,this.children=s,this.isSelfClosing=a,this.startSourceSpan=c,this.endSourceSpan=u}visit(e,t){return e.visitComponent(this,t)}},cw=class{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o=null){this.name=e,this.attrs=t,this.sourceSpan=i,this.startSourceSpan=r,this.endSourceSpan=o}visit(e,t){return e.visitDirective(this,t)}},Yv=class{expression;sourceSpan;constructor(e,t){this.expression=e,this.sourceSpan=t}visit(e,t){return e.visitBlockParameter(this,t)}},Zv=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=o}visit(e,t){return e.visitLetDeclaration(this,t)}};function Mt(n,e,t=null){let i=[],r=n.visit?o=>n.visit(o,t)||o.visit(n,t):o=>o.visit(n,t);return e.forEach(o=>{let s=r(o);s&&i.push(s)}),i}var kh={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},UN="\uE500";kh.ngsp=UN;var uw=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,t,i){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=i}};function pU(n,e,t,i={}){let r=new pw(new Ov(n,e),t,i);return r.tokenize(),new uw(CU(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}var fU=/\r\n?/g;function Ou(n){return`Unexpected character "${n===qn?"EOF":String.fromCharCode(n)}"`}function Wk(n){return`Unknown entity "${n}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function hU(n,e){return`Unable to parse entity "${e}" - ${n} character reference entities must end with ";"`}var dw=(function(n){return n.HEX="hexadecimal",n.DEC="decimal",n})(dw||{}),mU=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"],pw=class{_getTagDefinition;_cursor;_tokenizeIcu;_interpolationConfig;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,t,i){this._getTagDefinition=t,this._tokenizeIcu=i.tokenizeExpansionForms||!1,this._interpolationConfig=i.interpolationConfig||Ho,this._leadingTriviaCodePoints=i.leadingTriviaChars&&i.leadingTriviaChars.map(o=>o.codePointAt(0)||0);let r=i.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=i.escapedString?new fw(e,r):new Xv(e,r),this._preserveLineEndings=i.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=i.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=i.tokenizeBlocks??!0,this._tokenizeLet=i.tokenizeLet??!0,this._selectorlessEnabled=i.selectorlessEnabled??!1;try{this._cursor.init()}catch(o){this.handleError(o)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(fU,`
`)}tokenize(){for(;this._cursor.peek()!==qn;){let e=this._cursor.clone();try{this._attemptCharCode(Qu)?this._attemptCharCode(zC)?this._attemptCharCode(Aa)?this._consumeCdata(e):this._attemptCharCode(Rv)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(so)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Nu&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(Ri)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(t){this.handleError(t)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,t=this._cursor.clone();return this._attemptCharCodeUntilFn(i=>_h(i)?!e:xU(i)?(e=!0,!1):!0),this._cursor.getChars(t).trim()}_consumeBlockStart(e){this._requireCharCode(Nu),this._beginToken(24,e);let t=this._endToken([this._getBlockName()]);if(this._cursor.peek()===co)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(Bt),this._attemptCharCode(vi))this._attemptCharCodeUntilFn(Bt);else{t.type=28;return}this._attemptCharCode(lo)?(this._beginToken(25),this._endToken([])):t.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(Qk);this._cursor.peek()!==vi&&this._cursor.peek()!==qn;){this._beginToken(27);let e=this._cursor.clone(),t=null,i=0;for(;this._cursor.peek()!==ar&&this._cursor.peek()!==qn||t!==null;){let r=this._cursor.peek();if(r===Yu)this._cursor.advance();else if(r===t)t=null;else if(t===null&&Vf(r))t=r;else if(r===co&&t===null)i++;else if(r===vi&&t===null){if(i===0)break;i>0&&i--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(Qk)}}_consumeLetDeclaration(e){if(this._requireStr("@let"),this._beginToken(29,e),_h(this._cursor.peek()))this._attemptCharCodeUntilFn(Bt);else{let r=this._endToken([this._cursor.getChars(e)]);r.type=32;return}let t=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(Bt),!this._attemptCharCode(ni)){t.type=32;return}this._attemptCharCodeUntilFn(r=>Bt(r)&&!Pv(r)),this._consumeLetDeclarationValue(),this._cursor.peek()===ar?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(t.type=32,t.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),t=!1;return this._attemptCharCodeUntilFn(i=>ad(i)||i===v_||i===Fa||t&&ao(i)?(t=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==qn;){let t=this._cursor.peek();if(t===ar)break;Vf(t)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(i=>i===Yu?(this._cursor.advance(),!1):i===t)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(yU(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===Ri){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(this._currentTokenStart===null)throw new Ce(this._cursor.getSpan(t),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new Ce(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let i={type:this._currentTokenType,parts:e,sourceSpan:(t??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(i),this._currentTokenStart=null,this._currentTokenType=null,i}_createError(e,t){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let i=new Ce(t,e);return this._currentTokenStart=null,this._currentTokenType=null,i}handleError(e){if(e instanceof Mh&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof Ce)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return bU(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Ou(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let i=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=i,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){let t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Ou(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(i)<t)throw this._createError(Ou(this._cursor.peek()),this._cursor.getSpan(i))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_peekStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let i=this._cursor.clone();for(let r=0;r<t;r++){if(i.peek()!==e.charCodeAt(r))return!1;i.advance()}return!0}_isBlockStart(){return this._cursor.peek()===Nu&&mU.some(e=>this._peekStr(e))}_isLetStart(){return this._cursor.peek()===Nu&&this._peekStr("@let")}_consumeEntity(e){this._beginToken(9);let t=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(uN)){let i=this._attemptCharCode(_N)||this._attemptCharCode(Oj),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(vU),this._cursor.peek()!=ar){this._cursor.advance();let s=i?dw.HEX:dw.DEC;throw this._createError(hU(s,this._cursor.getChars(t)),this._cursor.getSpan())}let o=this._cursor.getChars(r);this._cursor.advance();try{let s=parseInt(o,i?16:10);this._endToken([String.fromCharCode(s),this._cursor.getChars(t)])}catch{throw this._createError(Wk(this._cursor.getChars(t)),this._cursor.getSpan())}}else{let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(_U),this._cursor.peek()!=ar)this._beginToken(e,t),this._cursor=i,this._endToken(["&"]);else{let r=this._cursor.getChars(i);this._cursor.advance();let o=kh.hasOwnProperty(r)&&kh[r];if(!o)throw this._createError(Wk(r),this._cursor.getSpan(t));this._endToken([o,`&${r};`])}}}_consumeRawText(e,t){this._beginToken(e?6:7);let i=[];for(;;){let r=this._cursor.clone(),o=t();if(this._cursor=r,o)break;e&&this._cursor.peek()===Nv?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(6),this._beginToken(6)):i.push(this._readChar())}this._endToken([this._processCarriageReturns(i.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(Rv),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let t=this._cursor.clone();this._attemptUntilChar(Sr);let i=this._cursor.getChars(t);this._cursor.advance(),this._endToken([i])}_consumePrefixAndName(e){let t=this._cursor.clone(),i="";for(;this._cursor.peek()!==Ps&&!gU(this._cursor.peek());)this._cursor.advance();let r;this._cursor.peek()===Ps?(i=this._cursor.getChars(t),this._cursor.advance(),r=this._cursor.clone()):r=t,this._requireCharCodeUntilFn(e,i===""?0:1);let o=this._cursor.getChars(r);return[i,o]}_consumeTagOpen(e){let t,i,r,o;try{if(this._selectorlessEnabled&&P0(this._cursor.peek()))o=this._consumeComponentOpenStart(e),[r,i,t]=o.parts,i&&(r+=`:${i}`),t&&(r+=`:${t}`),this._attemptCharCodeUntilFn(Bt);else{if(!ad(this._cursor.peek()))throw this._createError(Ou(this._cursor.peek()),this._cursor.getSpan(e));o=this._consumeTagOpenStart(e),i=o.parts[0],t=r=o.parts[1],this._attemptCharCodeUntilFn(Bt)}for(;!Zk(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===Nu){let a=this._cursor.clone(),l=a.clone();l.advance(),P0(l.peek())&&this._consumeDirective(a,l)}else this._consumeAttribute();o.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(a){if(a instanceof Ce){o?o.type=o.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw a}let s=this._getTagDefinition(t).getContentType(i);s===$o.RAW_TEXT?this._consumeRawTextWithTagClose(o,r,!1):s===$o.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(o,r,!0)}_consumeRawTextWithTagClose(e,t,i){this._consumeRawText(i,()=>!this._attemptCharCode(Qu)||!this._attemptCharCode(so)||(this._attemptCharCodeUntilFn(Bt),!this._attemptStrCaseInsensitive(t))?!1:(this._attemptCharCodeUntilFn(Bt),this._attemptCharCode(Sr))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(r=>r===Sr,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let t=this._consumePrefixAndName(El);return this._endToken(t)}_consumeComponentOpenStart(e){this._beginToken(33,e);let t=this._consumeComponentName();return this._endToken(t)}_consumeComponentName(){let e=this._cursor.clone();for(;Yk(this._cursor.peek());)this._cursor.advance();let t=this._cursor.getChars(e),i="",r="";return this._cursor.peek()===Ps&&(this._cursor.advance(),[i,r]=this._consumePrefixAndName(El)),[t,i,r]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(Bt),this._attemptCharCode(ni)&&(this._attemptCharCodeUntilFn(Bt),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Bt)}_consumeAttributeName(){let e=this._cursor.peek();if(e===vh||e===gh)throw this._createError(Ou(e),this._cursor.getSpan());this._beginToken(14);let t;if(this._openDirectiveCount>0){let r=0;t=o=>{if(this._openDirectiveCount>0){if(o===co)r++;else if(o===vi){if(r===0)return!0;r--}}return El(o)}}else if(e===Aa){let r=0;t=o=>(o===Aa?r++:o===Nl&&r--,r<=0?El(o):Pv(o))}else t=El;let i=this._consumePrefixAndName(t);this._endToken(i)}_consumeAttributeValue(){if(this._cursor.peek()===vh||this._cursor.peek()===gh){let e=this._cursor.peek();this._consumeQuote(e);let t=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,t,t),this._consumeQuote(e)}else{let e=()=>El(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(so)?2:1;this._beginToken(e),this._requireCharCode(Sr),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(so)?35:34;this._beginToken(e),this._requireCharCode(Sr),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let i=e.clone();for(;i.peek()!==Sr&&!P0(i.peek());)i.advance();if(P0(i.peek())){this._beginToken(36,e);let r=this._consumeComponentName();this._attemptCharCodeUntilFn(Bt),this._requireCharCode(Sr),this._endToken(r);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(Bt);let t=this._consumePrefixAndName(El);this._attemptCharCodeUntilFn(Bt),this._requireCharCode(Sr),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(lo),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(Mr),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{let r=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(r)}this._requireCharCode(Mr),this._attemptCharCodeUntilFn(Bt),this._beginToken(7);let i=this._readUntil(Mr);this._endToken([i]),this._requireCharCode(Mr),this._attemptCharCodeUntilFn(Bt)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(lo).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Bt),this._beginToken(21),this._requireCharCode(lo),this._endToken([]),this._attemptCharCodeUntilFn(Bt),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(Ri),this._endToken([]),this._attemptCharCodeUntilFn(Bt),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(Ri),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,t,i,r){this._beginToken(e);let o=[];for(;!i();){let s=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(o.join(""))],s),o.length=0,this._consumeInterpolation(t,s,r),this._beginToken(e)):this._cursor.peek()===Nv?(this._endToken([this._processCarriageReturns(o.join(""))]),o.length=0,this._consumeEntity(e),this._beginToken(e)):o.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(o.join(""))])}_consumeInterpolation(e,t,i){let r=[];this._beginToken(e,t),r.push(this._interpolationConfig.start);let o=this._cursor.clone(),s=null,a=!1;for(;this._cursor.peek()!==qn&&(i===null||!i());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,r.push(this._getProcessedChars(o,l)),this._endToken(r);return}if(s===null)if(this._attemptStr(this._interpolationConfig.end)){r.push(this._getProcessedChars(o,l)),r.push(this._interpolationConfig.end),this._endToken(r);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===Yu?this._cursor.advance():c===s?s=null:!a&&s===null&&Vf(c)&&(s=c)}r.push(this._getProcessedChars(o,this._cursor)),this._endToken(r)}_consumeDirective(e,t){for(this._requireCharCode(Nu),this._cursor.advance();Yk(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let i=this._cursor.getChars(t);if(this._endToken([i]),this._attemptCharCodeUntilFn(Bt),this._cursor.peek()===co){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Bt);!Zk(this._cursor.peek())&&this._cursor.peek()!==vi;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(Bt),this._openDirectiveCount--,this._cursor.peek()!==vi){if(this._cursor.peek()===Sr||this._cursor.peek()===so)return;throw this._createError(Ou(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Bt)}}_getProcessedChars(e,t){return this._processCarriageReturns(t.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===qn||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===Ri&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._isBlockStart()||this._isLetStart()||this._cursor.peek()===Ri))}_isTagStart(){if(this._cursor.peek()===Qu){let e=this._cursor.clone();e.advance();let t=e.peek();if(Yl<=t&&t<=qh||Oa<=t&&t<=gd||t===so||t===zC)return!0}return!1}_readUntil(e){let t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==lo)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}};function Bt(n){return!_h(n)||n===qn}function El(n){return _h(n)||n===Sr||n===Qu||n===so||n===vh||n===gh||n===ni||n===qn}function gU(n){return(n<Yl||qh<n)&&(n<Oa||gd<n)&&(n<iE||n>pN)}function vU(n){return n===ar||n===qn||!Vj(n)}function _U(n){return n===ar||n===qn||!ad(n)}function yU(n){return n!==Ri}function bU(n,e){return Gk(n)===Gk(e)}function Gk(n){return n>=Yl&&n<=qh?n-Yl+Oa:n}function xU(n){return ad(n)||ao(n)||n===Fa}function Qk(n){return n!==ar&&Bt(n)}function P0(n){return n===Fa||n>=Oa&&n<=gd}function Yk(n){return ad(n)||ao(n)||n===Fa}function Zk(n){return n===so||n===Sr||n===Qu||n===qn}function CU(n){let e=[],t;for(let i=0;i<n.length;i++){let r=n[i];t&&t.type===5&&r.type===5||t&&t.type===16&&r.type===16?(t.parts[0]+=r.parts[0],t.sourceSpan.end=r.sourceSpan.end):(t=r,e.push(t))}return e}var Xv=class n{state;file;input;end;constructor(e,t){if(e instanceof n){this.file=e.file,this.input=e.input,this.end=e.end;let i=e.state;this.state={peek:i.peek,offset:i.offset,line:i.line,column:i.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new n(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){e=e||this;let i=e;if(t)for(;this.diff(e)>0&&t.indexOf(e.peek())!==-1;)i===e&&(e=e.clone()),e.advance();let r=this.locationFromCursor(e),o=this.locationFromCursor(this),s=i!==e?this.locationFromCursor(i):r;return new Te(r,o,s)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new Mh('Unexpected character "EOF"',this);let t=this.charAt(e.offset);t===Fl?(e.line++,e.column=0):Pv(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?qn:this.charAt(e.offset)}locationFromCursor(e){return new yh(e.file,e.state.offset,e.state.line,e.state.column)}},fw=class n extends Xv{internalState;constructor(e,t){e instanceof n?(super(e),this.internalState=B({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new n(this)}getChars(e){let t=e.clone(),i="";for(;t.internalState.offset<this.internalState.offset;)i+=String.fromCodePoint(t.peek()),t.advance();return i}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===Yu)if(this.internalState=B({},this.state),this.advanceState(this.internalState),e()===fN)this.state.peek=Fl;else if(e()===hN)this.state.peek=nE;else if(e()===vN)this.state.peek=aN;else if(e()===mN)this.state.peek=tE;else if(e()===Lj)this.state.peek=kj;else if(e()===rE)this.state.peek=lN;else if(e()===gN)if(this.advanceState(this.internalState),e()===lo){this.advanceState(this.internalState);let t=this.clone(),i=0;for(;e()!==Ri;)this.advanceState(this.internalState),i++;this.state.peek=this.decodeHexDigits(t,i)}else{let t=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,4)}else if(e()===_N){this.advanceState(this.internalState);let t=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,2)}else if(Ak(e())){let t="",i=0,r=this.clone();for(;Ak(e())&&i<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),i++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else Pv(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){let i=this.input.slice(e.internalState.offset,e.internalState.offset+t),r=parseInt(i,16);if(isNaN(r))throw e.state=e.internalState,new Mh("Invalid hexadecimal escape sequence",e);return r}},Mh=class extends Error{msg;cursor;constructor(e,t){super(e),this.msg=e,this.cursor=t,Object.setPrototypeOf(this,new.target.prototype)}},sn=class n extends Ce{elementName;static create(e,t,i){return new n(e,t,i)}constructor(e,t,i){super(t,i),this.elementName=e}},Jv=class{rootNodes;errors;constructor(e,t){this.rootNodes=e,this.errors=t}},wU=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,t,i){let r=pU(e,t,this.getTagDefinition,i),o=new hw(r.tokens,this.getTagDefinition);return o.build(),new Jv(o.rootNodes,[...r.errors,...o.errors])}},hw=class n{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,t){this.tokens=e,this.tagDefinitionResolver=t,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof Ar&&this.errors.push(sn.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let t=this._advanceIf(7),i=this._advanceIf(11),r=t!=null?t.parts[0].trim():null,o=i==null?e.sourceSpan:new Te(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Ih(r,o))}_consumeExpansion(e){let t=this._advance(),i=this._advance(),r=[];for(;this._peek.type===20;){let s=this._parseExpansionCase();if(!s)return;r.push(s)}if(this._peek.type!==23){this.errors.push(sn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let o=new Te(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Ll(t.parts[0],i.parts[0],r,o,t.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(sn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let t=this._advance(),i=this._collectExpansionExpTokens(t);if(!i)return null;let r=this._advance();i.push({type:41,parts:[],sourceSpan:r.sourceSpan});let o=new n(i,this.tagDefinitionResolver);if(o.build(),o.errors.length>0)return this.errors=this.errors.concat(o.errors),null;let s=new Te(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),a=new Te(t.sourceSpan.start,r.sourceSpan.end,t.sourceSpan.fullStart);return new Qv(e.parts[0],o.rootNodes,s,e.sourceSpan,a)}_collectExpansionExpTokens(e){let t=[],i=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&i.push(this._peek.type),this._peek.type===22)if(Xk(i,21)){if(i.pop(),i.length===0)return t}else return this.errors.push(sn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(Xk(i,19))i.pop();else return this.errors.push(sn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(sn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=[e],i=e.sourceSpan,r=e.parts[0];if(r.length>0&&r[0]===`
`){let o=this._getContainer();o!=null&&o.children.length===0&&this._getTagDefinition(o)?.ignoreFirstLf&&(r=r.substring(1),t[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),t.push(e),e.type===8?r+=e.parts.join("").replace(/&([^;]+);/g,Jk):e.type===9?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){let o=e.sourceSpan;this._addToParent(new ec(r,new Te(i.start,o.end,i.fullStart,i.details),t))}}_closeVoidElement(){let e=this._getContainer();e!==null&&this._getTagDefinition(e)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(e){let t=[],i=[];this._consumeAttributesAndDirectives(t,i);let r=this._getElementFullName(e,this._getClosestElementLikeParent()),o=this._getTagDefinition(r),s=!1;this._peek.type===2?(this._advance(),s=!0,o?.canSelfClose||FC(r)!==null||o?.isVoid||this.errors.push(sn.create(r,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))):this._peek.type===1&&(this._advance(),s=!1);let a=this._peek.sourceSpan.fullStart,l=new Te(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new Te(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new Dr(r,t,i,[],s,l,c,void 0,o?.isVoid??!1),m=this._getContainer(),y=m!==null&&!!this._getTagDefinition(m)?.isClosedByChild(u.name);this._pushContainer(u,y),s?this._popContainer(r,Dr,l):e.type===4&&(this._popContainer(r,Dr,null),this.errors.push(sn.create(r,l,`Opening tag "${r}" not terminated.`)))}_consumeComponentStartTag(e){let t=e.parts[0],i=[],r=[];this._consumeAttributesAndDirectives(i,r);let o=this._getClosestElementLikeParent(),s=this._getComponentTagName(e,o),a=this._getComponentFullName(e,o),l=this._peek.type===35;this._advance();let c=this._peek.sourceSpan.fullStart,u=new Te(e.sourceSpan.start,c,e.sourceSpan.fullStart),m=new Te(e.sourceSpan.start,c,e.sourceSpan.fullStart),y=new Ni(t,s,a,i,r,[],l,u,m,void 0),v=this._getContainer(),w=v!==null&&y.tagName!==null&&!!this._getTagDefinition(v)?.isClosedByChild(y.tagName);this._pushContainer(y,w),l?this._popContainer(a,Ni,u):e.type===37&&(this._popContainer(a,Ni,null),this.errors.push(sn.create(a,u,`Opening tag "${a}" not terminated.`)))}_consumeAttributesAndDirectives(e,t){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?t.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let t=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(t,Ni,e.sourceSpan)){let i=this._containerStack[this._containerStack.length-1],r;i instanceof Ni&&i.componentName===e.parts[0]?r=`, did you mean "${i.fullName}"?`:r=". It may happen when the tag has already been closed by another tag.";let o=`Unexpected closing tag "${t}"${r}`;this.errors.push(sn.create(t,e.sourceSpan,o))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof Dr?this.tagDefinitionResolver(e.name):e instanceof Ni&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,t){t&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){let t=this._getElementFullName(e,this._getClosestElementLikeParent());if(this._getTagDefinition(t)?.isVoid)this.errors.push(sn.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(t,Dr,e.sourceSpan)){let i=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(sn.create(t,e.sourceSpan,i))}}_popContainer(e,t,i){let r=!1;for(let o=this._containerStack.length-1;o>=0;o--){let s=this._containerStack[o];if(((s instanceof Ni?s.fullName:s.name)===e||e===null)&&s instanceof t)return s.endSourceSpan=i,s.sourceSpan.end=i!==null?i.end:s.sourceSpan.end,this._containerStack.splice(o,this._containerStack.length-o),!r;(s instanceof Ar||!this._getTagDefinition(s)?.closedByParent)&&(r=!0)}return!1}_consumeAttr(e){let t=Y0(e.parts[0],e.parts[1]),i=e.sourceSpan.end;this._peek.type===15&&this._advance();let r="",o=[],s,a;if(this._peek.type===16)for(s=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let u=this._advance();o.push(u),u.type===17?r+=u.parts.join("").replace(/&([^;]+);/g,Jk):u.type===9?r+=u.parts[0]:r+=u.parts.join(""),a=i=u.sourceSpan.end}this._peek.type===15&&(i=this._advance().sourceSpan.end);let c=s&&a&&new Te(s.start,a,s.fullStart);return new lw(t,r,new Te(e.sourceSpan.start,i,e.sourceSpan.fullStart),e.sourceSpan,c,o.length>0?o:void 0,void 0)}_consumeDirective(e){let t=[],i=e.sourceSpan.end,r=null;if(this._advance(),this._peek.type===39){for(i=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)t.push(this._consumeAttr(this._advance()));this._peek.type===40?(r=this._peek.sourceSpan,this._advance()):this.errors.push(sn.create(null,e.sourceSpan,"Unterminated directive definition"))}let o=new Te(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new Te(o.start,r===null?e.sourceSpan.end:r.end,o.fullStart);return new cw(e.parts[0],t,s,o,r)}_consumeBlockOpen(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new Yv(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let i=this._peek.sourceSpan.fullStart,r=new Te(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new Te(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new Ar(e.parts[0],t,[],r,e.sourceSpan,o);this._pushContainer(s,!1)}_consumeBlockClose(e){this._popContainer(null,Ar,e.sourceSpan)||this.errors.push(sn.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new Yv(a.parts[0],a.sourceSpan))}let i=this._peek.sourceSpan.fullStart,r=new Te(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new Te(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new Ar(e.parts[0],t,[],r,e.sourceSpan,o);this._pushContainer(s,!1),this._popContainer(null,Ar,null),this.errors.push(sn.create(e.parts[0],r,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let t=e.parts[0],i,r;if(this._peek.type!==30){this.errors.push(sn.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${t}". Declaration must have a value.`));return}else i=this._advance();if(this._peek.type!==31){this.errors.push(sn.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${t}". Declaration must be terminated with a semicolon.`));return}else r=this._advance();let o=r.sourceSpan.fullStart,s=new Te(e.sourceSpan.start,o,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(t),l=e.sourceSpan.start.moveBy(a),c=new Te(l,e.sourceSpan.end),u=new Zv(t,i.parts[0],s,c,i.sourceSpan);this._addToParent(u)}_consumeIncompleteLet(e){let t=e.parts[0]??"",i=t?` "${t}"`:"";if(t.length>0){let r=e.sourceSpan.toString().lastIndexOf(t),o=e.sourceSpan.start.moveBy(r),s=new Te(o,e.sourceSpan.end),a=new Te(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new Zv(t,"",e.sourceSpan,s,a);this._addToParent(l)}this.errors.push(sn.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${i}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let t=this._containerStack[e];if(t instanceof Dr||t instanceof Ni)return t}return null}_addToParent(e){let t=this._getContainer();t===null?this.rootNodes.push(e):t.children.push(e)}_getElementFullName(e,t){let i=this._getPrefix(e,t);return Y0(i,e.parts[1])}_getComponentFullName(e,t){let i=e.parts[0],r=this._getComponentTagName(e,t);return r===null?i:r.startsWith(":")?i+r:`${i}:${r}`}_getComponentTagName(e,t){let i=this._getPrefix(e,t),r=e.parts[2];return!i&&!r?null:!i&&r?r:Y0(i,r||"ng-component")}_getPrefix(e,t){let i,r;if(e.type===33||e.type===37||e.type===36?(i=e.parts[1],r=e.parts[2]):(i=e.parts[0],r=e.parts[1]),i=i||this._getTagDefinition(r)?.implicitNamespacePrefix||"",!i&&t){let o=t instanceof Dr?t.name:t.tagName;if(o!==null){let s=ho(o)[1],a=this._getTagDefinition(s);a!==null&&!a.preventNamespaceInheritance&&(i=FC(o))}}return i}};function Xk(n,e){return n.length>0&&n[n.length-1]===e}function Jk(n,e){return kh[e]!==void 0?kh[e]||n:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):n}var $N="ngPreserveWhitespaces",Kk=new Set(["pre","template","textarea","script","style"]),HN=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,EU=new RegExp(`[^${HN}]`),SU=new RegExp(`[${HN}]{2,}`,"g");function eM(n){return n.some(e=>e.name===$N)}function zN(n){return n.replace(new RegExp(UN,"g")," ")}var Kv=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,t,i=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=t,this.requireContext=i}visitElement(e,t){if(Kk.has(e.name)||eM(e.attrs)){let r=new Dr(e.name,jo(this,e.attrs),jo(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(r,e),r}let i=new Dr(e.name,e.attrs,e.directives,jo(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(i,e),i}visitAttribute(e,t){return e.name!==$N?e:null}visitText(e,t){let i=e.value.match(EU),r=t&&(t.prev instanceof Ll||t.next instanceof Ll);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(i||r){let s=e.tokens.map(u=>u.type===5?IU(u):u);if(!this.preserveSignificantWhitespace&&s.length>0){let u=s[0];s.splice(0,1,DU(u,t));let m=s[s.length-1];s.splice(s.length-1,1,AU(m,t))}let a=GN(e.value),l=this.preserveSignificantWhitespace?a:TU(a,t),c=new ec(l,e.sourceSpan,s,e.i18n);return this.originalNodeMap?.set(c,e),c}return null}visitComment(e,t){return e}visitExpansion(e,t){this.icuExpansionDepth++;let i;try{i=new Ll(e.switchValue,e.type,jo(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(i,e),i}visitExpansionCase(e,t){let i=new Qv(e.value,jo(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlock(e,t){let i=new Ar(e.name,e.parameters,jo(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visitComponent(e,t){if(e.tagName&&Kk.has(e.tagName)||eM(e.attrs)){let r=new Ni(e.componentName,e.tagName,e.fullName,jo(this,e.attrs),jo(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}let i=new Ni(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,jo(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}visitDirective(e,t){return e}visit(e,t){if(this.requireContext&&!t)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function DU(n,e){return n.type!==5||!!e?.prev?n:WN(n,i=>i.trimStart())}function AU(n,e){return n.type!==5||!!e?.next?n:WN(n,i=>i.trimEnd())}function TU(n,e){let t=!e?.prev,i=!e?.next,r=t?n.trimStart():n;return i?r.trimEnd():r}function IU({type:n,parts:e,sourceSpan:t}){return{type:n,parts:[GN(e[0])],sourceSpan:t}}function WN({type:n,parts:e,sourceSpan:t},i){return{type:n,parts:[i(e[0])],sourceSpan:t}}function GN(n){return zN(n).replace(SU," ")}function jo(n,e){let t=[];return e.forEach((i,r)=>{let o={prev:e[r-1],next:e[r+1]},s=i.visit(n,o);s&&t.push(s)}),t}var Fe=(function(n){return n[n.Character=0]="Character",n[n.Identifier=1]="Identifier",n[n.PrivateIdentifier=2]="PrivateIdentifier",n[n.Keyword=3]="Keyword",n[n.String=4]="String",n[n.Operator=5]="Operator",n[n.Number=6]="Number",n[n.Error=7]="Error",n})(Fe||{}),Bl=(function(n){return n[n.Plain=0]="Plain",n[n.TemplateLiteralPart=1]="TemplateLiteralPart",n[n.TemplateLiteralEnd=2]="TemplateLiteralEnd",n})(Bl||{}),kU=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],Nh=class{tokenize(e){return new mw(e).scan()}},mo=class{index;end;type;numValue;strValue;constructor(e,t,i,r,o){this.index=e,this.end=t,this.type=i,this.numValue=r,this.strValue=o}isCharacter(e){return this.type===Fe.Character&&this.numValue===e}isNumber(){return this.type===Fe.Number}isString(){return this.type===Fe.String}isOperator(e){return this.type===Fe.Operator&&this.strValue===e}isIdentifier(){return this.type===Fe.Identifier}isPrivateIdentifier(){return this.type===Fe.PrivateIdentifier}isKeyword(){return this.type===Fe.Keyword}isKeywordLet(){return this.type===Fe.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===Fe.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===Fe.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===Fe.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===Fe.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===Fe.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===Fe.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===Fe.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===Fe.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===Fe.Keyword&&this.strValue==="in"}isError(){return this.type===Fe.Error}toNumber(){return this.type===Fe.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===Bl.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===Bl.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}isTemplateLiteralInterpolationEnd(){return this.isOperator("}")}toString(){switch(this.type){case Fe.Character:case Fe.Identifier:case Fe.Keyword:case Fe.Operator:case Fe.PrivateIdentifier:case Fe.String:case Fe.Error:return this.strValue;case Fe.Number:return this.numValue.toString();default:return null}}},jf=class extends mo{kind;constructor(e,t,i,r){super(e,t,Fe.String,0,i),this.kind=r}};function O0(n,e,t){return new mo(n,e,Fe.Character,t,String.fromCharCode(t))}function MU(n,e,t){return new mo(n,e,Fe.Identifier,0,t)}function NU(n,e,t){return new mo(n,e,Fe.PrivateIdentifier,0,t)}function RU(n,e,t){return new mo(n,e,Fe.Keyword,0,t)}function Fu(n,e,t){return new mo(n,e,Fe.Operator,0,t)}function PU(n,e,t){return new mo(n,e,Fe.Number,t,"")}function OU(n,e,t){return new mo(n,e,Fe.Error,0,t)}var F0=new mo(-1,-1,Fe.Character,0,""),mw=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?qn:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,t=this.length,i=this.peek,r=this.index;for(;i<=cN;)if(++r>=t){i=qn;break}else i=e.charCodeAt(r);if(this.peek=i,this.index=r,r>=t)return null;if(tM(i))return this.scanIdentifier();if(ao(i))return this.scanNumber(r);let o=r;switch(i){case Rf:return this.advance(),ao(this.peek)?this.scanNumber(o):O0(o,this.index,Rf);case co:case vi:case Aa:case Nl:case Mr:case Ps:case ar:return this.scanCharacter(o,i);case lo:return this.scanOpenBrace(o,i);case Ri:return this.scanCloseBrace(o,i);case vh:case gh:return this.scanString();case WC:return this.advance(),this.scanTemplateLiteralPart(o);case uN:return this.scanPrivateIdentifier();case dN:return this.scanComplexOperator(o,"+",ni,"=");case Rv:return this.scanComplexOperator(o,"-",ni,"=");case so:return this.scanComplexOperator(o,"/",ni,"=");case Mj:return this.scanComplexOperator(o,"%",ni,"=");case Fj:return this.scanOperator(o,"^");case Ek:return this.scanStar(o);case Sk:return this.scanQuestion(o);case Qu:case Sr:return this.scanComplexOperator(o,String.fromCharCode(i),ni,"=");case zC:case ni:return this.scanComplexOperator(o,String.fromCharCode(i),ni,"=",ni,"=");case Nv:return this.scanComplexOperator(o,"&",Nv,"&",ni,"=");case Dk:return this.scanComplexOperator(o,"|",Dk,"|",ni,"=");case yN:for(;_h(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(i)}]`,0)}scanCharacter(e,t){return this.advance(),O0(e,this.index,t)}scanOperator(e,t){return this.advance(),Fu(e,this.index,t)}scanOpenBrace(e,t){return this.braceStack.push("expression"),this.advance(),O0(e,this.index,t)}scanCloseBrace(e,t){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(Fu(e,this.index,"}")),this.scanTemplateLiteralPart(this.index)):O0(e,this.index,t)}scanComplexOperator(e,t,i,r,o,s){this.advance();let a=t;return this.peek==i&&(this.advance(),a+=r),o!=null&&this.peek==o&&(this.advance(),a+=s),Fu(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();nM(this.peek);)this.advance();let t=this.input.substring(e,this.index);return kU.indexOf(t)>-1?RU(e,this.index,t):MU(e,this.index,t)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!tM(this.peek))return this.error("Invalid character [#]",-1);for(;nM(this.peek);)this.advance();let t=this.input.substring(e,this.index);return NU(e,this.index,t)}scanNumber(e){let t=this.index===e,i=!1;for(this.advance();;){if(!ao(this.peek))if(this.peek===Fa){if(!ao(this.input.charCodeAt(this.index-1))||!ao(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);i=!0}else if(this.peek===Rf)t=!1;else if(FU(this.peek)){if(this.advance(),LU(this.peek)&&this.advance(),!ao(this.peek))return this.error("Invalid exponent",-1);t=!1}else break;this.advance()}let r=this.input.substring(e,this.index);i&&(r=r.replace(/_/g,""));let o=t?VU(r):parseFloat(r);return PU(e,this.index,o)}scanString(){let e=this.index,t=this.peek;this.advance();let i="",r=this.index,o=this.input;for(;this.peek!=t;)if(this.peek==Yu){let a=this.scanStringBackslash(i,r);if(typeof a!="string")return a;i=a,r=this.index}else{if(this.peek==qn)return this.error("Unterminated quote",0);this.advance()}let s=o.substring(r,this.index);return this.advance(),new jf(e,this.index,i+s,Bl.Plain)}scanQuestion(e){this.advance();let t="?";return this.peek===Sk?(t+="?",this.advance(),this.peek===ni&&(t+="=",this.advance())):this.peek===Rf&&(t+=".",this.advance()),Fu(e,this.index,t)}scanTemplateLiteralPart(e){let t="",i=this.index;for(;this.peek!==WC;)if(this.peek===Yu){let o=this.scanStringBackslash(t,i);if(typeof o!="string")return o;t=o,i=this.index}else if(this.peek===v_){let o=this.index;if(this.advance(),this.peek===lo)return this.braceStack.push("interpolation"),this.tokens.push(new jf(e,o,t+this.input.substring(i,o),Bl.TemplateLiteralPart)),this.advance(),Fu(o,this.index,this.input.substring(o,this.index))}else{if(this.peek===qn)return this.error("Unterminated template literal",0);this.advance()}let r=this.input.substring(i,this.index);return this.advance(),new jf(e,this.index,t+r,Bl.TemplateLiteralEnd)}error(e,t){let i=this.index+t;return OU(i,this.index,`Lexer Error: ${e} at column ${i} in expression [${this.input}]`)}scanStringBackslash(e,t){e+=this.input.substring(t,this.index);let i;if(this.advance(),this.peek===gN){let r=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(r))i=parseInt(r,16);else return this.error(`Invalid unicode escape [\\u${r}]`,0);for(let o=0;o<5;o++)this.advance()}else i=BU(this.peek),this.advance();return e+=String.fromCharCode(i),e}scanStar(e){this.advance();let t="*";return this.peek===Ek?(t+="*",this.advance(),this.peek===ni&&(t+="=",this.advance())):this.peek===ni&&(t+="=",this.advance()),Fu(e,this.index,t)}};function tM(n){return Yl<=n&&n<=qh||Oa<=n&&n<=gd||n==Fa||n==v_}function nM(n){return ad(n)||ao(n)||n==Fa||n==v_}function FU(n){return n==Bj||n==Rj}function LU(n){return n==Rv||n==dN}function BU(n){switch(n){case fN:return Fl;case rE:return lN;case hN:return nE;case mN:return tE;case vN:return aN;default:return n}}function VU(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var gw=class{strings;expressions;offsets;constructor(e,t,i){this.strings=e,this.expressions=t,this.offsets=i}},vw=class{templateBindings;warnings;errors;constructor(e,t,i){this.templateBindings=e,this.warnings=t,this.errors=i}};function Ca(n){return n.start.toString()||"(unknown)"}var e_=class{_lexer;_supportsDirectPipeReferences;constructor(e,t=!1){this._lexer=e,this._supportsDirectPipeReferences=t}parseAction(e,t,i,r=Ho){let o=[];this._checkNoInterpolation(o,e,t,r);let{stripped:s}=this._stripComments(e),a=this._lexer.tokenize(s),l=new Tl(e,t,i,a,1,o,0,this._supportsDirectPipeReferences).parseChain();return new sr(l,e,Ca(t),i,o)}parseBinding(e,t,i,r=Ho){let o=[],s=this._parseBindingAst(e,t,i,r,o);return new sr(s,e,Ca(t),i,o)}checkSimpleExpression(e){let t=new _w;return e.visit(t),t.errors}parseSimpleBinding(e,t,i,r=Ho){let o=[],s=this._parseBindingAst(e,t,i,r,o),a=this.checkSimpleExpression(s);return a.length>0&&o.push(Hu(`Host binding expression cannot contain ${a.join(" ")}`,e,"",t)),new sr(s,e,Ca(t),i,o)}_parseBindingAst(e,t,i,r,o){this._checkNoInterpolation(o,e,t,r);let{stripped:s}=this._stripComments(e),a=this._lexer.tokenize(s);return new Tl(e,t,i,a,0,o,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,t,i,r,o){let s=this._lexer.tokenize(t),a=[];return new Tl(t,i,o,s,0,a,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new ur(r,r+e.length)})}parseInterpolation(e,t,i,r,o=Ho){let s=[],{strings:a,expressions:l,offsets:c}=this.splitInterpolation(e,t,s,r,o);if(l.length===0)return null;let u=[];for(let m=0;m<l.length;++m){let y=r?.[m*2+1]?.sourceSpan,v=l[m].text,{stripped:w,hasComments:D}=this._stripComments(v),I=this._lexer.tokenize(w);if(D&&w.trim().length===0&&I.length===0){s.push(Hu("Interpolation expression cannot only contain a comment",e,`at column ${l[m].start} in`,t));continue}let M=new Tl(y?v:e,y||t,i,I,0,s,c[m],this._supportsDirectPipeReferences).parseChain();u.push(M)}return this.createInterpolationAst(a.map(m=>m.text),u,e,Ca(t),i,s)}parseInterpolationExpression(e,t,i){let{stripped:r}=this._stripComments(e),o=this._lexer.tokenize(r),s=[],a=new Tl(e,t,i,o,0,s,0,this._supportsDirectPipeReferences).parseChain(),l=["",""];return this.createInterpolationAst(l,[a],e,Ca(t),i,s)}createInterpolationAst(e,t,i,r,o,s){let a=new zl(0,i.length),l=new Vh(a,a.toAbsolute(o),e,t);return new sr(l,i,r,o,s)}splitInterpolation(e,t,i,r,o=Ho){let s=[],a=[],l=[],c=r?jU(r):null,u=0,m=!1,y=!1,{start:v,end:w}=o;for(;u<e.length;)if(m){let D=u,I=D+v.length,M=this._getInterpolationEndIndex(e,w,I);if(M===-1){m=!1,y=!0;break}let q=M+w.length,G=e.substring(I,M);G.trim().length===0&&i.push(Hu("Blank expressions are not allowed in interpolated strings",e,`at column ${u} in`,t)),a.push({text:G,start:D,end:q});let X=(c?.get(D)??D)+v.length;l.push(X),u=q,m=!1}else{let D=u;u=e.indexOf(v,u),u===-1&&(u=e.length);let I=e.substring(D,u);s.push({text:I,start:D,end:u}),m=!0}if(!m)if(y){let D=s[s.length-1];D.text+=e.substring(u),D.end=e.length}else s.push({text:e.substring(u),start:u,end:e.length});return new gw(s,a,l)}wrapLiteralPrimitive(e,t,i){let r=new zl(0,e==null?0:e.length);return new sr(new or(r,r.toAbsolute(i),e),e,typeof t=="string"?t:Ca(t),i,[])}_stripComments(e){let t=this._commentStart(e);return t!=null?{stripped:e.substring(0,t),hasComments:!0}:{stripped:e,hasComments:!1}}_commentStart(e){let t=null;for(let i=0;i<e.length-1;i++){let r=e.charCodeAt(i),o=e.charCodeAt(i+1);if(r===so&&o==so&&t==null)return i;t===r?t=null:t==null&&Vf(r)&&(t=r)}return null}_checkNoInterpolation(e,t,i,{start:r,end:o}){let s=-1,a=-1;for(let l of this._forEachUnquotedChar(t,0))if(s===-1)t.startsWith(r)&&(s=l);else if(a=this._getInterpolationEndIndex(t,o,l),a>-1)break;s>-1&&a>-1&&e.push(Hu(`Got interpolation (${r}${o}) where expression was expected`,t,`at column ${s} in`,i))}_getInterpolationEndIndex(e,t,i){for(let r of this._forEachUnquotedChar(e,i)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let i=null,r=0;for(let o=t;o<e.length;o++){let s=e[o];Vf(e.charCodeAt(o))&&(i===null||i===s)&&r%2===0?i=i===null?s:null:i===null&&(yield o),r=s==="\\"?r+1:0}}},Of=(function(n){return n[n.None=0]="None",n[n.Writable=1]="Writable",n})(Of||{}),Tl=class{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=Of.None;sourceSpanCache=new Map;index=0;constructor(e,t,i,r,o,s,a,l){this.input=e,this.parseSourceSpan=t,this.absoluteOffset=i,this.tokens=r,this.parseFlags=o,this.errors=s,this.offset=a,this.supportsDirectPipeReferences=l}peek(e){let t=this.index+e;return t<this.tokens.length?this.tokens[t]:F0}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let i=this.currentEndIndex;if(t!==void 0&&t>this.currentEndIndex&&(i=t),e>i){let r=i;i=e,e=r}return new zl(e,i)}sourceSpan(e,t){let i=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(i)||this.sourceSpanCache.set(i,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(i)}advance(){this.index++}withContext(e,t){this.context|=e;let i=t();return this.context^=e,i}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===Fe.Operator&&gi.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===F0?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){let i=this.parsePipe();if(e.push(i),this.consumeOptionalCharacter(ar))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(ar););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let i=this.offset,r=this.offset+this.input.length;return new Mi(this.span(i,r),this.sourceSpan(i,r))}return e.length==1?e[0]:new ed(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let i=this.inputIndex,r=this.expectIdentifierOrKeyword(),o,s;r!==null?o=this.sourceSpan(i):(r="",s=this.next.index!==-1?this.next.index:this.input.length+this.offset,o=new zl(s,s).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(Ps);)a.push(this.parseExpression());let l;if(this.supportsDirectPipeReferences){let c=r.charCodeAt(0);l=c===Fa||c>=Oa&&c<=gd?Q0.ReferencedDirectly:Q0.ReferencedByName}else l=Q0.ReferencedByName;t=new mv(this.span(e),this.sourceSpan(e,s),t,r,a,l,o)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let i=this.parsePipe(),r;if(this.consumeOptionalCharacter(Ps))r=this.parsePipe();else{let o=this.inputIndex,s=this.input.substring(e,o);this.error(`Conditional expression ${s} requires all 3 expressions`),r=new Mi(this.span(e),this.sourceSpan(e))}return new hv(this.span(e),this.sourceSpan(e),t,i,r)}else return t}parseLogicalOr(){let e=this.inputIndex,t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let i=this.parseLogicalAnd();t=new gi(this.span(e),this.sourceSpan(e),"||",t,i)}return t}parseLogicalAnd(){let e=this.inputIndex,t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let i=this.parseNullishCoalescing();t=new gi(this.span(e),this.sourceSpan(e),"&&",t,i)}return t}parseNullishCoalescing(){let e=this.inputIndex,t=this.parseEquality();for(;this.consumeOptionalOperator("??");){let i=this.parseEquality();t=new gi(this.span(e),this.sourceSpan(e),"??",t,i)}return t}parseEquality(){let e=this.inputIndex,t=this.parseRelational();for(;this.next.type==Fe.Operator;){let i=this.next.strValue;switch(i){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();t=new gi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseRelational(){let e=this.inputIndex,t=this.parseAdditive();for(;this.next.type==Fe.Operator||this.next.isKeywordIn;){let i=this.next.strValue;switch(i){case"<":case">":case"<=":case">=":case"in":this.advance();let r=this.parseAdditive();t=new gi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseAdditive(){let e=this.inputIndex,t=this.parseMultiplicative();for(;this.next.type==Fe.Operator;){let i=this.next.strValue;switch(i){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new gi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseMultiplicative(){let e=this.inputIndex,t=this.parseExponentiation();for(;this.next.type==Fe.Operator;){let i=this.next.strValue;switch(i){case"*":case"%":case"/":this.advance();let r=this.parseExponentiation();t=new gi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseExponentiation(){let e=this.inputIndex,t=this.parsePrefix();for(;this.next.type==Fe.Operator&&this.next.strValue==="**";){(t instanceof Gu||t instanceof Kf||t instanceof eh||t instanceof th)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let i=this.parseExponentiation();t=new gi(this.span(e),this.sourceSpan(e),"**",t,i)}return t}parsePrefix(){if(this.next.type==Fe.Operator){let e=this.inputIndex,t=this.next.strValue,i;switch(t){case"+":return this.advance(),i=this.parsePrefix(),Gu.createPlus(this.span(e),this.sourceSpan(e),i);case"-":return this.advance(),i=this.parsePrefix(),Gu.createMinus(this.span(e),this.sourceSpan(e),i);case"!":return this.advance(),i=this.parsePrefix(),new Kf(this.span(e),this.sourceSpan(e),i)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new eh(this.span(e),this.sourceSpan(e),t)}else if(this.next.isKeywordVoid()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new th(this.span(e),this.sourceSpan(e),t)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(Rf))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(co)?t=this.parseCall(t,e,!0):t=this.consumeOptionalCharacter(Aa)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(Aa))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(co))t=this.parseCall(t,e,!1);else if(this.consumeOptionalOperator("!"))t=new nh(this.span(e),this.sourceSpan(e),t);else if(this.next.isTemplateLiteralEnd())t=this.parseNoInterpolationTaggedTemplateLiteral(t,e);else if(this.next.isTemplateLiteralPart())t=this.parseTaggedTemplateLiteral(t,e);else return t}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(co)){this.rparensExpected++;let t=this.parsePipe();return this.consumeOptionalCharacter(vi)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(vi)),this.rparensExpected--,new oh(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isKeywordNull())return this.advance(),new or(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new or(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new or(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new or(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new or(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new Wl(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Aa)){this.rbracketsExpected++;let t=this.parseExpressionList(Nl);return this.rbracketsExpected--,this.expectCharacter(Nl),new gv(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isCharacter(lo))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new Yo(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let t=this.next.toNumber();return this.advance(),new or(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===Bl.Plain){let t=this.next.toString();return this.advance(),new or(this.span(e),this.sourceSpan(e),t)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Mi(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Mi(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Mi(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let t=[];do if(!this.next.isCharacter(e))t.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(Mr));return t}parseLiteralMap(){let e=[],t=[],i=this.inputIndex;if(this.expectCharacter(lo),!this.consumeOptionalCharacter(Ri)){this.rbracesExpected++;do{let r=this.inputIndex,o=this.next.isString(),s=this.expectIdentifierOrKeywordOrString(),a={key:s,quoted:o};if(e.push(a),o)this.expectCharacter(Ps),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(Ps))t.push(this.parsePipe());else{a.isShorthandInitialized=!0;let l=this.span(r),c=this.sourceSpan(r);t.push(new Ls(l,c,c,new Yo(l,c),s))}}while(this.consumeOptionalCharacter(Mr)&&!this.next.isCharacter(Ri));this.rbracesExpected--,this.expectCharacter(Ri)}return new vv(this.span(i),this.sourceSpan(i),e,t)}parseAccessMember(e,t,i){let r=this.inputIndex,o=this.withContext(Of.Writable,()=>{let a=this.expectIdentifierOrKeyword()??"";return a.length===0&&this.error("Expected identifier for property access",e.span.end),a}),s=this.sourceSpan(r);if(i)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new Mi(this.span(t),this.sourceSpan(t))):new Xf(this.span(t),this.sourceSpan(t),s,e,o);if(this.isAssignmentOperator(this.next)){let a=this.next.strValue;if(!(this.parseFlags&1))return this.advance(),this.error("Bindings cannot contain assignments"),new Mi(this.span(t),this.sourceSpan(t));let l=new Ls(this.span(t),this.sourceSpan(t),s,e,o);this.advance();let c=this.parseConditional();return new gi(this.span(t),this.sourceSpan(t),a,l,c)}else return new Ls(this.span(t),this.sourceSpan(t),s,e,o)}parseCall(e,t,i){let r=this.inputIndex;this.rparensExpected++;let o=this.parseCallArguments(),s=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(vi),this.rparensExpected--;let a=this.span(t),l=this.sourceSpan(t);return i?new _v(a,l,e,o,s):new td(a,l,e,o,s)}parseCallArguments(){if(this.next.isCharacter(vi))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(Mr));return e}expectTemplateBindingKey(){let e="",t=!1,i=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-");while(t);return{source:e,span:new ur(i,i+e.length)}}parseTemplateBindings(e){let t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let i=this.parseLetBinding();if(i)t.push(i);else{let r=this.expectTemplateBindingKey(),o=this.parseAsBinding(r);o?t.push(o):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new vw(t,[],this.errors)}parseKeyedReadOrWrite(e,t,i){return this.withContext(Of.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof Mi&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(Nl),this.isAssignmentOperator(this.next)){let o=this.next.strValue;if(i)this.advance(),this.error("The '?.' operator cannot be used in the assignment");else{let s=new Gl(this.span(t),this.sourceSpan(t),e,r);this.advance();let a=this.parseConditional();return new gi(this.span(t),this.sourceSpan(t),o,s,a)}}else return i?new Jf(this.span(t),this.sourceSpan(t),e,r):new Gl(this.span(t),this.sourceSpan(t),e,r);return new Mi(this.span(t),this.sourceSpan(t))})}parseDirectiveKeywordBindings(e){let t=[];this.consumeOptionalCharacter(Ps);let i=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,o=this.parseAsBinding(e);o||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let s=new ur(e.span.start,r);return t.push(new RC(s,e,i)),o&&t.push(o),t}getDirectiveBoundTarget(){if(this.next===F0||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:t,end:i}=e.span,r=this.input.substring(t,i);return new sr(e,r,Ca(this.parseSourceSpan),this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let t=this.expectTemplateBindingKey();this.consumeStatementTerminator();let i=new ur(e.span.start,this.currentAbsoluteOffset);return new sh(i,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let t=this.expectTemplateBindingKey(),i=null;this.consumeOptionalOperator("=")&&(i=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new ur(e,this.currentAbsoluteOffset);return new sh(r,t,i)}parseNoInterpolationTaggedTemplateLiteral(e,t){let i=this.parseNoInterpolationTemplateLiteral();return new ih(this.span(t),this.sourceSpan(t),e,i)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,t=this.inputIndex;this.advance();let i=this.span(t),r=this.sourceSpan(t);return new rh(i,r,[new yv(i,r,e)],[])}parseTaggedTemplateLiteral(e,t){let i=this.parseTemplateLiteral();return new ih(this.span(t),this.sourceSpan(t),e,i)}parseTemplateLiteral(){let e=[],t=[],i=this.inputIndex;for(;this.next!==F0;){let r=this.next;if(r.isTemplateLiteralPart()||r.isTemplateLiteralEnd()){let o=this.inputIndex;if(this.advance(),e.push(new yv(this.span(o),this.sourceSpan(o),r.strValue)),r.isTemplateLiteralEnd())break}else if(r.isTemplateLiteralInterpolationStart()){this.advance();let o=this.parsePipe();o instanceof Mi?this.error("Template literal interpolation cannot be empty"):t.push(o)}else this.advance()}return new rh(this.span(i),this.sourceSpan(i),e,t)}consumeStatementTerminator(){this.consumeOptionalCharacter(ar)||this.consumeOptionalCharacter(Mr)}error(e,t=this.index){this.errors.push(Hu(e,this.input,this.getErrorLocationText(t),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let i=`Private identifiers are not supported. Unexpected private identifier: ${e}`;t!==null&&(i+=`, ${t}`),this.error(i)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(ar)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(vi))&&(this.rbracesExpected<=0||!e.isCharacter(Ri))&&(this.rbracketsExpected<=0||!e.isCharacter(Nl))&&(!(this.context&Of.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(Hu(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function Hu(n,e,t,i){t.length>0&&(t=` ${t} `);let r=Ca(i),o=`Parser Error: ${n}${t}[${e}] in ${r}`;return new Ce(i,o)}var _w=class extends bv{errors=[];visitPipe(){this.errors.push("pipes")}};function jU(n){let e=new Map,t=0,i=0,r=0;for(;r<n.length;){let o=n[r];if(o.type===9){let[s,a]=o.parts;t+=a.length,i+=s.length}else{let s=o.parts.reduce((a,l)=>a+l.length,0);i+=s,t+=s}e.set(i,t),r++}return e}function qU(n){return n.visit(new yw)}var yw=class{visitUnary(e,t){return`${e.operator}${e.expr.visit(this,t)}`}visitBinary(e,t){return`${e.left.visit(this,t)} ${e.operation} ${e.right.visit(this,t)}`}visitChain(e,t){return e.expressions.map(i=>i.visit(this,t)).join("; ")}visitConditional(e,t){return`${e.condition.visit(this,t)} ? ${e.trueExp.visit(this,t)} : ${e.falseExp.visit(this,t)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,t){return $U(e.strings,e.expressions.map(i=>i.visit(this,t))).join("")}visitKeyedRead(e,t){return`${e.receiver.visit(this,t)}[${e.key.visit(this,t)}]`}visitLiteralArray(e,t){return`[${e.expressions.map(i=>i.visit(this,t)).join(", ")}]`}visitLiteralMap(e,t){return`{${UU(e.keys.map(i=>i.quoted?`'${i.key}'`:i.key),e.values.map(i=>i.visit(this,t))).map(([i,r])=>`${i}: ${r}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,t){return`${e.exp.visit(this,t)} | ${e.name}`}visitPrefixNot(e,t){return`!${e.expression.visit(this,t)}`}visitNonNullAssert(e,t){return`${e.expression.visit(this,t)}!`}visitPropertyRead(e,t){return e.receiver instanceof Yo?e.name:`${e.receiver.visit(this,t)}.${e.name}`}visitSafePropertyRead(e,t){return`${e.receiver.visit(this,t)}?.${e.name}`}visitSafeKeyedRead(e,t){return`${e.receiver.visit(this,t)}?.[${e.key.visit(this,t)}]`}visitCall(e,t){return`${e.receiver.visit(this,t)}(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitSafeCall(e,t){return`${e.receiver.visit(this,t)}?.(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitTypeofExpression(e,t){return`typeof ${e.expression.visit(this,t)}`}visitVoidExpression(e,t){return`void ${e.expression.visit(this,t)}`}visitASTWithSource(e,t){return e.ast.visit(this,t)}visitTemplateLiteral(e,t){let i="";for(let r=0;r<e.elements.length;r++){i+=e.elements[r].visit(this,t);let o=r<e.expressions.length?e.expressions[r]:null;o!==null&&(i+="${"+o.visit(this,t)+"}")}return"`"+i+"`"}visitTemplateLiteralElement(e,t){return e.text}visitTaggedTemplateLiteral(e,t){return e.tag.visit(this,t)+e.template.visit(this,t)}visitParenthesizedExpression(e,t){return"("+e.expression.visit(this,t)+")"}};function UU(n,e){if(n.length!==e.length)throw new Error("Array lengths must match");return n.map((t,i)=>[t,e[i]])}function $U(n,e){let t=[];for(let i=0;i<Math.max(n.length,e.length);i++)i<n.length&&t.push(n[i]),i<e.length&&t.push(e[i]);return t}var J0;function iM(){return J0||(J0={},L0(Et.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),L0(Et.STYLE,["*|style"]),L0(Et.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),L0(Et.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),J0}function L0(n,e){for(let t of e)J0[t.toLowerCase()]=n}var HU=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function zU(n){return HU.has(n.toLowerCase())}var bw=class{},WU="boolean",GU="number",QU="string",YU="object",ZU=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],QN=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colspan":"ariaColSpan","aria-current":"ariaCurrent","aria-disabled":"ariaDisabled","aria-expanded":"ariaExpanded","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),XU=Array.from(QN).reduce((n,[e,t])=>(n.set(e,t),n),new Map),hd=class extends bw{_schema=new Map;_eventSchema=new Map;constructor(){super(),ZU.forEach(e=>{let t=new Map,i=new Set,[r,o]=e.split("|"),s=o.split(","),[a,l]=r.split("^");a.split(",").forEach(u=>{this._schema.set(u.toLowerCase(),t),this._eventSchema.set(u.toLowerCase(),i)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[u,m]of c)t.set(u,m);for(let u of this._eventSchema.get(l.toLowerCase()))i.add(u)}s.forEach(u=>{if(u.length>0)switch(u[0]){case"*":i.add(u.substring(1));break;case"!":t.set(u.substring(1),WU);break;case"#":t.set(u.substring(1),GU);break;case"%":t.set(u.substring(1),YU);break;default:t.set(u,QU)}})})}hasProperty(e,t,i){if(i.some(o=>o.name===sk.name))return!0;if(e.indexOf("-")>-1){if(yk(e)||OC(e))return!1;if(i.some(o=>o.name===ok.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(t)}hasElement(e,t){return t.some(i=>i.name===sk.name)||e.indexOf("-")>-1&&(yk(e)||OC(e)||t.some(i=>i.name===ok.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,t,i){i&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=iM()[e+"|"+t];return r||(r=iM()["*|"+t],r||Et.NONE)}getMappedPropName(e){return QN.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let t=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(t.keys()).map(i=>XU.get(i)??i)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return Q5(e)}normalizeAnimationStyleValue(e,t,i){let r="",o=i.toString().trim(),s=null;if(JU(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(s=`Please provide a CSS unit value for ${t}:${i}`)}return{error:s,value:o+r}}};function JU(n){switch(n){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var Be=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:i=$o.PARSABLE_DATA,closedByParent:r=!1,isVoid:o=!1,ignoreFirstLf:s=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=o,this.closedByParent=r||o,this.implicitNamespacePrefix=t||null,this.contentType=i,this.ignoreFirstLf=s,this.preventNamespaceInheritance=a,this.canSelfClose=l??o}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},rM,Lu;function xw(n){return Lu||(rM=new Be({canSelfClose:!0}),Lu=Object.assign(Object.create(null),{base:new Be({isVoid:!0}),meta:new Be({isVoid:!0}),area:new Be({isVoid:!0}),embed:new Be({isVoid:!0}),link:new Be({isVoid:!0}),img:new Be({isVoid:!0}),input:new Be({isVoid:!0}),param:new Be({isVoid:!0}),hr:new Be({isVoid:!0}),br:new Be({isVoid:!0}),source:new Be({isVoid:!0}),track:new Be({isVoid:!0}),wbr:new Be({isVoid:!0}),p:new Be({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Be({closedByChildren:["tbody","tfoot"]}),tbody:new Be({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Be({closedByChildren:["tbody"],closedByParent:!0}),tr:new Be({closedByChildren:["tr"],closedByParent:!0}),td:new Be({closedByChildren:["td","th"],closedByParent:!0}),th:new Be({closedByChildren:["td","th"],closedByParent:!0}),col:new Be({isVoid:!0}),svg:new Be({implicitNamespacePrefix:"svg"}),foreignObject:new Be({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new Be({implicitNamespacePrefix:"math"}),li:new Be({closedByChildren:["li"],closedByParent:!0}),dt:new Be({closedByChildren:["dt","dd"]}),dd:new Be({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Be({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Be({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Be({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Be({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Be({closedByChildren:["optgroup"],closedByParent:!0}),option:new Be({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Be({ignoreFirstLf:!0}),listing:new Be({ignoreFirstLf:!0}),style:new Be({contentType:$o.RAW_TEXT}),script:new Be({contentType:$o.RAW_TEXT}),title:new Be({contentType:{default:$o.ESCAPABLE_RAW_TEXT,svg:$o.PARSABLE_DATA}}),textarea:new Be({contentType:$o.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new hd().allKnownElementNames().forEach(e=>{!Lu[e]&&FC(e)===null&&(Lu[e]=new Be({canSelfClose:!1}))})),Lu[n]??Lu[n.toLowerCase()]??rM}var oM={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Cw=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,t,i){let r=this._hashTag(e,t,i);if(this._signatureToName[r])return this._signatureToName[r];let o=e.toUpperCase(),s=oM[o]||`TAG_${o}`,a=this._generateUniqueName(i?s:`START_${s}`);return this._signatureToName[r]=a,a}getCloseTagPlaceholderName(e){let t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];let i=e.toUpperCase(),r=oM[i]||`TAG_${i}`,o=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=o,o}getPlaceholderName(e,t){let i=e.toUpperCase(),r=`PH: ${i}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];let o=this._generateUniqueName(i);return this._signatureToName[r]=o,o}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,t){let i=this._hashBlock(e,t);if(this._signatureToName[i])return this._signatureToName[i];let r=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[i]=r,r}getCloseBlockPlaceholderName(e){let t=this._hashClosingBlock(e);if(this._signatureToName[t])return this._signatureToName[t];let i=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[t]=i,i}_hashTag(e,t,i){let r=`<${e}`,o=Object.keys(t).sort().map(a=>` ${a}=${t[a]}`).join(""),s=i?"/>":`></${e}>`;return r+o+s}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,t){let i=t.length===0?"":` (${t.sort().join("; ")})`;return`@${e}${i} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let i=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=i+1,`${e}_${i}`}},KU=new e_(new Nh);function e$(n,e,t,i){let r=new ww(KU,n,e,t,i);return(o,s,a,l,c)=>r.toI18nMessage(o,s,a,l,c)}function t$(n,e){return e}var ww=class{_expressionParser;_interpolationConfig;_containerBlocks;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,t,i,r,o){this._expressionParser=e,this._interpolationConfig=t,this._containerBlocks=i,this._retainEmptyTokens=r,this._preserveExpressionWhitespace=o}toI18nMessage(e,t="",i="",r="",o){let s={isIcu:e.length==1&&e[0]instanceof Ll,icuDepth:0,placeholderRegistry:new Cw,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:o||t$},a=Mt(this,e,s);return new yi(a,s.placeholderToContent,s.placeholderToMessage,t,i,r)}visitElement(e,t){return this._visitElementLike(e,t)}visitComponent(e,t){return this._visitElementLike(e,t)}visitDirective(e,t){throw new Error("Unreachable code")}visitAttribute(e,t){let i=e.valueTokens===void 0||e.valueTokens.length===1?new Tf(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitText(e,t){let i=e.tokens.length===1?new Tf(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;let i={},r=new kv(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(a=>{i[a.value]=new Bs(a.expression.map(l=>l.visit(this,t)),a.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){let a=t.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=a,t.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,r)}let o=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[o]=this.toI18nMessage([e],"","","",void 0);let s=new sd(r,o,e.sourceSpan);return t.visitNodeFn(e,s)}visitExpansionCase(e,t){throw new Error("Unreachable code")}visitBlock(e,t){let i=Mt(this,e.children,t);if(this._containerBlocks.has(e.name))return new Bs(i,e.sourceSpan);let r=e.parameters.map(l=>l.expression),o=t.placeholderRegistry.getStartBlockPlaceholderName(e.name,r),s=t.placeholderRegistry.getCloseBlockPlaceholderName(e.name);t.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},t.placeholderToContent[s]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new Ma(e.name,r,o,s,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,a)}visitBlockParameter(e,t){throw new Error("Unreachable code")}visitLetDeclaration(e,t){return null}_visitElementLike(e,t){let i=Mt(this,e.children,t),r={},o=m=>{r[m.name]=m.value},s,a;e instanceof Dr?(s=e.name,a=xw(e.name).isVoid):(s=e.fullName,a=e.tagName?xw(e.tagName).isVoid:!1),e.attrs.forEach(o),e.directives.forEach(m=>m.attrs.forEach(o));let l=t.placeholderRegistry.getStartTagPlaceholderName(s,r,a);t.placeholderToContent[l]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let c="";a||(c=t.placeholderRegistry.getCloseTagPlaceholderName(s),t.placeholderToContent[c]={text:`</${s}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let u=new ka(s,r,l,c,i,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,u)}_visitTextWithInterpolation(e,t,i,r){let o=[],s=!1;for(let a of e)switch(a.type){case 8:case 17:s=!0;let[l,c,u]=a.parts,m=s$(c)||"INTERPOLATION",y=i.placeholderRegistry.getPlaceholderName(m,c);if(this._preserveExpressionWhitespace)i.placeholderToContent[y]={text:a.parts.join(""),sourceSpan:a.sourceSpan},o.push(new hh(c,y,a.sourceSpan));else{let v=this.normalizeExpression(a);i.placeholderToContent[y]={text:`${l}${v}${u}`,sourceSpan:a.sourceSpan},o.push(new hh(v,y,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let v=o[o.length-1];v instanceof Tf?(v.value+=a.parts[0],v.sourceSpan=new Te(v.sourceSpan.start,a.sourceSpan.end,v.sourceSpan.fullStart,v.sourceSpan.details)):o.push(new Tf(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&o.push(new Tf(a.parts[0],a.sourceSpan));break}return s?(n$(o,r),new Bs(o,t)):o[0]}normalizeExpression(e){let t=e.parts[1],i=this._expressionParser.parseBinding(t,e.sourceSpan,e.sourceSpan.start.offset,this._interpolationConfig);return qU(i)}};function n$(n,e){if(e instanceof yi&&(i$(e),e=e.nodes[0]),e instanceof Bs){r$(e.children,n);for(let t=0;t<n.length;t++)n[t].sourceSpan=e.children[t].sourceSpan}}function i$(n){let e=n.nodes;if(e.length!==1||!(e[0]instanceof Bs))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function r$(n,e){if(n.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${n.length} tokens):
${n.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(n.some((t,i)=>e[i].constructor!==t.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var o$=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function s$(n){return n.split(o$)[2]}var sM=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function aM(n,e){return n=n.toLowerCase(),e=e.toLowerCase(),sM.has(n+"|"+e)||sM.has("*|"+e)}var a$=n=>(e,t)=>{let i=n.get(e)??e;return i instanceof Us&&(t instanceof sd&&i.i18n instanceof yi&&(t.previousMessage=i.i18n),i.i18n=t),t},t_=class{interpolationConfig;keepI18nAttrs;enableI18nLegacyMessageIdFormat;containerBlocks;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=Ho,t=!1,i=!1,r=Ij,o=!0,s=!o){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=i,this.containerBlocks=r,this.preserveSignificantWhitespace=o,this.retainEmptyTokens=s}_generateI18nMessage(e,t="",i){let{meaning:r,description:o,customId:s}=this._parseMetadata(t),l=e$(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,r,o,s,i);return this._setMessageId(l,t),this._setLegacyIds(l,t),l}visitAllWithErrors(e){let t=e.map(i=>i.visit(this,null));return new Jv(t,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,t){return this._visitElementLike(e),e}visitExpansion(e,t){let i,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof sd){let o=r.name;i=this._generateI18nMessage([e],r);let s=oN(i);s.name=o,t!==null&&(t.placeholderToMessage[o]=i)}else i=this._generateI18nMessage([e],t||r);return e.i18n=i,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,t){return Mt(this,e.children,t),e}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visitDirective(e,t){return e}_visitElementLike(e){let t;if(Cj(e)){this.hasI18nMeta=!0;let i=[],r={};for(let o of e.attrs)if(o.name===iN){let s=e.i18n||o.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:jo(new Kv(!1,a),e.children);t=this._generateI18nMessage(l,s,a$(a)),t.nodes.length===0&&(t=void 0),e.i18n=t}else if(o.name.startsWith(HC)){let s=o.name.slice(HC.length),a;e instanceof Ni?a=e.tagName===null?!1:aM(e.tagName,s):a=aM(e.name,s),a?this._reportError(o,`Translating attribute '${s}' is disallowed for security reasons.`):r[s]=o.value}else i.push(o);if(Object.keys(r).length)for(let o of i){let s=r[o.name];s!==void 0&&o.value&&(o.i18n=this._generateI18nMessage([o],o.i18n||s))}this.keepI18nAttrs||(e.attrs=i)}Mt(this,e.children,t)}_parseMetadata(e){return typeof e=="string"?u$(e):e instanceof yi?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof yi&&t.id||w5(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[C5(e),QM(e)];else if(typeof t!="string"){let i=t instanceof yi?t:t instanceof sd?t.previousMessage:void 0;e.legacyIds=i?i.legacyIds:[]}}_reportError(e,t){this._errors.push(new Ce(e.sourceSpan,t))}},l$="|",c$="@@";function u$(n=""){let e,t,i;if(n=n.trim(),n){let r=n.indexOf(c$),o=n.indexOf(l$),s;[s,e]=r>-1?[n.slice(0,r),n.slice(r+2)]:[n,""],[t,i]=o>-1?[s.slice(0,o),s.slice(o+1)]:["",s]}return{customId:e,meaning:t,description:i}}function d$(n){let e=[];return n.description?e.push({tagName:"desc",text:n.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),n.meaning&&e.push({tagName:"meaning",text:n.meaning}),B5(e)}var p$="goog.getMsg";function f$(n,e,t,i){let r=m$(e),o=[U(r)];Object.keys(i).length&&(o.push(sw(Jw(i,!0),!0)),o.push(sw({original_code:bi(Object.keys(i).map(l=>({key:jh(l),quoted:!0,value:e.placeholders[l]?U(e.placeholders[l].sourceSpan.toString()):U(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let s=new gn(t.name,je(p$).callFn(o),cr,Un.Final);s.addLeadingComment(d$(e));let a=new Pr(n.set(t));return[s,a]}var Ew=class{formatPh(e){return`{$${jh(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){return qN(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}},h$=new Ew;function m$(n){return n.nodes.map(e=>e.visit(h$,null)).join("")}function g$(n,e,t){let{messageParts:i,placeHolders:r}=v$(e),o=_$(e),s=r.map(c=>t[c.text]),a=q5(e,i,r,s,o),l=n.set(a);return[new Pr(l)]}var Sw=class{placeholderToMessage;pieces;constructor(e,t){this.placeholderToMessage=e,this.pieces=t}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Pl)this.pieces[this.pieces.length-1].text+=e.value;else{let t=new Te(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Pl(e.value,t))}}visitContainer(e){e.children.forEach(t=>t.visit(this))}visitIcu(e){this.pieces.push(new Pl(qN(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,t,i){return new zu(jh(e,!1),t,i)}};function v$(n){let e=[],t=new Sw(n.placeholderToMessage,e);return n.nodes.forEach(i=>i.visit(t)),y$(e)}function _$(n){let e=n.nodes[0],t=n.nodes[n.nodes.length-1];return new Te(e.sourceSpan.fullStart,t.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function y$(n){let e=[],t=[];n[0]instanceof zu&&e.push(cC(n[0].sourceSpan.start));for(let i=0;i<n.length;i++){let r=n[i];r instanceof Pl?e.push(r):(t.push(r),n[i-1]instanceof zu&&e.push(cC(n[i-1].sourceSpan.end)))}return n[n.length-1]instanceof zu&&e.push(cC(n[n.length-1].sourceSpan.end)),{messageParts:e,placeHolders:t}}function cC(n){return new Pl("",new Te(n,n))}var lM="ngI18nClosureMode",b$="i18n_",x$="I18N_EXP_",cM="\uFFFD",C$="MSG_";function uM(n){return`${C$}${n}`.toUpperCase()}function w$(n){return new gn(n.name,void 0,cr,void 0,n.sourceSpan)}function E$(n){let e=n.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",t=new Map,i=new Map,r=new Map,o=new Map;for(let l of n.units)for(let c of l.ops())if(c.kind===C.ExtractedAttribute&&c.i18nContext!==null){let u=t.get(c.i18nContext)??[];u.push(c),t.set(c.i18nContext,u)}else if(c.kind===C.I18nAttributes)i.set(c.target,c);else if(c.kind===C.I18nExpression&&c.usage===vd.I18nAttribute){let u=r.get(c.target)??[];u.push(c),r.set(c.target,u)}else c.kind===C.I18nMessage&&o.set(c.xref,c);let s=new Map,a=new Map;for(let l of n.units)for(let c of l.create)if(c.kind===C.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:u,statements:m}=YN(n,e,o,c);if(c.i18nBlock!==null){let y=n.addConst(u,m);a.set(c.i18nBlock,y)}else{n.constsInitializers.push(...m),s.set(c.i18nContext,u);let y=t.get(c.i18nContext);if(y!==void 0)for(let v of y)v.expression=u.clone()}}W.remove(c)}for(let l of n.units)for(let c of l.create)if(qs(c)){let u=i.get(c.xref);if(u===void 0)continue;let m=r.get(c.xref);if(m===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let y=new Set;m=m.filter(w=>{let D=y.has(w.name);return y.add(w.name),!D});let v=m.flatMap(w=>{let D=s.get(w.context);if(D===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[U(w.name),D]});u.i18nAttributesConfig=n.addConst(new po(v))}for(let l of n.units)for(let c of l.create)if(c.kind===C.I18nStart){let u=a.get(c.root);if(u===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=u}}function YN(n,e,t,i){let r=[],o=new Map;for(let c of i.subMessages){let u=t.get(c),{mainVar:m,statements:y}=YN(n,e,t,u);r.push(...y);let v=o.get(u.messagePlaceholder)??[];v.push(m),o.set(u.messagePlaceholder,v)}S$(i,o),i.params=new Map([...i.params.entries()].sort());let s=je(n.pool.uniqueName(b$)),a=T$(n.pool,i.message.id,e,n.i18nUseExternalIds),l;if(i.needsPostprocessing||i.postprocessingParams.size>0){let c=Object.fromEntries([...i.postprocessingParams.entries()].sort()),u=Jw(c,!1),m=[];i.postprocessingParams.size>0&&m.push(sw(u,!0)),l=y=>oe(P.i18nPostprocess).callFn([y,...m])}return r.push(...D$(i.message,s,a,i.params,l)),{mainVar:s,statements:r}}function S$(n,e){for(let[t,i]of e)i.length===1?n.params.set(t,i[0]):(n.params.set(t,U(`${cM}${x$}${t}${cM}`)),n.postprocessingParams.set(t,at(i)))}function D$(n,e,t,i,r){let o=Object.fromEntries(i),s=[w$(e),h_(A$(),f$(e,n,t,o),g$(e,n,Jw(o,!1)))];return r&&s.push(new Pr(e.set(r(e)))),s}function A$(){return Bh(je(lM)).notIdentical(U("undefined",Yw)).and(je(lM))}function T$(n,e,t,i){let r,o=t;if(i){let s=uM("EXTERNAL_"),a=n.uniqueName(o);r=`${s}${Al(e)}$$${a}`}else{let s=uM(o);r=n.uniqueName(s)}return je(r)}function I$(n){for(let e of n.units){let t=null,i=null,r=new Map,o=new Map,s=new Map;for(let a of e.create)switch(a.kind){case C.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");t=a;break;case C.I18nEnd:t=null;break;case C.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");i=a;break;case C.IcuEnd:i=null;break;case C.Text:if(t!==null)if(r.set(a.xref,t),o.set(a.xref,i),a.icuPlaceholder!==null){let l=nq(n.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);W.replace(a,l),s.set(a.xref,l)}else W.remove(a);break}for(let a of e.update)switch(a.kind){case C.InterpolateText:if(!r.has(a.target))continue;let l=r.get(a.target),c=o.get(a.target),u=s.get(a.target),m=c?c.context:l.context,y=c?xh.Postproccessing:xh.Creation,v=[];for(let w=0;w<a.interpolation.expressions.length;w++){let D=a.interpolation.expressions[w];v.push(TN(m,l.xref,l.xref,l.handle,D,u?.xref??null,a.interpolation.i18nPlaceholders[w]??null,y,vd.I18nText,"",D.sourceSpan??a.sourceSpan))}W.replaceWithMany(a,v),u!==void 0&&(u.strings=a.interpolation.strings);break}}}function k$(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case C.ElementStart:case C.ConditionalCreate:case C.ConditionalBranchCreate:case C.Template:if(!Array.isArray(t.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(t.numSlotsUsed+=t.localRefs.length,t.localRefs.length>0){let i=M$(t.localRefs);t.localRefs=n.addConst(i)}else t.localRefs=null;break}}function M$(n){let e=[];for(let t of n)e.push(U(t.name),U(t.target));return at(e)}function N$(n){for(let e of n.units){let t=ii.HTML;for(let i of e.create)i.kind===C.ElementStart&&i.namespace!==t&&(W.insertBefore(Q6(i.namespace),i),t=i.namespace)}}function R$(n){let e=[],t=0,i=0,r=0,o=0,s=0,a=null;for(;t<n.length;)switch(n.charCodeAt(t++)){case 40:i++;break;case 41:i--;break;case 39:r===0?r=39:r===39&&n.charCodeAt(t-1)!==92&&(r=0);break;case 34:r===0?r=34:r===34&&n.charCodeAt(t-1)!==92&&(r=0);break;case 58:!a&&i===0&&r===0&&(a=ZN(n.substring(s,t-1).trim()),o=t);break;case 59:if(a&&o>0&&i===0&&r===0){let c=n.substring(o,t-1).trim();e.push(a,c),s=t,o=0,a=null}break}if(a&&o){let l=n.slice(o).trim();e.push(a,l)}return e}function ZN(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function P$(n){let e=new Map;for(let t of n.units)for(let i of t.create)qs(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)if(i.kind===C.ExtractedAttribute&&i.bindingKind===ie.Attribute&&IN(i.expression)){let r=e.get(i.target);if(r!==void 0&&(r.kind===C.Template||r.kind===C.ConditionalCreate||r.kind===C.ConditionalBranchCreate)&&r.templateKind===Oi.Structural)continue;if(i.name==="style"){let o=R$(i.expression.value);for(let s=0;s<o.length-1;s+=2)W.insertBefore(Ir(i.target,ie.StyleProperty,null,o[s],U(o[s+1]),null,null,Et.STYLE),i);W.remove(i)}else if(i.name==="class"){let o=i.expression.value.trim().split(/\s+/g);for(let s of o)W.insertBefore(Ir(i.target,ie.ClassName,null,s,null,null,null,Et.NONE),i);W.remove(i)}}}function O$(n){Ff(n.root,n.componentName,{index:0},n.compatibility===hr.TemplateDefinitionBuilder)}function Ff(n,e,t,i){n.fnName===null&&(n.fnName=n.job.pool.uniqueName(Al(`${e}_${n.job.fnSuffix}`),!1));let r=new Map;for(let o of n.ops())switch(o.kind){case C.Property:case C.DomProperty:o.bindingKind===ie.LegacyAnimation&&(o.name="@"+o.name);break;case C.Animation:if(o.handlerFnName===null){let u=o.name.replace(".","");o.handlerFnName=`${n.fnName}_${u}_cb`,o.handlerFnName=Al(o.handlerFnName)}break;case C.AnimationListener:if(o.handlerFnName!==null)break;if(!o.hostListener&&o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let s=o.name.replace(".","");o.hostListener?o.handlerFnName=`${e}_${s}_HostBindingHandler`:o.handlerFnName=`${n.fnName}_${o.tag.replace("-","_")}_${s}_${o.targetSlot.slot}_listener`,o.handlerFnName=Al(o.handlerFnName);break;case C.Listener:if(o.handlerFnName!==null)break;if(!o.hostListener&&o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let a="";o.isLegacyAnimationListener&&(o.name=`@${o.name}.${o.legacyAnimationPhase}`,a="animation"),o.hostListener?o.handlerFnName=`${e}_${a}${o.name}_HostBindingHandler`:o.handlerFnName=`${n.fnName}_${o.tag.replace("-","_")}_${a}${o.name}_${o.targetSlot.slot}_listener`,o.handlerFnName=Al(o.handlerFnName);break;case C.TwoWayListener:if(o.handlerFnName!==null)break;if(o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");o.handlerFnName=Al(`${n.fnName}_${o.tag.replace("-","_")}_${o.name}_${o.targetSlot.slot}_listener`);break;case C.Variable:r.set(o.xref,F$(n,o.variable,t));break;case C.RepeaterCreate:if(!(n instanceof kr))throw new Error("AssertionError: must be compiling a component");if(o.handle.slot===null)throw new Error("Expected slot to be assigned");if(o.emptyView!==null){let u=n.job.views.get(o.emptyView);Ff(u,`${e}_${o.functionNameSuffix}Empty_${o.handle.slot+2}`,t,i)}Ff(n.job.views.get(o.xref),`${e}_${o.functionNameSuffix}_${o.handle.slot+1}`,t,i);break;case C.Projection:if(!(n instanceof kr))throw new Error("AssertionError: must be compiling a component");if(o.handle.slot===null)throw new Error("Expected slot to be assigned");if(o.fallbackView!==null){let u=n.job.views.get(o.fallbackView);Ff(u,`${e}_ProjectionFallback_${o.handle.slot}`,t,i)}break;case C.ConditionalCreate:case C.ConditionalBranchCreate:case C.Template:if(!(n instanceof kr))throw new Error("AssertionError: must be compiling a component");let l=n.job.views.get(o.xref);if(o.handle.slot===null)throw new Error("Expected slot to be assigned");let c=o.functionNameSuffix.length===0?"":`_${o.functionNameSuffix}`;Ff(l,`${e}${c}_${o.handle.slot}`,t,i);break;case C.StyleProp:o.name=L$(o.name),i&&(o.name=dM(o.name));break;case C.ClassProp:i&&(o.name=dM(o.name));break}for(let o of n.ops())An(o,s=>{if(!(!(s instanceof Vs)||s.name!==null)){if(!r.has(s.xref))throw new Error(`Variable ${s.xref} not yet named`);s.name=r.get(s.xref)}})}function F$(n,e,t){if(e.name===null)switch(e.kind){case Sn.Context:e.name=`ctx_r${t.index++}`;break;case Sn.Identifier:if(n.job.compatibility===hr.TemplateDefinitionBuilder){let i=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${i}r${++t.index}`}else e.name=`${e.identifier}_i${t.index++}`;break;default:e.name=`_r${++t.index}`;break}return e.name}function L$(n){return n.startsWith("--")?n:ZN(n)}function dM(n){let e=n.indexOf("!important");return e>-1?n.substring(0,e):n}function B$(n){for(let e of n.units){for(let t of e.create)(t.kind===C.Listener||t.kind===C.Animation||t.kind===C.AnimationListener||t.kind===C.TwoWayListener)&&pM(t.handlerOps);pM(e.update)}}function pM(n){for(let e of n){if(e.kind!==C.Statement||!(e.statement instanceof Pr)||!(e.statement.expr instanceof Vv))continue;let t=e.statement.expr.steps,i=!0;for(let r=e.next;r.kind!==C.ListEnd&&i;r=r.next)An(r,(o,s)=>{if(!Jo(o))return o;if(i&&!(s&rt.InChildOperation))switch(o.kind){case le.NextContext:o.steps+=t,W.remove(e),i=!1;break;case le.GetCurrentView:case le.Reference:case le.ContextLetReference:i=!1;break}})}}var V$="ng-container";function j$(n){for(let e of n.units){let t=new Set;for(let i of e.create)i.kind===C.ElementStart&&i.tag===V$&&(i.kind=C.ContainerStart,t.add(i.xref)),i.kind===C.ElementEnd&&t.has(i.xref)&&(i.kind=C.ContainerEnd)}}function q$(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function U$(n){let e=new Map;for(let t of n.units)for(let i of t.create)qs(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)(i.kind===C.ElementStart||i.kind===C.ContainerStart)&&i.nonBindable&&W.insertAfter(H6(i.xref),i),(i.kind===C.ElementEnd||i.kind===C.ContainerEnd)&&q$(e,i.xref).nonBindable&&W.insertBefore(z6(i.xref),i)}function Os(n){return e=>e.kind===n}function qf(n,e){return t=>t.kind===n&&e===t.expression instanceof Xt}function $$(n){return n.kind===C.Listener&&!(n.hostListener&&n.isLegacyAnimationListener)||n.kind===C.TwoWayListener||n.kind===C.Animation||n.kind===C.AnimationListener}function H$(n){return(n.kind===C.Property||n.kind===C.TwoWayProperty)&&!(n.expression instanceof Xt)}var z$=[{test:n=>n.kind===C.Listener&&n.hostListener&&n.isLegacyAnimationListener},{test:$$}],W$=[{test:Os(C.StyleMap),transform:n_},{test:Os(C.ClassMap),transform:n_},{test:Os(C.StyleProp)},{test:Os(C.ClassProp)},{test:qf(C.Attribute,!0)},{test:qf(C.Property,!0)},{test:H$},{test:qf(C.Attribute,!1)}],G$=[{test:qf(C.DomProperty,!0)},{test:qf(C.DomProperty,!1)},{test:Os(C.Attribute)},{test:Os(C.StyleMap),transform:n_},{test:Os(C.ClassMap),transform:n_},{test:Os(C.StyleProp)},{test:Os(C.ClassProp)}],fM=new Set([C.Listener,C.TwoWayListener,C.AnimationListener,C.StyleMap,C.ClassMap,C.StyleProp,C.ClassProp,C.Property,C.TwoWayProperty,C.DomProperty,C.Attribute,C.Animation]);function Q$(n){for(let e of n.units){hM(e.create,z$);let t=e.job.kind===K.Host?G$:W$;hM(e.update,t)}}function hM(n,e){let t=[],i=null;for(let r of n){let o=Ch(r)?r.target:null;(!fM.has(r.kind)||o!==i&&i!==null&&o!==null)&&(W.insertBefore(mM(t,e),r),t=[],i=null),fM.has(r.kind)&&(t.push(r),W.remove(r),i=o??i)}n.push(mM(t,e))}function mM(n,e){let t=Array.from(e,()=>new Array);for(let i of n){let r=e.findIndex(o=>o.test(i));t[r].push(i)}return t.flatMap((i,r)=>{let o=e[r].transform;return o?o(i):i})}function n_(n){return n.slice(n.length-1)}function Y$(n){for(let e of n.units){let t=lE(e);for(let i of e.ops())switch(i.kind){case C.Binding:let r=X$(t,i.target);Z$(i.name)&&r.kind===C.Projection&&W.remove(i);break}}}function Z$(n){return n.toLowerCase()==="select"}function X$(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an slottable target.");return t}function J$(n){for(let e of n.units)K$(e)}function K$(n){for(let e of n.update)An(e,(t,i)=>{if(Jo(t)&&t.kind===le.PipeBinding){if(i&rt.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(n.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");e7(n,e.target,t)}else n.create.push(FN(t.target,t.targetSlot,t.name))}})}function e7(n,e,t){for(let i=n.create.head.next;i.kind!==C.ListEnd;i=i.next){if(!yd(i)||i.xref!==e)continue;for(;i.next.kind===C.Pipe;)i=i.next;let r=FN(t.target,t.targetSlot,t.name);W.insertBefore(r,i.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${t.name}`)}function t7(n){for(let e of n.units)for(let t of e.update)an(t,i=>!(i instanceof Jl)||i.args.length<=4?i:new Sh(i.target,i.targetSlot,i.name,at(i.args),i.args.length),rt.None)}function n7(n){XN(n.root,0)}function XN(n,e){let t=null;for(let i of n.create)switch(i.kind){case C.I18nStart:i.subTemplateIndex=e===0?null:e,t=i;break;case C.I18nEnd:t.subTemplateIndex===null&&(e=0),t=null;break;case C.ConditionalCreate:case C.ConditionalBranchCreate:case C.Template:e=B0(n.job.views.get(i.xref),t,i.i18nPlaceholder,e);break;case C.RepeaterCreate:let r=n.job.views.get(i.xref);e=B0(r,t,i.i18nPlaceholder,e),i.emptyView!==null&&(e=B0(n.job.views.get(i.emptyView),t,i.emptyI18nPlaceholder,e));break;case C.Projection:i.fallbackView!==null&&(e=B0(n.job.views.get(i.fallbackView),t,i.fallbackViewI18nPlaceholder,e));break}return e}function B0(n,e,t,i){if(t!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");i++,i7(n,e)}return XN(n,i)}function i7(n,e){if(n.create.head.next?.kind!==C.I18nStart){let t=n.job.allocateXrefId();W.insertAfter(y_(t,e.message,e.root,null),n.create.head),W.insertBefore(b_(t,null),n.create.tail)}}function r7(n){for(let e of n.units)for(let t of e.ops())An(t,i=>{if(!(i instanceof Xl)||i.body===null)return;let r=new Dw(i.args.length);i.fn=n.pool.getSharedConstant(r,i.body),i.body=null})}var Dw=class extends Wu{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof cd?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,t){let i=[];for(let o=0;o<this.numArgs;o++)i.push(new Dn("a"+o));let r=te(t,o=>o instanceof cd?je("a"+o.index):o,rt.None);return new gn(e,new Ul(i,r),void 0,Un.Final)}};function o7(n){for(let e of n.units)for(let t of e.update)an(t,(i,r)=>r&rt.InChildOperation?i:i instanceof po?s7(i):i instanceof Qo?a7(i):i,rt.None)}function s7(n){let e=[],t=[];for(let i of n.entries)if(i.isConstant())e.push(i);else{let r=t.length;t.push(i),e.push(new cd(r))}return new Xl(at(e),t)}function a7(n){let e=[],t=[];for(let i of n.entries)if(i.value.isConstant())e.push(i);else{let r=t.length;t.push(i.value),e.push(new Ju(i.key,new cd(r),i.quoted))}return new Xl(bi(e),t)}function l7(n,e,t,i,r){return La(P.element,n,e,t,i,r)}function c7(n,e,t,i,r){return La(P.elementStart,n,e,t,i,r)}function La(n,e,t,i,r,o){let s=[U(e)];return t!==null&&s.push(U(t)),r!==null?s.push(U(i),U(r)):i!==null&&s.push(U(i)),Re(n,s,o)}function JN(n,e,t,i,r,o,s,a,l){let c=[U(e),t,U(i),U(r),U(o),U(s)];for(a!==null&&(c.push(U(a)),c.push(oe(P.templateRefExtractor)));c[c.length-1].isEquivalent(Ku);)c.pop();return Re(n,c,l)}function cE(n,e,t,i,r){let o=[U(e)];return t instanceof Xt?o.push(bd(t,r)):o.push(t),i!==null&&o.push(i),Re(n,o,r)}function u7(n){return Re(P.elementEnd,[],n)}function d7(n,e,t,i){return La(P.elementContainerStart,n,null,e,t,i)}function p7(n,e,t,i){return La(P.elementContainer,n,null,e,t,i)}function f7(){return Re(P.elementContainerEnd,[],null)}function h7(n,e,t,i,r,o,s,a){return JN(P.templateCreate,n,e,t,i,r,o,s,a)}function m7(){return Re(P.disableBindings,[],null)}function g7(){return Re(P.enableBindings,[],null)}function v7(n,e,t,i,r){let o=[U(n),e];return t!==null&&o.push(oe(t)),Re(i?P.syntheticHostListener:P.listener,o,r)}function gM(n,e){return oe(P.twoWayBindingSet).callFn([n,e])}function _7(n,e,t){return Re(P.twoWayListener,[U(n),e],t)}function y7(n,e){return Re(P.pipe,[U(n),U(e)],null)}function b7(){return Re(P.namespaceHTML,[],null)}function x7(){return Re(P.namespaceSVG,[],null)}function C7(){return Re(P.namespaceMathML,[],null)}function w7(n,e){return Re(P.advance,n>1?[U(n)]:[],e)}function E7(n){return oe(P.reference).callFn([U(n)])}function S7(n){return oe(P.nextContext).callFn(n===1?[]:[U(n)])}function D7(){return oe(P.getCurrentView).callFn([])}function A7(n){return oe(P.restoreView).callFn([n])}function T7(n){return oe(P.resetView).callFn([n])}function I7(n,e,t){let i=[U(n,null)];return e!==""&&i.push(U(e)),Re(P.text,i,t)}function k7(n,e,t,i,r,o,s,a,l,c,u){let m=[U(n),U(e),t??U(null),U(i),U(r),U(o),s??U(null),a??U(null),l?oe(P.deferEnableTimerScheduling):U(null),U(u)],y;for(;(y=m[m.length-1])!==null&&y instanceof zn&&y.value===null;)m.pop();return Re(P.defer,m,c)}var M7=new Map([[ht.Idle,{none:P.deferOnIdle,prefetch:P.deferPrefetchOnIdle,hydrate:P.deferHydrateOnIdle}],[ht.Immediate,{none:P.deferOnImmediate,prefetch:P.deferPrefetchOnImmediate,hydrate:P.deferHydrateOnImmediate}],[ht.Timer,{none:P.deferOnTimer,prefetch:P.deferPrefetchOnTimer,hydrate:P.deferHydrateOnTimer}],[ht.Hover,{none:P.deferOnHover,prefetch:P.deferPrefetchOnHover,hydrate:P.deferHydrateOnHover}],[ht.Interaction,{none:P.deferOnInteraction,prefetch:P.deferPrefetchOnInteraction,hydrate:P.deferHydrateOnInteraction}],[ht.Viewport,{none:P.deferOnViewport,prefetch:P.deferPrefetchOnViewport,hydrate:P.deferHydrateOnViewport}],[ht.Never,{none:P.deferHydrateNever,prefetch:P.deferHydrateNever,hydrate:P.deferHydrateNever}]]);function N7(n,e,t,i){let r=M7.get(n)?.[t];if(r===void 0)throw new Error(`Unable to determine instruction for trigger ${n}`);return Re(r,e.map(o=>U(o)),i)}function R7(n){return Re(P.projectionDef,n?[n]:[],null)}function P7(n,e,t,i,r,o,s){let a=[U(n)];return(e!==0||t!==null||i!==null)&&(a.push(U(e)),t!==null&&a.push(t),i!==null&&(t===null&&a.push(U(null)),a.push(je(i),U(r),U(o)))),Re(P.projection,a,s)}function O7(n,e,t,i){let r=[U(n),U(e)];return t!==null&&r.push(U(t)),Re(P.i18nStart,r,i)}function F7(n,e,t,i,r,o,s,a){let l=[U(n),e,U(t),U(i),U(r),U(o)];for(s!==null&&(l.push(U(s)),l.push(oe(P.templateRefExtractor)));l[l.length-1].isEquivalent(Ku);)l.pop();return Re(P.conditionalCreate,l,a)}function L7(n,e,t,i,r,o,s,a){let l=[U(n),e,U(t),U(i),U(r),U(o)];for(s!==null&&(l.push(U(s)),l.push(oe(P.templateRefExtractor)));l[l.length-1].isEquivalent(Ku);)l.pop();return Re(P.conditionalBranchCreate,l,a)}function B7(n,e,t,i,r,o,s,a,l,c,u,m,y,v){let w=[U(n),je(e),U(t),U(i),U(r),U(o),s];return(a||l!==null)&&(w.push(U(a)),l!==null&&(w.push(je(l),U(c),U(u)),(m!==null||y!==null)&&w.push(U(m)),y!==null&&w.push(U(y)))),Re(P.repeaterCreate,w,v)}function V7(n,e){return Re(P.repeater,[n],e)}function j7(n,e,t){return n==="prefetch"?Re(P.deferPrefetchWhen,[e],t):n==="hydrate"?Re(P.deferHydrateWhen,[e],t):Re(P.deferWhen,[e],t)}function q7(n,e){return Re(P.declareLet,[U(n)],e)}function U7(n,e){return oe(P.storeLet).callFn([n],e)}function $7(n){return oe(P.readContextLet).callFn([U(n)])}function H7(n,e,t,i){let r=[U(n),U(e)];return t&&r.push(U(t)),Re(P.i18n,r,i)}function z7(n){return Re(P.i18nEnd,[],n)}function W7(n,e){let t=[U(n),U(e)];return Re(P.i18nAttributes,t,null)}function G7(n,e,t){return cE(P.ariaProperty,n,e,null,t)}function Q7(n,e,t,i){return cE(P.property,n,e,t,i)}function Y7(n,e,t,i){let r=[U(n),e];return t!==null&&r.push(t),Re(P.twoWayProperty,r,i)}function KN(n,e,t,i,r){let o=[U(n)];return e instanceof Xt?o.push(bd(e,r)):o.push(e),(t!==null||i!==null)&&o.push(t??U(null)),i!==null&&o.push(U(i)),Re(P.attribute,o,null)}function Z7(n,e,t,i){let r=[U(n)];return e instanceof Xt?r.push(bd(e,i)):r.push(e),t!==null&&r.push(U(t)),Re(P.styleProp,r,i)}function X7(n,e,t){return Re(P.classProp,[U(n),e],t)}function J7(n,e){let t=n instanceof Xt?bd(n,e):n;return Re(P.styleMap,[t],e)}function K7(n,e){let t=n instanceof Xt?bd(n,e):n;return Re(P.classMap,[t],e)}function eH(n,e,t,i,r){return La(P.domElement,n,e,t,i,r)}function tH(n,e,t,i,r){return La(P.domElementStart,n,e,t,i,r)}function nH(n){return Re(P.domElementEnd,[],n)}function iH(n,e,t,i){return La(P.domElementContainerStart,n,null,e,t,i)}function rH(n,e,t,i){return La(P.domElementContainer,n,null,e,t,i)}function oH(){return Re(P.domElementContainerEnd,[],null)}function sH(n,e,t,i){let r=[U(n),e];return t!==null&&r.push(oe(t)),Re(P.domListener,r,i)}function aH(n,e,t,i,r,o,s,a){return JN(P.domTemplate,n,e,t,i,r,o,s,a)}var vM=[P.pipeBind1,P.pipeBind2,P.pipeBind3,P.pipeBind4];function lH(n,e,t){if(t.length<1||t.length>vM.length)throw new Error("pipeBind() argument count out of bounds");let i=vM[t.length-1];return oe(i).callFn([U(n),U(e),...t])}function cH(n,e,t){return oe(P.pipeBindV).callFn([U(n),U(e),t])}function uH(n,e,t){let i=eR(n,e);return EH(xH,[],i,[],t)}function dH(n,e){return Re(P.i18nExp,[n],e)}function pH(n,e){return Re(P.i18nApply,[U(n)],e)}function fH(n,e,t,i){return cE(P.domProperty,n,e,t,i)}function hH(n,e,t,i){let r=[e];t!==null&&r.push(t);let o=n==="enter"?P.animationEnter:P.animationLeave;return Re(o,r,i)}function mH(n,e,t,i){let o=[e instanceof Xt?bd(e,i):e];t!==null&&o.push(t);let s=n==="enter"?P.animationEnter:P.animationLeave;return Re(s,o,i)}function gH(n,e,t,i){let r=[e],o=n==="enter"?P.animationEnterListener:P.animationLeaveListener;return Re(o,r,i)}function vH(n,e,t){return Re(P.syntheticHostProperty,[U(n),e],t)}function _H(n,e,t){return uE(wH,[U(n),e],t,[],null)}function yH(n,e){return Re(P.attachSourceLocations,[U(n),e],null)}function eR(n,e){if(n.length<1||e.length!==n.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let t=[];if(e.length===1&&n[0]===""&&n[1]==="")t.push(e[0]);else{let i;for(i=0;i<e.length;i++)t.push(U(n[i]),e[i]);t.push(U(n[i]))}return t}function bd(n,e){let t=eR(n.strings,n.expressions);return uE(CH,[],t,[],e)}function Re(n,e,t){let i=oe(n).callFn(e,t);return Fr(new Pr(i,t))}function bH(n,e,t){let i=[n];return e!==null&&i.push(e),Re(P.conditional,i,t)}var xH={constant:[P.textInterpolate,P.textInterpolate1,P.textInterpolate2,P.textInterpolate3,P.textInterpolate4,P.textInterpolate5,P.textInterpolate6,P.textInterpolate7,P.textInterpolate8],variable:P.textInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},CH={constant:[P.interpolate,P.interpolate1,P.interpolate2,P.interpolate3,P.interpolate4,P.interpolate5,P.interpolate6,P.interpolate7,P.interpolate8],variable:P.interpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},wH={constant:[P.pureFunction0,P.pureFunction1,P.pureFunction2,P.pureFunction3,P.pureFunction4,P.pureFunction5,P.pureFunction6,P.pureFunction7,P.pureFunction8],variable:P.pureFunctionV,mapping:n=>n};function uE(n,e,t,i,r){let o=n.mapping(t.length),s=t.at(-1);if(i.length===0&&t.length>1&&s instanceof zn&&s.value===""&&t.pop(),o<n.constant.length)return oe(n.constant[o]).callFn([...e,...t,...i],r);if(n.variable!==null)return oe(n.variable).callFn([...e,at(t),...i],r);throw new Error("AssertionError: unable to call variadic function")}function EH(n,e,t,i,r){return Fr(uE(n,e,t,i,r).toStmt())}var Uf="aria",SH=new Map([["window",P.resolveWindow],["document",P.resolveDocument],["body",P.resolveBody]]),DH=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function AH(n){for(let e of n.units)TH(e,e.create),dE(e,e.update)}function TH(n,e){for(let t of e)switch(an(t,nR,rt.None),t.kind){case C.Text:W.replace(t,I7(t.handle.slot,t.initialValue,t.sourceSpan));break;case C.ElementStart:W.replace(t,n.job.mode===rr.DomOnly?tH(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan):c7(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case C.Element:W.replace(t,n.job.mode===rr.DomOnly?eH(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan):l7(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan));break;case C.ElementEnd:W.replace(t,n.job.mode===rr.DomOnly?nH(t.sourceSpan):u7(t.sourceSpan));break;case C.ContainerStart:W.replace(t,n.job.mode===rr.DomOnly?iH(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan):d7(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan));break;case C.Container:W.replace(t,n.job.mode===rr.DomOnly?rH(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan):p7(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan));break;case C.ContainerEnd:W.replace(t,n.job.mode===rr.DomOnly?oH():f7());break;case C.I18nStart:W.replace(t,O7(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case C.I18nEnd:W.replace(t,z7(t.sourceSpan));break;case C.I18n:W.replace(t,H7(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case C.I18nAttributes:if(t.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");W.replace(t,W7(t.handle.slot,t.i18nAttributesConfig));break;case C.Template:if(!(n instanceof kr))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let i=n.job.views.get(t.xref);W.replace(t,t.templateKind===Oi.Block||n.job.mode===rr.DomOnly?aH(t.handle.slot,je(i.fnName),i.decls,i.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan):h7(t.handle.slot,je(i.fnName),i.decls,i.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case C.DisableBindings:W.replace(t,m7());break;case C.EnableBindings:W.replace(t,g7());break;case C.Pipe:W.replace(t,y7(t.handle.slot,t.name));break;case C.DeclareLet:W.replace(t,q7(t.handle.slot,t.sourceSpan));break;case C.AnimationString:W.replace(t,mH(t.animationKind,t.expression,t.sanitizer,t.sourceSpan));break;case C.Animation:let r=V0(n,t.handlerFnName,t.handlerOps,!1);W.replace(t,hH(t.animationKind,r,t.sanitizer,t.sourceSpan));break;case C.AnimationListener:let o=V0(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent);W.replace(t,gH(t.animationKind,o,null,t.sourceSpan));break;case C.Listener:let s=V0(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent),a=t.eventTarget?SH.get(t.eventTarget):null;if(a===void 0)throw new Error(`Unexpected global target '${t.eventTarget}' defined for '${t.name}' event. Supported list of global targets: window,document,body.`);W.replace(t,n.job.mode===rr.DomOnly&&!t.hostListener&&!t.isLegacyAnimationListener?sH(t.name,s,a,t.sourceSpan):v7(t.name,s,a,t.hostListener&&t.isLegacyAnimationListener,t.sourceSpan));break;case C.TwoWayListener:W.replace(t,_7(t.name,V0(n,t.handlerFnName,t.handlerOps,!0),t.sourceSpan));break;case C.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);W.replace(t,Fr(new gn(t.variable.name,t.initializer,void 0,Un.Final)));break;case C.Namespace:switch(t.active){case ii.HTML:W.replace(t,b7());break;case ii.SVG:W.replace(t,x7());break;case ii.Math:W.replace(t,C7());break}break;case C.Defer:let l=!!t.loadingMinimumTime||!!t.loadingAfterTime||!!t.placeholderMinimumTime;W.replace(t,k7(t.handle.slot,t.mainSlot.slot,t.resolverFn,t.loadingSlot?.slot??null,t.placeholderSlot?.slot??null,t.errorSlot?.slot??null,t.loadingConfig,t.placeholderConfig,l,t.sourceSpan,t.flags));break;case C.DeferOn:let c=[];switch(t.trigger.kind){case ht.Never:case ht.Idle:case ht.Immediate:break;case ht.Timer:c=[t.trigger.delay];break;case ht.Interaction:case ht.Hover:case ht.Viewport:t.modifier==="hydrate"?c=[]:(c=[t.trigger.targetSlot?.slot??null],t.trigger.targetSlotViewSteps!==0&&c.push(t.trigger.targetSlotViewSteps));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${t.trigger.kind}`)}W.replace(t,N7(t.trigger.kind,c,t.modifier,t.sourceSpan));break;case C.ProjectionDef:W.replace(t,R7(t.def));break;case C.Projection:if(t.handle.slot===null)throw new Error("No slot was assigned for project instruction");let u=null,m=null,y=null;if(t.fallbackView!==null){if(!(n instanceof kr))throw new Error("AssertionError: must be compiling a component");let N=n.job.views.get(t.fallbackView);if(N===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(N.fnName===null||N.decls===null||N.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");u=N.fnName,m=N.decls,y=N.vars}W.replace(t,P7(t.handle.slot,t.projectionSlotIndex,t.attributes,u,m,y,t.sourceSpan));break;case C.ConditionalCreate:if(!(n instanceof kr))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let v=n.job.views.get(t.xref);W.replace(t,F7(t.handle.slot,je(v.fnName),v.decls,v.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case C.ConditionalBranchCreate:if(!(n instanceof kr))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let w=n.job.views.get(t.xref);W.replace(t,L7(t.handle.slot,je(w.fnName),w.decls,w.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case C.RepeaterCreate:if(t.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(n instanceof kr))throw new Error("AssertionError: must be compiling a component");let D=n.job.views.get(t.xref);if(D.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let I=null,M=null,q=null;if(t.emptyView!==null){let N=n.job.views.get(t.emptyView);if(N===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(N.fnName===null||N.decls===null||N.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");I=N.fnName,M=N.decls,q=N.vars}W.replace(t,B7(t.handle.slot,D.fnName,t.decls,t.vars,t.tag,t.attributes,MH(n,t),t.usesComponentInstance,I,M,q,t.emptyTag,t.emptyAttributes,t.wholeSourceSpan));break;case C.SourceLocation:let G=at(t.locations.map(({targetSlot:N,offset:X,line:Y,column:fe})=>{if(N.slot===null)throw new Error("No slot was assigned for source location");return at([U(N.slot),U(X),U(Y),U(fe)])}));W.replace(t,yH(t.templatePath,G));break;case C.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${C[t.kind]}`)}}function dE(n,e){for(let t of e)switch(an(t,nR,rt.None),t.kind){case C.Advance:W.replace(t,w7(t.delta,t.sourceSpan));break;case C.Property:W.replace(t,n.job.mode===rr.DomOnly&&t.bindingKind!==ie.LegacyAnimation&&t.bindingKind!==ie.Animation?_M(t):kH(t));break;case C.TwoWayProperty:W.replace(t,Y7(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case C.StyleProp:W.replace(t,Z7(t.name,t.expression,t.unit,t.sourceSpan));break;case C.ClassProp:W.replace(t,X7(t.name,t.expression,t.sourceSpan));break;case C.StyleMap:W.replace(t,J7(t.expression,t.sourceSpan));break;case C.ClassMap:W.replace(t,K7(t.expression,t.sourceSpan));break;case C.I18nExpression:W.replace(t,dH(t.expression,t.sourceSpan));break;case C.I18nApply:W.replace(t,pH(t.handle.slot,t.sourceSpan));break;case C.InterpolateText:W.replace(t,uH(t.interpolation.strings,t.interpolation.expressions,t.sourceSpan));break;case C.Attribute:W.replace(t,KN(t.name,t.expression,t.sanitizer,t.namespace,t.sourceSpan));break;case C.DomProperty:if(t.expression instanceof Xt)throw new Error("not yet handled");t.bindingKind===ie.LegacyAnimation||t.bindingKind===ie.Animation?W.replace(t,vH(t.name,t.expression,t.sourceSpan)):W.replace(t,_M(t));break;case C.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);W.replace(t,Fr(new gn(t.variable.name,t.initializer,void 0,Un.Final)));break;case C.Conditional:if(t.processed===null)throw new Error("Conditional test was not set.");W.replace(t,bH(t.processed,t.contextValue,t.sourceSpan));break;case C.Repeater:W.replace(t,V7(t.collection,t.sourceSpan));break;case C.DeferWhen:W.replace(t,j7(t.modifier,t.expr,t.sourceSpan));break;case C.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${t.declaredName}`);case C.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${C[t.kind]}`)}}function IH(n){return n.charAt(Uf.length)!=="-"?Uf+"-"+n.slice(Uf.length).toLowerCase():n}function tR(n){return n.startsWith(Uf)&&n.length>Uf.length}function _M(n){return tR(n.name)?KN(IH(n.name),n.expression,null,null,n.sourceSpan):fH(DH.get(n.name)??n.name,n.expression,n.sanitizer,n.sourceSpan)}function kH(n){return tR(n.name)?G7(n.name,n.expression,n.sourceSpan):Q7(n.name,n.expression,n.sanitizer,n.sourceSpan)}function nR(n){if(!Jo(n))return n;switch(n.kind){case le.NextContext:return S7(n.steps);case le.Reference:return E7(n.targetSlot.slot+1+n.offset);case le.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${n.name}`);case le.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case le.RestoreView:if(typeof n.view=="number")throw new Error("AssertionError: unresolved RestoreView");return A7(n.view);case le.ResetView:return T7(n.expr);case le.GetCurrentView:return D7();case le.ReadVariable:if(n.name===null)throw new Error(`Read of unnamed variable ${n.xref}`);return je(n.name);case le.ReadTemporaryExpr:if(n.name===null)throw new Error(`Read of unnamed temporary ${n.xref}`);return je(n.name);case le.AssignTemporaryExpr:if(n.name===null)throw new Error(`Assign of unnamed temporary ${n.xref}`);return je(n.name).set(n.expr);case le.PureFunctionExpr:if(n.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return _H(n.varOffset,n.fn,n.args);case le.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case le.PipeBinding:return lH(n.targetSlot.slot,n.varOffset,n.args);case le.PipeBindingVariadic:return cH(n.targetSlot.slot,n.varOffset,n.args);case le.SlotLiteralExpr:return U(n.slot.slot);case le.ContextLetReference:return $7(n.targetSlot.slot);case le.StoreLet:return U7(n.value,n.sourceSpan);case le.TrackContext:return je("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${le[n.kind]}`)}}function V0(n,e,t,i){dE(n,t);let r=[];for(let s of t){if(s.kind!==C.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${C[s.kind]}`);r.push(s.statement)}let o=[];return i&&o.push(new Dn("$event")),Ta(o,r,void 0,void 0,e)}function MH(n,e){if(e.trackByFn!==null)return e.trackByFn;let t=[new Dn("$index"),new Dn("$item")],i;if(e.trackByOps===null)i=e.usesComponentInstance?Ta(t,[new $n(e.track)]):fo(t,e.track);else{dE(n,e.trackByOps);let r=[];for(let o of e.trackByOps){if(o.kind!==C.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${C[o.kind]}`);r.push(o.statement)}i=e.usesComponentInstance||r.length!==1||!(r[0]instanceof $n)?Ta(t,r):fo(t,r[0].value)}return e.trackByFn=n.job.pool.getSharedFunctionReference(i,"_forTrack"),e.trackByFn}function NH(n){for(let e of n.units)for(let t of e.update)switch(t.kind){case C.Attribute:case C.Binding:case C.ClassProp:case C.ClassMap:case C.Property:case C.StyleProp:case C.StyleMap:t.expression instanceof Dh&&W.remove(t);break}}function RH(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case C.I18nContext:W.remove(t);break;case C.I18nStart:t.context=null;break}}function PH(n){for(let e of n.units)for(let t of e.update){if(t.kind!==C.Variable||t.variable.kind!==Sn.Identifier||!(t.initializer instanceof wh))continue;let i=t.variable.identifier,r=t;for(;r&&r.kind!==C.ListEnd;)an(r,o=>o instanceof jn&&o.name===i?U(void 0):o,rt.None),r=r.prev}}function OH(n){for(let e of n.units){let t=new Set;for(let i of e.update)switch(i.kind){case C.I18nExpression:t.add(i.i18nOwner)}for(let i of e.create)switch(i.kind){case C.I18nAttributes:if(t.has(i.xref))continue;W.remove(i)}}}function FH(n){for(let e of n.units)i_(e,e.create),i_(e,e.update)}function i_(n,e){let t=new Map;t.set(n.xref,je("ctx"));for(let i of e)switch(i.kind){case C.Variable:switch(i.variable.kind){case Sn.Context:t.set(i.variable.view,new Vs(i.xref));break}break;case C.Animation:case C.AnimationListener:case C.Listener:case C.TwoWayListener:i_(n,i.handlerOps);break;case C.RepeaterCreate:i.trackByOps!==null&&i_(n,i.trackByOps);break}n===n.job.root&&t.set(n.xref,je("ctx"));for(let i of e)an(i,r=>{if(r instanceof Ra){if(!t.has(r.view))throw new Error(`No context found for reference to view ${r.view} from view ${n.xref}`);return t.get(r.view)}else return r},rt.None)}function LH(n){for(let e of n.units)for(let t of e.create)if(t.kind===C.Defer){if(t.resolverFn!==null)continue;if(t.ownResolverFn!==null){if(t.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let i=e.fnName?.replace("_Template","");t.resolverFn=n.pool.getSharedFunctionReference(t.ownResolverFn,`${i}_Defer_${t.handle.slot}_DepsFn`,!1)}}}function BH(n){for(let e of n.units)yM(e.create),yM(e.update)}function yM(n){for(let e of n)(e.kind===C.Listener||e.kind===C.TwoWayListener||e.kind===C.AnimationListener)&&an(e,t=>t instanceof jn&&t.name==="$event"?((e.kind===C.Listener||e.kind===C.AnimationListener)&&(e.consumesDollarEvent=!0),new Rr(t.name)):t,rt.InChildOperation)}function VH(n){let e=new Map,t=new Map;for(let i of n.units)for(let r of i.create)switch(r.kind){case C.I18nContext:e.set(r.xref,r);break;case C.ElementStart:t.set(r.xref,r);break}qo(n,n.root,e,t)}function qo(n,e,t,i,r){let o=null,s=new Map;for(let a of e.create)switch(a.kind){case C.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");o={i18nBlock:a,i18nContext:t.get(a.context)};break;case C.I18nEnd:o=null;break;case C.ElementStart:if(a.i18nPlaceholder!==void 0){if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");bM(a,o.i18nContext,o.i18nBlock,r),r&&a.i18nPlaceholder.closeName&&s.set(a.xref,r),r=void 0}break;case C.ElementEnd:let l=i.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(o===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");xM(l,o.i18nContext,o.i18nBlock,s.get(a.xref)),s.delete(a.xref)}break;case C.Projection:if(a.i18nPlaceholder!==void 0){if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");bM(a,o.i18nContext,o.i18nBlock,r),xM(a,o.i18nContext,o.i18nBlock,r),r=void 0}if(a.fallbackView!==null){let y=n.views.get(a.fallbackView);if(a.fallbackViewI18nPlaceholder===void 0)qo(n,y,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");j0(n,y,a.handle.slot,a.fallbackViewI18nPlaceholder,o.i18nContext,o.i18nBlock,r),qo(n,y,t,i),q0(n,y,a.handle.slot,a.fallbackViewI18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}}break;case C.ConditionalCreate:case C.ConditionalBranchCreate:case C.Template:let c=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)qo(n,c,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===Oi.Structural?qo(n,c,t,i,a):(j0(n,c,a.handle.slot,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),qo(n,c,t,i),q0(n,c,a.handle.slot,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0)}break;case C.RepeaterCreate:if(r!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let u=a.handle.slot+1,m=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)qo(n,m,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");j0(n,m,u,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),qo(n,m,t,i),q0(n,m,u,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}if(a.emptyView!==null){let y=a.handle.slot+2,v=n.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)qo(n,v,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");j0(n,v,y,a.emptyI18nPlaceholder,o.i18nContext,o.i18nBlock,r),qo(n,v,t,i),q0(n,v,y,a.emptyI18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}}break}}function bM(n,e,t,i){let{startName:r,closeName:o}=n.i18nPlaceholder,s=_t.ElementTag|_t.OpenTag,a=n.handle.slot;i!==void 0&&(s|=_t.TemplateTag,a={element:a,template:i.handle.slot}),o||(s|=_t.CloseTag),md(e.params,r,a,t.subTemplateIndex,s)}function xM(n,e,t,i){let{closeName:r}=n.i18nPlaceholder;if(r){let o=_t.ElementTag|_t.CloseTag,s=n.handle.slot;i!==void 0&&(o|=_t.TemplateTag,s={element:s,template:i.handle.slot}),md(e.params,r,s,t.subTemplateIndex,o)}}function j0(n,e,t,i,r,o,s){let{startName:a,closeName:l}=i,c=_t.TemplateTag|_t.OpenTag;l||(c|=_t.CloseTag),s!==void 0&&md(r.params,a,s.handle.slot,o.subTemplateIndex,c),md(r.params,a,t,iR(n,o,e),c)}function q0(n,e,t,i,r,o,s){let{closeName:a}=i,l=_t.TemplateTag|_t.CloseTag;a&&(md(r.params,a,t,iR(n,o,e),l),s!==void 0&&md(r.params,a,s.handle.slot,o.subTemplateIndex,l))}function iR(n,e,t){for(let i of t.create)if(i.kind===C.I18nStart)return i.subTemplateIndex;return e.subTemplateIndex}function md(n,e,t,i,r){let o=n.get(e)??[];o.push({value:t,subTemplateIndex:i,flags:r}),n.set(e,o)}function jH(n){let e=new Map,t=new Map,i=new Map;for(let s of n.units)for(let a of s.create)switch(a.kind){case C.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case C.I18nContext:t.set(a.xref,a);break;case C.IcuPlaceholder:i.set(a.xref,a);break}let r=new Map,o=s=>s.usage===vd.I18nText?s.i18nOwner:s.context;for(let s of n.units)for(let a of s.update)if(a.kind===C.I18nExpression){let l=r.get(o(a))||0,c=e.get(a.i18nOwner)??null,u={value:l,subTemplateIndex:c,flags:_t.ExpressionIndex};qH(a,u,t,i),r.set(o(a),l+1)}}function qH(n,e,t,i){if(n.i18nPlaceholder!==null){let r=t.get(n.context),o=n.resolutionTime===xh.Creation?r.params:r.postprocessingParams,s=o.get(n.i18nPlaceholder)||[];s.push(e),o.set(n.i18nPlaceholder,s)}n.icuPlaceholder!==null&&i.get(n.icuPlaceholder)?.expressionPlaceholders.push(e)}function UH(n){for(let e of n.units)r_(e,e.create,null),r_(e,e.update,null)}function r_(n,e,t){let i=new Map,r=new Map;for(let o of e)switch(o.kind){case C.Variable:switch(o.variable.kind){case Sn.Identifier:if(o.variable.local){if(r.has(o.variable.identifier))continue;r.set(o.variable.identifier,o.xref)}else if(i.has(o.variable.identifier))continue;i.set(o.variable.identifier,o.xref);break;case Sn.Alias:if(i.has(o.variable.identifier))continue;i.set(o.variable.identifier,o.xref);break;case Sn.SavedView:t={view:o.variable.view,variable:o.xref};break}break;case C.Animation:case C.AnimationListener:case C.Listener:case C.TwoWayListener:r_(n,o.handlerOps,t);break;case C.RepeaterCreate:o.trackByOps!==null&&r_(n,o.trackByOps,t);break}for(let o of e)o.kind==C.Listener||o.kind===C.TwoWayListener||o.kind===C.Animation||o.kind===C.AnimationListener||an(o,s=>{if(s instanceof jn)return r.has(s.name)?new Vs(r.get(s.name)):i.has(s.name)?new Vs(i.get(s.name)):new fr(new Ra(n.job.root.xref),s.name);if(s instanceof jv&&typeof s.view=="number"){if(t===null||t.view!==s.view)throw new Error(`AssertionError: no saved view ${s.view} from view ${n.xref}`);return s.view=new Vs(t.variable),s}else return s},rt.None);for(let o of e)An(o,s=>{if(s instanceof jn)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${s.name}`)})}var $H=new Map([[Et.HTML,P.sanitizeHtml],[Et.RESOURCE_URL,P.sanitizeResourceUrl],[Et.SCRIPT,P.sanitizeScript],[Et.STYLE,P.sanitizeStyle],[Et.URL,P.sanitizeUrl]]),HH=new Map([[Et.HTML,P.trustConstantHtml],[Et.RESOURCE_URL,P.trustConstantResourceUrl]]);function zH(n){for(let e of n.units){let t=lE(e);if(n.kind!==K.Host){for(let i of e.create)if(i.kind===C.ExtractedAttribute){let r=HH.get(CM(i.securityContext))??null;i.trustedValueFn=r!==null?oe(r):null}}for(let i of e.update)switch(i.kind){case C.Property:case C.Attribute:case C.DomProperty:let r=null;if(Array.isArray(i.securityContext)&&i.securityContext.length===2&&i.securityContext.indexOf(Et.URL)>-1&&i.securityContext.indexOf(Et.RESOURCE_URL)>-1?r=P.sanitizeUrlOrResourceUrl:r=$H.get(CM(i.securityContext))??null,i.sanitizer=r!==null?oe(r):null,i.sanitizer===null){let o=!1;if(n.kind===K.Host||i.kind===C.DomProperty)o=!0;else{let s=t.get(i.target);if(s===void 0||!qs(s))throw Error("Property should have an element-like owner");o=WH(s)}o&&zU(i.name)&&(i.sanitizer=oe(P.validateIframeAttribute))}break}}}function WH(n){return n.kind===C.ElementStart&&n.tag?.toLowerCase()==="iframe"}function CM(n){if(Array.isArray(n)){if(n.length>1)throw Error("AssertionError: Ambiguous security context");return n[0]||Et.NONE}return n}function GH(n){for(let e of n.units){e.create.prepend([wa(e.job.allocateXrefId(),{kind:Sn.SavedView,name:null,view:e.xref},new tw,Tr.None)]);for(let t of e.create){if(t.kind!==C.Listener&&t.kind!==C.TwoWayListener&&t.kind!==C.Animation&&t.kind!==C.AnimationListener)continue;let i=e!==n.root;if(!i)for(let r of t.handlerOps)An(r,o=>{(o instanceof Bv||o instanceof Eh)&&(i=!0)});i&&QH(e,t)}}}function QH(n,e){e.handlerOps.prepend([wa(n.job.allocateXrefId(),{kind:Sn.Context,name:null,view:n.xref},new jv(n.xref),Tr.None)]);for(let t of e.handlerOps)t.kind===C.Statement&&t.statement instanceof $n&&(t.statement.value=new nw(t.statement.value))}function YH(n){let e=new Map;for(let t of n.units){let i=0;for(let r of t.create)yd(r)&&(r.handle.slot=i,e.set(r.xref,r.handle.slot),i+=r.numSlotsUsed);t.decls=i}for(let t of n.units)for(let i of t.ops())if(i.kind===C.Template||i.kind===C.ConditionalCreate||i.kind===C.ConditionalBranchCreate||i.kind===C.RepeaterCreate){let r=n.views.get(i.xref);i.decls=r.decls}}function ZH(n){let e=new Set,t=new Map;for(let i of n.units)for(let r of i.ops())r.kind===C.DeclareLet&&t.set(r.xref,r),An(r,o=>{o instanceof Eh&&e.add(o.target)});for(let i of n.units)for(let r of i.update)an(r,o=>o instanceof wh&&!e.has(o.target)?(XH(o)||W.remove(t.get(o.target)),o.value):o,rt.None)}function XH(n){let e=!1;return te(n,t=>((t instanceof Jl||t instanceof Sh)&&(e=!0),t),rt.None),e}function JH(n){let e=new Set;for(let t of n.units)for(let i of t.ops())An(i,r=>{if(r instanceof Xe)switch(r.operator){case Z.Exponentiation:KH(r,e);break;case Z.NullishCoalesce:e9(r,e);break;case Z.And:case Z.Or:t9(r,e)}});for(let t of n.units)for(let i of t.ops())an(i,r=>r instanceof uo?e.has(r)?r:r.expr:r,rt.None)}function KH(n,e){n.lhs instanceof uo&&n.lhs.expr instanceof $l&&e.add(n.lhs)}function e9(n,e){n.lhs instanceof uo&&(wM(n.lhs.expr)||n.lhs.expr instanceof Go)&&e.add(n.lhs),n.rhs instanceof uo&&(wM(n.rhs.expr)||n.rhs.expr instanceof Go)&&e.add(n.rhs)}function t9(n,e){n.lhs instanceof uo&&n.lhs.expr instanceof Xe&&n.lhs.expr.operator===Z.NullishCoalesce&&e.add(n.lhs)}function wM(n){return n instanceof Xe&&(n.operator===Z.And||n.operator===Z.Or)}function n9(n){for(let e of n.units)for(let t of e.update)if(t.kind===C.Binding)switch(t.bindingKind){case ie.ClassName:if(t.expression instanceof Xt)throw new Error("Unexpected interpolation in ClassName binding");W.replace(t,M6(t.target,t.name,t.expression,t.sourceSpan));break;case ie.StyleProperty:W.replace(t,k6(t.target,t.name,t.expression,t.unit,t.sourceSpan));break;case ie.Property:case ie.Template:t.name==="style"?W.replace(t,N6(t.target,t.expression,t.sourceSpan)):t.name==="class"&&W.replace(t,R6(t.target,t.expression,t.sourceSpan));break}}function i9(n){for(let e of n.units)e.create.prepend(o_(e.create)),e.update.prepend(o_(e.update))}function o_(n){let e=0,t=[];for(let i of n){let r=new Map;An(i,(c,u)=>{u&rt.InChildOperation||c instanceof Pa&&r.set(c.xref,c)});let o=0,s=new Set,a=new Set,l=new Map;An(i,(c,u)=>{u&rt.InChildOperation||(c instanceof Ko?(s.has(c.xref)||(s.add(c.xref),l.set(c.xref,`tmp_${e}_${o++}`)),EM(l,c)):c instanceof Pa&&(r.get(c.xref)===c&&(a.add(c.xref),o--),EM(l,c)))}),t.push(...Array.from(new Set(l.values())).map(c=>Fr(new gn(c)))),e++,i.kind===C.Listener||i.kind===C.Animation||i.kind===C.AnimationListener||i.kind===C.TwoWayListener?i.handlerOps.prepend(o_(i.handlerOps)):i.kind===C.RepeaterCreate&&i.trackByOps!==null&&i.trackByOps.prepend(o_(i.trackByOps))}return t}function EM(n,e){let t=n.get(e.xref);if(t===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=t}function r9(n){for(let e of n.units)for(let t of e.create)if(t.kind===C.RepeaterCreate)if(t.track instanceof Rr&&t.track.name==="$index")t.trackByFn=oe(P.repeaterTrackByIndex);else if(t.track instanceof Rr&&t.track.name==="$item")t.trackByFn=oe(P.repeaterTrackByIdentity);else if(o9(n.root.xref,t.track))t.usesComponentInstance=!0,t.track.receiver.receiver.view===e.xref?t.trackByFn=t.track.receiver:(t.trackByFn=oe(P.componentInstance).callFn([]).prop(t.track.receiver.name),t.track=t.trackByFn);else{t.track=te(t.track,r=>{if(r instanceof Jl||r instanceof Sh)throw new Error("Illegal State: Pipes are not allowed in this context");return r instanceof Ra?(t.usesComponentInstance=!0,new ew(r.view)):r},rt.None);let i=new W;i.push(Fr(new $n(t.track,t.track.sourceSpan))),t.trackByOps=i}}function o9(n,e){if(!(e instanceof Fi)||e.args.length===0||e.args.length>2||!(e.receiver instanceof fr&&e.receiver.receiver instanceof Ra)||e.receiver.receiver.view!==n)return!1;let[t,i]=e.args;return!(t instanceof Rr)||t.name!=="$index"?!1:e.args.length===1?!0:!(!(i instanceof Rr)||i.name!=="$item")}function s9(n){for(let e of n.units)for(let t of e.create)t.kind===C.RepeaterCreate&&(t.track=te(t.track,i=>{if(i instanceof jn){if(t.varNames.$index.has(i.name))return je("$index");if(i.name===t.varNames.$implicit)return je("$item")}return i},rt.None))}function a9(n){for(let e of n.units)for(let t of e.create)t.kind===C.TwoWayListener&&an(t,i=>{if(!(i instanceof qv))return i;let{target:r,value:o}=i;if(r instanceof fr||r instanceof js)return gM(r,o).or(r.set(o));if(r instanceof Vs)return gM(r,o);throw new Error("Unsupported expression in two-way action binding.")},rt.InChildOperation)}function l9(n){for(let e of n.units){let t=0;for(let i of e.ops())oC(i)&&(t+=c9(i));for(let i of e.ops())An(i,r=>{Jo(r)&&(n.compatibility===hr.TemplateDefinitionBuilder&&r instanceof Xl||(Ok(r)&&(r.varOffset=t),oC(r)&&(t+=SM(r))))});if(n.compatibility===hr.TemplateDefinitionBuilder)for(let i of e.ops())An(i,r=>{!Jo(r)||!(r instanceof Xl)||(Ok(r)&&(r.varOffset=t),oC(r)&&(t+=SM(r)))});e.vars=t}if(n instanceof Th)for(let e of n.units)for(let t of e.create){if(t.kind!==C.Template&&t.kind!==C.RepeaterCreate&&t.kind!==C.ConditionalCreate&&t.kind!==C.ConditionalBranchCreate)continue;let i=n.views.get(t.xref);t.vars=i.vars}}function c9(n){let e;switch(n.kind){case C.Attribute:return e=1,n.expression instanceof Xt&&!u9(n.expression)&&(e+=n.expression.expressions.length),e;case C.Property:case C.DomProperty:return e=1,n.expression instanceof Xt&&(e+=n.expression.expressions.length),e;case C.TwoWayProperty:return 1;case C.StyleProp:case C.ClassProp:case C.StyleMap:case C.ClassMap:return e=2,n.expression instanceof Xt&&(e+=n.expression.expressions.length),e;case C.InterpolateText:return n.interpolation.expressions.length;case C.I18nExpression:case C.Conditional:case C.DeferWhen:case C.StoreLet:return 1;case C.RepeaterCreate:return n.emptyView?1:0;default:throw new Error(`Unhandled op: ${C[n.kind]}`)}}function SM(n){switch(n.kind){case le.PureFunctionExpr:return 1+n.args.length;case le.PipeBinding:return 1+n.args.length;case le.PipeBindingVariadic:return 1+n.numArgs;case le.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${n.constructor.name}`)}}function u9(n){return!(n.expressions.length!==1||n.strings.length!==2||n.strings[0]!==""||n.strings[1]!=="")}function d9(n){for(let e of n.units){U0(e.create),U0(e.update);for(let t of e.create)t.kind===C.Listener||t.kind===C.Animation||t.kind===C.AnimationListener||t.kind===C.TwoWayListener?U0(t.handlerOps):t.kind===C.RepeaterCreate&&t.trackByOps!==null&&U0(t.trackByOps);$0(e.create,n.compatibility),$0(e.update,n.compatibility);for(let t of e.create)t.kind===C.Listener||t.kind===C.Animation||t.kind===C.AnimationListener||t.kind===C.TwoWayListener?$0(t.handlerOps,n.compatibility):t.kind===C.RepeaterCreate&&t.trackByOps!==null&&$0(t.trackByOps,n.compatibility)}}var mn=(function(n){return n[n.None=0]="None",n[n.ViewContextRead=1]="ViewContextRead",n[n.ViewContextWrite=2]="ViewContextWrite",n[n.SideEffectful=4]="SideEffectful",n})(mn||{});function U0(n){let e=new Map;for(let t of n)t.kind===C.Variable&&t.flags&Tr.AlwaysInline&&(An(t,i=>{if(Jo(i)&&pE(i)!==mn.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(t.xref,t)),an(t,i=>i instanceof Vs&&e.has(i.xref)?e.get(i.xref).initializer.clone():i,rt.None);for(let t of e.values())W.remove(t)}function $0(n,e){let t=new Map,i=new Map,r=new Set,o=new Map;for(let c of n){if(c.kind===C.Variable){if(t.has(c.xref)||i.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);t.set(c.xref,c),i.set(c.xref,0)}o.set(c,p9(c)),f9(c,i,r)}let s=!1;for(let c of n.reversed()){let u=o.get(c);if(c.kind===C.Variable&&i.get(c.xref)===0){if(s&&u.fences&mn.ViewContextWrite||u.fences&mn.SideEffectful){let m=Fr(c.initializer.toStmt());o.set(m,u),W.replace(c,m)}else h9(c,i),W.remove(c);o.delete(c),t.delete(c.xref),i.delete(c.xref);continue}u.fences&mn.ViewContextRead&&(s=!0)}let a=[];for(let[c,u]of i){let y=!!(t.get(c).flags&Tr.AlwaysInline);u!==1||y||r.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=t.get(l),u=o.get(c);if(!!(c.flags&Tr.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let y=c.next;y.kind!==C.ListEnd;y=y.next){let v=o.get(y);if(v.variablesUsed.has(l)){if(e===hr.TemplateDefinitionBuilder&&!g9(c,y))break;if(m9(l,c.initializer,y,u.fences)){v.variablesUsed.delete(l);for(let w of u.variablesUsed)v.variablesUsed.add(w);v.fences|=u.fences,t.delete(l),i.delete(l),o.delete(c),W.remove(c)}break}if(!rR(v.fences,u.fences))break}}}function pE(n){switch(n.kind){case le.NextContext:return mn.ViewContextRead|mn.ViewContextWrite;case le.RestoreView:return mn.ViewContextRead|mn.ViewContextWrite|mn.SideEffectful;case le.StoreLet:return mn.SideEffectful;case le.Reference:case le.ContextLetReference:return mn.ViewContextRead;default:return mn.None}}function p9(n){let e=mn.None,t=new Set;return An(n,i=>{if(Jo(i))switch(i.kind){case le.ReadVariable:t.add(i.xref);break;default:e|=pE(i)}}),{fences:e,variablesUsed:t}}function f9(n,e,t){An(n,(i,r)=>{if(!Jo(i)||i.kind!==le.ReadVariable)return;let o=e.get(i.xref);o!==void 0&&(e.set(i.xref,o+1),r&rt.InChildOperation&&t.add(i.xref))})}function h9(n,e){An(n,t=>{if(!Jo(t)||t.kind!==le.ReadVariable)return;let i=e.get(t.xref);if(i!==void 0){if(i===0)throw new Error(`Inaccurate variable count: ${t.xref} - found another read but count is already 0`);e.set(t.xref,i-1)}})}function rR(n,e){if(n&mn.ViewContextWrite){if(e&mn.ViewContextRead)return!1}else if(n&mn.ViewContextRead&&e&mn.ViewContextWrite)return!1;return!0}function m9(n,e,t,i){let r=!1,o=!0;return an(t,(s,a)=>{if(!Jo(s)||r||!o)return s;if(a&rt.InChildOperation&&i&mn.ViewContextRead)return s;switch(s.kind){case le.ReadVariable:if(s.xref===n)return r=!0,e;break;default:let l=pE(s);o=o&&rR(l,i);break}return s},rt.None),r}function g9(n,e){switch(n.variable.kind){case Sn.Identifier:return n.initializer instanceof Rr&&n.initializer.name==="ctx";case Sn.Context:return e.kind===C.Variable;default:return!0}}function v9(n){for(let e of n.units){let t=null,i=null;for(let r of e.create)switch(r.kind){case C.I18nStart:t=r;break;case C.I18nEnd:t=null;break;case C.IcuStart:t===null&&(i=n.allocateXrefId(),W.insertBefore(y_(i,r.message,void 0,null),r));break;case C.IcuEnd:i!==null&&(W.insertAfter(b_(i,null),r),i=null);break}}}var _9=[{kind:K.Tmpl,fn:Y$},{kind:K.Host,fn:lU},{kind:K.Tmpl,fn:N$},{kind:K.Tmpl,fn:n7},{kind:K.Tmpl,fn:v9},{kind:K.Both,fn:Iq},{kind:K.Both,fn:n9},{kind:K.Both,fn:hq},{kind:K.Both,fn:Sq},{kind:K.Both,fn:dq},{kind:K.Tmpl,fn:Tq},{kind:K.Both,fn:P$},{kind:K.Tmpl,fn:NH},{kind:K.Both,fn:vq},{kind:K.Both,fn:Q$},{kind:K.Tmpl,fn:_q},{kind:K.Tmpl,fn:J$},{kind:K.Tmpl,fn:kq},{kind:K.Tmpl,fn:t7},{kind:K.Both,fn:o7},{kind:K.Tmpl,fn:iU},{kind:K.Tmpl,fn:nU},{kind:K.Tmpl,fn:rU},{kind:K.Tmpl,fn:GH},{kind:K.Both,fn:oq},{kind:K.Both,fn:BH},{kind:K.Tmpl,fn:s9},{kind:K.Tmpl,fn:PH},{kind:K.Both,fn:UH},{kind:K.Tmpl,fn:Mq},{kind:K.Tmpl,fn:a9},{kind:K.Tmpl,fn:r9},{kind:K.Both,fn:FH},{kind:K.Both,fn:zH},{kind:K.Tmpl,fn:k$},{kind:K.Both,fn:Fq},{kind:K.Both,fn:JH},{kind:K.Both,fn:i9},{kind:K.Both,fn:d9},{kind:K.Both,fn:ZH},{kind:K.Tmpl,fn:I$},{kind:K.Tmpl,fn:Aq},{kind:K.Tmpl,fn:OH},{kind:K.Tmpl,fn:cq},{kind:K.Tmpl,fn:aq},{kind:K.Tmpl,fn:YH},{kind:K.Tmpl,fn:VH},{kind:K.Tmpl,fn:jH},{kind:K.Tmpl,fn:Xq},{kind:K.Tmpl,fn:E$},{kind:K.Tmpl,fn:sU},{kind:K.Both,fn:Cq},{kind:K.Tmpl,fn:RH},{kind:K.Both,fn:l9},{kind:K.Tmpl,fn:tU},{kind:K.Both,fn:O$},{kind:K.Tmpl,fn:LH},{kind:K.Tmpl,fn:B$},{kind:K.Tmpl,fn:j$},{kind:K.Tmpl,fn:Oq},{kind:K.Tmpl,fn:uq},{kind:K.Tmpl,fn:U$},{kind:K.Both,fn:r7},{kind:K.Both,fn:AH},{kind:K.Both,fn:gq}];function oR(n,e){for(let t of _9)(t.kind===e||t.kind===K.Both)&&t.fn(n)}function y9(n,e){let t=aR(n.root);return sR(n.root,e),t}function sR(n,e){for(let t of n.job.units){if(t.parent!==n.xref)continue;sR(t,e);let i=aR(t);e.statements.push(i.toDeclStmt(i.name))}}function aR(n){if(n.fnName===null)throw new Error(`AssertionError: view ${n.xref} is unnamed`);let e=[];for(let o of n.create){if(o.kind!==C.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${C[o.kind]}`);e.push(o.statement)}let t=[];for(let o of n.update){if(o.kind!==C.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${C[o.kind]}`);t.push(o.statement)}let i=s_(1,e),r=s_(2,t);return Ta([new Dn("rf"),new Dn("ctx")],[...i,...r],void 0,void 0,n.fnName)}function s_(n,e){return e.length===0?[]:[h_(new Xe(Z.BitwiseAnd,je("rf"),U(n)),e)]}function b9(n){if(n.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let o of n.root.create){if(o.kind!==C.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${C[o.kind]}`);e.push(o.statement)}let t=[];for(let o of n.root.update){if(o.kind!==C.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${C[o.kind]}`);t.push(o.statement)}if(e.length===0&&t.length===0)return null;let i=s_(1,e),r=s_(2,t);return Ta([new Dn("rf"),new Dn("ctx")],[...i,...r],void 0,void 0,n.root.fnName)}var lR=hr.TemplateDefinitionBuilder,Vl=new hd,jl="ng-template",x9="animate.";function K0(n){return n instanceof yi}function C9(n){return K0(n)&&n.nodes.length===1&&n.nodes[0]instanceof kv}function w9(n,e,t,i,r,o,s,a,l,c){let u=new Th(n,t,lR,i,r,o,s,a,l,c);return $s(u.root,e),u}function E9(n,e,t){let i=new Gv(n.componentName,t,lR,rr.DomOnly);for(let r of n.properties??[]){let o=ie.Property;r.name.startsWith("attr.")&&(r.name=r.name.substring(5),o=ie.Attribute),r.isLegacyAnimation&&(o=ie.LegacyAnimation),r.isAnimation&&(o=ie.Animation);let s=e.calcPossibleSecurityContexts(n.componentSelector,r.name,o===ie.Attribute).filter(a=>a!==Et.NONE);S9(i,r,o,s)}for(let[r,o]of Object.entries(n.attributes)??[]){let s=e.calcPossibleSecurityContexts(n.componentSelector,r,!0).filter(a=>a!==Et.NONE);D9(i,r,o,s)}for(let r of n.events??[])A9(i,r);return i}function S9(n,e,t,i){let r,o=e.expression.ast;o instanceof Vh?r=new Xt(o.strings,o.expressions.map(s=>Ve(s,n,e.sourceSpan)),[]):r=Ve(o,n,e.sourceSpan),n.root.update.push(Zl(n.root.xref,t,e.name,r,null,i,!1,!1,null,null,e.sourceSpan))}function D9(n,e,t,i){let r=Zl(n.root.xref,ie.Attribute,e,t,null,i,!0,!1,null,null,t.sourceSpan);n.root.update.push(r)}function A9(n,e){let t;if(e.type===_i.Animation)t=PN(n.root.xref,new Wn,e.name,null,Rh(n.root,e.handler,e.handlerSpan),e.name.endsWith("enter")?"enter":"leave",e.targetOrPhase,!0,e.sourceSpan);else{let[i,r]=e.type!==_i.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null];t=aE(n.root.xref,new Wn,e.name,null,Rh(n.root,e.handler,e.handlerSpan),i,r,!0,e.sourceSpan)}n.root.create.push(t)}function $s(n,e){for(let t of e)if(t instanceof Zo)T9(n,t);else if(t instanceof dr)I9(n,t);else if(t instanceof od)k9(n,t);else if(t instanceof Ml)cR(n,t,null);else if(t instanceof nd)uR(n,t,null);else if(t instanceof Tv)M9(n,t);else if(t instanceof Av)N9(n,t);else if(t instanceof Ql)R9(n,t);else if(t instanceof nN)O9(n,t);else if(t instanceof rd)F9(n,t);else if(t instanceof Xw)B9(n,t);else if(!(t instanceof Bf))throw new Error(`Unsupported template node: ${t.constructor.name}`)}function T9(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof yi||e.i18n instanceof ka))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=n.job.allocateXrefId(),[i,r]=ho(e.name),o=q6(r,t,VN(i),e.i18n instanceof ka?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);n.create.push(o),j9(n,o,e),fR(o,e);let s=null;e.i18n instanceof yi&&(s=n.job.allocateXrefId(),n.create.push(y_(s,e.i18n,void 0,e.startSourceSpan))),$s(n,e.children);let a=$6(t,e.endSourceSpan??e.startSourceSpan);n.create.push(a),s!==null&&W.insertBefore(b_(s,e.endSourceSpan??e.startSourceSpan),a)}function I9(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof yi||e.i18n instanceof ka))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let t=n.job.allocateView(n.xref),i=e.tagName,r="";e.tagName&&([r,i]=ho(e.tagName));let o=e.i18n instanceof ka?e.i18n:void 0,s=VN(r),a=i===null?"":xq(i,s),l=V9(e)?Oi.NgTemplate:Oi.Structural,c=kN(t.xref,l,i,a,s,o,e.startSourceSpan,e.sourceSpan);n.create.push(c),q9(n,c,e,l),fR(c,e),$s(t,e.children);for(let{name:u,value:m}of e.variables)t.contextVariables.set(u,m!==""?m:"$implicit");if(l===Oi.NgTemplate&&e.i18n instanceof yi){let u=n.job.allocateXrefId();W.insertAfter(y_(u,e.i18n,void 0,e.startSourceSpan),t.create.head),W.insertBefore(b_(u,e.endSourceSpan??e.startSourceSpan),t.create.tail)}}function k9(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof ka))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=null;e.children.some(o=>!(o instanceof g_)&&(!(o instanceof Ml)||o.value.trim().length>0))&&(t=n.job.allocateView(n.xref),$s(t,e.children));let i=n.job.allocateXrefId(),r=Z6(i,e.selector,e.i18n,t?.xref??null,e.sourceSpan);for(let o of e.attributes){let s=Vl.securityContext(e.name,o.name,!0);n.update.push(Zl(r.xref,ie.Attribute,o.name,U(o.value),null,s,!0,!1,null,Fs(o.i18n),o.sourceSpan))}n.create.push(r)}function cR(n,e,t){n.create.push(RN(n.job.allocateXrefId(),e.value,t,e.sourceSpan))}function uR(n,e,t){let i=e.value;if(i instanceof sr&&(i=i.ast),!(i instanceof Vh))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${i.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Bs))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let r=e.i18n instanceof Bs?e.i18n.children.filter(a=>a instanceof hh).map(a=>a.name):[];if(r.length>0&&r.length!==i.expressions.length)throw Error(`Unexpected number of i18n placeholders (${i.expressions.length}) for BoundText with ${i.expressions.length} expressions`);let o=n.job.allocateXrefId();n.create.push(RN(o,"",t,e.sourceSpan));let s=n.job.compatibility?null:e.sourceSpan;n.update.push(A6(o,new Xt(i.strings,i.expressions.map(a=>Ve(a,n.job,s)),r),e.sourceSpan))}function M9(n,e){let t=null,i=[];for(let r=0;r<e.branches.length;r++){let o=e.branches[r],s=n.job.allocateView(n.xref),a=a_(n,s.xref,o);o.expressionAlias!==null&&s.contextVariables.set(o.expressionAlias.name,BN);let l;if(o.i18n!==void 0){if(!(o.i18n instanceof Ma))throw Error(`Unhandled i18n metadata type for if block: ${o.i18n?.constructor.name}`);l=o.i18n}let u=(r===0?MN:NN)(s.xref,Oi.Block,a,"Conditional",ii.HTML,l,o.startSourceSpan,o.sourceSpan);n.create.push(u),t===null&&(t=s.xref);let m=o.expression?Ve(o.expression,n.job,null):null,y=new $v(m,u.xref,u.handle,o.expressionAlias);i.push(y),$s(s,o.children)}n.update.push(AN(t,null,i,e.sourceSpan))}function N9(n,e){if(e.cases.length===0)return;let t=null,i=[];for(let r=0;r<e.cases.length;r++){let o=e.cases[r],s=n.job.allocateView(n.xref),a=a_(n,s.xref,o),l;if(o.i18n!==void 0){if(!(o.i18n instanceof Ma))throw Error(`Unhandled i18n metadata type for switch block: ${o.i18n?.constructor.name}`);l=o.i18n}let u=(r===0?MN:NN)(s.xref,Oi.Block,a,"Case",ii.HTML,l,o.startSourceSpan,o.sourceSpan);n.create.push(u),t===null&&(t=s.xref);let m=o.expression?Ve(o.expression,n.job,e.startSourceSpan):null,y=new $v(m,u.xref,u.handle);i.push(y),$s(s,o.children)}n.update.push(AN(t,Ve(e.expression,n.job,null),i,e.sourceSpan))}function H0(n,e,t,i,r){if(t!==void 0&&!(t instanceof Ma))throw Error("Unhandled i18n metadata type for defer block");if(i===void 0)return null;let o=n.job.allocateView(n.xref);$s(o,i);let s=kN(o.xref,Oi.Block,null,`Defer${e}`,ii.HTML,t,r,r);return n.create.push(s),s}function R9(n,e){let t=null;if(n.job.deferMeta.mode===0){if(!n.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");t=n.job.deferMeta.blocks.get(e)??null}let i=H0(n,"",e.i18n,e.children,e.sourceSpan),r=H0(n,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),o=H0(n,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),s=H0(n,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=n.job.allocateXrefId(),l=X6(a,i.xref,i.handle,t,n.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=o?.xref??null,l.placeholderSlot=o?.handle??null,l.loadingSlot=r?.handle??null,l.errorSlot=s?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=P9(e),n.create.push(l);let c=[],u=[];uC("hydrate",e.hydrateTriggers,c,u,n,a),uC("none",e.triggers,c,u,n,a),uC("prefetch",e.prefetchTriggers,c,u,n,a),c.some(y=>y.modifier==="none")||u.some(y=>y.modifier==="none")||c.push(ba(a,{kind:ht.Idle},"none",null)),n.create.push(c),n.update.push(u)}function P9(n){return Object.keys(n.hydrateTriggers).length>0?1:null}function uC(n,e,t,i,r,o){if(e.idle!==void 0){let s=ba(o,{kind:ht.Idle},n,e.idle.sourceSpan);t.push(s)}if(e.immediate!==void 0){let s=ba(o,{kind:ht.Immediate},n,e.immediate.sourceSpan);t.push(s)}if(e.timer!==void 0){let s=ba(o,{kind:ht.Timer,delay:e.timer.delay},n,e.timer.sourceSpan);t.push(s)}if(e.hover!==void 0){let s=ba(o,{kind:ht.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.hover.sourceSpan);t.push(s)}if(e.interaction!==void 0){let s=ba(o,{kind:ht.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.interaction.sourceSpan);t.push(s)}if(e.viewport!==void 0){let s=ba(o,{kind:ht.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.viewport.sourceSpan);t.push(s)}if(e.never!==void 0){let s=ba(o,{kind:ht.Never},n,e.never.sourceSpan);t.push(s)}if(e.when!==void 0){if(e.when.value instanceof Vh)throw new Error("Unexpected interpolation in defer block when trigger");let s=L6(o,Ve(e.when.value,r.job,e.when.sourceSpan),n,e.when.sourceSpan);i.push(s)}}function O9(n,e){if(e.i18n instanceof yi&&C9(e.i18n)){let t=n.job.allocateXrefId();n.create.push(eq(t,e.i18n,oN(e.i18n).name,null));for(let[i,r]of Object.entries(B(B({},e.vars),e.placeholders)))r instanceof nd?uR(n,r,i):cR(n,r,i);n.create.push(tq(t))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function F9(n,e){let t=n.job.allocateView(n.xref),i=`\u0275$index_${t.xref}`,r=`\u0275$count_${t.xref}`,o=new Set;t.contextVariables.set(e.item.name,e.item.value);for(let M of e.contextVariables)M.value==="$index"&&o.add(M.name),M.name==="$index"?t.contextVariables.set("$index",M.value).set(i,M.value):M.name==="$count"?t.contextVariables.set("$count",M.value).set(r,M.value):t.aliases.add({kind:Sn.Alias,name:null,identifier:M.name,expression:L9(M,i,r)});let s=fn(e.trackBy.span,e.sourceSpan),a=Ve(e.trackBy,n.job,s);$s(t,e.children);let l=null,c=null;e.empty!==null&&(l=n.job.allocateView(n.xref),$s(l,e.empty.children),c=a_(n,l.xref,e.empty));let u={$index:o,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof Ma))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof Ma))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let m=e.i18n,y=e.empty?.i18n,v=a_(n,t.xref,e),w=U6(t.xref,l?.xref??null,v,a,u,c,m,y,e.startSourceSpan,e.sourceSpan);n.create.push(w);let D=Ve(e.expression,n.job,fn(e.expression.span,e.sourceSpan)),I=F6(w.xref,w.handle,D,e.sourceSpan);n.update.push(I)}function L9(n,e,t){switch(n.value){case"$index":return new jn(e);case"$count":return new jn(t);case"$first":return new jn(e).identical(U(0));case"$last":return new jn(e).identical(new jn(t).minus(U(1)));case"$even":return new jn(e).modulo(U(2)).identical(U(0));case"$odd":return new jn(e).modulo(U(2)).notIdentical(U(0));default:throw new Error(`AssertionError: unknown @for loop variable ${n.value}`)}}function B9(n,e){let t=n.job.allocateXrefId();n.create.push(J6(t,e.name,e.sourceSpan)),n.update.push(V6(t,e.name,Ve(e.value,n.job,e.valueSpan),e.sourceSpan))}function Ve(n,e,t){if(n instanceof sr)return Ve(n.ast,e,t);if(n instanceof Ls)return n.receiver instanceof Yo&&!(n.receiver instanceof Wl)?new jn(n.name):new fr(Ve(n.receiver,e,t),n.name,null,fn(n.span,t));if(n instanceof td){if(n.receiver instanceof Yo)throw new Error("Unexpected ImplicitReceiver");return new Fi(Ve(n.receiver,e,t),n.args.map(i=>Ve(i,e,t)),void 0,fn(n.span,t))}else{if(n instanceof or)return U(n.value,void 0,fn(n.span,t));if(n instanceof Gu)switch(n.operator){case"+":return new $l(Hf.Plus,Ve(n.expr,e,t),void 0,fn(n.span,t));case"-":return new $l(Hf.Minus,Ve(n.expr,e,t),void 0,fn(n.span,t));default:throw new Error(`AssertionError: unknown unary operator ${n.operator}`)}else if(n instanceof gi){let i=yq.get(n.operation);if(i===void 0)throw new Error(`AssertionError: unknown binary operator ${n.operation}`);return new Xe(i,Ve(n.left,e,t),Ve(n.right,e,t),void 0,fn(n.span,t))}else{if(n instanceof Wl)return new Ra(e.root.xref);if(n instanceof Gl)return new js(Ve(n.receiver,e,t),Ve(n.key,e,t),void 0,fn(n.span,t));if(n instanceof ed)throw new Error("AssertionError: Chain in unknown context");if(n instanceof vv){let i=n.keys.map((r,o)=>{let s=n.values[o];return new Ju(r.key,Ve(s,e,t),r.quoted)});return new Qo(i,void 0,fn(n.span,t))}else{if(n instanceof gv)return new po(n.expressions.map(i=>Ve(i,e,t)));if(n instanceof hv)return new Go(Ve(n.condition,e,t),Ve(n.trueExp,e,t),Ve(n.falseExp,e,t),void 0,fn(n.span,t));if(n instanceof nh)return Ve(n.expression,e,t);if(n instanceof mv)return new Jl(e.allocateXrefId(),new Wn,n.name,[Ve(n.exp,e,t),...n.args.map(i=>Ve(i,e,t))]);if(n instanceof Jf)return new dd(Ve(n.receiver,e,t),Ve(n.key,e,t),fn(n.span,t));if(n instanceof Xf)return new ud(Ve(n.receiver,e,t),n.name);if(n instanceof _v)return new Kl(Ve(n.receiver,e,t),n.args.map(i=>Ve(i,e,t)));if(n instanceof Mi)return new Dh(fn(n.span,t));if(n instanceof Kf)return V5(Ve(n.expression,e,t),fn(n.span,t));if(n instanceof eh)return Bh(Ve(n.expression,e,t));if(n instanceof th)return new ov(Ve(n.expression,e,t),void 0,fn(n.span,t));if(n instanceof rh)return DM(n,e,t);if(n instanceof ih)return new zf(Ve(n.tag,e,t),DM(n.template,e,t),void 0,fn(n.span,t));if(n instanceof oh)return new uo(Ve(n.expression,e,t),void 0,fn(n.span,t));throw new Error(`Unhandled expression type "${n.constructor.name}" in file "${t?.start.file.url}"`)}}}}function DM(n,e,t){return new Gf(n.elements.map(i=>new sv(i.text,fn(i.span,t))),n.expressions.map(i=>Ve(i,e,t)),fn(n.span,t))}function Aw(n,e,t,i){let r;return e instanceof Vh?r=new Xt(e.strings,e.expressions.map(o=>Ve(o,n,null)),Object.keys(Fs(t)?.placeholders??{})):e instanceof Rt?r=Ve(e,n,null):r=U(e),r}var dR=new Map([[it.Property,ie.Property],[it.TwoWay,ie.TwoWayProperty],[it.Attribute,ie.Attribute],[it.Class,ie.ClassName],[it.Style,ie.StyleProperty],[it.LegacyAnimation,ie.LegacyAnimation],[it.Animation,ie.Animation]]);function V9(n){return ho(n.tagName??"")[1]===jl}function Fs(n){if(n==null)return null;if(!(n instanceof yi))throw Error(`Expected i18n meta to be a Message, but got: ${n.constructor.name}`);return n}function j9(n,e,t){let i=new Array,r=new Set;for(let o of t.attributes){let s=Vl.securityContext(t.name,o.name,!0);i.push(Zl(e.xref,ie.Attribute,o.name,Aw(n.job,o.value,o.i18n),null,s,!0,!1,null,Fs(o.i18n),o.sourceSpan)),o.i18n&&r.add(o.name)}for(let o of t.inputs)r.has(o.name)&&console.error(`On component ${n.job.componentName}, the binding ${o.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),i.push(Zl(e.xref,dR.get(o.type),o.name,Aw(n.job,Ph(o.value),o.i18n),o.unit,o.securityContext,!1,!1,null,Fs(o.i18n)??null,o.sourceSpan));n.create.push(i.filter(o=>o?.kind===C.ExtractedAttribute)),n.update.push(i.filter(o=>o?.kind===C.Binding));for(let o of t.outputs){if(o.type===_i.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");o.type===_i.TwoWay?n.create.push(ON(e.xref,e.handle,o.name,e.tag,pR(n,o.handler,o.handlerSpan),o.sourceSpan)):o.type===_i.Animation?n.create.push(PN(e.xref,e.handle,o.name,e.tag,Rh(n,o.handler,o.handlerSpan),o.name.endsWith("enter")?"enter":"leave",o.target,!1,o.sourceSpan)):n.create.push(aE(e.xref,e.handle,o.name,e.tag,Rh(n,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))}i.some(o=>o?.i18nMessage)!==null&&n.create.push(LN(n.job.allocateXrefId(),new Wn,e.xref))}function q9(n,e,t,i){let r=new Array;for(let o of t.templateAttrs)if(o instanceof id){let s=Vl.securityContext(jl,o.name,!0);r.push(z0(n,e.xref,it.Attribute,o.name,o.value,null,s,!0,i,Fs(o.i18n),o.sourceSpan))}else r.push(z0(n,e.xref,o.type,o.name,Ph(o.value),o.unit,o.securityContext,!0,i,Fs(o.i18n),o.sourceSpan));for(let o of t.attributes){let s=Vl.securityContext(jl,o.name,!0);r.push(z0(n,e.xref,it.Attribute,o.name,o.value,null,s,!1,i,Fs(o.i18n),o.sourceSpan))}for(let o of t.inputs)r.push(z0(n,e.xref,o.type,o.name,Ph(o.value),o.unit,o.securityContext,!1,i,Fs(o.i18n),o.sourceSpan));n.create.push(r.filter(o=>o?.kind===C.ExtractedAttribute)),n.update.push(r.filter(o=>o?.kind===C.Binding));for(let o of t.outputs){if(o.type===_i.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");if(i===Oi.NgTemplate&&(o.type===_i.TwoWay?n.create.push(ON(e.xref,e.handle,o.name,e.tag,pR(n,o.handler,o.handlerSpan),o.sourceSpan)):n.create.push(aE(e.xref,e.handle,o.name,e.tag,Rh(n,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))),i===Oi.Structural&&o.type!==_i.LegacyAnimation){let s=Vl.securityContext(jl,o.name,!1);n.create.push(Ir(e.xref,ie.Property,null,o.name,null,null,null,s))}}r.some(o=>o?.i18nMessage)!==null&&n.create.push(LN(n.job.allocateXrefId(),new Wn,e.xref))}function z0(n,e,t,i,r,o,s,a,l,c,u){let m=typeof r=="string";if(l===Oi.Structural){if(!a)switch(t){case it.Property:case it.Class:case it.Style:return Ir(e,ie.Property,null,i,null,null,c,s);case it.TwoWay:return Ir(e,ie.TwoWayProperty,null,i,null,null,c,s)}if(!m&&(t===it.Attribute||t===it.LegacyAnimation||t===it.Animation))return null}let y=dR.get(t);return l===Oi.NgTemplate&&(t===it.Class||t===it.Style||t===it.Attribute&&!m)&&(y=ie.Property),Zl(e,y,i,Aw(n.job,r,c),o,s,m,a,l,c,u)}function Rh(n,e,t){e=Ph(e);let i=new Array,r=e instanceof ed?e.expressions:[e];if(r.length===0)throw new Error("Expected listener to have non-empty expression list.");let o=r.map(a=>Ve(a,n.job,t)),s=o.pop();return i.push(...o.map(a=>Fr(new Pr(a,a.sourceSpan)))),i.push(Fr(new $n(s,s.sourceSpan))),i}function pR(n,e,t){e=Ph(e);let i=new Array;if(e instanceof ed)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let r=Ve(e,n.job,t),o=new jn("$event"),s=new qv(r,o);return i.push(Fr(new Pr(s))),i.push(Fr(new $n(o))),i}function Ph(n){return n instanceof sr?n.ast:n}function fR(n,e){U9(n.localRefs);for(let{name:t,value:i}of e.references)n.localRefs.push({name:t,target:i})}function U9(n){if(!Array.isArray(n))throw new Error("AssertionError: expected an array")}function fn(n,e){if(e===null)return null;let t=e.start.moveBy(n.start),i=e.start.moveBy(n.end),r=e.fullStart.moveBy(n.start);return new Te(t,i,r)}function a_(n,e,t){let i=null;for(let r of t.children)if(!(r instanceof g_||r instanceof Xw)){if(i!==null)return null;if(r instanceof Zo||r instanceof dr&&r.tagName!==null)i=r;else return null}if(i!==null){for(let o of i.attributes)if(!o.name.startsWith(x9)){let s=Vl.securityContext(jl,o.name,!0);n.update.push(Zl(e,ie.Attribute,o.name,U(o.value),null,s,!0,!1,null,Fs(o.i18n),o.sourceSpan))}for(let o of i.inputs)if(o.type!==it.LegacyAnimation&&o.type!==it.Animation&&o.type!==it.Attribute){let s=Vl.securityContext(jl,o.name,!0);n.create.push(Ir(e,ie.Property,null,o.name,null,null,null,s))}let r=i instanceof Zo?i.name:i.tagName;return r===jl?null:r}return null}var $9=!1;function H9(){return $9}function l_(n,e){return h_(je(eE).bitwiseAnd(U(n),null),e)}function z9(n){return(n.descendants?1:0)|(n.static?2:0)|(n.emitDistinctChangesOnly?4:0)}function W9(n,e){if(Array.isArray(n.predicate)){let t=[];return n.predicate.forEach(i=>{let r=i.split(",").map(o=>U(o.trim()));t.push(...r)}),e.getConstLiteral(at(t),!0)}else switch(n.predicate.forwardRef){case 0:case 2:return n.predicate.expression;case 1:return oe(P.resolveForwardRef).callFn([n.predicate.expression])}}function hR(n,e,t,i){let r=[];i!==void 0&&r.push(...i),n.isSignal&&r.push(new fr(je(mh),n.propertyName)),r.push(W9(n,e),U(z9(n))),n.read&&r.push(n.read);let o=n.isSignal?t.signalBased:t.nonSignal;return oe(o).callFn(r)}var fE=Symbol("queryAdvancePlaceholder");function mR(n){let e=[],t=0,i=()=>{t>0&&(e.unshift(oe(P.queryAdvance).callFn(t===1?[]:[U(t)]).toStmt()),t=0)};for(let r=n.length-1;r>=0;r--){let o=n[r];o===fE?t++:(i(),e.unshift(o))}return i(),e}function G9(n,e,t){let i=[],r=[],o=sN(a=>r.push(a),Kw);n.forEach(a=>{let l=hR(a,e,{signalBased:P.viewQuerySignal,nonSignal:P.viewQuery});if(i.push(l.toStmt()),a.isSignal){r.push(fE);return}let c=o(),u=oe(P.loadQuery).callFn([]),m=oe(P.queryRefresh).callFn([c.set(u)]),y=je(mh).prop(a.propertyName).set(a.first?c.prop("first"):c);r.push(m.and(y).toStmt())});let s=t?`${t}_Query`:null;return Ta([new Dn(eE,Qw),new Dn(mh,null)],[l_(1,i),l_(2,mR(r))],cr,null,s)}function Q9(n,e,t){let i=[],r=[],o=sN(a=>r.push(a),Kw);for(let a of n){if(i.push(hR(a,e,{nonSignal:P.contentQuery,signalBased:P.contentQuerySignal},[je("dirIndex")]).toStmt()),a.isSignal){r.push(fE);continue}let l=o(),c=oe(P.loadQuery).callFn([]),u=oe(P.queryRefresh).callFn([l.set(c)]),m=je(mh).prop(a.propertyName).set(a.first?l.prop("first"):l);r.push(u.and(m).toStmt())}let s=t?`${t}_ContentQueries`:null;return Ta([new Dn(eE,Qw),new Dn(mh,null),new Dn("dirIndex",null)],[l_(1,i),l_(2,mR(r))],cr,null,s)}var Tw=class extends wU{constructor(){super(xw)}parse(e,t,i){return super.parse(e,t,i)}},W0=".",Y9="attr",dC="animate",Z9="class",X9="style",J9="*",pC="animate-",Iw=class{_exprParser;_interpolationConfig;_schemaRegistry;errors;constructor(e,t,i,r){this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=i,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,t){let i=[];for(let r of Object.keys(e)){let o=e[r];typeof o=="string"?this.parsePropertyBinding(r,o,!0,!1,t,t.start.offset,void 0,[],i,t):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${o}" (${typeof o})`,t)}return i}createDirectiveHostEventAsts(e,t){let i=[];for(let r of Object.keys(e)){let o=e[r];typeof o=="string"?this.parseEvent(r,o,!1,t,t,[],i,t):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${o}" (${typeof o})`,t)}return i}parseInterpolation(e,t,i){let r=t.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,t,r,i,this._interpolationConfig);return o&&this.errors.push(...o.errors),o}catch(o){return this._reportError(`${o}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,r)}}parseInterpolationExpression(e,t){let i=t.start.offset;try{let r=this._exprParser.parseInterpolationExpression(e,t,i);return r&&this.errors.push(...r.errors),r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)}}parseInlineTemplateBinding(e,t,i,r,o,s,a,l){let c=i.start.offset+J9.length,u=this._parseTemplateBindings(e,t,i,c,r);for(let m of u){let y=_a(i,m.sourceSpan),v=m.key.source,w=_a(i,m.key.span);if(m instanceof sh){let D=m.value?m.value.source:"$implicit",I=m.value?_a(i,m.value.span):void 0;a.push(new PC(v,D,y,w,I))}else if(m.value){let D=l?y:i,I=_a(i,m.value.ast.sourceSpan);this._parsePropertyAst(v,m.value,!1,D,w,I,o,s)}else o.push([v,""]),this.parseLiteralAttr(v,null,w,r,void 0,o,s,w)}}_parseTemplateBindings(e,t,i,r,o){try{let s=this._exprParser.parseTemplateBindings(e,t,i,r,o);return s.errors.forEach(a=>this.errors.push(a)),s.warnings.forEach(a=>{this._reportError(a,i,Ea.WARNING)}),s.templateBindings}catch(s){return this._reportError(`${s}`,i),[]}}parseLiteralAttr(e,t,i,r,o,s,a,l){fC(e)?(e=e.substring(1),l!==void 0&&(l=_a(l,new ur(l.start.offset+1,l.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',i,Ea.ERROR),this._parseLegacyAnimation(e,t,i,r,l,o,s,a)):a.push(new ju(e,this._exprParser.wrapLiteralPrimitive(t,"",r),Uo.LITERAL_ATTR,i,l,o))}parsePropertyBinding(e,t,i,r,o,s,a,l,c,u){e.length===0&&this._reportError("Property name is missing in binding",o);let m=!1;e.startsWith(pC)?(m=!0,e=e.substring(pC.length),u!==void 0&&(u=_a(u,new ur(u.start.offset+pC.length,u.end.offset)))):fC(e)&&(m=!0,e=e.substring(1),u!==void 0&&(u=_a(u,new ur(u.start.offset+1,u.end.offset)))),m?this._parseLegacyAnimation(e,t,o,s,u,a,l,c):e.startsWith(`${dC}${W0}`)?this._parseAnimation(e,this.parseBinding(t,i,a||o,s),o,u,a,l,c):this._parsePropertyAst(e,this.parseBinding(t,i,a||o,s),r,o,u,a,l,c)}parsePropertyInterpolation(e,t,i,r,o,s,a,l){let c=this.parseInterpolation(t,r||i,l);return c?(this._parsePropertyAst(e,c,!1,i,a,r,o,s),!0):!1}_parsePropertyAst(e,t,i,r,o,s,a,l){a.push([e,t.source]),l.push(new ju(e,t,i?Uo.TWO_WAY:Uo.DEFAULT,r,o,s))}_parseAnimation(e,t,i,r,o,s,a){s.push([e,t.source]),a.push(new ju(e,t,Uo.ANIMATION,i,r,o))}_parseLegacyAnimation(e,t,i,r,o,s,a,l){e.length===0&&this._reportError("Animation trigger is missing",i);let c=this.parseBinding(t||"undefined",!1,s||i,r);a.push([e,c.source]),l.push(new ju(e,c,Uo.LEGACY_ANIMATION,i,o,s))}parseBinding(e,t,i,r){try{let o=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return o&&this.errors.push(...o.errors),o}catch(o){return this._reportError(`${o}`,i),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(e,t,i=!1,r=!0){if(t.isLegacyAnimation)return new Cv(t.name,it.LegacyAnimation,Et.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let o=null,s,a=null,l=t.name.split(W0),c;if(l.length>1)if(l[0]==Y9){a=l.slice(1).join(W0),i||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),c=hC(this._schemaRegistry,e,a,!0);let u=a.indexOf(":");if(u>-1){let m=a.substring(0,u),y=a.substring(u+1);a=Y0(m,y)}s=it.Attribute}else l[0]==Z9?(a=l[1],s=it.Class,c=[Et.NONE]):l[0]==X9?(o=l.length>2?l[2]:null,a=l[1],s=it.Style,c=[Et.STYLE]):l[0]==dC&&(a=t.name,s=it.Animation,c=[Et.NONE]);if(a===null){let u=this._schemaRegistry.getMappedPropName(t.name);a=r?u:t.name,c=hC(this._schemaRegistry,e,u,!1),s=t.type===Uo.TWO_WAY?it.TwoWay:it.Property,i||this._validatePropertyOrAttributeName(u,t.sourceSpan,!1)}return new Cv(a,s,c[0],t.expression,o,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,i,r,o,s,a,l){e.length===0&&this._reportError("Event name is missing in binding",r),fC(e)?(e=e.slice(1),l!==void 0&&(l=_a(l,new ur(l.start.offset+1,l.end.offset))),this._parseLegacyAnimationEvent(e,t,r,o,a,l)):this._parseRegularEvent(e,t,i,r,o,s,a,l)}calcPossibleSecurityContexts(e,t,i){let r=this._schemaRegistry.getMappedPropName(t);return hC(this._schemaRegistry,e,r,i)}parseEventListenerName(e){let[t,i]=Y5(e,[null,e]);return{eventName:i,target:t}}parseLegacyAnimationEventName(e){let t=Z5(e,[e,null]);return{eventName:t[0],phase:t[1]===null?null:t[1].toLowerCase()}}_parseLegacyAnimationEvent(e,t,i,r,o,s){let{eventName:a,phase:l}=this.parseLegacyAnimationEventName(e),c=this._parseAction(t,r);o.push(new xv(a,l,_i.LegacyAnimation,c,i,r,s)),a.length===0&&this._reportError("Animation event name is missing in binding",i),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,i):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,i)}_parseRegularEvent(e,t,i,r,o,s,a,l){let{eventName:c,target:u}=this.parseEventListenerName(e),m=this.errors.length,y=this._parseAction(t,o),v=this.errors.length===m;s.push([e,y.source]),i&&v&&!this._isAllowedAssignmentEvent(y)&&this._reportError("Unsupported expression in a two-way binding",r);let w=_i.Regular;i&&(w=_i.TwoWay),e.startsWith(`${dC}${W0}`)&&(w=_i.Animation),a.push(new xv(c,u,w,y,r,o,l))}_parseAction(e,t){let i=t&&t.start?t.start.offset:0;try{let r=this._exprParser.parseAction(e,t,i,this._interpolationConfig);return r&&this.errors.push(...r.errors),!r||r.ast instanceof Mi?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)):r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)}}_reportError(e,t,i=Ea.ERROR){this.errors.push(new Ce(t,e,i))}_validatePropertyOrAttributeName(e,t,i){let r=i?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,Ea.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof sr?this._isAllowedAssignmentEvent(e.ast):e instanceof nh?this._isAllowedAssignmentEvent(e.expression):e instanceof td&&e.args.length===1&&e.receiver instanceof Ls&&e.receiver.name==="$any"&&e.receiver.receiver instanceof Yo&&!(e.receiver.receiver instanceof Wl)?this._isAllowedAssignmentEvent(e.args[0]):(e instanceof Ls||e instanceof Gl)&&!kw(e)}};function kw(n){return n instanceof Xf||n instanceof Jf?!0:n instanceof oh?kw(n.expression):n instanceof Ls||n instanceof Gl||n instanceof td?kw(n.receiver):!1}function fC(n){return n[0]=="@"}function hC(n,e,t,i){let r,o=s=>n.securityContext(s,t,i);return e===null?r=n.allKnownElementNames().map(o):(r=[],Zu.parse(e).forEach(s=>{let a=s.element?[s.element]:n.allKnownElementNames(),l=new Set(s.notSelectors.filter(u=>u.isElementSelector()).map(u=>u.element)),c=a.filter(u=>!l.has(u));r.push(...c.map(o))})),r.length===0?[Et.NONE]:Array.from(new Set(r)).sort()}function _a(n,e){let t=e.start-n.start.offset,i=e.end-n.end.offset;return new Te(n.start.moveBy(t),n.end.moveBy(i),n.fullStart.moveBy(t),n.details)}function K9(n){if(n==null||n.length===0||n[0]=="/")return!1;let e=n.match(ez);return e===null||e[1]=="package"||e[1]=="asset"}var ez=/^([^:/?#]+):/,tz="select",nz="link",iz="rel",rz="href",oz="stylesheet",sz="style",az="script",lz="ngNonBindable",cz="ngProjectAs";function gR(n){let e=null,t=null,i=null,r=!1,o="";n.attrs.forEach(l=>{let c=l.name.toLowerCase();c==tz?e=l.value:c==rz?t=l.value:c==iz?i=l.value:l.name==lz?r=!0:l.name==cz&&l.value.length>0&&(o=l.value)}),e=uz(e);let s=n.name.toLowerCase(),a=lr.OTHER;return OC(s)?a=lr.NG_CONTENT:s==sz?a=lr.STYLE:s==az?a=lr.SCRIPT:s==nz&&i==oz&&(a=lr.STYLESHEET),new Mw(a,e,t,r,o)}var lr=(function(n){return n[n.NG_CONTENT=0]="NG_CONTENT",n[n.STYLE=1]="STYLE",n[n.STYLESHEET=2]="STYLESHEET",n[n.SCRIPT=3]="SCRIPT",n[n.OTHER=4]="OTHER",n})(lr||{}),Mw=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,t,i,r,o){this.type=e,this.selectAttr=t,this.hrefAttr=i,this.nonBindable=r,this.projectAs=o}};function uz(n){return n===null||n.length===0?"*":n}var dz=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,pz=/^track\s+([\S\s]*)/,fz=/^(as\s+)(.*)/,x_=/^else[^\S\r\n]+if/,hz=/^let\s+([\S\s]*)/,mz=/^[$A-Z_][0-9A-Z_$]*$/i,AM=/(\s*)(\S+)(\s*)/,$f=new Set(["$index","$first","$last","$even","$odd","$count"]);function TM(n){return n==="empty"}function IM(n){return n==="else"||x_.test(n)}function gz(n,e,t,i){let r=xz(e),o=[],s=kM(n,r,i);s!==null&&o.push(new Ol(s.expression,Mt(t,n.children,n.children),s.expressionAlias,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan,n.i18n));for(let m of e)if(x_.test(m.name)){let y=kM(m,r,i);if(y!==null){let v=Mt(t,m.children,m.children);o.push(new Ol(y.expression,v,y.expressionAlias,m.sourceSpan,m.startSourceSpan,m.endSourceSpan,m.nameSpan,m.i18n))}}else if(m.name==="else"){let y=Mt(t,m.children,m.children);o.push(new Ol(null,y,null,m.sourceSpan,m.startSourceSpan,m.endSourceSpan,m.nameSpan,m.i18n))}let a=o.length>0?o[0].startSourceSpan:n.startSourceSpan,l=o.length>0?o[o.length-1].endSourceSpan:n.endSourceSpan,c=n.sourceSpan,u=o[o.length-1];return u!==void 0&&(c=new Te(a.start,u.sourceSpan.end)),{node:new Tv(o,c,n.startSourceSpan,l,n.nameSpan),errors:r}}function vz(n,e,t,i){let r=[],o=yz(n,r,i),s=null,a=null;for(let l of e)l.name==="empty"?a!==null?r.push(new Ce(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?r.push(new Ce(l.sourceSpan,"@empty block cannot have parameters")):a=new dh(Mt(t,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):r.push(new Ce(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(o!==null)if(o.trackBy===null)r.push(new Ce(n.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??n.endSourceSpan,c=new Te(n.sourceSpan.start,l?.end??n.sourceSpan.end);s=new rd(o.itemName,o.expression,o.trackBy.expression,o.trackBy.keywordSpan,o.context,Mt(t,n.children,n.children),a,c,n.sourceSpan,n.startSourceSpan,l,n.nameSpan,n.i18n)}return{node:s,errors:r}}function _z(n,e,t){let i=Cz(n),r=n.parameters.length>0?Oh(n.parameters[0],t):t.parseBinding("",!1,n.sourceSpan,0),o=[],s=[],a=null;for(let l of n.children){if(!(l instanceof Ar))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){s.push(new Iv(l.name,l.sourceSpan,l.nameSpan));continue}let c=l.name==="case"?Oh(l.parameters[0],t):null,u=new uh(c,Mt(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);c===null?a=u:o.push(u)}return a!==null&&o.push(a),{node:new Av(r,o,s,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan),errors:i}}function yz(n,e,t){if(n.parameters.length===0)return e.push(new Ce(n.startSourceSpan,"@for loop does not have an expression")),null;let[i,...r]=n.parameters,o=wz(i,e)?.match(dz);if(!o||o[2].trim().length===0)return e.push(new Ce(i.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,s,a]=o;$f.has(s)&&e.push(new Ce(i.sourceSpan,`@for loop item name cannot be one of ${Array.from($f).join(", ")}.`));let l=i.expression.split(" ")[0],c=new Te(i.sourceSpan.start,i.sourceSpan.start.moveBy(l.length)),u={itemName:new Ia(s,"$implicit",c,c),trackBy:null,expression:Oh(i,t,a),context:Array.from($f,m=>{let y=new Te(n.startSourceSpan.end,n.startSourceSpan.end);return new Ia(m,m,y,y)})};for(let m of r){let y=m.expression.match(hz);if(y!==null){let w=new Te(m.sourceSpan.start.moveBy(y[0].length-y[1].length),m.sourceSpan.end);bz(m.sourceSpan,y[1],w,s,u.context,e);continue}let v=m.expression.match(pz);if(v!==null){if(u.trackBy!==null)e.push(new Ce(m.sourceSpan,'@for loop can only have one "track" expression'));else{let w=Oh(m,t,v[1]);w.ast instanceof Mi&&e.push(new Ce(n.startSourceSpan,'@for loop must have a "track" expression'));let D=new Te(m.sourceSpan.start,m.sourceSpan.start.moveBy(5));u.trackBy={expression:w,keywordSpan:D}}continue}e.push(new Ce(m.sourceSpan,`Unrecognized @for loop parameter "${m.expression}"`))}return u}function bz(n,e,t,i,r,o){let s=e.split(","),a=t.start;for(let l of s){let c=l.split("="),u=c.length===2?c[0].trim():"",m=c.length===2?c[1].trim():"";if(u.length===0||m.length===0)o.push(new Ce(n,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!$f.has(m))o.push(new Ce(n,`Unknown "let" parameter variable "${m}". The allowed variables are: ${Array.from($f).join(", ")}`));else if(u===i)o.push(new Ce(n,`Invalid @for loop "let" parameter. Variable cannot be called "${i}"`));else if(r.some(y=>y.name===u))o.push(new Ce(n,`Duplicate "let" parameter variable "${m}"`));else{let[,y,v]=c[0].match(AM)??[],w=y!==void 0&&c.length===2?new Te(a.moveBy(y.length),a.moveBy(y.length+v.length)):t,D;if(c.length===2){let[,M,q]=c[1].match(AM)??[];D=M!==void 0?new Te(a.moveBy(c[0].length+1+M.length),a.moveBy(c[0].length+1+M.length+q.length)):void 0}let I=new Te(w.start,D?.end??w.end);r.push(new Ia(u,m,I,w,D))}a=a.moveBy(l.length+1)}}function xz(n){let e=[],t=!1;for(let i=0;i<n.length;i++){let r=n[i];r.name==="else"?(t?e.push(new Ce(r.startSourceSpan,"Conditional can only have one @else block")):n.length>1&&i<n.length-1?e.push(new Ce(r.startSourceSpan,"@else block must be last inside the conditional")):r.parameters.length>0&&e.push(new Ce(r.startSourceSpan,"@else block cannot have parameters")),t=!0):x_.test(r.name)||e.push(new Ce(r.startSourceSpan,`Unrecognized conditional block @${r.name}`))}return e}function Cz(n){let e=[],t=!1;if(n.parameters.length!==1)return e.push(new Ce(n.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let i of n.children)if(!(i instanceof Ih||i instanceof ec&&i.value.trim().length===0)){if(!(i instanceof Ar)||i.name!=="case"&&i.name!=="default"){e.push(new Ce(i.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}i.name==="default"?(t?e.push(new Ce(i.startSourceSpan,"@switch block can only have one @default block")):i.parameters.length>0&&e.push(new Ce(i.startSourceSpan,"@default block cannot have parameters")),t=!0):i.name==="case"&&i.parameters.length!==1&&e.push(new Ce(i.startSourceSpan,"@case block must have exactly one parameter"))}return e}function Oh(n,e,t){let i,r;return typeof t=="string"?(i=Math.max(0,n.expression.lastIndexOf(t)),r=i+t.length):(i=0,r=n.expression.length),e.parseBinding(n.expression.slice(i,r),!1,n.sourceSpan,n.sourceSpan.start.offset+i)}function kM(n,e,t){if(n.parameters.length===0)return e.push(new Ce(n.startSourceSpan,"Conditional block does not have an expression")),null;let i=Oh(n.parameters[0],t),r=null;for(let o=1;o<n.parameters.length;o++){let s=n.parameters[o],a=s.expression.match(fz);if(a===null)e.push(new Ce(s.sourceSpan,`Unrecognized conditional parameter "${s.expression}"`));else if(n.name!=="if"&&!x_.test(n.name))e.push(new Ce(s.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'));else if(r!==null)e.push(new Ce(s.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(mz.test(l)){let c=s.sourceSpan.start.moveBy(a[1].length),u=new Te(c,c.moveBy(l.length));r=new Ia(l,l,u,u)}else e.push(new Ce(s.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:i,expressionAlias:r}}function wz(n,e){let t=n.expression,i=/^\s$/,r=0,o=0,s=t.length-1;for(let a=0;a<t.length;a++){let l=t[a];if(l==="(")o=a+1,r++;else{if(i.test(l))continue;break}}if(r===0)return t;for(let a=t.length-1;a>-1;a--){let l=t[a];if(l===")"){if(s=a,r--,r===0)break}else{if(i.test(l))continue;break}}return r!==0?(e.push(new Ce(n.sourceSpan,"Unclosed parentheses in expression")),null):t.slice(o,s)}var Ez=/^\d+\.?\d*(ms|s)?$/,Sz=/^\s$/,MM=new Map([[lo,Ri],[Aa,Nl],[co,vi]]),Pi=(function(n){return n.IDLE="idle",n.TIMER="timer",n.INTERACTION="interaction",n.IMMEDIATE="immediate",n.HOVER="hover",n.VIEWPORT="viewport",n.NEVER="never",n})(Pi||{});function Dz({expression:n,sourceSpan:e},t,i){let r=n.indexOf("never"),o=new Te(e.start.moveBy(r),e.start.moveBy(r+5)),s=hE(n,e),a=mE(n,e);r===-1?i.push(new Ce(e,'Could not find "never" keyword in expression')):gE("never",t,i,new VC(o,e,s,null,a))}function mC({expression:n,sourceSpan:e},t,i,r){let o=n.indexOf("when"),s=new Te(e.start.moveBy(o),e.start.moveBy(o+4)),a=hE(n,e),l=mE(n,e);if(o===-1)r.push(new Ce(e,'Could not find "when" keyword in expression'));else{let c=Fh(n,o+1),u=t.parseBinding(n.slice(c),!1,e,e.start.offset+c);gE("when",i,r,new wv(u,e,a,s,l))}}function gC({expression:n,sourceSpan:e},t,i,r){let o=n.indexOf("on"),s=new Te(e.start.moveBy(o),e.start.moveBy(o+2)),a=hE(n,e),l=mE(n,e);if(o===-1)i.push(new Ce(e,'Could not find "on" keyword in expression'));else{let c=Fh(n,o+1);new Nw(n,c,e,t,i,n.startsWith("hydrate")?Pz:Rz,r,a,s,l).parse()}}function hE(n,e){return n.startsWith("prefetch")?new Te(e.start,e.start.moveBy(8)):null}function mE(n,e){return n.startsWith("hydrate")?new Te(e.start,e.start.moveBy(7)):null}var Nw=class{expression;start;span;triggers;errors;validator;placeholder;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,t,i,r,o,s,a,l,c,u){this.expression=e,this.start=t,this.span=i,this.triggers=r,this.errors=o,this.validator=s,this.placeholder=a,this.prefetchSpan=l,this.onSourceSpan=c,this.hydrateSpan=u,this.tokens=new Nh().tokenize(e.slice(t))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(Mr))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(co)){this.advance();let t=this.errors.length,i=this.consumeParameters();if(this.errors.length!==t)break;this.consumeTrigger(e,i),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,t){let i=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),r=new Te(i,i.moveBy(e.strValue.length)),o=i.moveBy(this.token().end-e.index),s=e.index===0,a=s?this.onSourceSpan:null,l=s?this.prefetchSpan:null,c=s?this.hydrateSpan:null,u=new Te(s?this.span.start:i,o);try{switch(e.toString()){case Pi.IDLE:this.trackTrigger("idle",Az(t,r,u,l,a,c));break;case Pi.TIMER:this.trackTrigger("timer",Tz(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Pi.INTERACTION:this.trackTrigger("interaction",Mz(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case Pi.IMMEDIATE:this.trackTrigger("immediate",Iz(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case Pi.HOVER:this.trackTrigger("hover",kz(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case Pi.VIEWPORT:this.trackTrigger("viewport",Nz(t,r,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(m){this.error(e,m.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(co))return this.unexpectedToken(this.token()),e;this.advance();let t=[],i="";for(;this.index<this.tokens.length;){let r=this.token();if(r.isCharacter(vi)&&t.length===0){i.length&&e.push(i);break}if(r.type===Fe.Character&&MM.has(r.numValue)&&t.push(MM.get(r.numValue)),t.length>0&&r.isCharacter(t[t.length-1])&&t.pop(),t.length===0&&r.isCharacter(Mr)&&i.length>0){e.push(i),i="",this.advance();continue}i+=this.tokenText(),this.advance()}return(!this.token().isCharacter(vi)||t.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(Mr)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,t){gE(e,this.triggers,this.errors,t)}error(e,t){let i=this.span.start.moveBy(this.start+e.index),r=i.moveBy(e.end-e.index);this.errors.push(new Ce(new Te(i,r),t))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function gE(n,e,t,i){e[n]?t.push(new Ce(i.sourceSpan,`Duplicate "${n}" trigger is not allowed`)):e[n]=i}function Az(n,e,t,i,r,o){if(n.length>0)throw new Error(`"${Pi.IDLE}" trigger cannot have parameters`);return new jC(e,t,i,r,o)}function Tz(n,e,t,i,r,o){if(n.length!==1)throw new Error(`"${Pi.TIMER}" trigger must have exactly one parameter`);let s=c_(n[0]);if(s===null)throw new Error(`Could not parse time value of trigger "${Pi.TIMER}"`);return new UC(s,e,t,i,r,o)}function Iz(n,e,t,i,r,o){if(n.length>0)throw new Error(`"${Pi.IMMEDIATE}" trigger cannot have parameters`);return new qC(e,t,i,r,o)}function kz(n,e,t,i,r,o,s,a){return a(Pi.HOVER,n),new Ev(n[0]??null,e,t,i,r,o)}function Mz(n,e,t,i,r,o,s){return s(Pi.INTERACTION,n),new Sv(n[0]??null,e,t,i,r,o)}function Nz(n,e,t,i,r,o,s){return s(Pi.VIEWPORT,n),new Dv(n[0]??null,e,t,i,r,o)}function Rz(n,e){if(e.length>1)throw new Error(`"${n}" trigger can only have zero or one parameters`)}function Pz(n,e){if(e.length>0)throw new Error(`Hydration trigger "${n}" cannot have parameters`)}function Fh(n,e=0){let t=!1;for(let i=e;i<n.length;i++)if(Sz.test(n[i]))t=!0;else if(t)return i;return-1}function c_(n){let e=n.match(Ez);if(!e)return null;let[t,i]=e;return parseFloat(t)*(i==="s"?1e3:1)}var Oz=/^prefetch\s+when\s/,Fz=/^prefetch\s+on\s/,Lz=/^hydrate\s+when\s/,Bz=/^hydrate\s+on\s/,Vz=/^hydrate\s+never(\s*)$/,vR=/^minimum\s/,jz=/^after\s/,qz=/^when\s/,Uz=/^on\s/;function Rw(n){return n==="placeholder"||n==="loading"||n==="error"}function $z(n,e,t,i){let r=[],{placeholder:o,loading:s,error:a}=Hz(e,r,t),{triggers:l,prefetchTriggers:c,hydrateTriggers:u}=Qz(n,i,r,o),m=n.endSourceSpan,y=n.sourceSpan.end;if(e.length>0){let D=e[e.length-1];m=D.endSourceSpan,y=D.sourceSpan.end}let v=new Te(n.sourceSpan.start,y);return{node:new Ql(Mt(t,n.children,n.children),l,c,u,o,s,a,n.nameSpan,v,n.sourceSpan,n.startSourceSpan,m,n.i18n),errors:r}}function Hz(n,e,t){let i=null,r=null,o=null;for(let s of n)try{if(!Rw(s.name)){e.push(new Ce(s.startSourceSpan,`Unrecognized block "@${s.name}"`));break}switch(s.name){case"placeholder":i!==null?e.push(new Ce(s.startSourceSpan,"@defer block can only have one @placeholder block")):i=zz(s,t);break;case"loading":r!==null?e.push(new Ce(s.startSourceSpan,"@defer block can only have one @loading block")):r=Wz(s,t);break;case"error":o!==null?e.push(new Ce(s.startSourceSpan,"@defer block can only have one @error block")):o=Gz(s,t);break}}catch(a){e.push(new Ce(s.startSourceSpan,a.message))}return{placeholder:i,loading:r,error:o}}function zz(n,e){let t=null;for(let i of n.parameters)if(vR.test(i.expression)){if(t!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let r=c_(i.expression.slice(Fh(i.expression)));if(r===null)throw new Error('Could not parse time value of parameter "minimum"');t=r}else throw new Error(`Unrecognized parameter in @placeholder block: "${i.expression}"`);return new ah(Mt(e,n.children,n.children),t,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function Wz(n,e){let t=null,i=null;for(let r of n.parameters)if(jz.test(r.expression)){if(t!=null)throw new Error('@loading block can only have one "after" parameter');let o=c_(r.expression.slice(Fh(r.expression)));if(o===null)throw new Error('Could not parse time value of parameter "after"');t=o}else if(vR.test(r.expression)){if(i!=null)throw new Error('@loading block can only have one "minimum" parameter');let o=c_(r.expression.slice(Fh(r.expression)));if(o===null)throw new Error('Could not parse time value of parameter "minimum"');i=o}else throw new Error(`Unrecognized parameter in @loading block: "${r.expression}"`);return new lh(Mt(e,n.children,n.children),t,i,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function Gz(n,e){if(n.parameters.length>0)throw new Error("@error block cannot have parameters");return new ch(Mt(e,n.children,n.children),n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function Qz(n,e,t,i){let r={},o={},s={};for(let a of n.parameters)qz.test(a.expression)?mC(a,e,r,t):Uz.test(a.expression)?gC(a,r,t,i):Oz.test(a.expression)?mC(a,e,o,t):Fz.test(a.expression)?gC(a,o,t,i):Lz.test(a.expression)?mC(a,e,s,t):Bz.test(a.expression)?gC(a,s,t,i):Vz.test(a.expression)?Dz(a,s,t):t.push(new Ce(a.sourceSpan,"Unrecognized trigger"));return s.never&&Object.keys(s).length>1&&t.push(new Ce(n.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:r,prefetchTriggers:o,hydrateTriggers:s}}var Yz=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,NM=1,RM=2,PM=3,OM=4,FM=5,Zz=6,kf=7,ya={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},vC="*",Xz=new Set(["link","style","script","ng-template","ng-container","ng-content"]),Jz=new Set(["ngProjectAs","ngNonBindable"]);function Kz(n,e,t){let i=new Pw(e,t),r=Mt(i,n,n),o=e.errors.concat(i.errors),s={nodes:r,errors:o,styleUrls:i.styleUrls,styles:i.styles,ngContentSelectors:i.ngContentSelectors};return t.collectCommentNodes&&(s.commentNodes=i.commentNodes),s}var Pw=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,t){this.bindingParser=e,this.options=t}visitElement(e){let t=K0(e.i18n);t&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let i=gR(e);if(i.type===lr.SCRIPT)return null;if(i.type===lr.STYLE){let M=eW(e);return M!==null&&this.styles.push(M),null}else if(i.type===lr.STYLESHEET&&K9(i.hrefAttr))return this.styleUrls.push(i.hrefAttr),null;let r=vj(e.name),{attributes:o,boundEvents:s,references:a,variables:l,templateVariables:c,elementHasInlineTemplate:u,parsedProperties:m,templateParsedProperties:y,i18nAttrsMeta:v}=this.prepareAttributes(e.attrs,r),w=this.extractDirectives(e),D;i.nonBindable?D=Mt(LM,e.children).flat(1/0):D=Mt(this,e.children,e.children);let I;if(i.type===lr.NG_CONTENT){let M=i.selectAttr,q=e.attrs.map(G=>this.visitAttribute(G));I=new od(M,q,D,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(M)}else if(r){let M=this.categorizePropertyAttributes(e.name,m,v);I=new dr(e.name,o,M.bound,s,w,[],D,a,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let M=this.categorizePropertyAttributes(e.name,m,v);I=new Zo(e.name,o,M.bound,s,w,D,a,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n)}return u&&(I=this.wrapInTemplate(I,y,c,v,r,t)),t&&(this.inI18nBlock=!1),I}visitAttribute(e){return new id(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!K0(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let t=e.i18n,i={},r={};return Object.keys(t.placeholders).forEach(o=>{let s=t.placeholders[o];if(o.startsWith(xj)){let a=o.trim(),l=this.bindingParser.parseInterpolationExpression(s.text,s.sourceSpan);i[a]=new nd(l,s.sourceSpan)}else r[o]=this._visitTextWithInterpolation(s.text,s.sourceSpan,null)}),new nN(i,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new g_(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,t){let i=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return i.errors.length===0&&i.ast instanceof Mi&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new Xw(e.name,i,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let t=K0(e.i18n);if(t&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&Xz.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:i,boundEvents:r,references:o,templateVariables:s,elementHasInlineTemplate:a,parsedProperties:l,templateParsedProperties:c,i18nAttrsMeta:u}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(o);let m=this.extractDirectives(e),y;e.attrs.find(D=>D.name==="ngNonBindable")?y=Mt(LM,e.children).flat(1/0):y=Mt(this,e.children,e.children);let v=this.categorizePropertyAttributes(e.tagName,l,u),w=new Bf(e.componentName,e.tagName,e.fullName,i,v.bound,r,m,y,o,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return a&&(w=this.wrapInTemplate(w,c,s,u,!1,t)),t&&(this.inI18nBlock=!1),w}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,t){let i=Array.isArray(t)?t.indexOf(e):-1;if(i===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let r=null;switch(e.name){case"defer":r=$z(e,this.findConnectedBlocks(i,t,Rw),this,this.bindingParser);break;case"switch":r=_z(e,this,this.bindingParser);break;case"for":r=vz(e,this.findConnectedBlocks(i,t,TM),this,this.bindingParser);break;case"if":r=gz(e,this.findConnectedBlocks(i,t,IM),this,this.bindingParser);break;default:let o;Rw(e.name)?(o=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):TM(e.name)?(o=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):IM(e.name)?(o=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):o=`Unrecognized block @${e.name}.`,r={node:new Iv(e.name,e.sourceSpan,e.nameSpan),errors:[new Ce(e.sourceSpan,o)]};break}return this.errors.push(...r.errors),r.node}findConnectedBlocks(e,t,i){let r=[];for(let o=e+1;o<t.length;o++){let s=t[o];if(!(s instanceof Ih)){if(s instanceof ec&&s.value.trim().length===0){this.processedNodes.add(s);continue}if(!(s instanceof Ar)||!i(s.name))break;r.push(s),this.processedNodes.add(s)}}return r}categorizePropertyAttributes(e,t,i){let r=[],o=[];return t.forEach(s=>{let a=i[s.name];if(s.isLiteral)o.push(new id(s.name,s.expression.source||"",s.sourceSpan,s.keySpan,s.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,s,!0,!1);r.push(LC.fromBoundElementProperty(l,a))}}),{bound:r,literal:o}}prepareAttributes(e,t){let i=[],r=[],o=[],s=[],a=[],l={},c=[],u=[],m=!1;for(let y of e){let v=!1,w=BM(y.name),D=!1;if(y.i18n&&(l[y.name]=y.i18n),w.startsWith(vC)){m&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",y.sourceSpan),D=!0,m=!0;let I=y.value,M=w.substring(vC.length),q=[],G=y.valueSpan?y.valueSpan.fullStart.offset:y.sourceSpan.fullStart.offset+y.name.length;this.bindingParser.parseInlineTemplateBinding(M,I,y.sourceSpan,G,[],c,q,!0),u.push(...q.map(N=>new Ia(N.name,N.value,N.sourceSpan,N.keySpan,N.valueSpan)))}else v=this.parseAttribute(t,y,[],i,r,o,s);!v&&!D&&a.push(this.visitAttribute(y))}return{attributes:a,boundEvents:r,references:s,variables:o,templateVariables:u,elementHasInlineTemplate:m,parsedProperties:i,templateParsedProperties:c,i18nAttrsMeta:l}}parseAttribute(e,t,i,r,o,s,a){let l=BM(t.name),c=t.value,u=t.sourceSpan,m=t.valueSpan?t.valueSpan.fullStart.offset:u.fullStart.offset;function y(M,q,G){let N=t.name.length-l.length,X=M.start.moveBy(q.length+N),Y=X.moveBy(G.length);return new Te(X,Y,X,G)}let v=l.match(Yz);if(v){if(v[NM]!=null){let M=v[kf],q=y(u,v[NM],M);this.bindingParser.parsePropertyBinding(M,c,!1,!1,u,m,t.valueSpan,i,r,q)}else if(v[RM])if(e){let M=v[kf],q=y(u,v[RM],M);this.parseVariable(M,c,u,q,t.valueSpan,s)}else this.reportError('"let-" is only supported on ng-template elements.',u);else if(v[PM]){let M=v[kf],q=y(u,v[PM],M);this.parseReference(M,c,u,q,t.valueSpan,a)}else if(v[OM]){let M=[],q=v[kf],G=y(u,v[OM],q);this.bindingParser.parseEvent(q,c,!1,u,t.valueSpan||u,i,M,G),_C(M,o)}else if(v[FM]){let M=v[kf],q=y(u,v[FM],M);this.bindingParser.parsePropertyBinding(M,c,!1,!0,u,m,t.valueSpan,i,r,q),this.parseAssignmentEvent(M,c,u,t.valueSpan,i,o,q,m)}else if(v[Zz]){let M=y(u,"",l);this.bindingParser.parseLiteralAttr(l,c,u,m,t.valueSpan,i,r,M)}return!0}let w=null;if(l.startsWith(ya.BANANA_BOX.start)?w=ya.BANANA_BOX:l.startsWith(ya.PROPERTY.start)?w=ya.PROPERTY:l.startsWith(ya.EVENT.start)&&(w=ya.EVENT),w!==null&&l.endsWith(w.end)&&l.length>w.start.length+w.end.length){let M=l.substring(w.start.length,l.length-w.end.length),q=y(u,w.start,M);if(w.start===ya.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(M,c,!1,!0,u,m,t.valueSpan,i,r,q),this.parseAssignmentEvent(M,c,u,t.valueSpan,i,o,q,m);else if(w.start===ya.PROPERTY.start)this.bindingParser.parsePropertyBinding(M,c,!1,!1,u,m,t.valueSpan,i,r,q);else{let G=[];this.bindingParser.parseEvent(M,c,!1,u,t.valueSpan||u,i,G,q),_C(G,o)}return!0}let D=y(u,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,u,t.valueSpan,i,r,D,t.valueTokens??null)}extractDirectives(e){let t=e instanceof Ni?e.tagName:e.name,i=[],r=new Set;for(let o of e.directives){let s=!1;for(let v of o.attrs)v.name.startsWith(vC)?(s=!0,this.reportError(`Shorthand template syntax "${v.name}" is not supported inside a directive context`,v.sourceSpan)):Jz.has(v.name)&&(s=!0,this.reportError(`Attribute "${v.name}" is not supported in a directive context`,v.sourceSpan));if(!s&&r.has(o.name)&&(s=!0,this.reportError(`Cannot apply directive "${o.name}" multiple times on the same element`,o.sourceSpan)),s)continue;let{attributes:a,parsedProperties:l,boundEvents:c,references:u,i18nAttrsMeta:m}=this.prepareAttributes(o.attrs,!1);this.validateSelectorlessReferences(u);let{bound:y}=this.categorizePropertyAttributes(t,l,m);for(let v of y)v.type!==it.Property&&v.type!==it.TwoWay&&(s=!0,this.reportError("Binding is not supported in a directive context",v.sourceSpan));s||(r.add(o.name),i.push(new tN(o.name,a,y,c,u,o.sourceSpan,o.startSourceSpan,o.endSourceSpan,void 0)))}return i}filterAnimationAttributes(e){return e.filter(t=>!t.name.startsWith("animate."))}filterAnimationInputs(e){return e.filter(t=>t.type!==it.Animation)}wrapInTemplate(e,t,i,r,o,s){let a=this.categorizePropertyAttributes("ng-template",t,r),l=[];a.literal.forEach(y=>l.push(y)),a.bound.forEach(y=>l.push(y));let c={attributes:[],inputs:[],outputs:[]};(e instanceof Zo||e instanceof Bf)&&(c.attributes.push(...this.filterAnimationAttributes(e.attributes)),c.inputs.push(...this.filterAnimationInputs(e.inputs)),c.outputs.push(...e.outputs));let u=o&&s?void 0:e.i18n,m;return e instanceof Bf?m=e.tagName:e instanceof dr?m=null:m=e.name,new dr(m,c.attributes,c.inputs,c.outputs,[],l,[e],[],i,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,u)}_visitTextWithInterpolation(e,t,i,r){let o=zN(e),s=this.bindingParser.parseInterpolation(o,t,i);return s?new nd(s,t,r):new Ml(o,t)}parseVariable(e,t,i,r,o,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',i):e.length===0&&this.reportError("Variable does not have a name",i),s.push(new Ia(e,t,i,r,o))}parseReference(e,t,i,r,o,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',i):e.length===0?this.reportError("Reference does not have a name",i):s.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,i),s.push(new ph(e,t,i,r,o))}parseAssignmentEvent(e,t,i,r,o,s,a,l){let c=[];this.bindingParser.parseEvent(`${e}Change`,t,!0,i,r||i,o,c,a),_C(c,s)}validateSelectorlessReferences(e){if(e.length===0)return;let t=new Set;for(let i of e)i.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",i.valueSpan||i.sourceSpan):t.has(i.name)?this.reportError("Duplicate reference names are not allowed",i.sourceSpan):t.add(i.name)}reportError(e,t,i=Ea.ERROR){this.errors.push(new Ce(t,e,i))}},Ow=class{visitElement(e){let t=gR(e);if(t.type===lr.SCRIPT||t.type===lr.STYLE||t.type===lr.STYLESHEET)return null;let i=Mt(this,e.children,null);return new Zo(e.name,Mt(this,e.attrs),[],[],[],i,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid)}visitComment(e){return null}visitAttribute(e){return new id(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new Ml(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,t){let i=[new Ml(e.startSourceSpan.toString(),e.startSourceSpan),...Mt(this,e.children)];return e.endSourceSpan!==null&&i.push(new Ml(e.endSourceSpan.toString(),e.endSourceSpan)),i}visitBlockParameter(e,t){return null}visitLetDeclaration(e,t){return new Ml(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,t){let i=Mt(this,e.children,null);return new Zo(e.fullName,Mt(this,e.attrs),[],[],[],i,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,!1)}visitDirective(e,t){return null}},LM=new Ow;function BM(n){return/^data-/i.test(n)?n.substring(5):n}function _C(n,e){e.push(...n.map(t=>BC.fromParsedEvent(t)))}function eW(n){return n.children.length!==1||!(n.children[0]instanceof ec)?null:n.children[0].value}var tW=[" ",`
`,"\r","	"];function nW(n,e,t={}){let{interpolationConfig:i,preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:o}=t,s=t.enableSelectorless??!1,a=u_(i,s),c=new Tw().parse(n,e,ee(B({leadingTriviaChars:tW},t),{tokenizeExpansionForms:!0,tokenizeBlocks:t.enableBlockSyntax??!0,tokenizeLet:t.enableLetSyntax??!0,selectorlessEnabled:s}));if(!t.alwaysAttemptHtmlToR3AstConversion&&c.errors&&c.errors.length>0){let X={interpolationConfig:i,preserveWhitespaces:r,errors:c.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(X.commentNodes=[]),X}let u=c.rootNodes,m=!(t.preserveSignificantWhitespace??!0),y=new t_(i,!r,o,void 0,t.preserveSignificantWhitespace,m),v=y.visitAllWithErrors(u);if(!t.alwaysAttemptHtmlToR3AstConversion&&v.errors&&v.errors.length>0){let X={interpolationConfig:i,preserveWhitespaces:r,errors:v.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(X.commentNodes=[]),X}u=v.rootNodes,r||(u=Mt(new Kv(!0,void 0,!1),u),y.hasI18nMeta&&(u=Mt(new t_(i,!1,void 0,void 0,!0,m),u)));let{nodes:w,errors:D,styleUrls:I,styles:M,ngContentSelectors:q,commentNodes:G}=Kz(u,a,{collectCommentNodes:!!t.collectCommentNodes});D.push(...c.errors,...v.errors);let N={interpolationConfig:i,preserveWhitespaces:r,errors:D.length>0?D:null,nodes:w,styleUrls:I,styles:M,ngContentSelectors:q};return t.collectCommentNodes&&(N.commentNodes=G),N}var iW=new hd;function u_(n=Ho,e=!1){return new Iw(new e_(new Nh,e),n,iW,[])}var d_=class extends bv{visit(e){e instanceof sr?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(t=>this.visit(e.vars[t])),Object.keys(e.placeholders).forEach(t=>this.visit(e.placeholders[t]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof wv&&this.visit(e.value)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.cases)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){e.expression&&this.visit(e.expression),e.expressionAlias?.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let t of e)this.visit(t)}};var yC="animate.leave";function rW(n){let e=new Fw;return Z0(e,n),e.hasAnimations}var Fw=class extends d_{hasAnimations=!1;visitElement(e){for(let t of e.attributes)t.name===yC&&(this.hasAnimations=!0);for(let t of e.inputs)t.name===yC&&(this.hasAnimations=!0);for(let t of e.outputs)t.name===yC&&(this.hasAnimations=!0);super.visitElement(e)}},_R="%COMP%",oW=`_nghost-${_R}`,sW=`_ngcontent-${_R}`,bC="animate.leave";function yR(n,e,t){let i=new Na,r=Ww(n.selector);return i.set("type",n.type.value),r.length>0&&i.set("selectors",qu(r)),n.queries.length>0&&i.set("contentQueries",Q9(n.queries,e,n.name)),n.viewQueries.length&&i.set("viewQuery",G9(n.viewQueries,e,n.name)),i.set("hostBindings",hW(n.host,n.typeSourceSpan,t,e,n.selector||"",n.name,i)),i.set("inputs",bk(n.inputs,!0)),i.set("outputs",bk(n.outputs)),n.exportAs!==null&&i.set("exportAs",at(n.exportAs.map(o=>U(o)))),n.isStandalone===!1&&i.set("standalone",U(!1)),n.isSignal&&i.set("signals",U(!0)),i}function VM(n){return n.host.attributes[bC]!==void 0||n.host.properties[bC]!==void 0||n.host.listeners[bC]!==void 0}function bR(n,e){let t=[],i=e.providers,r=e.viewProviders;if(i||r){let s=[i||new po([])];r&&s.push(r),t.push(oe(P.ProvidersFeature).callFn(s))}if(e.hostDirectives?.length&&t.push(oe(P.HostDirectivesFeature).callFn([yW(e.hostDirectives)])),e.usesInheritance&&t.push(oe(P.InheritDefinitionFeature)),e.fullInheritance&&t.push(oe(P.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&t.push(oe(P.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let s=e.externalStyles.map(a=>U(a));t.push(oe(P.ExternalStylesFeature).callFn([at(s)]))}let o=e.template;(VM(e)||o&&o.nodes.length>0)&&(VM(e)||rW(o.nodes))&&t.push(oe(P.AnimationsFeature).callFn([])),t.length&&n.set("features",at(t))}function aW(n,e,t){let i=yR(n,e,t);bR(i,n);let r=oe(P.defineDirective).callFn([i.toLiteralMap()],void 0,!0),o=fW(n);return{expression:r,type:o,statements:[]}}function lW(n,e,t){let i=yR(n,e,t);bR(i,n);let r=n.selector&&Zu.parse(n.selector),o=r&&r[0];if(o){let w=o.getAttrs();w.length&&i.set("attrs",e.getConstLiteral(at(w.map(D=>D!=null?U(D):U(void 0))),!0))}let s=n.name,a=null;if(n.defer.mode===1&&n.defer.dependenciesFn!==null){let w=`${s}_DeferFn`;e.statements.push(new gn(w,n.defer.dependenciesFn,void 0,Un.Final)),a=je(w)}let l=n.isStandalone&&!n.hasDirectiveDependencies?rr.DomOnly:rr.Full,c=w9(n.name,n.template.nodes,e,l,n.relativeContextFilePath,n.i18nUseExternalIds,n.defer,a,n.relativeTemplatePath,H9());oR(c,K.Tmpl);let u=y9(c,e);if(c.contentSelectors!==null&&i.set("ngContentSelectors",c.contentSelectors),i.set("decls",U(c.root.decls)),i.set("vars",U(c.root.vars)),c.consts.length>0&&(c.constsInitializers.length>0?i.set("consts",fo([],[...c.constsInitializers,new $n(at(c.consts))])):i.set("consts",at(c.consts))),i.set("template",u),n.declarationListEmitMode!==3&&n.declarations.length>0)i.set("dependencies",uW(at(n.declarations.map(w=>w.type)),n.declarationListEmitMode));else if(n.declarationListEmitMode===3){let w=[n.type.value];n.rawImports&&w.push(n.rawImports),i.set("dependencies",oe(P.getComponentDepsFactory).callFn(w))}n.encapsulation===null&&(n.encapsulation=Sl.Emulated);let m=!!n.externalStyles?.length;if(n.styles&&n.styles.length){let D=(n.encapsulation==Sl.Emulated?_W(n.styles,sW,oW):n.styles).reduce((I,M)=>(M.trim().length>0&&I.push(e.getConstLiteral(U(M))),I),[]);D.length>0&&(m=!0,i.set("styles",at(D)))}!m&&n.encapsulation===Sl.Emulated&&(n.encapsulation=Sl.None),n.encapsulation!==Sl.Emulated&&i.set("encapsulation",U(n.encapsulation)),n.animations!==null&&i.set("data",bi([{key:"animation",value:n.animations,quoted:!1}])),n.changeDetection!==null&&(typeof n.changeDetection=="number"&&n.changeDetection!==zw.Default?i.set("changeDetection",U(n.changeDetection)):typeof n.changeDetection=="object"&&i.set("changeDetection",n.changeDetection));let y=oe(P.defineComponent).callFn([i.toLiteralMap()],void 0,!0),v=cW(n);return{expression:y,type:v,statements:[]}}function cW(n){let e=xR(n);return e.push(Bw(n.template.ngContentSelectors)),e.push(Hn(U(n.isStandalone))),e.push(CR(n)),n.isSignal&&e.push(Hn(U(n.isSignal))),Hn(oe(P.ComponentDeclaration,e))}function uW(n,e){switch(e){case 0:return n;case 1:return fo([],n);case 2:let t=n.prop("map").callFn([oe(P.resolveForwardRef)]);return fo([],t);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function dW(n){return Hn(U(n))}function Lw(n){let e=Object.keys(n).map(t=>{let i=Array.isArray(n[t])?n[t][0]:n[t];return{key:t,value:U(i),quoted:!0}});return bi(e)}function Bw(n){return n.length>0?Hn(at(n.map(e=>U(e)))):Wo}function xR(n){let e=n.selector!==null?n.selector.replace(/\n/g,""):null;return[m_(n.type.type,n.typeArgumentCount),e!==null?dW(e):Wo,n.exportAs!==null?Bw(n.exportAs):Wo,Hn(pW(n)),Hn(Lw(n.outputs)),Bw(n.queries.map(t=>t.propertyName))]}function pW(n){return bi(Object.keys(n.inputs).map(e=>{let t=n.inputs[e],i=[{key:"alias",value:U(t.bindingPropertyName),quoted:!0},{key:"required",value:U(t.required),quoted:!0}];return t.isSignal&&i.push({key:"isSignal",value:U(t.isSignal),quoted:!0}),{key:e,value:bi(i),quoted:!0}}))}function fW(n){let e=xR(n);return e.push(Wo),e.push(Hn(U(n.isStandalone))),e.push(CR(n)),n.isSignal&&e.push(Hn(U(n.isSignal))),Hn(oe(P.DirectiveDeclaration,e))}function hW(n,e,t,i,r,o,s){let a=t.createBoundHostProperties(n.properties,e),l=t.createDirectiveHostEventAsts(n.listeners,e);n.specialAttributes.styleAttr&&(n.attributes.style=U(n.specialAttributes.styleAttr)),n.specialAttributes.classAttr&&(n.attributes.class=U(n.specialAttributes.classAttr));let c=E9({componentName:o,componentSelector:r,properties:a,events:l,attributes:n.attributes},t,i);oR(c,K.Host),s.set("hostAttrs",c.root.attributes);let u=c.root.vars;return u!==null&&u>0&&s.set("hostVars",U(u)),b9(c)}var mW=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function gW(n){let e={},t={},i={},r={};for(let o of Object.keys(n)){let s=n[o],a=o.match(mW);if(a===null)switch(o){case"class":if(typeof s!="string")throw new Error("Class binding must be string");r.classAttr=s;break;case"style":if(typeof s!="string")throw new Error("Style binding must be string");r.styleAttr=s;break;default:typeof s=="string"?e[o]=U(s):e[o]=s}else if(a[1]!=null){if(typeof s!="string")throw new Error("Property binding must be string");i[a[1]]=s}else if(a[2]!=null){if(typeof s!="string")throw new Error("Event binding must be string");t[a[2]]=s}}return{attributes:e,listeners:t,properties:i,specialAttributes:r}}function vW(n,e){let t=u_();return t.createDirectiveHostEventAsts(n.listeners,e),t.createBoundHostProperties(n.properties,e),t.errors}function _W(n,e,t){let i=new XC;return n.map(r=>i.shimCssText(r,e,t))}function CR(n){return n.hostDirectives?.length?Hn(at(n.hostDirectives.map(e=>bi([{key:"directive",value:Bh(e.directive.type),quoted:!1},{key:"inputs",value:Lw(e.inputs||{}),quoted:!1},{key:"outputs",value:Lw(e.outputs||{}),quoted:!1}])))):Wo}function yW(n){let e=[],t=!1;for(let i of n){if(!i.inputs&&!i.outputs)e.push(i.directive.type);else{let r=[{key:"directive",value:i.directive.type,quoted:!1}];if(i.inputs){let o=jM(i.inputs);o&&r.push({key:"inputs",value:o,quoted:!1})}if(i.outputs){let o=jM(i.outputs);o&&r.push({key:"outputs",value:o,quoted:!1})}e.push(bi(r))}i.isForwardReference&&(t=!0)}return t?new Da([],[new $n(at(e))]):at(e)}function jM(n){let e=[];for(let t in n)n.hasOwnProperty(t)&&e.push(U(t),U(n[t]));return e.length>0?at(e):null}var Vw=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let t=new Map,i=[],r=new Set,o=new Map,s=new Map,a=new Map,l=new Map,c=new Map,u=new Map,m=new Set,y=new Set,v=[];if(e.template){let w=p_.apply(e.template);bW(w,a),jw.apply(e.template,this.directiveMatcher,t,i,r,o,s),f_.applyWithScope(e.template,w,l,c,u,m,y,v)}return e.host&&(t.set(e.host.node,e.host.directives),f_.applyWithScope(e.host.node,p_.apply(e.host.node),l,c,u,m,y,v)),new qw(e,t,i,r,o,s,l,c,u,a,m,y,v)}},p_=class n{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(e,t){this.parentScope=e,this.rootNode=t,this.isDeferred=e!==null&&e.isDeferred?!0:t instanceof Ql}static newRootScope(){return new n(null,null)}static apply(e){let t=n.newRootScope();return t.ingest(e),t}ingest(e){e instanceof dr?(e.variables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Ol?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(t=>t.visit(this))):e instanceof rd?(this.visitVariable(e.item),e.contextVariables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof uh||e instanceof dh||e instanceof Ql||e instanceof ch||e instanceof ah||e instanceof lh||e instanceof od?e.children.forEach(t=>t.visit(this)):e instanceof fh||e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(t=>t.visit(this)),e.references.forEach(t=>this.visitReference(t)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(t=>this.visitReference(t))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(t=>t.visit(this)),e.references.forEach(t=>this.visitReference(t)),e.children.forEach(t=>t.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let t=this.childScopes.get(e);if(t===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return t}ingestScopedNode(e){let t=new n(this,e);t.ingest(e),this.childScopes.set(e,t)}},jw=class n{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(e,t,i,r,o,s){this.directiveMatcher=e,this.directives=t,this.eagerDirectives=i,this.missingDirectives=r,this.bindings=o,this.references=s}static apply(e,t,i,r,o,s,a){new n(t,i,r,o,s,a).ingest(e)}ingest(e){e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){let t=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(i=>i.visit(this)),this.isInDeferBlock=t,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockError(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(t=>t.visit(this))}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){e.children.forEach(t=>t.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(t=>t.visit(this))}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(t=>t.visit(this))}visitContent(e){e.children.forEach(t=>t.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof tv){let t=this.directiveMatcher.match(e.componentName);t.length>0?this.trackSelectorlessMatchesAndDirectives(e,t):this.missingDirectives.add(e.componentName)}e.directives.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof tv){let t=this.directiveMatcher.match(e.name);t.length>0?this.trackSelectorlessMatchesAndDirectives(e,t):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof ev){let t=[],i=Ej(e);this.directiveMatcher.match(i,(r,o)=>t.push(...o)),this.trackSelectorBasedBindingsAndDirectives(e,t)}else e.references.forEach(t=>{t.value.trim()===""&&this.references.set(t,e)});e.directives.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this))}trackMatchedDirectives(e,t){t.length>0&&(this.directives.set(e,t),this.isInDeferBlock||this.eagerDirectives.push(...t))}trackSelectorlessMatchesAndDirectives(e,t){if(t.length===0)return;this.trackMatchedDirectives(e,t);let i=(r,o,s)=>{r[s].hasBindingPropertyName(o.name)&&this.bindings.set(o,r)};for(let r of t)e.inputs.forEach(o=>i(r,o,"inputs")),e.attributes.forEach(o=>i(r,o,"inputs")),e.outputs.forEach(o=>i(r,o,"outputs"));e.references.forEach(r=>this.references.set(r,{directive:t[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,t){this.trackMatchedDirectives(e,t),e.references.forEach(r=>{let o=null;if(r.value.trim()==="")o=t.find(s=>s.isComponent)||null;else if(o=t.find(s=>s.exportAs!==null&&s.exportAs.some(a=>a===r.value))||null,o===null)return;o!==null?this.references.set(r,{directive:o,node:e}):this.references.set(r,e)});let i=(r,o)=>{let s=t.find(l=>l[o].hasBindingPropertyName(r.name)),a=s!==void 0?s:e;this.bindings.set(r,a)};e.inputs.forEach(r=>i(r,"inputs")),e.attributes.forEach(r=>i(r,"inputs")),e instanceof dr&&e.templateAttrs.forEach(r=>i(r,"inputs")),e.outputs.forEach(r=>i(r,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},f_=class n extends d_{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=e=>e.visit(this);constructor(e,t,i,r,o,s,a,l,c){super(),this.bindings=e,this.symbols=t,this.usedPipes=i,this.eagerPipes=r,this.deferBlocks=o,this.nestingLevel=s,this.scope=a,this.rootNode=l,this.level=c}static applyWithScope(e,t,i,r,o,s,a,l){let c=e instanceof dr?e:null;new n(i,r,s,a,l,o,t,c,0).ingest(e)}ingest(e){if(e instanceof dr)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Ol)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof rd)this.visitNode(e.item),e.contextVariables.forEach(t=>this.visitNode(t)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Ql){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof uh||e instanceof dh||e instanceof ch||e instanceof ah||e instanceof lh||e instanceof od?(e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)):e instanceof fh?this.nestingLevel.set(e,0):e.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.directives.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){super.visitLetDeclaration(e),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,t){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,t)}visitPropertyRead(e,t){return this.maybeMap(e,e.name),super.visitPropertyRead(e,t)}visitSafePropertyRead(e,t){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,t)}ingestScopedNode(e){let t=this.scope.getChildScope(e);new n(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,t,e,this.level+1).ingest(e)}maybeMap(e,t){if(!(e.receiver instanceof Yo)||e.receiver instanceof Wl)return;let i=this.scope.lookup(t);i!==null&&this.bindings.set(e,i)}},qw=class{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,t,i,r,o,s,a,l,c,u,m,y,v){this.target=e,this.directives=t,this.eagerDirectives=i,this.missingDirectives=r,this.bindings=o,this.references=s,this.exprTargets=a,this.symbols=l,this.nestingLevel=c,this.scopedNodeEntities=u,this.usedPipes=m,this.eagerPipes=y,this.deferredBlocks=v.map(w=>w[0]),this.deferredScopes=new Map(v)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(t=>t.forEach(i=>e.add(i))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,t){if(!(t instanceof Sv)&&!(t instanceof Dv)&&!(t instanceof Ev))return null;let i=t.reference;if(i===null){let o=null;if(e.placeholder!==null){for(let s of e.placeholder.children)if(!(s instanceof g_)){if(o!==null)return null;s instanceof Zo&&(o=s)}}return o}let r=this.findEntityInScope(e,i);if(r instanceof ph&&this.getDefinitionNodeOfSymbol(r)!==e){let o=this.getReferenceTarget(r);if(o!==null)return this.referenceTargetToElement(o)}if(e.placeholder!==null){let o=this.findEntityInScope(e.placeholder,i),s=o instanceof ph?this.getReferenceTarget(o):null;if(s!==null)return this.referenceTargetToElement(s)}return null}isDeferred(e){for(let t of this.deferredBlocks){if(!this.deferredScopes.has(t))continue;let i=[this.deferredScopes.get(t)];for(;i.length>0;){let r=i.pop();if(r.elementLikeInScope.has(e))return!0;i.push(...r.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,t){let i=this.getEntitiesInScope(e);for(let r of i)if(r.name===t)return r;return null}referenceTargetToElement(e){return e instanceof Zo?e:e instanceof dr||e.node instanceof Bf||e.node instanceof tN||e.node instanceof fh?null:this.referenceTargetToElement(e.node)}};function bW(n,e){let t=new Map;function i(o){if(t.has(o.rootNode))return t.get(o.rootNode);let s=o.namedEntities,a;return o.parentScope!==null?a=new Map([...i(o.parentScope),...s]):a=new Map(s),t.set(o.rootNode,a),a}let r=[n];for(;r.length>0;){let o=r.pop();for(let s of o.childScopes.values())r.push(s);i(o)}for(let[o,s]of t)e.set(o,new Set(s.values()))}var Uw=class{},$w=class{jitEvaluator;FactoryTarget=Rs;ResourceLoader=Uw;elementSchemaRegistry=new hd;constructor(e=new QC){this.jitEvaluator=e}compilePipe(e,t,i){let r={name:i.name,type:hn(i.type),typeArgumentCount:0,deps:null,pipeName:i.pipeName,pure:i.pure,isStandalone:i.isStandalone},o=Mk(r);return this.jitExpression(o.expression,e,t,[])}compilePipeDeclaration(e,t,i){let r=LW(i),o=Mk(r);return this.jitExpression(o.expression,e,t,[])}compileInjectable(e,t,i){let{expression:r,statements:o}=xk({name:i.name,type:hn(i.type),typeArgumentCount:i.typeArgumentCount,providedIn:WM(i.providedIn),useClass:Bu(i,"useClass"),useFactory:zM(i,"useFactory"),useValue:Bu(i,"useValue"),useExisting:Bu(i,"useExisting"),deps:i.deps?.map(DR)},!0);return this.jitExpression(r,e,t,o)}compileInjectableDeclaration(e,t,i){let{expression:r,statements:o}=xk({name:i.type.name,type:hn(i.type),typeArgumentCount:0,providedIn:WM(i.providedIn),useClass:Bu(i,"useClass"),useFactory:zM(i,"useFactory"),useValue:Bu(i,"useValue"),useExisting:Bu(i,"useExisting"),deps:i.deps?.map(GM)},!0);return this.jitExpression(r,e,t,o)}compileInjector(e,t,i){let r={name:i.name,type:hn(i.type),providers:i.providers&&i.providers.length>0?new He(i.providers):null,imports:i.imports.map(s=>new He(s))},o=kk(r);return this.jitExpression(o.expression,e,t,[])}compileInjectorDeclaration(e,t,i){let r=BW(i),o=kk(r);return this.jitExpression(o.expression,e,t,[])}compileNgModule(e,t,i){let r={kind:Sa.Global,type:hn(i.type),bootstrap:i.bootstrap.map(hn),declarations:i.declarations.map(hn),publicDeclarationTypes:null,imports:i.imports.map(hn),includeImportTypes:!0,exports:i.exports.map(hn),selectorScopeMode:Fv.Inline,containsForwardDecls:!1,schemas:i.schemas?i.schemas.map(hn):null,id:i.id?new He(i.id):null},o=Gj(r);return this.jitExpression(o.expression,e,t,[])}compileNgModuleDeclaration(e,t,i){let r=Qj(i);return this.jitExpression(r,e,t,[])}compileDirective(e,t,i){let r=$M(i);return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveDeclaration(e,t,i){let r=this.createParseSourceSpan("Directive",i.type.name,t),o=ER(i,r);return this.compileDirectiveFromMeta(e,t,o)}compileDirectiveFromMeta(e,t,i){let r=new dv,o=u_(),s=aW(i,r,o);return this.jitExpression(s.expression,e,t,r.statements)}compileComponent(e,t,i){let{template:r,interpolation:o,defer:s}=SR(i.template,i.name,t,i.preserveWhitespaces,i.interpolation,void 0),a=ee(B(B({},i),$M(i)),{selector:i.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:i.declarations.map(EW),declarationListEmitMode:0,defer:s,styles:[...i.styles,...r.styles],encapsulation:i.encapsulation,interpolation:o,changeDetection:i.changeDetection??null,animations:i.animations!=null?new He(i.animations):null,viewProviders:i.viewProviders!=null?new He(i.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),l=`ng:///${i.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,t,i){let r=this.createParseSourceSpan("Component",i.type.name,t),o=wW(i,r,t);return this.compileComponentFromMeta(e,t,o)}compileComponentFromMeta(e,t,i){let r=new dv,o=u_(i.interpolation),s=lW(i,r,o);return this.jitExpression(s.expression,e,t,r.statements)}compileFactory(e,t,i){let r=Dl({name:i.name,type:hn(i.type),typeArgumentCount:i.typeArgumentCount,deps:AW(i.deps),target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}compileFactoryDeclaration(e,t,i){let r=Dl({name:i.type.name,type:hn(i.type),typeArgumentCount:0,deps:Array.isArray(i.deps)?i.deps.map(GM):i.deps,target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}createParseSourceSpan(e,t,i){return jj(e,t,i)}jitExpression(e,t,i,r){let o=[...r,new gn("$def",e,void 0,Un.Exported)];return this.jitEvaluator.evaluateStatements(i,o,new ZC(t),!0).$def}};function qM(n){return ee(B({},n),{isSignal:n.isSignal,predicate:wR(n.predicate),read:n.read?new He(n.read):null,static:n.static,emitDistinctChangesOnly:n.emitDistinctChangesOnly})}function UM(n){return{propertyName:n.propertyName,first:n.first??!1,predicate:wR(n.predicate),descendants:n.descendants??!1,read:n.read?new He(n.read):null,static:n.static??!1,emitDistinctChangesOnly:n.emitDistinctChangesOnly??!0,isSignal:!!n.isSignal}}function wR(n){return Array.isArray(n)?n:Zw(new He(n),1)}function $M(n){let e=FW(n.inputs||[]),t=CC(n.outputs||[]),i=n.propMetadata,r={},o={};for(let a in i)i.hasOwnProperty(a)&&i[a].forEach(l=>{NW(l)?r[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new He(l.transform):null}:RW(l)&&(o[a]=l.alias||a)});let s=n.hostDirectives?.length?n.hostDirectives.map(a=>typeof a=="function"?{directive:hn(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:hn(a.directive),isForwardReference:!1,inputs:a.inputs?CC(a.inputs):null,outputs:a.outputs?CC(a.outputs):null}):null;return ee(B({},n),{typeArgumentCount:0,typeSourceSpan:n.typeSourceSpan,type:hn(n.type),deps:null,host:B({},IW(n.propMetadata,n.typeSourceSpan,n.host)),inputs:B(B({},e),r),outputs:B(B({},t),o),queries:n.queries.map(qM),providers:n.providers!=null?new He(n.providers):null,viewQueries:n.viewQueries.map(qM),fullInheritance:!1,hostDirectives:s})}function ER(n,e){let t=n.hostDirectives?.length?n.hostDirectives.map(i=>({directive:hn(i.directive),isForwardReference:!1,inputs:i.inputs?HM(i.inputs):null,outputs:i.outputs?HM(i.outputs):null})):null;return{name:n.type.name,type:hn(n.type),typeSourceSpan:e,selector:n.selector??null,inputs:n.inputs?PW(n.inputs):{},outputs:n.outputs??{},host:xW(n.host),queries:(n.queries??[]).map(UM),viewQueries:(n.viewQueries??[]).map(UM),providers:n.providers!==void 0?new He(n.providers):null,exportAs:n.exportAs??null,usesInheritance:n.usesInheritance??!1,lifecycle:{usesOnChanges:n.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:n.isStandalone??eN(n.version),isSignal:n.isSignal??!1,hostDirectives:t}}function xW(n={}){return{attributes:CW(n.attributes??{}),listeners:n.listeners??{},properties:n.properties??{},specialAttributes:{classAttr:n.classAttribute,styleAttr:n.styleAttribute}}}function HM(n){let e=null;for(let t=1;t<n.length;t+=2)e=e||{},e[n[t-1]]=n[t];return e}function CW(n){let e={};for(let t of Object.keys(n))e[t]=new He(n[t]);return e}function wW(n,e,t){let{template:i,interpolation:r,defer:o}=SR(n.template,n.type.name,t,n.preserveWhitespaces??!1,n.interpolation,n.deferBlockDependencies),s=[];if(n.dependencies)for(let l of n.dependencies)switch(l.kind){case"directive":case"component":s.push(xC(l));break;case"pipe":s.push(DW(l));break}else(n.components||n.directives||n.pipes)&&(n.components&&s.push(...n.components.map(l=>xC(l,!0))),n.directives&&s.push(...n.directives.map(l=>xC(l))),n.pipes&&s.push(...SW(n.pipes)));let a=s.some(({kind:l})=>l===ld.Directive||l===ld.NgModule);return ee(B({},ER(n,e)),{template:i,styles:n.styles??[],declarations:s,viewProviders:n.viewProviders!==void 0?new He(n.viewProviders):null,animations:n.animations!==void 0?new He(n.animations):null,defer:o,changeDetection:n.changeDetection??zw.Default,encapsulation:n.encapsulation??Sl.Emulated,interpolation:r,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:a})}function EW(n){return ee(B({},n),{type:new He(n.type)})}function xC(n,e=null){return{kind:ld.Directive,isComponent:e||n.kind==="component",selector:n.selector,type:new He(n.type),inputs:n.inputs??[],outputs:n.outputs??[],exportAs:n.exportAs??null}}function SW(n){return n?Object.keys(n).map(e=>({kind:ld.Pipe,name:e,type:new He(n[e])})):[]}function DW(n){return{kind:ld.Pipe,name:n.name,type:new He(n.type)}}function SR(n,e,t,i,r,o){let s=r?Mv.fromArray(r):Ho,a=nW(n,t,{preserveWhitespaces:i,interpolationConfig:s});if(a.errors!==null){let u=a.errors.map(m=>m.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${u}`)}let c=new Vw(null).bind({template:a.nodes});return{template:a,interpolation:s,defer:TW(c,o)}}function Bu(n,e){if(n.hasOwnProperty(e))return Zw(new He(n[e]),0)}function zM(n,e){if(n.hasOwnProperty(e))return new He(n[e])}function WM(n){let e=typeof n=="function"?new He(n):new zn(n??null);return Zw(e,0)}function AW(n){return n==null?null:n.map(DR)}function DR(n){let e=n.attribute!=null,t=n.token===null?null:new He(n.token),i=e?new He(n.attribute):t;return AR(i,e,n.host,n.optional,n.self,n.skipSelf)}function GM(n){let e=n.attribute??!1,t=n.token===null?null:new He(n.token);return AR(t,e,n.host??!1,n.optional??!1,n.self??!1,n.skipSelf??!1)}function AR(n,e,t,i,r,o){let s=e?U("unknown"):null;return{token:n,attributeNameType:s,host:t,optional:i,self:r,skipSelf:o}}function TW(n,e){let t=n.getDeferBlocks(),i=new Map;for(let r=0;r<t.length;r++){let o=e?.[r];i.set(t[r],o?new He(o):null)}return{mode:0,blocks:i}}function IW(n,e,t){let i=gW(t||{}),r=vW(i,e);if(r.length)throw new Error(r.map(o=>o.msg).join(`
`));for(let o in n)n.hasOwnProperty(o)&&n[o].forEach(s=>{kW(s)?i.properties[s.hostPropertyName||o]=sj("this",o):MW(s)&&(i.listeners[s.eventName||o]=`${o}(${(s.args||[]).join(",")})`)});return i}function kW(n){return n.ngMetadataName==="HostBinding"}function MW(n){return n.ngMetadataName==="HostListener"}function NW(n){return n.ngMetadataName==="Input"}function RW(n){return n.ngMetadataName==="Output"}function PW(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return typeof i=="string"||Array.isArray(i)?e[t]=OW(i):e[t]={bindingPropertyName:i.publicName,classPropertyName:t,transformFunction:i.transformFunction!==null?new He(i.transformFunction):null,required:i.isRequired,isSignal:i.isSignal},e},{})}function OW(n){return typeof n=="string"?{bindingPropertyName:n,classPropertyName:n,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:n[0],classPropertyName:n[1],transformFunction:n[2]?new He(n[2]):null,required:!1,isSignal:!1}}function FW(n){return n.reduce((e,t)=>{if(typeof t=="string"){let[i,r]=TR(t);e[r]={bindingPropertyName:i,classPropertyName:r,required:!1,isSignal:!1,transformFunction:null}}else e[t.name]={bindingPropertyName:t.alias||t.name,classPropertyName:t.name,required:t.required||!1,isSignal:!1,transformFunction:t.transform!=null?new He(t.transform):null};return e},{})}function CC(n){return n.reduce((e,t)=>{let[i,r]=TR(t);return e[r]=i,e},{})}function TR(n){let[e,t]=n.split(":",2).map(i=>i.trim());return[t??e,e]}function LW(n){return{name:n.type.name,type:hn(n.type),typeArgumentCount:0,pipeName:n.name,deps:null,pure:n.pure??!0,isStandalone:n.isStandalone??eN(n.version)}}function BW(n){return{name:n.type.name,type:hn(n.type),providers:n.providers!==void 0&&n.providers.length>0?new He(n.providers):null,imports:n.imports!==void 0?n.imports.map(e=>new He(e)):[]}}function VW(n){let e=n.ng||(n.ng={});e.\u0275compilerFacade=new $w}var Hw=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return $o.PARSABLE_DATA}},$he=new Hw;var Hhe=new TC("20.2.4");VW(Lf);var vE;function C_(){return vE}function es(n){let e=vE;return vE=n,e}var IR=Symbol("NotFound");function xd(n){return n===IR||n?.name==="\u0275NotFound"}function A_(n,e){return Object.is(n,e)}var ri=null,w_=!1,_E=1,jW=null,Tn=Symbol("SIGNAL");function Me(n){let e=ri;return ri=n,e}function T_(){return ri}var tc={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cd(n){if(w_)throw new Error("");if(ri===null)return;ri.consumerOnSignalRead(n);let e=ri.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=ri.recomputing;if(i&&(t=e!==void 0?e.nextProducer:ri.producers,t!==void 0&&t.producer===n)){ri.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===ri&&(!i||UW(r,ri)))return;let o=Sd(ri),s={producer:n,consumer:ri,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};ri.producersTail=s,e!==void 0?e.nextProducer=s:ri.producers=s,o&&MR(n,s)}function kR(){_E++}function I_(n){if(!(Sd(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===_E)){if(!n.producerMustRecompute(n)&&!Ed(n)){D_(n);return}n.producerRecomputeValue(n),D_(n)}}function yE(n){if(n.consumers===void 0)return;let e=w_;w_=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||qW(i)}}finally{w_=e}}function bE(){return ri?.consumerAllowSignalWrites!==!1}function qW(n){n.dirty=!0,yE(n),n.consumerMarkedDirty?.(n)}function D_(n){n.dirty=!1,n.lastCleanEpoch=_E}function nc(n){return n&&(n.producersTail=void 0,n.recomputing=!0),Me(n)}function wd(n,e){if(Me(e),!n)return;n.recomputing=!1;let t=n.producersTail,i=t!==void 0?t.nextProducer:n.producers;if(i!==void 0){if(Sd(n))do i=xE(i);while(i!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Ed(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(I_(t),i!==t.version))return!0}return!1}function ic(n){if(Sd(n)){let e=n.producers;for(;e!==void 0;)e=xE(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function MR(n,e){let t=n.consumersTail,i=Sd(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)MR(r.producer,r)}function xE(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!Sd(e)){let o=e.producers;for(;o!==void 0;)o=xE(o)}return t}function Sd(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function k_(n){jW?.(n)}function UW(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function $h(n,e){let t=Object.create($W);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(I_(t),Cd(t),t.value===Uh)throw t.error;return t.value};return i[Tn]=t,k_(t),i}var E_=Symbol("UNSET"),S_=Symbol("COMPUTING"),Uh=Symbol("ERRORED"),$W=ee(B({},tc),{value:E_,dirty:!0,error:null,equal:A_,kind:"computed",producerMustRecompute(n){return n.value===E_||n.value===S_},producerRecomputeValue(n){if(n.value===S_)throw new Error("");let e=n.value;n.value=S_;let t=nc(n),i,r=!1;try{i=n.computation(),Me(null),r=e!==E_&&e!==Uh&&i!==Uh&&n.equal(e,i)}catch(o){i=Uh,n.error=o}finally{wd(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function HW(){throw new Error}var NR=HW;function RR(n){NR(n)}function CE(n){NR=n}var zW=null;function wE(n,e){let t=Object.create(M_);t.value=n,e!==void 0&&(t.equal=e);let i=()=>PR(t);return i[Tn]=t,k_(t),[i,s=>Dd(t,s),s=>EE(t,s)]}function PR(n){return Cd(n),n.value}function Dd(n,e){bE()||RR(n),n.equal(n.value,e)||(n.value=e,WW(n))}function EE(n,e){bE()||RR(n),Dd(n,e(n.value))}var M_=ee(B({},tc),{equal:A_,value:void 0,kind:"signal"});function WW(n){n.version++,kR(),yE(n),zW?.(n)}function et(n){return typeof n=="function"}function N_(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var R_=N_(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Hh(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var xi=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(et(i))try{i()}catch(o){e=o instanceof R_?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{OR(o)}catch(s){e=e??[],s instanceof R_?e=[...e,...s.errors]:e.push(s)}}if(e)throw new R_(e)}}add(e){var t;if(e&&e!==this)if(this.closed)OR(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Hh(t,e)}remove(e){let{_finalizers:t}=this;t&&Hh(t,e),e instanceof n&&e._removeParent(this)}};xi.EMPTY=(()=>{let n=new xi;return n.closed=!0,n})();var SE=xi.EMPTY;function P_(n){return n instanceof xi||n&&"closed"in n&&et(n.remove)&&et(n.add)&&et(n.unsubscribe)}function OR(n){et(n)?n():n.unsubscribe()}var go={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ad={setTimeout(n,e,...t){let{delegate:i}=Ad;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ad;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function O_(n){Ad.setTimeout(()=>{let{onUnhandledError:e}=go;if(e)e(n);else throw n})}function DE(){}var FR=AE("C",void 0,void 0);function LR(n){return AE("E",void 0,n)}function BR(n){return AE("N",n,void 0)}function AE(n,e,t){return{kind:n,value:e,error:t}}var rc=null;function Td(n){if(go.useDeprecatedSynchronousErrorHandling){let e=!rc;if(e&&(rc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=rc;if(rc=null,t)throw i}}else n()}function VR(n){go.useDeprecatedSynchronousErrorHandling&&rc&&(rc.errorThrown=!0,rc.error=n)}var oc=class extends xi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,P_(e)&&e.add(this)):this.destination=YW}static create(e,t,i){return new Id(e,t,i)}next(e){this.isStopped?IE(BR(e),this):this._next(e)}error(e){this.isStopped?IE(LR(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?IE(FR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GW=Function.prototype.bind;function TE(n,e){return GW.call(n,e)}var kE=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){F_(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){F_(i)}else F_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){F_(t)}}},Id=class extends oc{constructor(e,t,i){super();let r;if(et(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&go.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&TE(e.next,o),error:e.error&&TE(e.error,o),complete:e.complete&&TE(e.complete,o)}):r=e}this.destination=new kE(r)}};function F_(n){go.useDeprecatedSynchronousErrorHandling?VR(n):O_(n)}function QW(n){throw n}function IE(n,e){let{onStoppedNotification:t}=go;t&&Ad.setTimeout(()=>t(n,e))}var YW={closed:!0,next:DE,error:QW,complete:DE};var kd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jR(n){return n}function qR(n){return n.length===0?jR:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var zt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=XW(t)?t:new Id(t,i,r);return Td(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=UR(i),new i((r,o)=>{let s=new Id({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[kd](){return this}pipe(...t){return qR(t)(this)}toPromise(t){return t=UR(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function UR(n){var e;return(e=n??go.Promise)!==null&&e!==void 0?e:Promise}function ZW(n){return n&&et(n.next)&&et(n.error)&&et(n.complete)}function XW(n){return n&&n instanceof oc||ZW(n)&&P_(n)}function JW(n){return et(n?.lift)}function Bi(n){return e=>{if(JW(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vi(n,e,t,i,r){return new ME(n,e,t,i,r)}var ME=class extends oc{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var $R=N_(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ts=(()=>{class n extends zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new L_(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new $R}next(t){Td(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Td(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Td(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?SE:(this.currentObservers=null,o.push(t),new xi(()=>{this.currentObservers=null,Hh(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new zt;return t.source=this,t}}return n.create=(e,t)=>new L_(e,t),n})(),L_=class extends ts{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:SE}};var zh=class extends ts{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};function HR(n){return n&&et(n.schedule)}function zR(n){return n[n.length-1]}function WR(n){return et(zR(n))?n.pop():void 0}function GR(n){return HR(zR(n))?n.pop():void 0}function YR(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(m){s(m)}}function l(u){try{c(i.throw(u))}catch(m){s(m)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function QR(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sc(n){return this instanceof sc?(this.v=n,this):new sc(n)}function ZR(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(v){return function(w){return Promise.resolve(w).then(v,m)}}function a(v,w){i[v]&&(r[v]=function(D){return new Promise(function(I,M){o.push([v,D,I,M])>1||l(v,D)})},w&&(r[v]=w(r[v])))}function l(v,w){try{c(i[v](w))}catch(D){y(o[0][3],D)}}function c(v){v.value instanceof sc?Promise.resolve(v.value.v).then(u,m):y(o[0][2],v)}function u(v){l("next",v)}function m(v){l("throw",v)}function y(v,w){v(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function XR(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof QR=="function"?QR(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var B_=n=>n&&typeof n.length=="number"&&typeof n!="function";function V_(n){return et(n?.then)}function j_(n){return et(n[kd])}function q_(n){return Symbol.asyncIterator&&et(n?.[Symbol.asyncIterator])}function U_(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KW(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $_=KW();function H_(n){return et(n?.[$_])}function z_(n){return ZR(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield sc(t.read());if(r)return yield sc(void 0);yield yield sc(i)}}finally{t.releaseLock()}})}function W_(n){return et(n?.getReader)}function ji(n){if(n instanceof zt)return n;if(n!=null){if(j_(n))return eG(n);if(B_(n))return tG(n);if(V_(n))return nG(n);if(q_(n))return JR(n);if(H_(n))return iG(n);if(W_(n))return rG(n)}throw U_(n)}function eG(n){return new zt(e=>{let t=n[kd]();if(et(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tG(n){return new zt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function nG(n){return new zt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,O_)})}function iG(n){return new zt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function JR(n){return new zt(e=>{oG(n,e).catch(t=>e.error(t))})}function rG(n){return JR(z_(n))}function oG(n,e){var t,i,r,o;return YR(this,void 0,void 0,function*(){try{for(t=XR(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Br(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function G_(n,e=0){return Bi((t,i)=>{t.subscribe(Vi(i,r=>Br(i,n,()=>i.next(r),e),()=>Br(i,n,()=>i.complete(),e),r=>Br(i,n,()=>i.error(r),e)))})}function Q_(n,e=0){return Bi((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function KR(n,e){return ji(n).pipe(Q_(e),G_(e))}function eP(n,e){return ji(n).pipe(Q_(e),G_(e))}function tP(n,e){return new zt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function nP(n,e){return new zt(t=>{let i;return Br(t,e,()=>{i=n[$_](),Br(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>et(i?.return)&&i.return()})}function Y_(n,e){if(!n)throw new Error("Iterable cannot be null");return new zt(t=>{Br(t,e,()=>{let i=n[Symbol.asyncIterator]();Br(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function iP(n,e){return Y_(z_(n),e)}function rP(n,e){if(n!=null){if(j_(n))return KR(n,e);if(B_(n))return tP(n,e);if(V_(n))return eP(n,e);if(q_(n))return Y_(n,e);if(H_(n))return nP(n,e);if(W_(n))return iP(n,e)}throw U_(n)}function Wh(n,e){return e?rP(n,e):ji(n)}function Vr(...n){let e=GR(n);return Wh(n,e)}function Gn(n,e){return Bi((t,i)=>{let r=0;t.subscribe(Vi(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:sG}=Array;function aG(n,e){return sG(e)?n(...e):n(e)}function oP(n){return Gn(e=>aG(n,e))}var{isArray:lG}=Array,{getPrototypeOf:cG,prototype:uG,keys:dG}=Object;function sP(n){if(n.length===1){let e=n[0];if(lG(e))return{args:e,keys:null};if(pG(e)){let t=dG(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function pG(n){return n&&typeof n=="object"&&cG(n)===uG}function aP(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function lP(n,e,t,i,r,o,s,a){let l=[],c=0,u=0,m=!1,y=()=>{m&&!l.length&&!c&&e.complete()},v=D=>c<i?w(D):l.push(D),w=D=>{o&&e.next(D),c++;let I=!1;ji(t(D,u++)).subscribe(Vi(e,M=>{r?.(M),o?v(M):e.next(M)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;l.length&&c<i;){let M=l.shift();s?Br(e,s,()=>w(M)):w(M)}y()}catch(M){e.error(M)}}))};return n.subscribe(Vi(e,v,()=>{m=!0,y()})),()=>{a?.()}}function ac(n,e,t=1/0){return et(e)?ac((i,r)=>Gn((o,s)=>e(i,o,r,s))(ji(n(i,r))),t):(typeof e=="number"&&(t=e),Bi((i,r)=>lP(i,r,n,t)))}function NE(...n){let e=WR(n),{args:t,keys:i}=sP(n),r=new zt(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let m=!1;ji(t[u]).subscribe(Vi(o,y=>{m||(m=!0,c--),a[u]=y},()=>l--,void 0,()=>{(!l||!m)&&(c||o.next(i?aP(i,a):a),o.complete())}))}});return e?r.pipe(oP(e)):r}function RE(n,e){return Bi((t,i)=>{let r=0;t.subscribe(Vi(i,o=>n.call(e,o,r++)&&i.next(o)))})}function PE(n,e){return et(e)?ac(n,e,1):ac(n,1)}function OE(n){return Bi((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function FE(n,e){return Bi((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Vi(i,l=>{r?.unsubscribe();let c=0,u=o++;ji(n(l,u)).subscribe(r=Vi(i,m=>i.next(e?e(l,m,u,c++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function cP(n){let e=Me(null);try{return n()}finally{Me(e)}}var uP=ee(B({},tc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function dP(n){if(n.dirty=!1,n.hasRun&&!Ed(n))return;n.hasRun=!0;let e=nc(n);try{n.cleanup(),n.fn()}finally{wd(n,e)}}var ey="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",re=class extends Error{code;constructor(e,t){super(Ws(e,t)),this.code=e}};function fG(n){return`NG0${Math.abs(n)}`}function Ws(n,e){return`${fG(n)}${e?": "+e:""}`}var pc=globalThis;function St(n){for(let e in n)if(n[e]===St)return e;throw Error("")}function hP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ba(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ba).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function ty(n,e){return n?e?`${n} ${e}`:n:e||""}var hG=St({__forward_ref__:St});function _n(n){return n.__forward_ref__=_n,n.toString=function(){return Ba(this())},n}function Qn(n){return GE(n)?n():n}function GE(n){return typeof n=="function"&&n.hasOwnProperty(hG)&&n.__forward_ref__===_n}function mP(n,e){n==null&&QE(e,n,null,"!=")}function QE(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(i==null?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}function Se(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vo(n){return{providers:n.providers||[],imports:n.imports||[]}}function ny(n){return mG(n,iy)}function mG(n,e){return n.hasOwnProperty(e)&&n[e]||null}function gG(n){let e=n?.[iy]??null;return e||null}function BE(n){return n&&n.hasOwnProperty(X_)?n[X_]:null}var iy=St({\u0275prov:St}),X_=St({\u0275inj:St}),Ee=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Se({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function YE(n){return n&&!!n.\u0275providers}var ZE=St({\u0275cmp:St}),XE=St({\u0275dir:St}),JE=St({\u0275pipe:St});var Yh=St({\u0275fac:St}),fc=St({__NG_ELEMENT_ID__:St}),pP=St({__NG_ENV_ID__:St});function _o(n){return typeof n=="string"?n:n==null?"":String(n)}function J_(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():_o(n)}var KE=St({ngErrorCode:St}),gP=St({ngErrorMessage:St}),Qh=St({ngTokenPath:St});function eS(n,e){return vP("",-200,e)}function ry(n,e){throw new re(-201,!1)}function vG(n,e){n[Qh]??=[];let t=n[Qh],i;typeof e=="object"&&"multi"in e&&e?.multi===!0?(mP(e.provide,"Token with multi: true should have a provide property"),i=J_(e.provide)):i=J_(e),t[0]!==i&&n[Qh].unshift(i)}function _G(n,e){let t=n[Qh],i=n[KE],r=n[gP]||n.message;return n.message=bG(r,i,t,e),n}function vP(n,e,t){let i=new re(e,n);return i[KE]=e,i[gP]=n,t&&(i[Qh]=t),i}function yG(n){return n[KE]}function bG(n,e,t=[],i=null){let r="";t&&t.length>1&&(r=` Path: ${t.join(" -> ")}.`);let o=i?` Source: ${i}.`:"";return Ws(e,`${n}${o}${r}`)}var VE;function _P(){return VE}function Ci(n){let e=VE;return VE=n,e}function tS(n,e,t){let i=ny(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;ry(n,"Injector")}var xG={},lc=xG,CG="__NG_DI_FLAG__",jE=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=cc(t)||0;try{return this.injector.get(e,i&8?null:lc,i)}catch(r){if(xd(r))return r;throw r}}};function wG(n,e=0){let t=C_();if(t===void 0)throw new re(-203,!1);if(t===null)return tS(n,void 0,e);{let i=EG(e),r=t.retrieve(n,i);if(xd(r)){if(i.optional)return null;throw r}return r}}function ze(n,e=0){return(_P()||wG)(Qn(n),e)}function $(n,e){return ze(n,cc(e))}function cc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function EG(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function qE(n){let e=[];for(let t=0;t<n.length;t++){let i=Qn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new re(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=SG(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(ze(r,o))}else e.push(ze(i))}return e}function SG(n){return n[CG]}function Va(n,e){let t=n.hasOwnProperty(Yh);return t?n[Yh]:null}function yP(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function bP(n){return n.flat(Number.POSITIVE_INFINITY)}function oy(n,e){n.forEach(t=>Array.isArray(t)?oy(t,e):e(t))}function nS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xP(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function CP(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function sy(n,e,t){let i=Nd(n,e);return i>=0?n[i|1]=t:(i=~i,CP(n,i,e,t)),i}function ay(n,e){let t=Nd(n,e);if(t>=0)return n[t|1]}function Nd(n,e){return DG(n,e,1)}function DG(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var qa={},oi=[],hc=new Ee(""),iS=new Ee("",-1),rS=new Ee(""),Zh=class{get(e,t=lc){if(t===lc){let r=vP("",-201);throw r.name="\u0275NotFound",r}return t}};function mc(n){return n[ZE]||null}function oS(n){return n[XE]||null}function wP(n){return n[JE]||null}function Kh(n){return{\u0275providers:n}}function EP(...n){return{\u0275providers:sS(!0,n),\u0275fromNgModule:!0}}function sS(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return oy(e,s=>{let a=s;K_(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&SP(r,o),t}function SP(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];aS(r,o=>{e(o,i)})}}function K_(n,e,t,i){if(n=Qn(n),!n)return!1;let r=null,o=BE(n),s=!o&&mc(n);if(!o&&!s){let l=n.ngModule;if(o=BE(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)K_(c,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{oy(o.imports,u=>{K_(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&SP(c,e)}if(!a){let c=Va(r)||(()=>new r);e({provide:r,useFactory:c,deps:oi},r),e({provide:rS,useValue:r,multi:!0},r),e({provide:hc,useValue:()=>ze(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=n;aS(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function aS(n,e){for(let t of n)YE(t)&&(t=t.\u0275providers),Array.isArray(t)?aS(t,e):e(t)}var AG=St({provide:String,useValue:St});function DP(n){return n!==null&&typeof n=="object"&&AG in n}function TG(n){return!!(n&&n.useExisting)}function IG(n){return!!(n&&n.useFactory)}function uc(n){return typeof n=="function"}function AP(n){return!!n.useClass}var em=new Ee(""),Z_={},fP={},LE;function tm(){return LE===void 0&&(LE=new Zh),LE}var qi=class{},dc=class extends qi{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,$E(e,s=>this.processProvider(s)),this.records.set(iS,Md(void 0,this)),r.has("environment")&&this.records.set(qi,Md(void 0,this));let o=this.records.get(em);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rS,oi,{self:!0}))}retrieve(e,t){let i=cc(t)||0;try{return this.get(e,lc,i)}catch(r){if(xd(r))return r;throw r}}destroy(){Gh(this),this._destroyed=!0;let e=Me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return Gh(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Gh(this);let t=es(this),i=Ci(void 0),r;try{return e()}finally{es(t),Ci(i)}}get(e,t=lc,i){if(Gh(this),e.hasOwnProperty(pP))return e[pP](this);let r=cc(i),o,s=es(this),a=Ci(void 0);try{if(!(r&4)){let c=this.records.get(e);if(c===void 0){let u=PG(e)&&ny(e);u&&this.injectableDefInScope(u)?c=Md(UE(e),Z_):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let l=r&2?tm():this.parent;return t=r&8&&t===lc?null:t,l.get(e,t)}catch(l){let c=yG(l);throw c===-200||c===-201?new re(c,null):l}finally{Ci(a),es(s)}}resolveInjectorInitializers(){let e=Me(null),t=es(this),i=Ci(void 0),r;try{let o=this.get(hc,oi,{self:!0});for(let s of o)s()}finally{es(t),Ci(i),Me(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Ba(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Qn(e);let t=uc(e)?e:Qn(e&&e.provide),i=MG(e);if(!uc(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Md(void 0,Z_,!0),r.factory=()=>qE(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=Me(null);try{if(t.value===fP)throw eS(Ba(e));return t.value===Z_&&(t.value=fP,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&RG(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Qn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function UE(n){let e=ny(n),t=e!==null?e.factory:Va(n);if(t!==null)return t;if(n instanceof Ee)throw new re(204,!1);if(n instanceof Function)return kG(n);throw new re(204,!1)}function kG(n){if(n.length>0)throw new re(204,!1);let t=gG(n);return t!==null?()=>t.factory(n):()=>new n}function MG(n){if(DP(n))return Md(void 0,n.useValue);{let e=lS(n);return Md(e,Z_)}}function lS(n,e,t){let i;if(uc(n)){let r=Qn(n);return Va(r)||UE(r)}else if(DP(n))i=()=>Qn(n.useValue);else if(IG(n))i=()=>n.useFactory(...qE(n.deps||[]));else if(TG(n))i=(r,o)=>ze(Qn(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Qn(n&&(n.useClass||n.provide));if(NG(n))i=()=>new r(...qE(n.deps));else return Va(r)||UE(r)}return i}function Gh(n){if(n.destroyed)throw new re(205,!1)}function Md(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function NG(n){return!!n.deps}function RG(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function PG(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function $E(n,e){for(let t of n)Array.isArray(t)?$E(t,e):t&&YE(t)?$E(t.\u0275providers,e):e(t)}function Gs(n,e){let t;n instanceof dc?(Gh(n),t=n):t=new jE(n);let i,r=es(t),o=Ci(void 0);try{return e()}finally{es(r),Ci(o)}}function TP(){return _P()!==void 0||C_()!=null}var yo=0,we=1,Pe=2,vn=3,qr=4,Ei=5,gc=6,Rd=7,nn=8,vc=9,ns=10,Dt=11,Pd=12,cS=13,_c=14,Si=15,Ua=16,yc=17,is=18,nm=19,uS=20,zs=21,ly=22,Qs=23,vr=24,bc=25,Vt=26,IP=1,dS=6,$a=7,im=8,xc=9,In=10;function rs(n){return Array.isArray(n)&&typeof n[IP]=="object"}function bo(n){return Array.isArray(n)&&n[IP]===!0}function pS(n){return(n.flags&4)!==0}function Ys(n){return n.componentOffset>-1}function Od(n){return(n.flags&1)===1}function os(n){return!!n.template}function Fd(n){return(n[Pe]&512)!==0}function Cc(n){return(n[Pe]&256)===256}var fS="svg",kP="math";function Ur(n){for(;Array.isArray(n);)n=n[yo];return n}function hS(n,e){return Ur(e[n])}function $r(n,e){return Ur(e[n.index])}function rm(n,e){return n.data[e]}function cy(n,e){return n[e]}function mS(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Hr(n,e){let t=e[n];return rs(t)?t:t[yo]}function MP(n){return(n[Pe]&4)===4}function uy(n){return(n[Pe]&128)===128}function NP(n){return bo(n[vn])}function zr(n,e){return e==null?null:n[e]}function gS(n){n[yc]=0}function vS(n){n[Pe]&1024||(n[Pe]|=1024,uy(n)&&Ha(n))}function RP(n,e){for(;n>0;)e=e[_c],n--;return e}function om(n){return!!(n[Pe]&9216||n[vr]?.dirty)}function dy(n){n[ns].changeDetectionScheduler?.notify(8),n[Pe]&64&&(n[Pe]|=1024),om(n)&&Ha(n)}function Ha(n){n[ns].changeDetectionScheduler?.notify(0);let e=ja(n);for(;e!==null&&!(e[Pe]&8192||(e[Pe]|=8192,!uy(e)));)e=ja(e)}function _S(n,e){if(Cc(n))throw new re(911,!1);n[zs]===null&&(n[zs]=[]),n[zs].push(e)}function PP(n,e){if(n[zs]===null)return;let t=n[zs].indexOf(e);t!==-1&&n[zs].splice(t,1)}function ja(n){let e=n[vn];return bo(e)?e[vn]:e}function yS(n){return n[Rd]??=[]}function bS(n){return n.cleanup??=[]}function OP(n,e,t,i){let r=yS(e);r.push(t),n.firstCreatePass&&bS(n).push(i,r.length-1)}var Ue={lFrame:WP(null),bindingsEnabled:!0,skipHydrationRootTNode:null},sm=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(sm||{}),OG=0,HE=!1;function FP(){return Ue.lFrame.elementDepthCount}function LP(){Ue.lFrame.elementDepthCount++}function xS(){Ue.lFrame.elementDepthCount--}function py(){return Ue.bindingsEnabled}function CS(){return Ue.skipHydrationRootTNode!==null}function wS(n){return Ue.skipHydrationRootTNode===n}function ES(){Ue.skipHydrationRootTNode=null}function ye(){return Ue.lFrame.lView}function jt(){return Ue.lFrame.tView}function E(n){return Ue.lFrame.contextLView=n,n[nn]}function S(n){return Ue.lFrame.contextLView=null,n}function yn(){let n=SS();for(;n!==null&&n.type===64;)n=n.parent;return n}function SS(){return Ue.lFrame.currentTNode}function BP(){let n=Ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ld(n,e){let t=Ue.lFrame;t.currentTNode=n,t.isParent=e}function DS(){return Ue.lFrame.isParent}function AS(){Ue.lFrame.isParent=!1}function VP(){return Ue.lFrame.contextLView}function TS(n){QE("Must never be called in production mode"),OG=n}function IS(){return HE}function Bd(n){let e=HE;return HE=n,e}function Vd(){let n=Ue.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function kS(){return Ue.lFrame.bindingIndex}function jP(n){return Ue.lFrame.bindingIndex=n}function Zs(){return Ue.lFrame.bindingIndex++}function am(n){let e=Ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function qP(){return Ue.lFrame.inI18n}function UP(n,e){let t=Ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,fy(e)}function $P(){return Ue.lFrame.currentDirectiveIndex}function fy(n){Ue.lFrame.currentDirectiveIndex=n}function HP(n){let e=Ue.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function hy(){return Ue.lFrame.currentQueryIndex}function lm(n){Ue.lFrame.currentQueryIndex=n}function FG(n){let e=n[we];return e.type===2?e.declTNode:e.type===1?n[Ei]:null}function MS(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=FG(o),r===null||(o=o[_c],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=Ue.lFrame=zP();return i.currentTNode=e,i.lView=n,!0}function my(n){let e=zP(),t=n[we];Ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function zP(){let n=Ue.lFrame,e=n===null?null:n.child;return e===null?WP(n):e}function WP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function GP(){let n=Ue.lFrame;return Ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var NS=GP;function gy(){let n=GP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function QP(n){return(Ue.lFrame.contextLView=RP(n,Ue.lFrame.contextLView))[nn]}function xo(){return Ue.lFrame.selectedIndex}function za(n){Ue.lFrame.selectedIndex=n}function cm(){let n=Ue.lFrame;return rm(n.tView,n.selectedIndex)}function Ne(){Ue.lFrame.currentNamespace=fS}function Le(){LG()}function LG(){Ue.lFrame.currentNamespace=null}function YP(){return Ue.lFrame.currentNamespace}var ZP=!0;function vy(){return ZP}function um(n){ZP=n}var BG={elements:void 0};function _y(){return BG}function zE(n,e=null,t=null,i){let r=XP(n,e,t,i);return r.resolveInjectorInitializers(),r}function XP(n,e=null,t=null,i,r=new Set){let o=[t||oi,EP(n)];return i=i||(typeof n=="object"?void 0:Ba(n)),new dc(o,e||tm(),i||null,r)}var wi=class n{static THROW_IF_NOT_FOUND=lc;static NULL=new Zh;static create(e,t){if(Array.isArray(e))return zE({name:""},t,e,"");{let i=e.name??"";return zE({name:i},e.parent,e.providers,i)}}static \u0275prov=Se({token:n,providedIn:"any",factory:()=>ze(iS)});static __NG_ELEMENT_ID__=-1},Ui=new Ee(""),Wr=(()=>{class n{static __NG_ELEMENT_ID__=VG;static __NG_ENV_ID__=t=>t}return n})(),Xh=class extends Wr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Cc(this._lView)}onDestroy(e){let t=this._lView;return _S(t,e),()=>PP(t,e)}};function VG(){return new Xh(ye())}var gr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ss=new Ee("",{providedIn:"root",factory:()=>{let n=$(qi),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(gr),e.handleError(t))}}}),JP={provide:hc,useValue:()=>void $(gr),multi:!0};function RS(n){return typeof n=="function"&&n[Tn]!==void 0}function F(n,e){let[t,i,r]=wE(n,e?.equal),o=t,s=o[Tn];return o.set=i,o.update=r,o.asReadonly=PS.bind(o),o}function PS(){let n=this[Tn];if(n.readonlyFn===void 0){let e=()=>this();e[Tn]=n,n.readonlyFn=e}return n.readonlyFn}function OS(n){return RS(n)&&typeof n.set=="function"}var jr=class{},dm=new Ee("",{providedIn:"root",factory:()=>!1});var FS=new Ee(""),yy=new Ee("");var jd=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=jG}return n})();function jG(){return new jd(ye(),yn())}var Wa=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new zh(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new zt(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Se({token:n,providedIn:"root",factory:()=>new n})}return n})(),pm=(()=>{class n{internalPendingTasks=$(Wa);scheduler=$(jr);errorHandler=$(ss);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=Se({token:n,providedIn:"root",factory:()=>new n})}return n})();function wc(...n){}var fm=(()=>{class n{static \u0275prov=Se({token:n,providedIn:"root",factory:()=>new WE})}return n})(),WE=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function Dm(n){return{toString:n}.toString()}function QG(n){return typeof n=="function"}var Dy=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function D3(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var Qa=(()=>{let n=()=>A3;return n.ngInherit=!0,n})();function A3(n){return n.type.prototype.ngOnChanges&&(n.setInput=ZG),YG}function YG(){let n=I3(this),e=n?.current;if(e){let t=n.previous;if(t===qa)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function ZG(n,e,t,i,r){let o=this.declaredInputs[i],s=I3(n)||XG(n,{previous:qa,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Dy(c&&c.currentValue,t,l===qa),D3(n,e,r,t)}var T3="__ngSimpleChanges__";function I3(n){return n[T3]||null}function XG(n,e){return n[T3]=e}var KP=[];var yt=function(n,e=null,t){for(let i=0;i<KP.length;i++){let r=KP[i];r(n,e,t)}};function JG(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=A3(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function k3(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function xy(n,e,t){M3(n,e,3,t)}function Cy(n,e,t,i){(n[Pe]&3)===t&&M3(n,e,t,i)}function LS(n,e){let t=n[Pe];(t&3)===e&&(t&=16383,t+=1,n[Pe]=t)}function M3(n,e,t,i){let r=i!==void 0?n[yc]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[yc]+=65536),(a<o||o==-1)&&(KG(n,t,e,l),n[yc]=(n[yc]&4294901760)+l+2),l++}function e3(n,e){yt(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),yt(5,n,e)}}function KG(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[Pe]>>14<n[yc]>>16&&(n[Pe]&3)===e&&(n[Pe]+=16384,e3(a,o)):e3(a,o)}var Ud=-1,Dc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function eQ(n){return(n.flags&8)!==0}function tQ(n){return(n.flags&16)!==0}function nQ(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];rQ(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function iQ(n){return n===3||n===4||n===6}function rQ(n){return n.charCodeAt(0)===64}function $d(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?t3(n,t,r,null,e[++i]):t3(n,t,r,null,null))}}return n}function t3(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function N3(n){return n!==Ud}function Ay(n){return n&32767}function oQ(n){return n>>16}function Ty(n,e){let t=oQ(n),i=e;for(;t>0;)i=i[_c],t--;return i}var QS=!0;function Iy(n){let e=QS;return QS=n,e}var sQ=256,R3=sQ-1,P3=5,aQ=0,as={};function lQ(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(fc)&&(i=t[fc]),i==null&&(i=t[fc]=aQ++);let r=i&R3,o=1<<r;e.data[n+(r>>P3)]|=o}function ky(n,e){let t=O3(n,e);if(t!==-1)return t;let i=e[we];i.firstCreatePass&&(n.injectorIndex=e.length,BS(i.data,n),BS(e,null),BS(i.blueprint,null));let r=S2(n,e),o=n.injectorIndex;if(N3(r)){let s=Ay(r),a=Ty(r,e),l=a[we].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function BS(n,e){n.push(0,0,0,0,0,0,0,0,e)}function O3(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function S2(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=j3(r),i===null)return Ud;if(t++,r=r[_c],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Ud}function YS(n,e,t){lQ(n,e,t)}function F3(n,e,t){if(t&8||n!==void 0)return n;ry(e,"NodeInjector")}function L3(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[vc],o=Ci(void 0);try{return r?r.get(e,i,t&8):tS(e,i,t&8)}finally{Ci(o)}}return F3(i,e,t)}function B3(n,e,t,i=0,r){if(n!==null){if(e[Pe]&2048&&!(i&2)){let s=pQ(n,e,t,i,as);if(s!==as)return s}let o=V3(n,e,t,i,as);if(o!==as)return o}return L3(e,t,i,r)}function V3(n,e,t,i,r){let o=uQ(t);if(typeof o=="function"){if(!MS(e,n,i))return i&1?F3(r,t,i):L3(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))ry(t);else return s}finally{NS()}}else if(typeof o=="number"){let s=null,a=O3(n,e),l=Ud,c=i&1?e[Si][Ei]:null;for((a===-1||i&4)&&(l=a===-1?S2(n,e):e[a+8],l===Ud||!i3(i,!1)?a=-1:(s=e[we],a=Ay(l),e=Ty(l,e)));a!==-1;){let u=e[we];if(n3(o,a,u.data)){let m=cQ(a,e,t,s,i,c);if(m!==as)return m}l=e[a+8],l!==Ud&&i3(i,e[we].data[a+8]===c)&&n3(o,a,e)?(s=u,a=Ay(l),e=Ty(l,e)):a=-1}}return r}function cQ(n,e,t,i,r,o){let s=e[we],a=s.data[n+8],l=i==null?Ys(a)&&QS:i!=s&&(a.type&3)!==0,c=r&1&&o===a,u=wy(a,s,t,l,c);return u!==null?vm(e,s,u,a,r):as}function wy(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,u=o>>20,m=i?a:a+u,y=r?a+u:c;for(let v=m;v<y;v++){let w=s[v];if(v<l&&t===w||v>=l&&w.type===t)return v}if(r){let v=s[l];if(v&&os(v)&&v.type===t)return l}return null}function vm(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof Dc){let a=o;if(a.resolving){let v=J_(s[t]);throw eS(v)}let l=Iy(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],u,m=a.injectImpl?Ci(a.injectImpl):null,y=MS(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&JG(t,s[t],e)}finally{m!==null&&Ci(m),Iy(l),a.resolving=!1,NS()}}return o}function uQ(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(fc)?n[fc]:void 0;return typeof e=="number"?e>=0?e&R3:dQ:e}function n3(n,e,t){let i=1<<n;return!!(t[e+(n>>P3)]&i)}function i3(n,e){return!(n&2)&&!(n&1&&e)}var Sc=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return B3(this._tNode,this._lView,e,cc(i),t)}};function dQ(){return new Sc(yn(),ye())}function _r(n){return Dm(()=>{let e=n.prototype.constructor,t=e[Yh]||ZS(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Yh]||ZS(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ZS(n){return GE(n)?()=>{let e=ZS(Qn(n));return e&&e()}:Va(n)}function pQ(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[Pe]&2048&&!Fd(s);){let a=V3(o,s,t,i|2,as);if(a!==as)return a;let l=o.parent;if(!l){let c=s[uS];if(c){let u=c.get(t,as,i);if(u!==as)return u}l=j3(s),s=s[_c]}o=l}return r}function j3(n){let e=n[we],t=e.type;return t===2?e.declTNode:t===1?n[Ei]:null}function fQ(){return Gd(yn(),ye())}function Gd(n,e){return new kn($r(n,e))}var kn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=fQ}return n})();function q3(n){return n instanceof kn?n.nativeElement:n}function hQ(){return this._results[Symbol.iterator]()}var My=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ts}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=bP(e);(this._changesDetected=!yP(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hQ};function U3(n){return(n.flags&128)===128}var D2=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(D2||{}),$3=new Map,mQ=0;function gQ(){return mQ++}function vQ(n){$3.set(n[nm],n)}function XS(n){$3.delete(n[nm])}var r3="__ngContext__";function Hd(n,e){rs(e)?(n[r3]=e[nm],vQ(e)):n[r3]=e}function H3(n){return W3(n[Pd])}function z3(n){return W3(n[qr])}function W3(n){for(;n!==null&&!bo(n);)n=n[qr];return n}var JS;function A2(n){JS=n}function G3(){if(JS!==void 0)return JS;if(typeof document<"u")return document;throw new re(210,!1)}var $y=new Ee("",{providedIn:"root",factory:()=>_Q}),_Q="ng",Hy=new Ee(""),Qd=new Ee("",{providedIn:"platform",factory:()=>"unknown"});var zy=new Ee("",{providedIn:"root",factory:()=>G3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yQ="h",bQ="b";var Q3="r";var Y3="di";var Z3=!1,X3=new Ee("",{providedIn:"root",factory:()=>Z3});var xQ=(n,e,t,i)=>{};function CQ(n,e,t,i){xQ(n,e,t,i)}function Wy(n){return(n.flags&32)===32}var wQ=()=>null;function J3(n,e,t=!1){return wQ(n,e,t)}function K3(n,e){let t=n.contentQueries;if(t!==null){let i=Me(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];lm(o),a.contentQueries(2,e[s],s)}}}finally{Me(i)}}}function KS(n,e,t){lm(0);let i=Me(null);try{e(n,t)}finally{Me(i)}}function T2(n,e,t){if(pS(e)){let i=Me(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Me(i)}}}var Xs=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Xs||{});var Ny=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ey})`}};function Am(n){return n instanceof Ny?n.changingThisBreaksApplicationSecurity:n}function eO(n,e){let t=tO(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ey})`)}return t===e}function tO(n){return n instanceof Ny&&n.getTypeName()||null}var EQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nO(n){return n=String(n),n.match(EQ)?n:"unsafe:"+n}var I2=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(I2||{});function Hi(n){let e=SQ();return e?e.sanitize(I2.URL,n)||"":eO(n,"URL")?Am(n):nO(_o(n))}function SQ(){let n=ye();return n&&n[ns].sanitizer}var DQ=/^>|^->|<!--|-->|--!>|<!-$/g,AQ=/(<|>)/g,TQ="\u200B$1\u200B";function IQ(n){return n.replace(DQ,e=>e.replace(AQ,TQ))}function k2(n){return n.ownerDocument}function kQ(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var iO="ng-template";function MQ(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&kQ(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(M2(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function M2(n){return n.type===4&&n.value!==iO}function NQ(n,e,t){let i=n.type===4&&!t?iO:n.value;return e===i}function RQ(n,e,t){let i=4,r=n.attrs,o=r!==null?FQ(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Co(i)&&!Co(l))return!1;if(s&&Co(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!NQ(n,l,t)||l===""&&e.length===1){if(Co(i))return!1;s=!0}}else if(i&8){if(r===null||!MQ(n,r,l,t)){if(Co(i))return!1;s=!0}}else{let c=e[++a],u=PQ(l,r,M2(n),t);if(u===-1){if(Co(i))return!1;s=!0;continue}if(c!==""){let m;if(u>o?m="":m=r[u+1].toLowerCase(),i&2&&c!==m){if(Co(i))return!1;s=!0}}}}return Co(i)||s}function Co(n){return(n&1)===0}function PQ(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return LQ(e,n)}function rO(n,e,t=!1){for(let i=0;i<e.length;i++)if(RQ(n,e[i],t))return!0;return!1}function OQ(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function FQ(n){for(let e=0;e<n.length;e++){let t=n[e];if(iQ(t))return e}return n.length}function LQ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function BQ(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function o3(n,e){return n?":not("+e.trim()+")":e}function VQ(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Co(s)&&(e+=o3(o,r),r=""),i=s,o=o||!Co(i);t++}return r!==""&&(e+=o3(o,r)),e}function jQ(n){return n.map(VQ).join(",")}function qQ(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Co(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Mn={};function UQ(n,e){return n.createText(e)}function $Q(n,e,t){n.setValue(e,t)}function HQ(n,e){return n.createComment(IQ(e))}function oO(n,e,t){return n.createElement(e,t)}function Ry(n,e,t,i,r){n.insertBefore(e,t,i,r)}function sO(n,e,t){n.appendChild(e,t)}function s3(n,e,t,i,r){i!==null?Ry(n,e,t,i,r):sO(n,e,t)}function aO(n,e,t){n.removeChild(null,e,t)}function zQ(n,e,t){n.setAttribute(e,"style",t)}function WQ(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function lO(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&nQ(n,e,i),r!==null&&WQ(n,e,r),o!==null&&zQ(n,e,o)}function N2(n,e,t,i,r,o,s,a,l,c,u){let m=Vt+i,y=m+r,v=GQ(m,y),w=typeof c=="function"?c():c;return v[we]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:u}}function GQ(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Mn);return t}function QQ(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=N2(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function R2(n,e,t,i,r,o,s,a,l,c,u){let m=e.blueprint.slice();return m[yo]=r,m[Pe]=i|4|128|8|64|1024,(c!==null||n&&n[Pe]&2048)&&(m[Pe]|=2048),gS(m),m[vn]=m[_c]=n,m[nn]=t,m[ns]=s||n&&n[ns],m[Dt]=a||n&&n[Dt],m[vc]=l||n&&n[vc]||null,m[Ei]=o,m[nm]=gQ(),m[gc]=u,m[uS]=c,m[Si]=e.type==2?n[Si]:m,m}function YQ(n,e,t){let i=$r(e,n),r=QQ(t),o=n[ns].rendererFactory,s=P2(n,R2(n,r,null,cO(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function cO(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function uO(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function P2(n,e){return n[Pd]?n[cS][qr]=e:n[Pd]=e,n[cS]=e,e}function d(n=1){dO(jt(),ye(),xo()+n,!1)}function dO(n,e,t,i){if(!i)if((e[Pe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&xy(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Cy(e,o,0,t)}za(t)}var Gy=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Gy||{});function e2(n,e,t,i){let r=Me(null);try{let[o,s,a]=n.inputs[t],l=null;(s&Gy.SignalBased)!==0&&(l=e[o][Tn]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,o):D3(e,l,o,i)}finally{Me(r)}}var Eo=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Eo||{}),ZQ;function O2(n,e){return ZQ(n,e)}function qd(n,e,t,i,r){if(i!=null){let o,s=!1;bo(i)?o=i:rs(i)&&(s=!0,i=i[yo]);let a=Ur(i);n===0&&t!==null?r==null?sO(e,t,a):Ry(e,t,a,r||null,!0):n===1&&t!==null?Ry(e,t,a,r||null,!0):n===2?aO(e,a,s):n===3&&e.destroyNode(a),o!=null&&sY(e,n,o,t,r)}}function XQ(n,e){pO(n,e),e[yo]=null,e[Ei]=null}function JQ(n,e,t,i,r,o){i[yo]=r,i[Ei]=e,Yy(n,i,t,1,r,o)}function pO(n,e){e[ns].changeDetectionScheduler?.notify(9),Yy(n,e,e[Dt],2,null,null)}function KQ(n){let e=n[Pd];if(!e)return VS(n[we],n);for(;e;){let t=null;if(rs(e))t=e[Pd];else{let i=e[In];i&&(t=i)}if(!t){for(;e&&!e[qr]&&e!==n;)rs(e)&&VS(e[we],e),e=e[vn];e===null&&(e=n),rs(e)&&VS(e[we],e),t=e&&e[qr]}e=t}}function F2(n,e){let t=n[xc],i=t.indexOf(e);t.splice(i,1)}function Qy(n,e){if(Cc(e))return;let t=e[Dt];t.destroyNode&&Yy(n,e,t,3,null,null),KQ(e)}function VS(n,e){if(Cc(e))return;let t=Me(null);try{e[Pe]&=-129,e[Pe]|=256,e[vr]&&ic(e[vr]),tY(n,e),eY(n,e),e[we].type===1&&e[Dt].destroy();let i=e[Ua];if(i!==null&&bo(e[vn])){i!==e[vn]&&F2(i,e);let r=e[is];r!==null&&r.detachView(n)}XS(e)}finally{Me(t)}}function eY(n,e){let t=n.cleanup,i=e[Rd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[Rd]=null);let r=e[zs];if(r!==null){e[zs]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[Qs];if(o!==null){e[Qs]=null;for(let s of o)s.destroy()}}function tY(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Dc)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];yt(4,a,l);try{l.call(a)}finally{yt(5,a,l)}}else{yt(4,r,o);try{o.call(r)}finally{yt(5,r,o)}}}}}function fO(n,e,t){return nY(n,e.parent,t)}function nY(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[yo];if(Ys(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===Xs.None||r===Xs.Emulated)return null}return $r(i,t)}function hO(n,e,t){return rY(n,e,t)}function iY(n,e,t){return n.type&40?$r(n,t):null}var rY=iY,a3;function L2(n,e,t,i){let r=fO(n,i,e),o=e[Dt],s=i.parent||e[Ei],a=hO(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)s3(o,r,t[l],a,!1);else s3(o,r,t,a,!1);a3!==void 0&&a3(o,i,e,t,r)}function hm(n,e){if(e!==null){let t=e.type;if(t&3)return $r(e,n);if(t&4)return t2(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return hm(n,i);{let r=n[e.index];return bo(r)?t2(-1,r):Ur(r)}}else{if(t&128)return hm(n,e.next);if(t&32)return O2(e,n)()||Ur(n[e.index]);{let i=mO(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=ja(n[Si]);return hm(r,i)}else return hm(n,e.next)}}}return null}function mO(n,e){if(e!==null){let i=n[Si][Ei],r=e.projection;return i.projection[r]}return null}function t2(n,e){let t=In+n+1;if(t<e.length){let i=e[t],r=i[we].firstChild;if(r!==null)return hm(i,r)}return e[$a]}function B2(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&e===0&&(a&&Hd(Ur(a),i),t.flags|=2),!Wy(t))if(l&8)B2(n,e,t.child,i,r,o,!1),qd(e,n,r,a,o);else if(l&32){let c=O2(t,i),u;for(;u=c();)qd(e,n,r,u,o);qd(e,n,r,a,o)}else l&16?gO(n,e,i,t,r,o):qd(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Yy(n,e,t,i,r,o){B2(t,i,n.firstChild,e,r,o,!1)}function oY(n,e,t){let i=e[Dt],r=fO(n,t,e),o=t.parent||e[Ei],s=hO(o,t,e);gO(i,0,e,t,r,s)}function gO(n,e,t,i,r,o){let s=t[Si],l=s[Ei].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];qd(e,n,r,u,o)}else{let c=l,u=s[vn];U3(i)&&(c.flags|=128),B2(n,e,c,u,r,o,!0)}}function sY(n,e,t,i,r){let o=t[$a],s=Ur(t);o!==s&&qd(e,n,i,o,r);for(let a=In;a<t.length;a++){let l=t[a];Yy(l[we],l,n,e,i,o)}}function aY(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Eo.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Eo.Important),n.setStyle(t,i,r,o))}}function vO(n,e,t,i,r){let o=xo(),s=i&2;try{za(-1),s&&e.length>Vt&&dO(n,e,Vt,!1),yt(s?2:0,r,t),t(i,r)}finally{za(o),yt(s?3:1,r,t)}}function Zy(n,e,t){fY(n,e,t),(t.flags&64)===64&&hY(n,e,t)}function Tm(n,e,t=$r){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function lY(n,e,t,i){let o=i.get(X3,Z3)||t===Xs.ShadowDom,s=n.selectRootElement(e,o);return cY(s),s}function cY(n){uY(n)}var uY=()=>null;function dY(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _O(n,e,t,i,r,o){let s=e[we];if(Xy(n,s,e,t,i)){Ys(n)&&yO(e,n.index);return}n.type&3&&(t=dY(t)),pY(n,e,t,i,r,o)}function pY(n,e,t,i,r,o){if(n.type&3){let s=$r(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function yO(n,e){let t=Hr(e,n);t[Pe]&16||(t[Pe]|=64)}function fY(n,e,t){let i=t.directiveStart,r=t.directiveEnd;Ys(t)&&YQ(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ky(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],l=vm(e,n,s,t);if(Hd(l,e),o!==null&&vY(e,s-i,l,a,t,o),os(a)){let c=Hr(t.index,e);c[nn]=vm(e,n,s,t)}}}function hY(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=$P();try{za(o);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];fy(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&mY(l,c)}}finally{za(-1),fy(s)}}function mY(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function V2(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];rO(e,o.selectors,!1)&&(i??=[],os(o)?i.unshift(o):i.push(o))}return i}function gY(n,e,t,i,r,o){let s=$r(n,e);bO(e[Dt],s,o,n.value,t,i,r)}function bO(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?_o(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function vY(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];e2(i,t,l,c)}}function j2(n,e,t,i,r){let o=Vt+t,s=e[we],a=r(s,e,n,i,t);e[o]=a,Ld(n,!0);let l=n.type===2;return l?(lO(e[Dt],a,n),(FP()===0||Od(n))&&Hd(a,e),LP()):Hd(a,e),vy()&&(!l||!Wy(n))&&L2(s,e,a,n),n}function q2(n){let e=n;return DS()?AS():(e=e.parent,Ld(e,!1)),e}function _Y(n,e){let t=n[vc];if(!t)return;let i;try{i=t.get(ss,null)}catch{i=null}i?.(e)}function Xy(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],m=e.data[c];e2(m,t[c],u,r),a=!0}if(o)for(let l of o){let c=t[l],u=e.data[l];e2(u,c,i,r),a=!0}return a}function yY(n,e){let t=Hr(e,n),i=t[we];bY(i,t);let r=t[yo];r!==null&&t[gc]===null&&(t[gc]=J3(r,t[vc])),yt(18),U2(i,t,t[nn]),yt(19,t[nn])}function bY(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function U2(n,e,t){my(e);try{let i=n.viewQuery;i!==null&&KS(1,i,t);let r=n.template;r!==null&&vO(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[is]?.finishViewCreation(n),n.staticContentQueries&&K3(n,e),n.staticViewQueries&&KS(2,n.viewQuery,t);let o=n.components;o!==null&&xY(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Pe]&=-5,gy()}}function xY(n,e){for(let t=0;t<e.length;t++)yY(n,e[t])}function Im(n,e,t,i){let r=Me(null);try{let o=e.tView,a=n[Pe]&4096?4096:16,l=R2(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[Ua]=c;let u=n[is];return u!==null&&(l[is]=u.createEmbeddedView(o)),U2(o,l,t),l}finally{Me(r)}}function zd(n,e){return!e||e.firstChild===null||U3(n)}var l3=!1,CY=new Ee("");function _m(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Ur(o)),bo(o)&&xO(o,i);let s=t.type;if(s&8)_m(n,e,t.child,i);else if(s&32){let a=O2(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=mO(e,t);if(Array.isArray(a))i.push(...a);else{let l=ja(e[Si]);_m(l[we],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function xO(n,e){for(let t=In;t<n.length;t++){let i=n[t],r=i[we].firstChild;r!==null&&_m(i[we],i,r,e)}n[$a]!==n[yo]&&e.push(n[$a])}function CO(n){if(n[bc]!==null){for(let e of n[bc])e.impl.addSequence(e);n[bc].length=0}}var wO=[];function wY(n){return n[vr]??EY(n)}function EY(n){let e=wO.pop()??Object.create(DY);return e.lView=n,e}function SY(n){n.lView[vr]!==n&&(n.lView=null,wO.push(n))}var DY=ee(B({},tc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ha(n.lView)},consumerOnSignalRead(){this.lView[vr]=this}});function AY(n){let e=n[vr]??Object.create(TY);return e.lView=n,e}var TY=ee(B({},tc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ja(n.lView);for(;e&&!EO(e[we]);)e=ja(e);e&&vS(e)},consumerOnSignalRead(){this.lView[vr]=this}});function EO(n){return n.type!==2}function SO(n){if(n[Qs]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[Qs])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[Pe]&8192)}}var IY=100;function $2(n,e=0){let i=n[ns].rendererFactory,r=!1;r||i.begin?.();try{kY(n,e)}finally{r||i.end?.()}}function kY(n,e){let t=IS();try{Bd(!0),n2(n,e);let i=0;for(;om(n);){if(i===IY)throw new re(103,!1);i++,n2(n,1)}}finally{Bd(t)}}function DO(n,e){TS(e?sm.Exhaustive:sm.OnlyDirtyViews);try{$2(n)}finally{TS(sm.Off)}}function MY(n,e,t,i){if(Cc(e))return;let r=e[Pe],o=!1,s=!1;my(e);let a=!0,l=null,c=null;o||(EO(n)?(c=wY(e),l=nc(c)):T_()===null?(a=!1,c=AY(e),l=nc(c)):e[vr]&&(ic(e[vr]),e[vr]=null));try{gS(e),jP(n.bindingStartIndex),t!==null&&vO(n,e,t,2,i);let u=(r&3)===3;if(!o)if(u){let v=n.preOrderCheckHooks;v!==null&&xy(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Cy(e,v,0,null),LS(e,0)}if(s||NY(e),SO(e),AO(e,0),n.contentQueries!==null&&K3(n,e),!o)if(u){let v=n.contentCheckHooks;v!==null&&xy(e,v)}else{let v=n.contentHooks;v!==null&&Cy(e,v,1),LS(e,1)}PY(n,e);let m=n.components;m!==null&&IO(e,m,0);let y=n.viewQuery;if(y!==null&&KS(2,y,i),!o)if(u){let v=n.viewCheckHooks;v!==null&&xy(e,v)}else{let v=n.viewHooks;v!==null&&Cy(e,v,2),LS(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ly]){for(let v of e[ly])v();e[ly]=null}o||(CO(e),e[Pe]&=-73)}catch(u){throw o||Ha(e),u}finally{c!==null&&(wd(c,l),a&&SY(c)),gy()}}function AO(n,e){for(let t=H3(n);t!==null;t=z3(t))for(let i=In;i<t.length;i++){let r=t[i];TO(r,e)}}function NY(n){for(let e=H3(n);e!==null;e=z3(e)){if(!(e[Pe]&2))continue;let t=e[xc];for(let i=0;i<t.length;i++){let r=t[i];vS(r)}}}function RY(n,e,t){yt(18);let i=Hr(e,n);TO(i,t),yt(19,i[nn])}function TO(n,e){uy(n)&&n2(n,e)}function n2(n,e){let i=n[we],r=n[Pe],o=n[vr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ed(o)),s||=!1,o&&(o.dirty=!1),n[Pe]&=-9217,s)MY(i,n,i.template,n[nn]);else if(r&8192){let a=Me(null);try{SO(n),AO(n,1);let l=i.components;l!==null&&IO(n,l,1),CO(n)}finally{Me(a)}}}function IO(n,e,t){for(let i=0;i<e.length;i++)RY(n,e[i],t)}function PY(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)za(~r);else{let o=r,s=t[++i],a=t[++i];UP(s,o);let l=e[o];yt(24,l),a(2,l),yt(25,l)}}}finally{za(-1)}}function H2(n,e){let t=IS()?64:1088;for(n[ns].changeDetectionScheduler?.notify(e);n;){n[Pe]|=t;let i=ja(n);if(Fd(n)&&!i)return n;n=i}return null}function kO(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function MO(n,e){let t=In+e;if(t<n.length)return n[t]}function km(n,e,t,i=!0){let r=e[we];if(OY(r,e,n,t),i){let s=t2(t,n),a=e[Dt],l=a.parentNode(n[$a]);l!==null&&JQ(r,n[Ei],a,e,l,s)}let o=e[gc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function NO(n,e){let t=ym(n,e);return t!==void 0&&Qy(t[we],t),t}function ym(n,e){if(n.length<=In)return;let t=In+e,i=n[t];if(i){let r=i[Ua];r!==null&&r!==n&&F2(r,i),e>0&&(n[t-1][qr]=i[qr]);let o=Jh(n,In+e);XQ(i[we],i);let s=o[is];s!==null&&s.detachView(o[we]),i[vn]=null,i[qr]=null,i[Pe]&=-129}return i}function OY(n,e,t,i){let r=In+i,o=t.length;i>0&&(t[r-1][qr]=e),i<o-In?(e[qr]=t[r],nS(t,In+i,e)):(t.push(e),e[qr]=null),e[vn]=t;let s=e[Ua];s!==null&&t!==s&&RO(s,e);let a=e[is];a!==null&&a.insertView(n),dy(e),e[Pe]|=128}function RO(n,e){let t=n[xc],i=e[vn];if(rs(i))n[Pe]|=2;else{let r=i[vn][Si];e[Si]!==r&&(n[Pe]|=2)}t===null?n[xc]=[e]:t.push(e)}var Ga=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[we];return _m(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[nn]}set context(e){this._lView[nn]=e}get destroyed(){return Cc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vn];if(bo(e)){let t=e[im],i=t?t.indexOf(this):-1;i>-1&&(ym(e,i),Jh(t,i))}this._attachedToViewContainer=!1}Qy(this._lView[we],this._lView)}onDestroy(e){_S(this._lView,e)}markForCheck(){H2(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Pe]&=-129}reattach(){dy(this._lView),this._lView[Pe]|=128}detectChanges(){this._lView[Pe]|=1024,$2(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fd(this._lView),t=this._lView[Ua];t!==null&&!e&&F2(t,this._lView),pO(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e;let t=Fd(this._lView),i=this._lView[Ua];i!==null&&!t&&RO(i,this._lView),dy(this._lView)}};var Js=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=FY;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=Im(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Ga(o)}}return n})();function FY(){return Jy(yn(),ye())}function Jy(n,e){return n.type&4?new Js(e,n,Gd(n,e)):null}function Yd(n,e,t,i,r){let o=n.data[e];if(o===null)o=LY(n,e,t,i,r),qP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=BP();o.injectorIndex=s===null?-1:s.injectorIndex}return Ld(o,!0),o}function LY(n,e,t,i,r){let o=SS(),s=DS(),a=s?o:o&&o.parent,l=n.data[e]=VY(n,a,t,e,i,r);return BY(n,l,o,s),l}function BY(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function VY(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return CS()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var K_e=new RegExp(`^(\\d+)*(${bQ}|${yQ})*(.*)`);function jY(n){let e=n[dS]??[],i=n[vn][Dt],r=[];for(let o of e)o.data[Y3]!==void 0?r.push(o):qY(o,i);n[dS]=r}function qY(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[Q3];for(;t<r;){let o=i.nextSibling;aO(e,i,!1),i=o,t++}}}var UY=()=>null,$Y=()=>null;function Py(n,e){return UY(n,e)}function PO(n,e,t){return $Y(n,e,t)}var OO=class{},Ky=class{},i2=class{resolveComponentFactory(e){throw new re(917,!1)}},e1=class{static NULL=new i2},Ac=class{},So=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>HY()}return n})();function HY(){let n=ye(),e=yn(),t=Hr(e.index,n);return(rs(t)?t:n)[Dt]}var FO=(()=>{class n{static \u0275prov=Se({token:n,providedIn:"root",factory:()=>null})}return n})();var Ey={},r2=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,Ey,i);return r!==Ey||t===Ey?r:this.parentInjector.get(e,t,i)}};function Oy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=ty(r,a);else if(o==2){let l=a,c=e[++s];i=ty(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function be(n,e=0){let t=ye();if(t===null)return ze(n,e);let i=yn();return B3(i,t,Qn(n),e)}function LO(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}GY(n,e,t,a,o,l,c)}o!==null&&i!==null&&zY(t,i,o)}function zY(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new re(-301,!1);i.push(e[r],o)}}function WY(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function GY(n,e,t,i,r,o,s){let a=i.length,l=!1;for(let y=0;y<a;y++){let v=i[y];!l&&os(v)&&(l=!0,WY(n,t,y)),YS(ky(t,e),n,v.type)}KY(t,n.data.length,a);for(let y=0;y<a;y++){let v=i[y];v.providersResolver&&v.providersResolver(v)}let c=!1,u=!1,m=uO(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let v=i[y];if(t.mergedAttrs=$d(t.mergedAttrs,v.hostAttrs),YY(n,t,e,m,v),JY(m,v,r),s!==null&&s.has(v)){let[D,I]=s.get(v);t.directiveToIndex.set(v.type,[m,D+t.directiveStart,I+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,m);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let w=v.type.prototype;!c&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),m++}QY(n,t,o)}function QY(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))c3(0,e,r,i),c3(1,e,r,i),d3(e,i,!1);else{let o=t.get(r);u3(0,e,o,i),u3(1,e,o,i),d3(e,i,!0)}}}function c3(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),BO(e,o)}}function u3(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),BO(e,s)}}function BO(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function d3(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||M2(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let c=r[l];for(let u of c)if(u===e){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function YY(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Va(r.type,!0)),s=new Dc(o,os(r),be,null);n.blueprint[i]=s,t[i]=s,ZY(n,e,i,uO(n,t,r.hostVars,Mn),r)}function ZY(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;XY(s)!=a&&s.push(a),s.push(t,i,o)}}function XY(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function JY(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;os(e)&&(t[""]=n)}}function KY(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function z2(n,e,t,i,r,o,s,a){let l=e[we],c=l.consts,u=zr(c,s),m=Yd(l,n,t,i,u);return o&&LO(l,e,m,zr(c,a),r),m.mergedAttrs=$d(m.mergedAttrs,m.attrs),m.attrs!==null&&Oy(m,m.attrs,!1),m.mergedAttrs!==null&&Oy(m,m.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,m),m}function W2(n,e){k3(n,e),pS(e)&&n.queries.elementEnd(e)}function eZ(n,e,t,i,r,o){let s=e.consts,a=zr(s,r),l=Yd(e,n,t,i,a);if(l.mergedAttrs=$d(l.mergedAttrs,l.attrs),o!=null){let c=zr(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&Oy(l,l.attrs,!1),l.mergedAttrs!==null&&Oy(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function G2(n){return t1(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function VO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function t1(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function n1(n,e,t){return n[e]=t}function tZ(n,e){return n[e]}function $i(n,e,t){if(t===Mn)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Q2(n,e,t,i){let r=$i(n,e,t);return $i(n,e+1,i)||r}function jO(n,e,t,i,r){let o=Q2(n,e,t,i);return $i(n,e+2,r)||o}function Sy(n,e,t){return function i(r){let o=Ys(n)?Hr(n.index,e):e;H2(o,5);let s=e[nn],a=p3(e,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=p3(e,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function p3(n,e,t,i){let r=Me(null);try{return yt(6,e,t),t(i)!==!1}catch(o){return _Y(n,o),!1}finally{yt(7,e,t),Me(r)}}function qO(n,e,t,i,r,o,s,a){let l=Od(n),c=!1,u=null;if(!i&&l&&(u=nZ(e,t,o,n.index)),u!==null){let m=u.__ngLastListenerFn__||u;m.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let m=$r(n,t),y=i?i(m):m;CQ(t,y,o,a);let v=r.listen(y,o,a),w=i?D=>i(Ur(D[n.index])):n.index;UO(w,e,t,o,a,v,!1)}return c}function nZ(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Rd],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function UO(n,e,t,i,r,o,s){let a=e.firstCreatePass?bS(e):null,l=yS(t),c=l.length;l.push(r,o),a&&a.push(i,n,c,(c+1)*(s?-1:1))}function f3(n,e,t,i,r,o){let s=e[t],a=e[we],c=a.data[t].outputs[i],m=s[c].subscribe(o);UO(n.index,a,e,r,o,m,!0)}var o2=Symbol("BINDING");var s2=class extends e1{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=mc(e);return new bm(t,this.ngModule)}};function iZ(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&Gy.SignalBased)!==0};return r&&(o.transform=r),o})}function rZ(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function oZ(n,e,t){let i=e instanceof qi?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new r2(t,i):t}function sZ(n){let e=n.get(Ac,null);if(e===null)throw new re(407,!1);let t=n.get(FO,null),i=n.get(jr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function aZ(n,e){let t=$O(n);return oO(e,t,t==="svg"?fS:t==="math"?kP:null)}function $O(n){return(n.selectors[0][0]||"div").toLowerCase()}var bm=class extends Ky{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=iZ(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=rZ(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=jQ(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){yt(22);let a=Me(null);try{let l=this.componentDef,c=lZ(i,l,s,o),u=oZ(l,r||this.ngModule,e),m=sZ(u),y=m.rendererFactory.createRenderer(null,l),v=i?lY(y,i,l.encapsulation,u):aZ(l,y),w=s?.some(h3)||o?.some(M=>typeof M!="function"&&M.bindings.some(h3)),D=R2(null,c,null,512|cO(l),null,null,m,y,u,null,J3(v,u,!0));D[Vt]=v,my(D);let I=null;try{let M=z2(Vt,D,2,"#host",()=>c.directiveRegistry,!0,0);v&&(lO(y,v,M),Hd(v,D)),Zy(c,D,M),T2(c,M,D),W2(c,M),t!==void 0&&uZ(M,this.ngContentSelectors,t),I=Hr(M.index,D),D[nn]=I[nn],U2(c,D,null)}catch(M){throw I!==null&&XS(I),XS(D),M}finally{yt(23),gy()}return new Fy(this.componentType,D,!!w)}finally{Me(a)}}};function lZ(n,e,t,i){let r=n?["ng-version","20.2.4"]:qQ(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[o2].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let m=i[u];if(typeof m!="function")for(let y of m.bindings){a+=y[o2].requiredVars;let v=u+1;y.create&&(y.targetIdx=v,(o??=[]).push(y)),y.update&&(y.targetIdx=v,(s??=[]).push(y))}}let l=[e];if(i)for(let u of i){let m=typeof u=="function"?u:u.type,y=oS(m);l.push(y)}return N2(0,null,cZ(o,s),1,a,l,null,null,null,[r],null)}function cZ(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function h3(n){let e=n[o2].kind;return e==="input"||e==="twoWay"}var Fy=class extends OO{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=rm(t[we],Vt),this.location=Gd(this._tNode,t),this.instance=Hr(this._tNode.index,t)[nn],this.hostView=this.changeDetectorRef=new Ga(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=Xy(i,r[we],r,e,t);this.previousInputValues.set(e,t);let s=Hr(i.index,r);H2(s,1)}get injector(){return new Sc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uZ(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Ks=(()=>{class n{static __NG_ELEMENT_ID__=dZ}return n})();function dZ(){let n=yn();return zO(n,ye())}var pZ=Ks,HO=class extends pZ{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Gd(this._hostTNode,this._hostLView)}get injector(){return new Sc(this._hostTNode,this._hostLView)}get parentInjector(){let e=S2(this._hostTNode,this._hostLView);if(N3(e)){let t=Ty(e,this._hostLView),i=Ay(e),r=t[we].data[i+8];return new Sc(r,t)}else return new Sc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=m3(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Py(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,zd(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let l=e&&!QG(e),c;if(l)c=t;else{let I=t||{};c=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let u=l?e:new bm(mc(e)),m=i||this.parentInjector;if(!o&&u.ngModule==null){let M=(l?m:this.parentInjector).get(qi,null);M&&(o=M)}let y=mc(u.componentType??{}),v=Py(this._lContainer,y?.id??null),w=v?.firstChild??null,D=u.create(m,r,w,o,s,a);return this.insertImpl(D.hostView,c,zd(this._hostTNode,v)),D}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(NP(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[vn],c=new HO(l,l[Ei],l[vn]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return km(s,r,o,i),e.attachToViewContainerRef(),nS(jS(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=m3(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=ym(this._lContainer,t);i&&(Jh(jS(this._lContainer),t),Qy(i[we],i))}detach(e){let t=this._adjustIndex(e,-1),i=ym(this._lContainer,t);return i&&Jh(jS(this._lContainer),t)!=null?new Ga(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function m3(n){return n[im]}function jS(n){return n[im]||(n[im]=[])}function zO(n,e){let t,i=e[n.index];return bo(i)?t=i:(t=kO(i,e,null,n),e[n.index]=t,P2(e,t)),hZ(t,e,n,i),new HO(t,n,e)}function fZ(n,e){let t=n[Dt],i=t.createComment(""),r=$r(e,n),o=t.parentNode(r);return Ry(t,o,i,t.nextSibling(r),!1),i}var hZ=vZ,mZ=()=>!1;function gZ(n,e,t){return mZ(n,e,t)}function vZ(n,e,t,i){if(n[$a])return;let r;t.type&8?r=Ur(i):r=fZ(e,t),n[$a]=r}var a2=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},l2=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Z2(e,t).matches!==null&&this.queries[t].setDirty()}},Ly=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=wZ(e):this.predicate=e}},c2=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},u2=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,_Z(t,o)),this.matchTNodeWithReadOption(e,t,wy(t,e,o,!1,!1))}else i===Js?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,wy(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===kn||r===Ks||r===Js&&t.type&4)this.addMatch(t.index,-2);else{let o=wy(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function _Z(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function yZ(n,e){return n.type&11?Gd(n,e):n.type&4?Jy(n,e):null}function bZ(n,e,t,i){return t===-1?yZ(e,n):t===-2?xZ(n,e,i):vm(n,n[we],t,e)}function xZ(n,e,t){if(t===kn)return Gd(e,n);if(t===Js)return Jy(e,n);if(t===Ks)return zO(e,n)}function WO(n,e,t,i){let r=e[is].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(bZ(e,u,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function d2(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=WO(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let m=In;m<u.length;m++){let y=u[m];y[Ua]===y[vn]&&d2(y[we],y,c,i)}if(u[xc]!==null){let m=u[xc];for(let y=0;y<m.length;y++){let v=m[y];d2(v[we],v,c,i)}}}}}return i}function Y2(n,e){return n[is].queries[e].queryList}function GO(n,e,t){let i=new My((t&4)===4);return OP(n,e,i,i.destroy),(e[is]??=new l2).queries.push(new a2(i))-1}function QO(n,e,t){let i=jt();return i.firstCreatePass&&(YO(i,new Ly(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),GO(i,ye(),e)}function CZ(n,e,t,i){let r=jt();if(r.firstCreatePass){let o=yn();YO(r,new Ly(e,t,i),o.index),EZ(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return GO(r,ye(),t)}function wZ(n){return n.split(",").map(e=>e.trim())}function YO(n,e,t){n.queries===null&&(n.queries=new c2),n.queries.track(new u2(e,t))}function EZ(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Z2(n,e){return n.queries.getByIndex(e)}function ZO(n,e){let t=n[we],i=Z2(t,e);return i.crossesNgTemplate?d2(t,n,e,[]):WO(t,n,i,e)}function XO(n,e,t){let i,r=$h(()=>{i._dirtyCounter();let o=DZ(i,n);if(e&&o===void 0)throw new re(-951,!1);return o});return i=r[Tn],i._dirtyCounter=F(0),i._flatValue=void 0,r}function JO(n){return XO(!0,!1,n)}function KO(n){return XO(!0,!0,n)}function SZ(n,e){let t=n[Tn];t._lView=ye(),t._queryIndex=e,t._queryList=Y2(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function DZ(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[Pe]&4)return e?void 0:oi;let r=Y2(t,i),o=ZO(t,i);return r.reset(o,q3),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}var g3=new Set;function ea(n){g3.has(n)||(g3.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var xm=class{};var Cm=class extends xm{injector;componentFactoryResolver=new s2(this);instance=null;constructor(e){super();let t=new dc([...e.providers,{provide:xm,useValue:this},{provide:e1,useValue:this.componentFactoryResolver}],e.parent||tm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function eF(n,e,t=null){return new Cm({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var AZ=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=sS(!1,t.type),r=i.length>0?eF([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Se({token:n,providedIn:"environment",factory:()=>new n(ze(qi))})}return n})();function pe(n){return Dm(()=>{let e=tF(n),t=ee(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===D2.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(AZ).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xs.Emulated,styles:n.styles||oi,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ea("NgStandalone"),nF(t);let i=n.dependencies;return t.directiveDefs=v3(i,TZ),t.pipeDefs=v3(i,wP),t.id=MZ(t),t})}function TZ(n){return mc(n)||oS(n)}function ls(n){return Dm(()=>({type:n.type,bootstrap:n.bootstrap||oi,declarations:n.declarations||oi,imports:n.imports||oi,exports:n.exports||oi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function IZ(n,e){if(n==null)return qa;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=Gy.None,l=null),t[o]=[i,a,l],e[o]=s}return t}function kZ(n){if(n==null)return qa;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ct(n){return Dm(()=>{let e=tF(n);return nF(e),e})}function Ic(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function tF(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||qa,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||oi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:IZ(n.inputs,e),outputs:kZ(n.outputs),debugInfo:null}}function nF(n){n.features?.forEach(e=>e(n))}function v3(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function MZ(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function NZ(n){return Object.getPrototypeOf(n.prototype).constructor}function ln(n){let e=NZ(n.type),t=!0,i=[n];for(;e;){let r;if(os(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=qS(n.inputs),s.declaredInputs=qS(n.declaredInputs),s.outputs=qS(n.outputs);let a=r.hostBindings;a&&LZ(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&OZ(n,l),c&&FZ(n,c),RZ(n,r),hP(n.outputs,r.outputs),os(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ln&&(t=!1)}}e=Object.getPrototypeOf(e)}PZ(i)}function RZ(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function PZ(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=$d(r.hostAttrs,t=$d(t,r.hostAttrs))}}function qS(n){return n===qa?{}:n===oi?[]:n}function OZ(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function FZ(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function LZ(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function iF(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=$d(n.mergedAttrs,n.attrs);let u=n.tView=N2(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Ld(n,!1);let l=VZ(t,e,n,i);vy()&&L2(t,e,l,n),Hd(l,e);let c=kO(l,e,l,n);e[i+Vt]=c,P2(e,c),gZ(c,n,e)}function BZ(n,e,t,i,r,o,s,a,l,c,u){let m=t+Vt,y;return e.firstCreatePass?(y=Yd(e,m,4,s||null,a||null),py()&&LO(e,n,y,zr(e.consts,c),V2),k3(e,y)):y=e.data[m],iF(y,n,e,t,i,r,o,l),Od(y)&&Zy(e,n,y),c!=null&&Tm(n,y,u),y}function wm(n,e,t,i,r,o,s,a,l,c,u){let m=t+Vt,y;if(e.firstCreatePass){if(y=Yd(e,m,4,s||null,a||null),c!=null){let v=zr(e.consts,c);y.localNames=[];for(let w=0;w<v.length;w+=2)y.localNames.push(v[w],-1)}}else y=e.data[m];return iF(y,n,e,t,i,r,o,l),c!=null&&Tm(n,y,u),y}function de(n,e,t,i,r,o,s,a){let l=ye(),c=jt(),u=zr(c.consts,o);return BZ(l,c,n,e,t,i,r,u,void 0,s,a),de}var VZ=jZ;function jZ(n,e,t,i){return um(!0),e[Dt].createComment("")}var i1=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(i1||{}),kc=new Ee(""),rF=!1,p2=class extends ts{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,TP()&&(this.destroyRef=$(Wr,{optional:!0})??void 0,this.pendingTasks=$(Wa,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof xi&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Pt=p2;function oF(n){let e,t;function i(){n=wc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function _3(n){return queueMicrotask(()=>n()),()=>{n=wc}}var X2="isAngularZone",By=X2+"_ID",qZ=0,rn=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Pt(!1);onMicrotaskEmpty=new Pt(!1);onStable=new Pt(!1);onError=new Pt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=rF}=e;if(typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,HZ(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(X2)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new re(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,UZ,wc,wc);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},UZ={};function J2(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $Z(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){oF(()=>{n.callbackScheduled=!1,f2(n),n.isCheckStableRunning=!0,J2(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),f2(n)}function HZ(n){let e=()=>{$Z(n)},t=qZ++;n._inner=n._inner.fork({name:"angular",properties:{[X2]:!0,[By]:t,[By+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(zZ(l))return i.invokeTask(o,s,a,l);try{return y3(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),b3(n)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return y3(n),i.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!WZ(l)&&e(),b3(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,f2(n),J2(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function f2(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function y3(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function b3(n){n._nesting--,J2(n)}var Em=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Pt;onMicrotaskEmpty=new Pt;onStable=new Pt;onError=new Pt;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function zZ(n){return sF(n,"__ignore_ng_zone__")}function WZ(n){return sF(n,"__scheduler_tick__")}function sF(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var K2=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=Se({token:n,providedIn:"root",factory:()=>new n})}return n})(),aF=[0,1,2,3],lF=(()=>{class n{ngZone=$(rn);scheduler=$(jr);errorHandler=$(gr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){$(kc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&yt(16),this.executing=!0;for(let i of aF)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&yt(17)}register(t){let{view:i}=t;i!==void 0?((i[bc]??=[]).push(t),Ha(i),i[Pe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(i1.AFTER_NEXT_RENDER,t):t()}static \u0275prov=Se({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[bc];e&&(this.view[bc]=e.filter(t=>t!==this))}};function eD(n,e){let t=e?.injector??$(wi);return ea("NgAfterNextRender"),QZ(n,t,e,!0)}function GZ(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function QZ(n,e,t,i){let r=e.get(K2);r.impl??=e.get(lF);let o=e.get(kc,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Wr):null,a=e.get(jd,null,{optional:!0}),l=new Vy(r.impl,GZ(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(l),l}var tD=new Ee("");function Zd(n){return!!n&&typeof n.then=="function"}function nD(n){return!!n&&typeof n.subscribe=="function"}var cF=new Ee("");var iD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=$(cF,{optional:!0})??[];injector=$(wi);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=Gs(this.injector,r);if(Zd(o))t.push(o);else if(nD(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uF=new Ee("");function dF(){CE(()=>{let n="";throw new re(600,n)})}function pF(n){return n.isBoundToModule}var YZ=10;var Mc=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$(ss);afterRenderManager=$(K2);zonelessEnabled=$(dm);rootEffectScheduler=$(fm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ts;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=$(Wa);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Gn(t=>!t))}constructor(){$(kc,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=$(qi);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=wi.NULL){return this._injector.get(rn).run(()=>{yt(10);let s=t instanceof Ky;if(!this._injector.get(iD).done){let w="";throw new re(405,w)}let l;s?l=t:l=this._injector.get(e1).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=pF(l)?void 0:this._injector.get(xm),u=i||l.selector,m=l.create(r,[],u,c),y=m.location.nativeElement,v=m.injector.get(tD,null);return v?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),mm(this.components,m),v?.unregisterApplication(y)}),this._loadComponent(m),yt(11,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){yt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(i1.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new re(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(t),this.afterTick.next(),yt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ac,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<YZ;)yt(14),this.synchronizeOnce(),yt(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!om(r))continue;let o=i&&!this.zonelessEnabled?0:1;$2(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>om(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;mm(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(uF,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mm(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new re(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var US="aria";function bt(n,e){let t=ye(),i=Zs();if($i(t,i,e)){let r=jt(),o=cm();if(Xy(o,r,t,n,e))Ys(o)&&yO(t,o.index);else{let a=$r(o,t),l=ZZ(n);bO(t[Dt],a,null,o.value,l,e,null)}}return bt}function ZZ(n){return n.charAt(US.length)!=="-"?US+"-"+n.slice(US.length).toLowerCase():n}function Ke(n,e,t,i){let r=ye(),o=Zs();if($i(r,o,e)){let s=jt(),a=cm();gY(a,r,n,e,t,i)}return Ke}var rD=new Ee("",{providedIn:"root",factory:()=>!1}),oD=new Ee("",{providedIn:"root",factory:()=>XZ}),XZ=4e3;var oye=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var h2=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function $S(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function JZ(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),u=e[o],m=$S(o,c,o,u,t);if(m!==0){m<0&&n.updateValue(o,u),o++;continue}let y=n.at(s),v=e[l],w=$S(s,y,l,v,t);if(w!==0){w<0&&n.updateValue(s,v),s--,l--;continue}let D=t(o,c),I=t(s,y),M=t(o,u);if(Object.is(M,I)){let q=t(l,v);Object.is(q,D)?(n.swap(o,s),n.updateValue(s,v),l--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(i??=new jy,r??=C3(n,o,s,t),m2(n,i,o,M))n.updateValue(o,u),o++,s++;else if(r.has(M))i.set(D,n.detach(o)),s--;else{let q=n.create(o,e[o]);n.attach(o,q),o++,s++}}for(;o<=l;)x3(n,i,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=n.at(o),m=c.value,y=$S(o,u,o,m,t);if(y!==0)y<0&&n.updateValue(o,m),o++,c=l.next();else{i??=new jy,r??=C3(n,o,s,t);let v=t(o,m);if(m2(n,i,o,v))n.updateValue(o,m),o++,s++,c=l.next();else if(!r.has(v))n.attach(o,n.create(o,m)),o++,s++,c=l.next();else{let w=t(o,u);i.set(w,n.detach(o)),s--}}}for(;!c.done;)x3(n,i,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function m2(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function x3(n,e,t,i,r){if(m2(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function C3(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var jy=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function V(n,e,t,i,r,o,s,a){ea("NgControlFlow");let l=ye(),c=jt(),u=zr(c.consts,o);return wm(l,c,n,e,t,i,r,u,256,s,a),sD}function sD(n,e,t,i,r,o,s,a){ea("NgControlFlow");let l=ye(),c=jt(),u=zr(c.consts,o);return wm(l,c,n,e,t,i,r,u,512,s,a),sD}function j(n,e){ea("NgControlFlow");let t=ye(),i=Zs(),r=t[i]!==Mn?t[i]:-1,o=r!==-1?qy(t,Vt+r):void 0,s=0;if($i(t,i,n)){let a=Me(null);try{if(o!==void 0&&NO(o,s),n!==-1){let l=Vt+n,c=qy(t,l),u=y2(t[we],l),m=PO(c,u,t),y=Im(t,u,e,{dehydratedView:m});km(c,y,s,zd(u,m))}}finally{Me(a)}}else if(o!==void 0){let a=MO(o,s);a!==void 0&&(a[nn]=e)}}var g2=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-In}};function Nn(n,e){return e}var v2=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function ce(n,e,t,i,r,o,s,a,l,c,u,m,y){ea("NgControlFlow");let v=ye(),w=jt(),D=l!==void 0,I=ye(),M=a?s.bind(I[Si][nn]):s,q=new v2(D,M);I[Vt+n]=q,wm(v,w,n+1,e,t,i,r,zr(w.consts,o),256),D&&wm(v,w,n+2,l,c,u,m,zr(w.consts,y),512)}var _2=class extends h2{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-In}at(e){return this.getLView(e)[nn].$implicit}attach(e,t){let i=t[gc];this.needsIndexUpdate||=e!==this.length,km(this.lContainer,t,e,zd(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,KZ(this.lContainer,e)}create(e,t){let i=Py(this.lContainer,this.templateTNode.tView.ssrId),r=Im(this.hostLView,this.templateTNode,new g2(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Qy(e[we],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[nn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[nn].$index=e}getLView(e){return eX(this.lContainer,e)}};function ue(n){let e=Me(null),t=xo();try{let i=ye(),r=i[we],o=i[t],s=t+1,a=qy(i,s);if(o.liveCollection===void 0){let c=y2(r,s);o.liveCollection=new _2(a,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if(JZ(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Zs(),u=l.length===0;if($i(i,c,u)){let m=t+2,y=qy(i,m);if(u){let v=y2(r,m),w=PO(y,v,i),D=Im(i,v,void 0,{dehydratedView:w});km(y,D,0,zd(v,w))}else r.firstUpdatePass&&jY(y),NO(y,0)}}}finally{Me(e)}}function qy(n,e){return n[e]}function KZ(n,e){return ym(n,e)}function eX(n,e){return MO(n,e)}function y2(n,e){return rm(n,e)}function T(n,e,t){let i=ye(),r=Zs();if($i(i,r,e)){let o=jt(),s=cm();_O(s,i,n,e,i[Dt],t)}return T}function b2(n,e,t,i,r){Xy(e,n,t,r?"class":"style",i)}function p(n,e,t,i){let r=ye(),o=r[we],s=n+Vt,a=o.firstCreatePass?z2(s,r,2,e,V2,py(),t,i):o.data[s];if(j2(a,r,n,e,fF),Od(a)){let l=r[we];Zy(l,r,a),T2(l,a,r)}return i!=null&&Tm(r,a),p}function f(){let n=jt(),e=yn(),t=q2(e);return n.firstCreatePass&&W2(n,t),wS(t)&&ES(),xS(),t.classesWithoutHost!=null&&eQ(t)&&b2(n,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&tQ(t)&&b2(n,t,ye(),t.stylesWithoutHost,!1),f}function k(n,e,t,i){return p(n,e,t,i),f(),k}function De(n,e,t,i){let r=ye(),o=r[we],s=n+Vt,a=o.firstCreatePass?eZ(s,o,2,e,t,i):o.data[s];return j2(a,r,n,e,fF),i!=null&&Tm(r,a),De}function ke(){let n=yn(),e=q2(n);return wS(e)&&ES(),xS(),ke}function Di(n,e,t,i){return De(n,e,t,i),ke(),Di}var fF=(n,e,t,i,r)=>(um(!0),oO(e[Dt],i,YP()));function We(n,e,t){let i=ye(),r=i[we],o=n+Vt,s=r.firstCreatePass?z2(o,i,8,"ng-container",V2,py(),e,t):r.data[o];if(j2(s,i,n,"ng-container",tX),Od(s)){let a=i[we];Zy(a,i,s),T2(a,s,i)}return t!=null&&Tm(i,s),We}function Ge(){let n=jt(),e=yn(),t=q2(e);return n.firstCreatePass&&W2(n,t),Ge}function ta(n,e,t){return We(n,e,t),Ge(),ta}var tX=(n,e,t,i,r)=>(um(!0),HQ(e[Dt],""));function H(){return ye()}var Ec=void 0;function nX(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var iX=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",nX],gm={};function aD(n,e,t){typeof e!="string"&&(t=e,e=n[Wt.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),gm[e]=n,t&&(gm[e][Wt.ExtraData]=t)}function zi(n){let e=rX(n),t=w3(e);if(t)return t;let i=e.split("-")[0];if(t=w3(i),t)return t;if(i==="en")return iX;throw new re(701,!1)}function w3(n){return n in gm||(gm[n]=pc.ng&&pc.ng.common&&pc.ng.common.locales&&pc.ng.common.locales[n]),gm[n]}var Wt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(Wt||{});function rX(n){return n.toLowerCase().replace(/_/g,"-")}var Mm="en-US";var oX=Mm;function hF(n){typeof n=="string"&&(oX=n.toLowerCase().replace(/_/g,"-"))}function A(n,e,t){let i=ye(),r=jt(),o=yn();return mF(r,i,i[Dt],o,n,e,t),A}function Wi(n,e,t){let i=ye(),r=jt(),o=yn();return(o.type&3||t)&&qO(o,r,i,t,i[Dt],n,e,Sy(o,i,e)),Wi}function mF(n,e,t,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=Sy(i,e,o),qO(i,n,e,s,t,r,o,l)&&(a=!1)),a){let c=i.outputs?.[r],u=i.hostDirectiveOutputs?.[r];if(u&&u.length)for(let m=0;m<u.length;m+=2){let y=u[m],v=u[m+1];l??=Sy(i,e,o),f3(i,e,y,v,r,l)}if(c&&c.length)for(let m of c)l??=Sy(i,e,o),f3(i,e,m,r,r,l)}}function b(n=1){return QP(n)}function sX(n,e){let t=null,i=OQ(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?rO(n,o,!0):BQ(i,o))return r}return t}function Nm(n){let e=ye()[Si][Ei];if(!e.projection){let t=n?n.length:1,i=e.projection=xP(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?sX(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Rm(n,e=0,t,i,r,o){let s=ye(),a=jt(),l=i?n+1:null;l!==null&&wm(s,a,l,i,r,o,null,t);let c=Yd(a,Vt+n,16,null,t||null);c.projection===null&&(c.projection=e),AS();let m=!s[gc]||CS();s[Si][Ei].projection[c.projection]===null&&l!==null?aX(s,a,l):m&&!Wy(c)&&oY(a,s,c)}function aX(n,e,t){let i=Vt+t,r=e.data[i],o=n[i],s=Py(o,r.tView.ssrId),a=Im(n,r,void 0,{dehydratedView:s});km(o,a,0,zd(r,s))}function Yn(n,e,t,i){CZ(n,e,t,i)}function Nc(n,e,t){QO(n,e,t)}function Jt(n){let e=ye(),t=jt(),i=hy();lm(i+1);let r=Z2(t,i);if(n.dirty&&MP(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=ZO(e,i);n.reset(o,q3),n.notifyOnChanges()}return!0}return!1}function Kt(){return Y2(ye(),hy())}function Ya(n,e,t,i){SZ(n,QO(e,t,i))}function Rc(n=1){lm(hy()+n)}function cs(n){let e=VP();return cy(e,Vt+n)}function by(n,e){return n<<17|e<<2}function Tc(n){return n>>17&32767}function lX(n){return(n&2)==2}function cX(n,e){return n&131071|e<<17}function x2(n){return n|2}function Wd(n){return(n&131068)>>2}function HS(n,e){return n&-131069|e<<2}function uX(n){return(n&1)===1}function C2(n){return n|1}function dX(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Tc(s),l=Wd(s);n[i]=t;let c=!1,u;if(Array.isArray(t)){let m=t;u=m[1],(u===null||Nd(m,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let y=Tc(n[a+1]);n[i+1]=by(y,a),y!==0&&(n[y+1]=HS(n[y+1],i)),n[a+1]=cX(n[a+1],i)}else n[i+1]=by(a,0),a!==0&&(n[a+1]=HS(n[a+1],i)),a=i;else n[i+1]=by(l,0),a===0?a=i:n[l+1]=HS(n[l+1],i),l=i;c&&(n[i+1]=x2(n[i+1])),E3(n,u,i,!0),E3(n,u,i,!1),pX(e,u,n,i,o),s=by(a,l),o?e.classBindings=s:e.styleBindings=s}function pX(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Nd(o,e)>=0&&(t[i+1]=C2(t[i+1]))}function E3(n,e,t,i){let r=n[t+1],o=e===null,s=i?Tc(r):Wd(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];fX(l,e)&&(a=!0,n[s+1]=i?C2(c):x2(c)),s=i?Tc(c):Wd(c)}a&&(n[t+1]=i?x2(r):C2(r))}function fX(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Nd(n,e)>=0:!1}var wo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hX(n){return n.substring(wo.key,wo.keyEnd)}function mX(n){return gX(n),gF(n,vF(n,0,wo.textEnd))}function gF(n,e){let t=wo.textEnd;return t===e?-1:(e=wo.keyEnd=vX(n,wo.key=e,t),vF(n,e,t))}function gX(n){wo.key=0,wo.keyEnd=0,wo.value=0,wo.valueEnd=0,wo.textEnd=n.length}function vF(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function vX(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function us(n,e,t){return _F(n,e,t,!1),us}function gt(n,e){return _F(n,e,null,!0),gt}function se(n){yX(SX,_X,n,!0)}function _X(n,e){for(let t=mX(e);t>=0;t=gF(e,t))sy(n,hX(e),!0)}function _F(n,e,t,i){let r=ye(),o=jt(),s=am(2);if(o.firstUpdatePass&&bF(o,n,s,i),e!==Mn&&$i(r,s,e)){let a=o.data[xo()];xF(o,a,r,r[Dt],n,r[s+1]=AX(e,t),i,s)}}function yX(n,e,t,i){let r=jt(),o=am(2);r.firstUpdatePass&&bF(r,null,o,i);let s=ye();if(t!==Mn&&$i(s,o,t)){let a=r.data[xo()];if(CF(a,i)&&!yF(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=ty(l,t||"")),b2(r,a,s,t,i)}else DX(r,a,s,s[Dt],s[o+1],s[o+1]=EX(n,e,t),i,o)}}function yF(n,e){return e>=n.expandoStartIndex}function bF(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[xo()],s=yF(n,t);CF(o,i)&&e===null&&!s&&(e=!1),e=bX(r,o,e,i),dX(r,o,e,t,s,i)}}function bX(n,e,t,i){let r=HP(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=zS(null,n,e,t,i),t=Sm(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=zS(r,n,e,t,i),o===null){let l=xX(n,e,i);l!==void 0&&Array.isArray(l)&&(l=zS(null,n,e,l[1],i),l=Sm(l,e.attrs,i),CX(n,e,i,l))}else o=wX(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function xX(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Wd(i)!==0)return n[Tc(i)]}function CX(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Tc(r)]=i}function wX(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Sm(i,s,t)}return Sm(i,e.attrs,t)}function zS(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Sm(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Sm(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),sy(n,s,t?!0:e[++o]))}return n===void 0?null:n}function EX(n,e,t){if(t==null||t==="")return oi;let i=[],r=Am(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function SX(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&sy(n,i,t)}function DX(n,e,t,i,r,o,s,a){r===Mn&&(r=oi);let l=0,c=0,u=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;u!==null||m!==null;){let y=l<r.length?r[l+1]:void 0,v=c<o.length?o[c+1]:void 0,w=null,D;u===m?(l+=2,c+=2,y!==v&&(w=m,D=v)):m===null||u!==null&&u<m?(l+=2,w=u):(c+=2,w=m,D=v),w!==null&&xF(n,e,t,i,w,D,s,a),u=l<r.length?r[l]:null,m=c<o.length?o[c]:null}}function xF(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=uX(c)?S3(l,e,t,r,Wd(c),s):void 0;if(!Uy(u)){Uy(o)||lX(c)&&(o=S3(l,null,t,r,a,s));let m=hS(xo(),t);aY(i,s,m,r,o)}}function S3(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,m=u===null,y=t[r+1];y===Mn&&(y=m?oi:void 0);let v=m?ay(y,i):u===i?y:void 0;if(c&&!Uy(v)&&(v=ay(l,i)),Uy(v)&&(a=v,s))return a;let w=n[r+1];r=s?Tc(w):Wd(w)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=ay(l,i))}return a}function Uy(n){return n!==void 0}function AX(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ba(Am(n)))),n}function CF(n,e){return(n.flags&(e?8:16))!==0}function h(n,e=""){let t=ye(),i=jt(),r=n+Vt,o=i.firstCreatePass?Yd(i,r,1,e,null):i.data[r],s=TX(i,t,o,e,n);t[r]=s,vy()&&L2(i,t,s,o),Ld(o,!1)}var TX=(n,e,t,i,r)=>(um(!0),UQ(e[Dt],i));function wF(n,e,t,i=""){return $i(n,Zs(),t)?e+_o(t)+i:Mn}function IX(n,e,t,i,r,o=""){let s=kS(),a=Q2(n,s,t,r);return am(2),a?e+_o(t)+i+_o(r)+o:Mn}function kX(n,e,t,i,r,o,s,a=""){let l=kS(),c=jO(n,l,t,r,s);return am(3),c?e+_o(t)+i+_o(r)+o+_o(s)+a:Mn}function R(n){return x("",n),R}function x(n,e,t){let i=ye(),r=wF(i,n,e,t);return r!==Mn&&lD(i,xo(),r),x}function Qe(n,e,t,i,r){let o=ye(),s=IX(o,n,e,t,i,r);return s!==Mn&&lD(o,xo(),s),Qe}function Pm(n,e,t,i,r,o,s){let a=ye(),l=kX(a,n,e,t,i,r,o,s);return l!==Mn&&lD(a,xo(),l),Pm}function lD(n,e,t){let i=hS(e,n);$Q(n[Dt],i,t)}function xt(n,e,t){OS(e)&&(e=e());let i=ye(),r=Zs();if($i(i,r,e)){let o=jt(),s=cm();_O(s,i,n,e,i[Dt],t)}return xt}function At(n,e){let t=OS(n);return t&&n.set(e),t}function Ct(n,e){let t=ye(),i=jt(),r=yn();return mF(i,t,t[Dt],r,n,e),Ct}function ne(n){return $i(ye(),Zs(),n)?_o(n):Mn}function Xd(n,e,t=""){return wF(ye(),n,e,t)}function MX(n,e,t){let i=jt();if(i.firstCreatePass){let r=os(n);w2(t,i.data,i.blueprint,r,!0),w2(e,i.data,i.blueprint,r,!1)}}function w2(n,e,t,i,r){if(n=Qn(n),Array.isArray(n))for(let o=0;o<n.length;o++)w2(n[o],e,t,i,r);else{let o=jt(),s=ye(),a=yn(),l=uc(n)?n:Qn(n.provide),c=lS(n),u=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(uc(n)||!n.multi){let v=new Dc(c,r,be,null),w=GS(l,e,r?u:u+y,m);w===-1?(YS(ky(a,s),o,l),WS(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[w]=v,s[w]=v)}else{let v=GS(l,e,u+y,m),w=GS(l,e,u,u+y),D=v>=0&&t[v],I=w>=0&&t[w];if(r&&!I||!r&&!D){YS(ky(a,s),o,l);let M=PX(r?RX:NX,t.length,r,i,c,n);!r&&I&&(t[w].providerFactory=M),WS(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=EF(t[r?w:v],c,!r&&i);WS(o,n,v>-1?v:w,M)}!r&&i&&I&&t[w].componentProviders++}}}function WS(n,e,t,i){let r=uc(e),o=AP(e);if(r||o){let l=(o?Qn(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function EF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function GS(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function NX(n,e,t,i,r){return E2(this.multi,[])}function RX(n,e,t,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=vm(i,i[we],this.providerFactory.index,r);s=l.slice(0,a),E2(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],E2(o,s);return s}function E2(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function PX(n,e,t,i,r,o){let s=new Dc(n,t,be,null);return s.multi=[],s.index=e,s.componentProviders=0,EF(s,r,i&&!t),s}function si(n,e=[]){return t=>{t.providersResolver=(i,r)=>MX(i,r?r(n):n,e)}}function Om(n,e,t){let i=Vd()+n,r=ye();return r[i]===Mn?n1(r,i,t?e.call(t):e()):tZ(r,i)}function Rn(n,e,t,i){return SF(ye(),Vd(),n,e,t,i)}function r1(n,e,t,i,r,o){return FX(ye(),Vd(),n,e,t,i,r,o)}function cD(n,e){let t=n[e];return t===Mn?void 0:t}function SF(n,e,t,i,r,o){let s=e+t;return $i(n,s,r)?n1(n,s+1,o?i.call(o,r):i(r)):cD(n,s+1)}function OX(n,e,t,i,r,o,s){let a=e+t;return Q2(n,a,r,o)?n1(n,a+2,s?i.call(s,r,o):i(r,o)):cD(n,a+2)}function FX(n,e,t,i,r,o,s,a){let l=e+t;return jO(n,l,r,o,s)?n1(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):cD(n,l+3)}function g(n,e){let t=jt(),i,r=n+Vt;t.firstCreatePass?(i=LX(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Va(i.type,!0)),s,a=Ci(be);try{let l=Iy(!1),c=o();return Iy(l),mS(t,ye(),r,c),c}finally{Ci(a)}}function LX(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function _(n,e,t){let i=n+Vt,r=ye(),o=cy(r,i);return DF(r,i)?SF(r,Vd(),e,o.transform,t,o):o.transform(t)}function Ye(n,e,t,i){let r=n+Vt,o=ye(),s=cy(o,r);return DF(o,r)?OX(o,Vd(),e,s.transform,t,i,s):s.transform(t,i)}function DF(n,e){return n[we].data[e].pure}function uD(n,e){return Jy(n,e)}var BX=(()=>{class n{zone=$(rn);changeDetectionScheduler=$(jr);applicationRef=$(Mc);applicationErrorHandler=$(ss);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AF({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new rn(ee(B({},TF()),{scheduleInRootZone:t})),[{provide:rn,useFactory:n},{provide:hc,multi:!0,useFactory:()=>{let i=$(BX,{optional:!0});return()=>i.initialize()}},{provide:hc,multi:!0,useFactory:()=>{let i=$(VX);return()=>{i.initialize()}}},e===!0?{provide:FS,useValue:!0}:[],{provide:yy,useValue:t??rF},{provide:ss,useFactory:()=>{let i=$(rn),r=$(qi),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(gr),o.handleError(s))})}}}]}function TF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var VX=(()=>{class n{subscription=new xi;initialized=!1;zone=$(rn);pendingTasks=$(Wa);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{rn.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{rn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dD=(()=>{class n{applicationErrorHandler=$(ss);appRef=$(Mc);taskService=$(Wa);ngZone=$(rn);zonelessEnabled=$(dm);tracing=$(kc,{optional:!0});disableScheduling=$(FS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new xi;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(By):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(yy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Em||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?_3:oF;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(By+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_3(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pD(){return ea("NgZoneless"),Kh([{provide:jr,useExisting:dD},{provide:rn,useClass:Em},{provide:dm,useValue:!0},{provide:yy,useValue:!1},[]])}function jX(){return typeof $localize<"u"&&$localize.locale||Mm}var Za=new Ee("",{providedIn:"root",factory:()=>$(Za,{optional:!0,skipSelf:!0})||jX()});var o1=class{destroyed=!1;listeners=null;errorHandler=$(gr,{optional:!0});destroyRef=$(Wr);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new re(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(Ws(953,!1));return}if(this.listeners===null)return;let t=Me(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{Me(t)}}};function ds(n){return cP(n)}function J(n,e){return $h(n,e?.equal)}var fD=class{[Tn];constructor(e){this[Tn]=e}destroy(){this[Tn].destroy()}};function qt(n,e){let t=e?.injector??$(wi),i=e?.manualCleanup!==!0?t.get(Wr):null,r,o=t.get(jd,null,{optional:!0}),s=t.get(jr);return o!==null?(r=$X(o.view,s,n),i instanceof Xh&&i._lView===o.view&&(i=null)):r=HX(n,t.get(fm),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new fD(r)}var IF=ee(B({},uP),{cleanupFns:void 0,zone:null,onDestroyFn:wc,run(){let n=Bd(!1);try{dP(this)}finally{Bd(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=Me(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Me(n)}}}),qX=ee(B({},IF),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ic(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),UX=ee(B({},IF),{consumerMarkedDirty(){this.view[Pe]|=8192,Ha(this.view),this.notifier.notify(13)},destroy(){ic(this),this.onDestroyFn(),this.cleanup(),this.view[Qs]?.delete(this)}});function $X(n,e,t){let i=Object.create(UX);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=kF(i,t),n[Qs]??=new Set,n[Qs].add(i),i.consumerMarkedDirty(i),i}function HX(n,e,t){let i=Object.create(qX);return i.fn=kF(i,n),i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function kF(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var LF=Symbol("InputSignalNode#UNSET"),tJ=ee(B({},M_),{transformFn:void 0,applyValueToInputSignal(n,e){Dd(n,e)}});function BF(n,e){let t=Object.create(tJ);t.value=n,t.transformFn=e?.transform;function i(){if(Cd(t),t.value===LF){let r=null;throw new re(-950,r)}return t.value}return i[Tn]=t,i}var nJ=new Ee("");nJ.__NG_ELEMENT_ID__=n=>{let e=yn();if(e===null)throw new re(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new re(204,!1)};function ae(n){return new o1}function MF(n,e){return BF(n,e)}function iJ(n){return BF(LF,n)}var ge=(MF.required=iJ,MF);function NF(n,e){return JO(e)}function rJ(n,e){return KO(e)}var Pc=(NF.required=rJ,NF);var hD=new Ee(""),oJ=new Ee("");function Fm(n){return!n.moduleRef}function sJ(n){let e=Fm(n)?n.r3Injector:n.moduleRef.injector,t=e.get(rn);return t.run(()=>{Fm(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(ss),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),Fm(n)){let o=()=>e.destroy(),s=n.platformInjector.get(hD);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(hD);s.add(o),n.moduleRef.onDestroy(()=>{mm(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return lJ(i,t,()=>{let o=e.get(Wa),s=o.add(),a=e.get(iD);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Za,Mm);if(hF(l||Mm),!e.get(oJ,!0))return Fm(n)?e.get(Mc):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Fm(n)){let u=e.get(Mc);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return aJ?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var aJ;function lJ(n,e,t){try{let i=t();return Zd(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var s1=null;function cJ(n=[],e){return wi.create({name:e,providers:[{provide:em,useValue:"platform"},{provide:hD,useValue:new Set([()=>s1=null])},...n]})}function uJ(n=[]){if(s1)return s1;let e=cJ(n);return s1=e,dF(),dJ(e),e}function dJ(n){let e=n.get(Hy,null);Gs(n,()=>{e?.forEach(t=>t())})}var Oc=(()=>{class n{static __NG_ELEMENT_ID__=pJ}return n})();function pJ(n){return fJ(yn(),ye(),(n&16)===16)}function fJ(n,e,t){if(Ys(n)&&!t){let i=Hr(n.index,e);return new Ga(i,i)}else if(n.type&175){let i=e[Si];return new Ga(i,e)}return null}var mD=class{constructor(){}supports(e){return G2(e)}create(e){return new gD(e)}},hJ=(n,e)=>e,gD=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||hJ}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<RF(i,r,o)?t:i,a=RF(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let y=0;y<c;y++){let v=y<o.length?o[y]:o[y]=0,w=v+y;u<=w&&w<c&&(o[y]=v+1)}let m=s.previousIndex;o[m]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!G2(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,VO(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new vD(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new a1),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new a1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},vD=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},_D=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},a1=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new _D,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function RF(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var yD=class{constructor(){}supports(e){return e instanceof Map||t1(e)}create(){return new bD}},bD=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||t1(e)))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new xD(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},xD=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function PF(){return new CD([new mD])}var CD=(()=>{class n{factories;static \u0275prov=Se({token:n,providedIn:"root",factory:PF});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let i=$(n,{optional:!0,skipSelf:!0});return n.create(t,i||PF())}}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new re(901,!1)}}return n})();function OF(){return new wD([new yD])}var wD=(()=>{class n{static \u0275prov=Se({token:n,providedIn:"root",factory:OF});factories;constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let i=$(n,{optional:!0,skipSelf:!0});return n.create(t,i||OF())}}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new re(901,!1)}}return n})();function VF(n){yt(8);try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=uJ(i),o=[AF({}),{provide:jr,useExisting:dD},JP,...t||[]],s=new Cm({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return sJ({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{yt(9)}}function l1(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Lm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Fc=class{};var Kd=class{},ep=class{},fs=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var d1=class{encodeKey(e){return jF(e)}encodeValue(e){return jF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function mJ(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var gJ=/%(\d[a-f0-9])/gi,vJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jF(n){return encodeURIComponent(n).replace(gJ,(e,t)=>vJ[t]??e)}function c1(n){return`${n}`}var na=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new d1,e.fromString){if(e.fromObject)throw new re(2805,!1);this.map=mJ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(c1):[c1(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(c1(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(c1(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var p1=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _J(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function UF(n){return typeof Blob<"u"&&n instanceof Blob}function $F(n){return typeof FormData<"u"&&n instanceof FormData}function yJ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Bm="Content-Type",f1="Accept",TD="X-Request-URL",zF="text/plain",WF="application/json",GF=`${WF}, ${zF}, */*`,Jd=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(_J(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new re(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new fs,this.context??=new p1,!this.params)this.params=new na,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||qF(this.body)||UF(this.body)||$F(this.body)||yJ(this.body)?this.body:this.body instanceof na?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$F(this.body)?null:UF(this.body)?this.body.type||null:qF(this.body)?null:typeof this.body=="string"?zF:this.body instanceof na?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?WF:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,u=e.credentials||this.credentials,m=e.referrer||this.referrer,y=e.integrity||this.integrity,v=e.transferCache??this.transferCache,w=e.timeout??this.timeout,D=e.body!==void 0?e.body:this.body,I=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,q=e.headers||this.headers,G=e.params||this.params,N=e.context??this.context;return e.setHeaders!==void 0&&(q=Object.keys(e.setHeaders).reduce((X,Y)=>X.set(Y,e.setHeaders[Y]),q)),e.setParams&&(G=Object.keys(e.setParams).reduce((X,Y)=>X.set(Y,e.setParams[Y]),G)),new n(t,i,D,{params:G,headers:q,context:N,reportProgress:M,responseType:r,withCredentials:I,transferCache:v,keepalive:o,cache:a,priority:s,timeout:w,mode:l,redirect:c,credentials:u,referrer:m,integrity:y})}},ia=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(ia||{}),tp=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,i="OK"){this.headers=e.headers||new fs,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Vm=class n extends tp{constructor(e={}){super(e)}type=ia.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},np=class n extends tp{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ia.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},ps=class extends tp{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},QF=200,bJ=204;function ED(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var m1=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Jd)o=t;else{let l;r.headers instanceof fs?l=r.headers:l=new fs(r.headers);let c;r.params&&(r.params instanceof na?c=r.params:c=new na({fromObject:r.params})),o=new Jd(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let s=Vr(o).pipe(PE(l=>this.handler.handle(l)));if(t instanceof Jd||r.observe==="events")return s;let a=s.pipe(RE(l=>l instanceof np));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Gn(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new re(2806,!1);return l.body}));case"blob":return a.pipe(Gn(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new re(2807,!1);return l.body}));case"text":return a.pipe(Gn(l=>{if(l.body!==null&&typeof l.body!="string")throw new re(2808,!1);return l.body}));case"json":default:return a.pipe(Gn(l=>l.body))}case"response":return a;default:throw new re(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new na().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,ED(r,i))}post(t,i,r={}){return this.request("POST",t,ED(r,i))}put(t,i,r={}){return this.request("PUT",t,ED(r,i))}static \u0275fac=function(i){return new(i||n)(ze(Kd))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),xJ=/^\)\]\}',?\n/;function HF(n){if(n.url)return n.url;let e=TD.toLocaleLowerCase();return n.headers.get(e)}var YF=new Ee(""),u1=(()=>{class n{fetchImpl=$(SD,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=$(rn);destroyRef=$(Wr);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(t){return new zt(i=>{let r=new AbortController;this.doRequest(t,r.signal,i).then(DD,s=>i.error(new ps({error:s})));let o;return t.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{r.signal.aborted||r.abort(new DOMException("signal timed out","TimeoutError"))},t.timeout))),()=>{o!==void 0&&clearTimeout(o),r.abort()}})}async doRequest(t,i,r){let o=this.createRequestInit(t),s;try{let w=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,B({signal:i},o)));CJ(w),r.next({type:ia.Sent}),s=await w}catch(w){r.error(new ps({error:w,status:w.status??0,statusText:w.statusText,url:t.urlWithParams,headers:w.headers}));return}let a=new fs(s.headers),l=s.statusText,c=HF(s)??t.urlWithParams,u=s.status,m=null;if(t.reportProgress&&r.next(new Vm({headers:a,status:u,statusText:l,url:c})),s.body){let w=s.headers.get("content-length"),D=[],I=s.body.getReader(),M=0,q,G,N=typeof Zone<"u"&&Zone.current,X=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyed){await I.cancel(),X=!0;break}let{done:fe,value:ve}=await I.read();if(fe)break;if(D.push(ve),M+=ve.length,t.reportProgress){G=t.responseType==="text"?(G??"")+(q??=new TextDecoder).decode(ve,{stream:!0}):void 0;let lt=()=>r.next({type:ia.DownloadProgress,total:w?+w:void 0,loaded:M,partialText:G});N?N.run(lt):lt()}}}),X){r.complete();return}let Y=this.concatChunks(D,M);try{let fe=s.headers.get(Bm)??"";m=this.parseBody(t,Y,fe,u)}catch(fe){r.error(new ps({error:fe,headers:new fs(s.headers),status:s.status,statusText:s.statusText,url:HF(s)??t.urlWithParams}));return}}u===0&&(u=m?QF:0);let y=u>=200&&u<300,v=s.redirected;y?(r.next(new np({body:m,headers:a,status:u,statusText:l,url:c,redirected:v})),r.complete()):r.error(new ps({error:m,headers:a,status:u,statusText:l,url:c,redirected:v}))}parseBody(t,i,r,o){switch(t.responseType){case"json":let s=new TextDecoder().decode(i).replace(xJ,"");if(s==="")return null;try{return JSON.parse(s)}catch(a){if(o<200||o>=300)return s;throw a}case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r;if(r=t.credentials,t.withCredentials&&(r="include"),t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has(f1)||(i[f1]=GF),!t.headers.has(Bm)){let o=t.detectContentTypeHeader();o!==null&&(i[Bm]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r,keepalive:t.keepalive,cache:t.cache,priority:t.priority,mode:t.mode,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),SD=class{};function DD(){}function CJ(n){n.then(DD,DD)}function wJ(n,e){return e(n)}function EJ(n,e,t){return(i,r)=>Gs(t,()=>e(i,o=>n(o,r)))}var ZF=new Ee(""),XF=new Ee(""),JF=new Ee("",{providedIn:"root",factory:()=>!0});var h1=(()=>{class n extends Kd{backend;injector;chain=null;pendingTasks=$(pm);contributeToStability=$(JF);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ZF),...this.injector.get(XF,[])]));this.chain=i.reduceRight((r,o)=>EJ(r,o,this.injector),wJ)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(OE(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ze(ep),ze(qi))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})();var SJ=/^\)\]\}',?\n/,DJ=RegExp(`^${TD}:`,"m");function AJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:DJ.test(n.getAllResponseHeaders())?n.getResponseHeader(TD):null}var AD=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new re(-2800,!1);let i=this.xhrFactory;return Vr(null).pipe(FE(()=>new zt(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,M)=>s.setRequestHeader(I,M.join(","))),t.headers.has(f1)||s.setRequestHeader(f1,GF),!t.headers.has(Bm)){let I=t.detectContentTypeHeader();I!==null&&s.setRequestHeader(Bm,I)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let I=t.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let I=s.statusText||"OK",M=new fs(s.getAllResponseHeaders()),q=AJ(s)||t.url;return l=new Vm({headers:M,status:s.status,statusText:I,url:q}),l},u=()=>{let{headers:I,status:M,statusText:q,url:G}=c(),N=null;M!==bJ&&(N=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=N?QF:0);let X=M>=200&&M<300;if(t.responseType==="json"&&typeof N=="string"){let Y=N;N=N.replace(SJ,"");try{N=N!==""?JSON.parse(N):null}catch(fe){N=Y,X&&(X=!1,N={error:fe,text:N})}}X?(o.next(new np({body:N,headers:I,status:M,statusText:q,url:G||void 0})),o.complete()):o.error(new ps({error:N,headers:I,status:M,statusText:q,url:G||void 0}))},m=I=>{let{url:M}=c(),q=new ps({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(q)},y=m;t.timeout&&(y=I=>{let{url:M}=c(),q=new ps({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(q)});let v=!1,w=I=>{v||(o.next(c()),v=!0);let M={type:ia.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(M.total=I.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},D=I=>{let M={type:ia.UploadProgress,loaded:I.loaded};I.lengthComputable&&(M.total=I.total),o.next(M)};return s.addEventListener("load",u),s.addEventListener("error",m),s.addEventListener("timeout",y),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:ia.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",u),s.removeEventListener("timeout",y),t.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(ze(Fc))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),KF=new Ee(""),TJ="XSRF-TOKEN",IJ=new Ee("",{providedIn:"root",factory:()=>TJ}),kJ="X-XSRF-TOKEN",MJ=new Ee("",{providedIn:"root",factory:()=>kJ}),jm=class{},NJ=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lm(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(ze(Ui),ze(IJ))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})();function RJ(n,e){let t=n.url.toLowerCase();if(!$(KF)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=$(jm).getToken(),r=$(MJ);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ID=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(ID||{});function PJ(n,e){return{\u0275kind:n,\u0275providers:e}}function kD(...n){let e=[m1,AD,h1,{provide:Kd,useExisting:h1},{provide:ep,useFactory:()=>$(YF,{optional:!0})??$(AD)},{provide:ZF,useValue:RJ,multi:!0},{provide:KF,useValue:!0},{provide:jm,useClass:NJ}];for(let t of n)e.push(...t.\u0275providers);return Kh(e)}function MD(){return PJ(ID.Fetch,[u1,{provide:YF,useExisting:u1},{provide:ep,useExisting:u1}])}var eL=null;function Xa(){return eL}function ND(n){eL??=n}var qm=class{};var jD=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(jD||{});var ai=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(ai||{}),It=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(It||{}),Gi=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Gi||{}),Qi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function sL(n){return zi(n)[Wt.LocaleId]}function aL(n,e,t){let i=zi(n),r=[i[Wt.DayPeriodsFormat],i[Wt.DayPeriodsStandalone]],o=Gr(r,e);return Gr(o,t)}function lL(n,e,t){let i=zi(n),r=[i[Wt.DaysFormat],i[Wt.DaysStandalone]],o=Gr(r,e);return Gr(o,t)}function cL(n,e,t){let i=zi(n),r=[i[Wt.MonthsFormat],i[Wt.MonthsStandalone]],o=Gr(r,e);return Gr(o,t)}function uL(n,e){let i=zi(n)[Wt.Eras];return Gr(i,e)}function Um(n,e){let t=zi(n);return Gr(t[Wt.DateFormat],e)}function $m(n,e){let t=zi(n);return Gr(t[Wt.TimeFormat],e)}function Hm(n,e){let i=zi(n)[Wt.DateTimeFormat];return Gr(i,e)}function hs(n,e){let t=zi(n),i=t[Wt.NumberSymbols][e];if(typeof i>"u"){if(e===Qi.CurrencyDecimal)return t[Wt.NumberSymbols][Qi.Decimal];if(e===Qi.CurrencyGroup)return t[Wt.NumberSymbols][Qi.Group]}return i}function dL(n,e){return zi(n)[Wt.NumberFormats][e]}function pL(n){if(!n[Wt.ExtraData])throw new re(2303,!1)}function fL(n){let e=zi(n);return pL(e),(e[Wt.ExtraData][2]||[]).map(i=>typeof i=="string"?RD(i):[RD(i[0]),RD(i[1])])}function hL(n,e,t){let i=zi(n);pL(i);let r=[i[Wt.ExtraData][0],i[Wt.ExtraData][1]],o=Gr(r,e)||[];return Gr(o,t)||[]}function Gr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new re(2304,!1)}function RD(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var FJ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,g1={},LJ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function mL(n,e,t,i){let r=WJ(n);e=ra(t,e)||e;let s=[],a;for(;e;)if(a=LJ.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=vL(i,l),r=zJ(r,i));let c="";return s.forEach(u=>{let m=$J(u);c+=m?m(r,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function x1(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ra(n,e){let t=sL(n);if(g1[t]??={},g1[t][e])return g1[t][e];let i="";switch(e){case"shortDate":i=Um(n,Gi.Short);break;case"mediumDate":i=Um(n,Gi.Medium);break;case"longDate":i=Um(n,Gi.Long);break;case"fullDate":i=Um(n,Gi.Full);break;case"shortTime":i=$m(n,Gi.Short);break;case"mediumTime":i=$m(n,Gi.Medium);break;case"longTime":i=$m(n,Gi.Long);break;case"fullTime":i=$m(n,Gi.Full);break;case"short":let r=ra(n,"shortTime"),o=ra(n,"shortDate");i=v1(Hm(n,Gi.Short),[r,o]);break;case"medium":let s=ra(n,"mediumTime"),a=ra(n,"mediumDate");i=v1(Hm(n,Gi.Medium),[s,a]);break;case"long":let l=ra(n,"longTime"),c=ra(n,"longDate");i=v1(Hm(n,Gi.Long),[l,c]);break;case"full":let u=ra(n,"fullTime"),m=ra(n,"fullDate");i=v1(Hm(n,Gi.Full),[u,m]);break}return i&&(g1[t][e]=i),i}function v1(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Do(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function BJ(n,e){return Do(n,3).substring(0,e)}function cn(n,e,t=0,i=!1,r=!1){return function(o,s){let a=VJ(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return BJ(a,e);let l=hs(s,Qi.MinusSign);return Do(a,e,l,i,r)}}function VJ(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new re(2301,!1)}}function Ot(n,e,t=ai.Format,i=!1){return function(r,o){return jJ(r,o,n,e,t,i)}}function jJ(n,e,t,i,r,o){switch(t){case 2:return cL(e,r,i)[n.getMonth()];case 1:return lL(e,r,i)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=fL(e),u=hL(e,r,i),m=c.findIndex(y=>{if(Array.isArray(y)){let[v,w]=y,D=s>=v.hours&&a>=v.minutes,I=s<w.hours||s===w.hours&&a<w.minutes;if(v.hours<w.hours){if(D&&I)return!0}else if(D||I)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(m!==-1)return u[m]}return aL(e,r,i)[s<12?0:1];case 3:return uL(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new re(2302,!1)}}function _1(n){return function(e,t,i){let r=-1*i,o=hs(t,Qi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Do(s,2,o)+Do(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Do(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Do(s,2,o)+":"+Do(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+Do(s,2,o)+":"+Do(Math.abs(r%60),2,o);default:throw new re(2302,!1)}}}var qJ=0,b1=4;function UJ(n){let e=x1(n,qJ,1).getDay();return x1(n,0,1+(e<=b1?b1:b1+7)-e)}function gL(n){let e=n.getDay(),t=e===0?-3:b1-e;return x1(n.getFullYear(),n.getMonth(),n.getDate()+t)}function PD(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=gL(t),s=UJ(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Do(r,n,hs(i,Qi.MinusSign))}}function y1(n,e=!1){return function(t,i){let o=gL(t).getFullYear();return Do(o,n,hs(i,Qi.MinusSign),e)}}var OD={};function $J(n){if(OD[n])return OD[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ot(3,It.Abbreviated);break;case"GGGG":e=Ot(3,It.Wide);break;case"GGGGG":e=Ot(3,It.Narrow);break;case"y":e=cn(0,1,0,!1,!0);break;case"yy":e=cn(0,2,0,!0,!0);break;case"yyy":e=cn(0,3,0,!1,!0);break;case"yyyy":e=cn(0,4,0,!1,!0);break;case"Y":e=y1(1);break;case"YY":e=y1(2,!0);break;case"YYY":e=y1(3);break;case"YYYY":e=y1(4);break;case"M":case"L":e=cn(1,1,1);break;case"MM":case"LL":e=cn(1,2,1);break;case"MMM":e=Ot(2,It.Abbreviated);break;case"MMMM":e=Ot(2,It.Wide);break;case"MMMMM":e=Ot(2,It.Narrow);break;case"LLL":e=Ot(2,It.Abbreviated,ai.Standalone);break;case"LLLL":e=Ot(2,It.Wide,ai.Standalone);break;case"LLLLL":e=Ot(2,It.Narrow,ai.Standalone);break;case"w":e=PD(1);break;case"ww":e=PD(2);break;case"W":e=PD(1,!0);break;case"d":e=cn(2,1);break;case"dd":e=cn(2,2);break;case"c":case"cc":e=cn(7,1);break;case"ccc":e=Ot(1,It.Abbreviated,ai.Standalone);break;case"cccc":e=Ot(1,It.Wide,ai.Standalone);break;case"ccccc":e=Ot(1,It.Narrow,ai.Standalone);break;case"cccccc":e=Ot(1,It.Short,ai.Standalone);break;case"E":case"EE":case"EEE":e=Ot(1,It.Abbreviated);break;case"EEEE":e=Ot(1,It.Wide);break;case"EEEEE":e=Ot(1,It.Narrow);break;case"EEEEEE":e=Ot(1,It.Short);break;case"a":case"aa":case"aaa":e=Ot(0,It.Abbreviated);break;case"aaaa":e=Ot(0,It.Wide);break;case"aaaaa":e=Ot(0,It.Narrow);break;case"b":case"bb":case"bbb":e=Ot(0,It.Abbreviated,ai.Standalone,!0);break;case"bbbb":e=Ot(0,It.Wide,ai.Standalone,!0);break;case"bbbbb":e=Ot(0,It.Narrow,ai.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ot(0,It.Abbreviated,ai.Format,!0);break;case"BBBB":e=Ot(0,It.Wide,ai.Format,!0);break;case"BBBBB":e=Ot(0,It.Narrow,ai.Format,!0);break;case"h":e=cn(3,1,-12);break;case"hh":e=cn(3,2,-12);break;case"H":e=cn(3,1);break;case"HH":e=cn(3,2);break;case"m":e=cn(4,1);break;case"mm":e=cn(4,2);break;case"s":e=cn(5,1);break;case"ss":e=cn(5,2);break;case"S":e=cn(6,1);break;case"SS":e=cn(6,2);break;case"SSS":e=cn(6,3);break;case"Z":case"ZZ":case"ZZZ":e=_1(0);break;case"ZZZZZ":e=_1(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_1(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=_1(2);break;default:return null}return OD[n]=e,e}function vL(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function HJ(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function zJ(n,e,t){let r=n.getTimezoneOffset(),o=vL(e,r);return HJ(n,-1*(o-r))}function WJ(n){if(tL(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return x1(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(FJ))return GJ(i)}let e=new Date(n);if(!tL(e))throw new re(2302,!1);return e}function GJ(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,c),e}function tL(n){return n instanceof Date&&!isNaN(n.valueOf())}var QJ=/^(\d+)?\.((\d+)(-(\d+))?)?$/,nL=22,C1=".",zm="0",YJ=";",ZJ=",",FD="#";function XJ(n,e,t,i,r,o,s=!1){let a="",l=!1;if(!isFinite(n))a=hs(t,Qi.Infinity);else{let c=eK(n);s&&(c=KJ(c));let u=e.minInt,m=e.minFrac,y=e.maxFrac;if(o){let q=o.match(QJ);if(q===null)throw new re(2306,!1);let G=q[1],N=q[3],X=q[5];G!=null&&(u=LD(G)),N!=null&&(m=LD(N)),X!=null?y=LD(X):N!=null&&m>y&&(y=m)}tK(c,m,y);let v=c.digits,w=c.integerLen,D=c.exponent,I=[];for(l=v.every(q=>!q);w<u;w++)v.unshift(0);for(;w<0;w++)v.unshift(0);w>0?I=v.splice(w,v.length):(I=v,v=[0]);let M=[];for(v.length>=e.lgSize&&M.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)M.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&M.unshift(v.join("")),a=M.join(hs(t,i)),I.length&&(a+=hs(t,r)+I.join("")),D&&(a+=hs(t,Qi.Exponential)+"+"+D)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function _L(n,e,t){let i=dL(e,jD.Decimal),r=JJ(i,hs(e,Qi.MinusSign));return XJ(n,r,e,Qi.Group,Qi.Decimal,t)}function JJ(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(YJ),r=i[0],o=i[1],s=r.indexOf(C1)!==-1?r.split(C1):[r.substring(0,r.lastIndexOf(zm)+1),r.substring(r.lastIndexOf(zm)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(FD));for(let u=0;u<l.length;u++){let m=l.charAt(u);m===zm?t.minFrac=t.maxFrac=u+1:m===FD?t.maxFrac=u+1:t.posSuf+=m}let c=a.split(ZJ);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=r.length-t.posPre.length-t.posSuf.length,m=o.indexOf(FD);t.negPre=o.substring(0,m).replace(/'/g,""),t.negSuf=o.slice(m+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function KJ(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function eK(n){let e=Math.abs(n)+"",t=0,i,r,o,s,a;for((r=e.indexOf(C1))>-1&&(e=e.replace(C1,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===zm;o++);if(o===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===zm;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(e.charAt(o))}return r>nL&&(i=i.splice(0,nL-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function tK(n,e,t){if(e>t)throw new re(2307,!1);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(e,r),t),s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let m=s;m<i.length;m++)i[m]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let m=1;m<s;m++)i[m]=0}if(a>=5)if(s-1<0){for(let m=0;m>s;m--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=e+n.integerLen,u=i.reduceRight(function(m,y,v,w){return y=y+m,w[v]=y<10?y:y-10,l&&(w[v]===0&&v>=c?w.pop():l=!1),y>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}function LD(n){let e=parseInt(n);if(isNaN(e))throw new re(2305,!1);return e}var BD=/\s+/,iL=[],Ao=(()=>{class n{_ngEl;_renderer;initialClasses=iL;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(BD):iL}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(BD):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(BD).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(be(kn),be(So))};static \u0275dir=ct({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var w1=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new w1(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),rL(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);rL(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(be(Ks),be(Js),be(CD))};static \u0275dir=ct({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function rL(n,e){n.context.$implicit=e.item}var bn=(()=>{class n{_viewContainer;_context=new E1;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oL(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oL(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(be(Ks),be(Js))};static \u0275dir=ct({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),E1=class{$implicit=null;ngIf=null};function oL(n,e){if(n&&!n.createEmbeddedView)throw new re(2020,!1)}var VD=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},S1=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=t===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),qD=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new VD(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(i){return new(i||n)(be(Ks),be(Js),be(S1,9))};static \u0275dir=ct({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();var UD=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,o]=t.split("."),s=r.indexOf("-")===-1?void 0:Eo.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(be(kn),be(wD),be(So))};static \u0275dir=ct({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),$D=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(be(Ks))};static \u0275dir=ct({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Qa]})}return n})();function yL(n,e){return new re(2100,!1)}var nK="mediumDate",bL=new Ee(""),xL=new Ee(""),Ai=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??nK,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return mL(t,s,o||this.locale,a)}catch(s){throw yL(n,s.message)}}static \u0275fac=function(i){return new(i||n)(be(Za,16),be(bL,24),be(xL,24))};static \u0275pipe=Ic({name:"date",type:n,pure:!0})}return n})();var HD=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=Ic({name:"json",type:n,pure:!1})}return n})();var Ti=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,i,r){if(!iK(t))return null;r||=this._locale;try{let o=rK(t);return _L(o,r,i)}catch(o){throw yL(n,o.message)}}static \u0275fac=function(i){return new(i||n)(be(Za,16))};static \u0275pipe=Ic({name:"number",type:n,pure:!0})}return n})();function iK(n){return!(n==null||n===""||n!==n)}function rK(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new re(2309,!1);return n}var me=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ls({type:n});static \u0275inj=vo({})}return n})();function D1(n,e,t){return aD(n,e,t)}var CL="browser";var T1=new Ee(""),YD=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(ze(T1),ze(rn))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),Wm=class{_doc;constructor(e){this._doc=e}manager},zD="ng-app-id";function wL(n){for(let e of n)e.remove()}function EL(n,e){let t=e.createElement("style");return t.textContent=n,t}function sK(n,e,t,i){let r=n.head?.querySelectorAll(`style[${zD}="${e}"],link[${zD}="${e}"]`);if(r)for(let o of r)o.removeAttribute(zD),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function GD(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ZD=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,sK(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,EL);i?.forEach(r=>this.addUsage(r,this.external,GD))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(wL(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])wL(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,EL(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,GD(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ze(Ui),ze($y),ze(zy,8),ze(Qd))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),WD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},XD=/%COMP%/g;var DL="%COMP%",aK=`_nghost-${DL}`,lK=`_ngcontent-${DL}`,cK=!0,uK=new Ee("",{providedIn:"root",factory:()=>cK});function dK(n){return lK.replace(XD,n)}function pK(n){return aK.replace(XD,n)}function AL(n,e){return e.map(t=>t.replace(XD,n))}var JD=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,i,r,o,s,a,l,c=null,u,m,y=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=u,this.maxAnimationTimeout=m,this.tracingService=y,this.platformIsServer=!1,this.defaultRenderer=new Gm(t,s,l,this.platformIsServer,this.tracingService,this.registry=_y(),this.maxAnimationTimeout)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof A1?r.applyToHost(t):r instanceof Qm&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,m=this.platformIsServer,y=this.tracingService;switch(i.encapsulation){case Xs.Emulated:o=new A1(l,c,i,this.appId,u,s,a,m,y,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Xs.ShadowDom:return new QD(l,c,t,i,s,a,this.nonce,m,y,this.registry,this.maxAnimationTimeout);default:o=new Qm(l,c,i,u,s,a,m,y,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(ze(YD),ze(ZD),ze($y),ze(uK),ze(Ui),ze(Qd),ze(rn),ze(zy),ze(rD),ze(oD),ze(kc,8))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),Gm=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(WD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(SL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(SL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){let{elements:i}=this.registry;if(i){i.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new re(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=WD[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=WD[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Eo.DashCase|Eo.Important)?e.style.setProperty(t,i,r&Eo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Eo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=Xa().getGlobalEventTarget(this.doc,e),!e))throw new re(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function SL(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var QD=class extends Gm{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,l,c,u,m){super(e,o,s,l,c,u,m),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let y=r.styles;y=AL(r.id,y);for(let w of y){let D=document.createElement("style");a&&D.setAttribute("nonce",a),D.textContent=w,this.shadowRoot.appendChild(D)}let v=r.getExternalStyles?.();if(v)for(let w of v){let D=GD(w,o);a&&D.setAttribute("nonce",a),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qm=class extends Gm{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,i,r,o,s,a,l,c,u,m,y){super(e,o,s,a,l,c,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this._animationDisabled=u;let v=i.styles;this.styles=y?AL(y,v):v,this.styleUrls=i.getExternalStyles?.(y)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},A1=class extends Qm{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,l,c,u,m,y){let v=r+"-"+i.id;super(e,t,i,o,s,a,l,c,u,m,y,v),this.contentAttr=dK(v),this.hostAttr=pK(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var I1=class n extends qm{supportsDOMEvents=!0;static makeCurrent(){ND(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=fK();return t==null?null:hK(t)}resetBaseElement(){Ym=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lm(document.cookie,e)}},Ym=null;function fK(){return Ym=Ym||document.head.querySelector("base"),Ym?Ym.getAttribute("href"):null}function hK(n){return new URL(n,document.baseURI).pathname}var mK=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),IL=(()=>{class n extends Wm{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(ze(Ui))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})(),TL=["alt","control","meta","shift"],gK={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},kL=(()=>{class n extends Wm{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xa().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),TL.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=gK[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),TL.forEach(s=>{if(s!==r){let a=vK[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(ze(Ui))};static \u0275prov=Se({token:n,factory:n.\u0275fac})}return n})();function KD(n,e){let t=B({rootComponent:n},_K(e));return VF(t)}function _K(n){return{appProviders:[...wK,...n?.providers??[]],platformProviders:CK}}function yK(){I1.makeCurrent()}function bK(){return new gr}function xK(){return A2(document),document}var CK=[{provide:Qd,useValue:CL},{provide:Hy,useValue:yK,multi:!0},{provide:Ui,useFactory:xK}];var wK=[{provide:em,useValue:"root"},{provide:gr,useFactory:bK},{provide:T1,useClass:IL,multi:!0,deps:[Ui]},{provide:T1,useClass:kL,multi:!0,deps:[Ui]},JD,ZD,YD,{provide:Ac,useExisting:JD},{provide:Fc,useClass:mK},[]];function EK(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var ML=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",EK];function SK(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===Math.floor(t)&&t>=0&&t<=1?1:r===0&&t!==0&&t%1e6===0&&i===0||!(r>=0&&r<=5)?4:5}var NL=["pt",[["AM","PM"],void 0,void 0],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",SK];function DK(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var RL=["de",[["AM","PM"],void 0,void 0],void 0,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],void 0,void 0],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'um' {0}",void 0],[",",".",";","%","+","-","E","\xB7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","Euro",{ATS:["\xF6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[void 0,"\u0440."],CUC:[void 0,"Cub$"],DEM:["DM"],FKP:[void 0,"Fl\xA3"],GHS:[void 0,"\u20B5"],GNF:[void 0,"F.G."],KMF:[void 0,"FC"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],RWF:[void 0,"F.Rw"],SYP:[],THB:["\u0E3F"],TWD:["NT$"],XXX:[],ZMW:[void 0,"K"]},"ltr",DK];var PL=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-ZI7NDHEH.js").then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};var Zm=class extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}},k1=class extends Zm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},M1=class extends Zm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},N1=class extends Zm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var AK=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(m){s(m)}}function l(u){try{c(i.throw(u))}catch(m){s(m)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},Xm=class{constructor(e,{headers:t={},customFetch:i}={}){this.url=e,this.headers=t,this.fetch=PL(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return AK(this,void 0,void 0,function*(){try{let{headers:r,method:o,body:s}=t,a={},l;s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let c=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:l}).catch(v=>{throw new k1(v)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new M1(c);if(!c.ok)throw new N1(c);let m=((i=c.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield c.json():m==="application/octet-stream"?y=yield c.blob():m==="multipart/form-data"?y=yield c.formData():y=yield c.text(),{data:y,error:null}}catch(r){return{data:null,error:r}}})}};var R1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var Jm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=k0:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let i=this.fetch,r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,u=null,m=null,y=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){let M=await o.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=M:u=JSON.parse(M))}let D=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),I=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");D&&I&&I.length>1&&(m=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,m=null,y=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let D=await o.text();try{c=JSON.parse(D),Array.isArray(c)&&o.status===404&&(u=[],c=null,y=200,v="OK")}catch{o.status===404&&D===""?(y=204,v="No Content"):c={message:D}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,y=200,v="OK"),c&&this.shouldThrowOnError)throw new R1(c)}return{error:c,data:u,count:m,status:y,statusText:v}});return this.shouldThrowOnError||(r=r.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}};var Km=class extends Jm{select(e){let t=!1,i=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:r,referencedTable:o=r}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){let r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:r=i}={}){let o=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var To=class extends Km{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let i=t.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let s=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){let r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}};var eg=class{constructor(e,{headers:t={},schema:i,fetch:r}){this.url=e,this.headers=t,this.schema=i,this.fetch=r}select(e,{head:t=!1,count:i}={}){let r=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer=`count=${i}`),new To({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:i=!0}={}){let r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new To({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:r,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new To({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new To({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new To({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var OL="1.9.2";var FL={"X-Client-Info":`postgrest-js/${OL}`};var tg=class n{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},FL),t),this.schemaName=i,this.fetch=r}from(e){let t=new URL(`${this.url}/${e}`);return new eg(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,count:r}={}){let o,s=new URL(`${this.url}/rpc/${e}`),a;i?(o="HEAD",Object.entries(t).forEach(([c,u])=>{s.searchParams.append(c,`${u}`)})):(o="POST",a=t);let l=Object.assign({},this.headers);return r&&(l.Prefer=`count=${r}`),new To({method:o,url:s,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var LL="2.9.3";var BL={"X-Client-Info":`realtime-js/${LL}`},VL="1.0.0",P1=1e4,jL=1e3,ip=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(ip||{}),yr=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(yr||{}),Qr=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(Qr||{}),eA=(function(n){return n.websocket="websocket",n})(eA||{}),Lc=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(Lc||{});var rp=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var O1=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){let r=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=i.decode(e.slice(s,s+r));s=s+r;let l=i.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(i.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var op=class{constructor(e,t,i={},r=P1){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var ng=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,r,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},r=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=n.syncDiff(this.state,r,o,s),a())}),this.onJoin((r,o,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:s})}),this.onLeave((r,o,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let m=o[c];if(m){let y=u.map(I=>I.presence_ref),v=m.map(I=>I.presence_ref),w=u.filter(I=>v.indexOf(I.presence_ref)<0),D=m.filter(I=>y.indexOf(I.presence_ref)<0);w.length>0&&(a[c]=w),D.length>0&&(l[c]=D)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},i,r)}static syncDiff(e,t,i,r){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){let m=e[a].map(v=>v.presence_ref),y=u.filter(v=>m.indexOf(v.presence_ref)<0);e[a].unshift(...y)}i(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let u=l.map(m=>m.presence_ref);c=c.filter(m=>u.indexOf(m.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{let r=e[i];return"metas"in r?t[i]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ut=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(Ut||{}),nA=(n,e,t={})=>{var i;let r=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((o,s)=>(o[s]=TK(s,n,e,r),o),{})},TK=(n,e,t,i)=>{let r=e.find(a=>a.name===n),o=r?.type,s=t[n];return o&&!i.includes(o)?qL(o,s):tA(s)},qL=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return NK(e,t)}switch(n){case Ut.bool:return IK(e);case Ut.float4:case Ut.float8:case Ut.int2:case Ut.int4:case Ut.int8:case Ut.numeric:case Ut.oid:return kK(e);case Ut.json:case Ut.jsonb:return MK(e);case Ut.timestamp:return RK(e);case Ut.abstime:case Ut.date:case Ut.daterange:case Ut.int4range:case Ut.int8range:case Ut.money:case Ut.reltime:case Ut.text:case Ut.time:case Ut.timestamptz:case Ut.timetz:case Ut.tsrange:case Ut.tstzrange:return tA(e);default:return tA(e)}},tA=n=>n,IK=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},kK=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},MK=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},NK=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>qL(e,a))}return n},RK=n=>typeof n=="string"?n.replace(" ","T"):n;var ig=class n{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new op(this,Qr.join,this.params,this.timeout),this.rejoinTimer=new rp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yr.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qr.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new ng(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));let a={},l={broadcast:o,presence:s,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(c=>c.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{let m=this.bindings.postgres_changes,y=(u=m?.length)!==null&&u!==void 0?u:0,v=[];for(let w=0;w<y;w++){let D=m[w],{filter:{event:I,schema:M,table:q,filter:G}}=D,N=c&&c[w];if(N&&N.event===I&&N.schema===M&&N.table===q&&N.filter===G)v.push(Object.assign(Object.assign({},D),{id:N.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this._on(e,t,i)}async send(e,t={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){let{event:o,payload:s}=e,a={method:"POST",headers:{apikey:(i=this.socket.apiKey)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=t.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yr.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{let r=new op(this,Qr.leave,{},e);r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,i){let r=new AbortController,o=setTimeout(()=>r.abort(),i),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),s}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new op(this,e,t,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Qr;if(i&&[a,l,c,u].indexOf(s)>=0&&i!==this._joinRef())return;let y=this._onMessage(s,t,i);if(t&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(v=>{var w,D,I;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((I=(D=v.filter)===null||D===void 0?void 0:D.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===s}).map(v=>v.callback(y,i)):(o=this.bindings[s])===null||o===void 0||o.filter(v=>{var w,D,I,M,q,G;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in v){let N=v.id,X=(w=v.filter)===null||w===void 0?void 0:w.event;return N&&((D=t.ids)===null||D===void 0?void 0:D.includes(N))&&(X==="*"||X?.toLocaleLowerCase()===((I=t.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{let N=(q=(M=v?.filter)===null||M===void 0?void 0:M.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return N==="*"||N===((G=t?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===s}).map(v=>{if(typeof y=="object"&&"ids"in y){let w=y.data,{schema:D,table:I,commit_timestamp:M,type:q,errors:G}=w;y=Object.assign(Object.assign({},{schema:D,table:I,commit_timestamp:M,eventType:q,new:{},old:{},errors:G}),this._getPayloadRecords(w))}v.callback(y,i)})}_isClosed(){return this.state===yr.closed}_isJoined(){return this.state===yr.joined}_isJoining(){return this.state===yr.joining}_isLeaving(){return this.state===yr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){let r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){let i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&n.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qr.close,{},e)}_onError(e){this._on(Qr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=nA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=nA(e.columns,e.old_record)),t}};var OK=()=>{},FK=typeof WebSocket<"u",rg=class{constructor(e,t){var i;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=BL,this.params={},this.timeout=P1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=OK,this.conn=null,this.sendBuffer=[],this.serializer=new O1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-ZI7NDHEH.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${eA.websocket}`,t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let r=(i=t?.params)===null||i===void 0?void 0:i.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new rp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(FK){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new iA(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-F736KV4R.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ip.connecting:return Lc.Connecting;case ip.open:return Lc.Open;case ip.closing:return Lc.Closing;default:return Lc.Closed}}isConnected(){return this.connectionState()===Lc.Open}channel(e,t={config:{}}){let i=new ig(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){let{topic:t,event:i,payload:r,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${i} (${o})`,r),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Qr.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VL}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:r,payload:o,ref:s}=t;(s&&s===this.pendingHeartbeatRef||r===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${r} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(r,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(jL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var iA=class{constructor(e,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ip.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}};var sp=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Fn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var F1=class extends sp{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},og=class extends sp{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var LK=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(m){s(m)}}function l(u){try{c(i.throw(u))}catch(m){s(m)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},L1=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-ZI7NDHEH.js").then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},UL=()=>LK(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-ZI7NDHEH.js")).Response:Response});var ap=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(m){s(m)}}function l(u){try{c(i.throw(u))}catch(m){s(m)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},rA=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),BK=(n,e)=>ap(void 0,void 0,void 0,function*(){let t=yield UL();n instanceof t?n.json().then(i=>{e(new F1(rA(i),n.status||500))}).catch(i=>{e(new og(rA(i),i))}):e(new og(rA(n),n))}),VK=(n,e,t,i)=>{let r={method:n,headers:e?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};function B1(n,e,t,i,r,o){return ap(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,VK(e,i,r,o)).then(l=>{if(!l.ok)throw l;return i?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>BK(l,a))})})}function sg(n,e,t,i){return ap(this,void 0,void 0,function*(){return B1(n,"GET",e,t,i)})}function ms(n,e,t,i,r){return ap(this,void 0,void 0,function*(){return B1(n,"POST",e,i,r,t)})}function $L(n,e,t,i,r){return ap(this,void 0,void 0,function*(){return B1(n,"PUT",e,i,r,t)})}function V1(n,e,t,i,r){return ap(this,void 0,void 0,function*(){return B1(n,"DELETE",e,i,r,t)})}var Yr=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(m){s(m)}}function l(u){try{c(i.throw(u))}catch(m){s(m)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},jK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HL={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},j1=class{constructor(e,t={},i,r){this.url=e,this.headers=t,this.bucketId=i,this.fetch=L1(r)}uploadOrUpdate(e,t,i,r){return Yr(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},HL),r),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",s.cacheControl)):(o=i,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);let l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),m=yield u.json();return u.ok?{data:{path:l,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(Fn(o))return{data:null,error:o};throw o}})}upload(e,t,i){return Yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,r){return Yr(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:HL.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let m=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),y=yield m.json();return m.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Fn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return Yr(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),i=yield ms(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+i.url),o=r.searchParams.get("token");if(!o)throw new sp("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:o},error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}update(e,t,i){return Yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t){return Yr(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(i){if(Fn(i))return{data:null,error:i};throw i}})}copy(e,t){return Yr(this,void 0,void 0,function*(){try{return{data:{path:(yield ms(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(i){if(Fn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,i){return Yr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield ms(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(r){if(Fn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,i){return Yr(this,void 0,void 0,function*(){try{let r=yield ms(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(r){if(Fn(r))return{data:null,error:r};throw r}})}download(e,t){return Yr(this,void 0,void 0,function*(){let r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield sg(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Fn(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){let i=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(e){return Yr(this,void 0,void 0,function*(){try{return{data:yield V1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}list(e,t,i){return Yr(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},jK),t),{prefix:e||""});return{data:yield ms(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(Fn(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};var zL="2.5.5";var WL={"X-Client-Info":`storage-js/${zL}`};var lp=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(m){s(m)}}function l(u){try{c(i.throw(u))}catch(m){s(m)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},q1=class{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},WL),t),this.fetch=L1(i)}listBuckets(){return lp(this,void 0,void 0,function*(){try{return{data:yield sg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Fn(e))return{data:null,error:e};throw e}})}getBucket(e){return lp(this,void 0,void 0,function*(){try{return{data:yield sg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return lp(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Fn(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return lp(this,void 0,void 0,function*(){try{return{data:yield $L(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Fn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return lp(this,void 0,void 0,function*(){try{return{data:yield ms(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return lp(this,void 0,void 0,function*(){try{return{data:yield V1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}};var ag=class extends q1{constructor(e,t={},i){super(e,t,i)}from(e){return new j1(this.url,this.headers,e,this.fetch)}};var GL="2.39.7";var lg="";typeof Deno<"u"?lg="deno":typeof document<"u"?lg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lg="react-native":lg="node";var qK={"X-Client-Info":`supabase-js-${lg}/${GL}`},QL={headers:qK},YL={schema:"public"},ZL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XL={};var UK=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(m){s(m)}}function l(u){try{c(i.throw(u))}catch(m){s(m)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},$K=n=>{let e;return n?e=n:typeof fetch>"u"?e=k0:e=fetch,(...t)=>e(...t)},HK=()=>typeof Headers>"u"?ik:Headers,JL=(n,e,t)=>{let i=$K(t),r=HK();return(o,s)=>UK(void 0,void 0,void 0,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new r(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(o,Object.assign(Object.assign({},s),{headers:c}))})};function KL(n){return n.replace(/\/$/,"")}function e8(n,e){let{db:t,auth:i,realtime:r,global:o}=n,{db:s,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),o)}}function t8(n){return Math.round(Date.now()/1e3)+n}function n8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var Zr=()=>typeof document<"u",Bc={tested:!1,writable:!1},Ja=()=>{if(!Zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bc.tested)return Bc.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Bc.tested=!0,Bc.writable=!0}catch{Bc.tested=!0,Bc.writable=!1}return Bc.writable};function U1(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return t.searchParams.forEach((i,r)=>{e[r]=i}),e}var $1=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-ZI7NDHEH.js").then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},i8=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ka=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},ug=async(n,e)=>{let t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},H1=async(n,e)=>{await n.removeItem(e)};function zK(n){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",i,r,o,s,a,l,c,u=0;for(n=n.replace("-","+").replace("_","/");u<n.length;)s=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),l=e.indexOf(n.charAt(u++)),c=e.indexOf(n.charAt(u++)),i=s<<2|a>>4,r=(a&15)<<4|l>>2,o=(l&3)<<6|c,t=t+String.fromCharCode(i),l!=64&&r!=0&&(t=t+String.fromCharCode(r)),c!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}var cg=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};cg.promiseConstructor=Promise;function oA(n){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let i=t[1];return JSON.parse(zK(i))}async function r8(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function o8(n,e){return new Promise((i,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await n(o);if(!e(o,null,s)){i(s);return}}catch(s){if(!e(o,s)){r(s);return}}})()})}function WK(n){return("0"+n.toString(16)).substr(-2)}function Vc(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length,r="";for(let o=0;o<56;o++)r+=t.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,WK).join("")}async function GK(n){let t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(i);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}function QK(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jc(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=await GK(n);return QK(t)}var dg=class extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}};function Je(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var z1=class extends dg{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function s8(n){return Je(n)&&n.name==="AuthApiError"}var cp=class extends dg{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},oa=class extends dg{constructor(e,t,i){super(e),this.name=t,this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}},sa=class extends oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},up=class extends oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},qc=class extends oa{constructor(e){super(e,"AuthInvalidCredentialsError",400)}},Uc=class extends oa{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},pg=class extends oa{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},dp=class extends oa{constructor(e,t){super(e,"AuthRetryableFetchError",t)}};function G1(n){return Je(n)&&n.name==="AuthRetryableFetchError"}var W1=class extends oa{constructor(e,t,i){super(e,"AuthWeakPasswordError",t),this.reasons=i}};var YK=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},pp=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ZK=[502,503,504];async function a8(n){if(!i8(n))throw new dp(pp(n),0);if(ZK.includes(n.status))throw new dp(pp(n),n.status);let e;try{e=await n.json()}catch(t){throw new cp(pp(t),t)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)?new W1(pp(e),n.status,e.weak_password.reasons):new z1(pp(e),n.status||500)}var XK=(n,e,t,i)=>{let r={method:n,headers:e?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};async function tt(n,e,t,i){var r;let o=Object.assign({},i?.headers);i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);let s=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(s.redirect_to=i.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await JK(n,e,t+a,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(l):{data:Object.assign({},l),error:null}}async function JK(n,e,t,i,r,o){let s=XK(e,i,r,o),a;try{a=await n(t,s)}catch(l){throw console.error(l),new dp(pp(l),0)}if(a.ok||await a8(a),i?.noResolveJson)return a;try{return await a.json()}catch(l){await a8(l)}}function el(n){var e;let t=null;KK(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=t8(n.expires_in)));let i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function sA(n){let e=el(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function gs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function l8(n){return{data:n,error:null}}function c8(n){let{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o}=n,s=YK(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function u8(n){return n}function KK(n){return n.access_token&&n.refresh_token&&n.expires_in}var eee=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},fp=class{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=$1(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Je(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:gs})}catch(i){if(Je(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{let{options:t}=e,i=eee(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:c8,redirectTo:t?.redirectTo})}catch(t){if(Je(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gs})}catch(t){if(Je(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,r,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:u8});if(u.error)throw u.error;let m=await u.json(),y=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,v=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{let D=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(w.split(";")[1].split("=")[1]);c[`${I}Page`]=D}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(Je(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gs})}catch(t){if(Je(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:gs})}catch(i){if(Je(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:gs})}catch(i){if(Je(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{let{data:t,error:i}=await tt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:i}}catch(t){if(Je(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Je(t))return{data:null,error:t};throw t}}};var Q1="0.0.0";var d8="http://localhost:9999",p8="supabase.auth.token";var f8={"X-Client-Info":`gotrue-js/${Q1}`},aA=10;var h8={getItem:n=>Ja()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Ja()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Ja()&&globalThis.localStorage.removeItem(n)}};function lA(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function m8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var $c={debug:!!(globalThis&&Ja()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},fg=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Y1=class extends fg{};async function cA(n,e,t){$c.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),$c.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){$c.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{$c.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw $c.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Y1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if($c.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}m8();var tee={url:d8,storageKey:p8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f8,flowType:"implicit",debug:!1},hg=30*1e3,g8=3;async function v8(n,e,t){return await t()}var Z1=(()=>{class n{constructor(t){var i,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Zr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},tee),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new fp({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=$1(o.fetch),this.lock=o.lock||v8,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,o.lock?this.lock=o.lock:Zr()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=cA:this.lock=v8,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Ja()?this.storage=h8:(this.memoryStorage={},this.storage=lA(this.memoryStorage)):(this.memoryStorage={},this.storage=lA(this.memoryStorage)),Zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Q1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let t=Zr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:i,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),r?.message==="Identity is already linked"||r?.message==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});let{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Je(t)?{error:t}:{error:new cp("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var i,r,o;try{await this._removeSession();let s;if("email"in t){let{email:m,password:y,options:v}=t,w=null,D=null;if(this.flowType==="pkce"){let I=Vc();await Ka(this.storage,`${this.storageKey}-code-verifier`,I),w=await jc(I),D=I===w?"plain":"s256"}s=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:y,data:(i=v?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:D},xform:el})}else if("phone"in t){let{phone:m,password:y,options:v}=t;s=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:el})}else throw new qc("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{await this._removeSession();let i;if("email"in t){let{email:s,password:a,options:l}=t;i=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sA})}else if("phone"in t){let{phone:s,password:a,options:l}=t;i=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sA})}else throw new qc("You must provide either an email or phone number and a password");let{data:r,error:o}=i;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new up}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(t){var i,r,o,s;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){let i=await ug(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/"),{data:s,error:a}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:el});return await H1(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new up}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}async signInWithIdToken(t){await this._removeSession();try{let{options:i,provider:r,token:o,access_token:s,nonce:a}=t,l=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:el}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new up}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(t){var i,r,o,s,a;try{if(await this._removeSession(),"email"in t){let{email:l,options:c}=t,u=null,m=null;if(this.flowType==="pkce"){let v=Vc();await Ka(this.storage,`${this.storageKey}-code-verifier`,v),u=await jc(v),m=v===u?"plain":"s256"}let{error:y}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:m},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:m}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:m}}throw new qc("You must provide either an email or phone number.")}catch(l){if(Je(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var i,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let o,s;"options"in t&&(o=(i=t.options)===null||i===void 0?void 0:i.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);let{data:a,error:l}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:el});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Je(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var i,r,o;try{await this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let l=Vc();await Ka(this.storage,`${this.storageKey}-code-verifier`,l),s=await jc(l),a=l===s?"plain":"s256"}return await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:l8})}catch(s){if(Je(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:i},error:r}=t;if(r)throw r;if(!i)throw new sa;let{error:o}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Je(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();let i=`${this.url}/resend`;if("email"in t){let{email:r,type:o,options:s}=t,{error:a}=await tt(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:r,type:o,options:s}=t,{data:a,error:l}=await tt(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new qc("You must provide either an email or phone number and a type")}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,i=await ug(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};let{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gs}):await this._useSession(async i=>{var r,o;let{data:s,error:a}=i;if(a)throw a;return await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:gs})})}catch(i){if(Je(i))return{data:{user:null},error:i};throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async r=>{let{data:o,error:s}=r;if(s)throw s;if(!o.session)throw new sa;let a=o.session,l=null,c=null;if(this.flowType==="pkce"&&t.email!=null){let y=Vc();await Ka(this.storage,`${this.storageKey}-code-verifier`,y),l=await jc(y),c=y===l?"plain":"s256"}let{data:u,error:m}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:gs});if(m)throw m;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return oA(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new sa;let i=Date.now()/1e3,r=i,o=!0,s=null,a=oA(t.access_token);if(a.exp&&(r=a.exp,o=r<=i),o){let{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(i){if(Je(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var r;if(!t){let{data:a,error:l}=i;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new sa;let{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(Je(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(t){try{if(!Zr())throw new Uc("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Uc("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new pg("Not a valid PKCE flow url.");let i=U1(window.location.href);if(t){if(!i.code)throw new pg("No code detected.");let{data:G,error:N}=await this._exchangeCodeForSession(i.code);if(N)throw N;let X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:G.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new Uc(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});let{provider_token:r,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=i;if(!s||!l||!a||!u)throw new Uc("No session defined in URL");let m=Math.round(Date.now()/1e3),y=parseInt(l),v=m+y;c&&(v=parseInt(c));let w=v-m;w*1e3<=hg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);let D=v-y;m-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,v,m):m-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",D,v,m);let{data:I,error:M}=await this._getUser(s);if(M)throw M;let q={provider_token:r,provider_refresh_token:o,access_token:s,expires_in:y,expires_at:v,refresh_token:a,token_type:u,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:i.type},error:null}}catch(i){if(Je(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantFlow(){let t=U1(window.location.href);return!!(Zr()&&(t.access_token||t.error_description))}async _isPKCEFlow(){let t=U1(window.location.href),i=await ug(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var r;let{data:o,error:s}=i;if(s)return{error:s};let a=(r=o.session)===null||r===void 0?void 0:r.access_token;if(a){let{error:l}=await this.admin.signOut(a,t);if(l&&!(s8(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await H1(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){let i=n8(),r={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async i=>{var r,o;try{let{data:{session:s},error:a}=i;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,i={}){let r=null,o=null;if(this.flowType==="pkce"){let s=Vc();await Ka(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),r=await jc(s),o=s===r?"plain":"s256"}try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(s){if(Je(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{let{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(i){if(Je(i))return{data:null,error:i};throw i}}async linkIdentity(t){var i;try{let{data:r,error:o}=await this._useSession(async s=>{var a,l,c,u,m;let{data:y,error:v}=s;if(v)throw v;let w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",w,{headers:this.headers,jwt:(m=(u=y.session)===null||u===void 0?void 0:u.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Zr()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Je(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async i=>{var r,o;let{data:s,error:a}=i;if(a)throw a;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(Je(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){let i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{let r=Date.now();return await o8(async o=>(await r8(o*200),this._debug(i,"refreshing attempt",o),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:el})),(o,s,a)=>a&&a.error&&G1(a.error)&&Date.now()+(o+1)*200-r<hg)}catch(r){if(this._debug(i,"error",r),Je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){let r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",r),Zr()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let r=await ug(this.storage,this.storageKey);if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<o+aA;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${aA}s`),s){if(this.autoRefreshToken&&r.refresh_token){let{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),G1(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var i,r;if(!t)throw new sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new cg;let{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new sa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),Je(s)){let a={session:null,error:s};return G1(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,i,r=!0){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:i});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,i)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await Ka(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await H1(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Zr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),hg);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async i=>{let{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((r.expires_at*1e3-t)/hg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${hg}ms, refresh threshold is ${g8} ticks`),o<=g8&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,r){let o=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){let s=Vc();await Ka(this.storage,`${this.storageKey}-code-verifier`,s);let a=await jc(s),l=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",l);let c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(r?.queryParams){let s=new URLSearchParams(r.queryParams);o.push(s.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;return s?{data:null,error:s}:await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(Je(i))return{data:null,error:i};throw i}}async _enroll(t){try{return await this._useSession(async i=>{var r,o;let{data:s,error:a}=i;if(a)return{data:null,error:a};let{data:l,error:c}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((o=l?.totp)===null||o===void 0)&&o.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(i){if(Je(i))return{data:null,error:i};throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;if(s)return{data:null,error:s};let{data:a,error:l}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(i){if(Je(i))return{data:null,error:i};throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;return s?{data:null,error:s}:await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(Je(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(t){let{data:i,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){let{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};let r=t?.factors||[],o=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var i,r;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((r=(i=o.user.factors)===null||i===void 0?void 0:i.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let m=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:m},error:null}}))}}return n.nextInstanceID=0,n})();var X1=class extends Z1{constructor(e){super(e)}};var nee=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(m){s(m)}}function l(u){try{c(i.throw(u))}catch(m){s(m)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},J1=class{constructor(e,t,i){var r,o,s,a,l,c,u,m;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let y=KL(e);this.realtimeUrl=`${y}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${y}/auth/v1`,this.storageUrl=`${y}/storage/v1`,this.functionsUrl=`${y}/functions/v1`;let v=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:YL,realtime:XL,auth:Object.assign(Object.assign({},ZL),{storageKey:v}),global:QL},D=e8(i??{},w);this.storageKey=(o=(r=D.auth)===null||r===void 0?void 0:r.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=(s=D.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=D.auth)!==null&&l!==void 0?l:{},this.headers,(c=D.global)===null||c===void 0?void 0:c.fetch),this.fetch=JL(t,this._getAccessToken.bind(this),(u=D.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},D.realtime)),this.rest=new tg(`${y}/rest/v1`,{headers:this.headers,schema:(m=D.db)===null||m===void 0?void 0:m.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Xm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ag(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return nee(this,void 0,void 0,function*(){let{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,storageKey:o,flowType:s,debug:a},l,c){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new X1({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,flowType:s,debug:a,fetch:c})}_initRealtimeClient(e){return new rg(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i??null),this.changedAccessToken=i):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var _8=(n,e,t)=>new J1(n,e,t);var li={production:!1,supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVxcnZlbmxrcXVoZWFqdXZlZ2d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwNzg4NDgsImV4cCI6MjA3MjY1NDg0OH0.ZdgBkvjC5irHh7E9fagqX_Pu797anPfE8jO91iNDRIc",supabaseUrl:"https://uqrvenlkquheajuveggv.supabase.co",apiUrl:"https://your-backend-url.com",supabaseRestUrl:"https://uqrvenlkquheajuveggv.supabase.co/rest/v1"};var Hc=class Hc{constructor(){this._currentUser=F(null);this.supabase=_8(li.supabaseUrl.toString().trim(),li.supabaseAnonKey),this.initializeCurrentUser(),this.client.auth.onAuthStateChange(async(e,t)=>{if(console.log("Auth state changed:",e,t?.user?.id),e==="SIGNED_IN"&&t?.user?.email_confirmed_at){console.log("\u2705 Email confirmado via link detectado:",t.user.email),console.log("\u{1F4E7} Data de confirma\xE7\xE3o:",t.user.email_confirmed_at);let i=localStorage.getItem("tempUserData");i&&(console.log("\u{1F504} Detectada confirma\xE7\xE3o via link com dados tempor\xE1rios"),console.log("\u{1F4E7} Processando confirma\xE7\xE3o via link..."),window.dispatchEvent(new CustomEvent("emailConfirmedViaLink",{detail:{user:t.user,tempData:i}})))}this._currentUser.set(t?.user??null)})}async signIn(e,t){console.log("Attempting login for:",e);try{let{data:i,error:r}=await this.supabase.auth.signInWithPassword({email:e.trim(),password:t});return r?(console.error("Login error:",r.message),{data:null,error:r}):(console.log("Login result:",{data:i,error:r}),{data:i,error:null})}catch(i){return console.error("Unexpected error:",i),{data:null,error:i}}}get client(){return this.supabase}async signUp(e,t){let{data:i,error:r}=await this.supabase.auth.signUp({email:e.trim(),password:t});return{data:i,error:r}}async initializeCurrentUser(){try{let{data:{user:e},error:t}=await this.client.auth.getUser();t?(console.error("Erro ao obter usu\xE1rio inicial:",t),this._currentUser.set(null)):this._currentUser.set(e)}catch(e){console.error("Erro inesperado ao inicializar usu\xE1rio:",e),this._currentUser.set(null)}}get currentUser(){return this._currentUser.asReadonly()}getCurrentUserSync(){return this._currentUser()}async getCurrentUserAsync(){let{data:{user:e},error:t}=await this.client.auth.getUser();return t?(console.error("Erro ao obter usu\xE1rio:",t),null):e}onAuthStateChange(e){return this.supabase.auth.onAuthStateChange((t,i)=>{e(i?.user||null)})}async signOut(){let{error:e}=await this.supabase.auth.signOut();return{error:e}}};Hc.\u0275fac=function(t){return new(t||Hc)},Hc.\u0275prov=Se({token:Hc,factory:Hc.\u0275fac,providedIn:"root"});var vs=Hc;var zc=class zc{constructor(){this.supabase=$(vs);this.notificationIdCounter=1;this.notifications=F([]);this.enhancedNotifications=F([])}initializeForUser(e){this.loadEnhancedNotifications(e),this.listenToNotificationChanges(e)}addNotification(e){let t={id:this.notificationIdCounter++,message:e,timestamp:new Date,read:!1};this.notifications.update(i=>[t,...i]),setTimeout(()=>{this.notifications.update(i=>i.filter(r=>r.id!==t.id))},15e3)}markAsRead(e){this.notifications.update(t=>t.map(i=>i.id===e?ee(B({},i),{read:!0}):i))}markAllAsRead(){this.notifications.update(e=>e.map(t=>t.read?t:ee(B({},t),{read:!0})))}clearAll(){this.notifications.set([])}async createEnhancedNotification(e,t,i,r,o){let s={user_id:e,type:t,title:i,message:r,service_request_id:o?.serviceRequestId,action_required:o?.actionRequired||!1,priority:o?.priority||"medium",read:!1,timestamp:new Date,expires_at:o?.expiresInHours?new Date(Date.now()+o.expiresInHours*60*60*1e3):void 0},{data:a,error:l}=await this.supabase.client.from("enhanced_notifications").insert(s).select().single();if(l){console.error("Error creating enhanced notification:",l),this.addNotification(r);return}}async notifyByRole(e,t,i,r,o){let{data:s,error:a}=await this.supabase.client.from("users").select("id").in("role",e).eq("status","Active");if(a||!s){console.error("Error fetching users by role:",a);return}for(let l of s)await this.createEnhancedNotification(l.id,t,i,r,o)}async notifyServiceRequestStakeholders(e,t,i,r,o,s){let{data:a,error:l}=await this.supabase.client.from("service_requests").select("client_id, professional_id").eq("id",e).single();if(l||!a){console.error("Error fetching service request:",l);return}let c=[];if(o.includes("client")&&a.client_id&&c.push(a.client_id),o.includes("professional")&&a.professional_id&&c.push(a.professional_id),o.includes("admin")){let{data:u}=await this.supabase.client.from("users").select("id").eq("role","admin").eq("status","Active");u&&c.push(...u.map(m=>m.id))}for(let u of c)await this.createEnhancedNotification(u,t,i,r,B({serviceRequestId:e},s))}async markEnhancedAsRead(e){try{let{error:t}=await this.supabase.client.from("enhanced_notifications").update({read:!0}).eq("id",e);if(t){console.warn("Enhanced notifications not available:",t.message);return}this.enhancedNotifications.update(i=>i.map(r=>r.id===e?ee(B({},r),{read:!0}):r))}catch{console.warn("Enhanced notifications feature not available")}}async markAllEnhancedAsRead(e){let{error:t}=await this.supabase.client.from("enhanced_notifications").update({read:!0}).eq("user_id",e).eq("read",!1);if(t){console.error("Error marking all notifications as read:",t);return}this.enhancedNotifications.update(i=>i.map(r=>r.read?r:ee(B({},r),{read:!0})))}async deleteEnhancedNotification(e){let{error:t}=await this.supabase.client.from("enhanced_notifications").delete().eq("id",e);if(t){console.error("Error deleting notification:",t);return}this.enhancedNotifications.update(i=>i.filter(r=>r.id!==e))}async cleanupExpiredNotifications(){let{error:e}=await this.supabase.client.from("enhanced_notifications").delete().lt("expires_at",new Date().toISOString());if(e){console.error("Error cleaning up expired notifications:",e);return}await this.loadEnhancedNotifications()}getNotificationStats(){let e=this.enhancedNotifications(),t={total:e.length,unread:e.filter(i=>!i.read).length,actionRequired:e.filter(i=>i.action_required).length,highPriority:e.filter(i=>i.priority==="high").length,byType:{}};return e.forEach(i=>{t.byType[i.type]=(t.byType[i.type]||0)+1}),t}getFilteredNotifications(e){let t=this.enhancedNotifications();return e.type&&(t=t.filter(i=>i.type===e.type)),e.priority&&(t=t.filter(i=>i.priority===e.priority)),e.actionRequired!==void 0&&(t=t.filter(i=>i.action_required===e.actionRequired)),e.unreadOnly&&(t=t.filter(i=>!i.read)),e.serviceRequestId&&(t=t.filter(i=>i.service_request_id===e.serviceRequestId)),t}async loadEnhancedNotifications(e){if(!e)return;let t=["created_at","timestamp","date_created","id"],i=null,r=null;for(let o of t)try{let s=await this.supabase.client.from("enhanced_notifications").select("*").eq("user_id",e).order(o,{ascending:!1}).limit(100);if(s.error)r=s.error;else{i=s.data,r=null;break}}catch(s){r=s;continue}if(r){console.error("Error loading enhanced notifications:",r);return}i&&this.enhancedNotifications.set(i)}listenToNotificationChanges(e){e&&this.supabase.client.channel(`notifications:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"enhanced_notifications",filter:`user_id=eq.${e}`},()=>{this.loadEnhancedNotifications(e)}).subscribe()}async notifyQuoteRequest(e,t){await this.createEnhancedNotification(t,"quote_request","Or\xE7amento Solicitado","Um or\xE7amento foi solicitado para o seu pedido de servi\xE7o.",{serviceRequestId:e,actionRequired:!1,priority:"medium"})}async notifyQuoteSent(e,t,i){await this.createEnhancedNotification(t,"quote_sent","Or\xE7amento Recebido",`Voc\xEA recebeu um or\xE7amento de \u20AC${i.toFixed(2)}. Clique para revisar e aprovar.`,{serviceRequestId:e,actionRequired:!0,priority:"high",expiresInHours:168})}async notifyProfessionalAssignment(e,t){await this.createEnhancedNotification(t,"professional_assigned","Novo Trabalho Atribu\xEDdo","Um novo trabalho foi atribu\xEDdo a voc\xEA. Clique para aceitar ou rejeitar.",{serviceRequestId:e,actionRequired:!0,priority:"high",expiresInHours:48})}async notifyPaymentDue(e,t,i){await this.createEnhancedNotification(t,"payment_due","Pagamento Pendente",`Seu pagamento de \u20AC${i.toFixed(2)} est\xE1 pendente. Complete o pagamento para finalizar o servi\xE7o.`,{serviceRequestId:e,actionRequired:!0,priority:"high",expiresInHours:168})}async notifyDeadlineWarning(e,t,i){for(let r of t)await this.createEnhancedNotification(r,"deadline_warning","Prazo se Aproximando",`Aten\xE7\xE3o: O prazo para o pedido #${e} \xE9 em ${i}.`,{serviceRequestId:e,actionRequired:!1,priority:"medium"})}async notifyOverdue(e,t){for(let i of t)await this.createEnhancedNotification(i,"overdue_alert","Pedido em Atraso",`O pedido #${e} est\xE1 em atraso. A\xE7\xE3o imediata necess\xE1ria.`,{serviceRequestId:e,actionRequired:!0,priority:"high"})}};zc.\u0275fac=function(t){return new(t||zc)},zc.\u0275prov=Se({token:zc,factory:zc.\u0275fac,providedIn:"root"});var Ft=zc;var Wc=class Wc{constructor(){this.supabase=$(vs);this.notificationService=$(Ft);this.supabaseUser=this.supabase.currentUser;this.appUser=F(null);this.pendingEmailConfirmation=F(null);qt(async()=>{let e=this.supabaseUser();if(console.log("\u{1F50D} AuthService effect triggered. sUser:",e?.id),e){console.log("\u{1F464} Usu\xE1rio autenticado, buscando perfil..."),await this.fetchAppUser(e.id,!0);let t=this.appUser();t&&this.notificationService.initializeForUser(t.id)}else console.log("\u{1F464} Nenhum usu\xE1rio logado"),this.appUser.set(null),this.pendingEmailConfirmation.set(null)}),window.addEventListener("emailConfirmedViaLink",async e=>{console.log("\u{1F517} Processando confirma\xE7\xE3o via link..."),await this.handleEmailConfirmedViaLink(e.detail)})}async refreshAppUser(e){await this.fetchAppUser(e,!1)}async fetchAppUser(e,t=!0){console.log("\u{1F50D} Buscando usu\xE1rio com auth_id:",e);let{data:i,error:r}=await this.supabase.client.from("users").select("*").eq("auth_id",e).single();if(r){console.error("\u274C Supabase fetchAppUser error:",r),r.code!=="PGRST116"&&this.handleAuthError(r,"fetching user profile"),this.appUser.set(null);return}let o=i;if(console.log("\u{1F464} Usu\xE1rio encontrado:",o.email),console.log("\u{1F4E7} Email verificado:",o.email_verified),!o.email_verified){console.log("\u26A0\uFE0F Email N\xC3O verificado na tabela users."),console.log("\u{1F50D} Verificando confirma\xE7\xE3o no Supabase...");let{data:s,error:a}=await this.supabase.client.auth.getUser();if(!a&&s.user?.email_confirmed_at){console.log("\u2705 Email confirmado no Supabase! Atualizando tabela users...");let{error:l}=await this.supabase.client.from("users").update({email_verified:!0}).eq("auth_id",e);l?console.error("\u274C Erro ao atualizar email_verified:",l):(console.log("\u2705 Campo email_verified atualizado com sucesso"),o.email_verified=!0)}else{console.log("\u274C Email ainda n\xE3o confirmado no Supabase"),t?(console.log("\u{1F504} Chamada autom\xE1tica - fazendo logout silencioso"),await this.supabase.client.auth.signOut(),this.appUser.set(null)):(console.log("\u{1F4E7} Chamada manual - redirecionando para verifica\xE7\xE3o"),this.pendingEmailConfirmation.set(o.email),this.appUser.set(null),await this.supabase.client.auth.signOut());return}}console.log("\u2705 Email verificado. Carregando usu\xE1rio"),this.pendingEmailConfirmation.set(null),this.appUser.set(o)}handleAuthError(e,t){e&&(console.error(`Error ${t}:`,e.message),this.notificationService.addNotification(`Error: ${e.message}`))}async login(e,t){console.log("AuthService - Tentando login com:",e);try{if(!e||!t)throw new Error("Email e senha s\xE3o obrigat\xF3rios");console.log("Chamando signInWithPassword...");let i=await this.supabase.client.auth.signInWithPassword({email:e.trim(),password:t});if(console.log("Resposta do signInWithPassword:",{user:i.data?.user?.id,session:!!i.data?.session,error:i.error}),i.error)return console.error("Erro detalhado:",{message:i.error.message,status:i.error.status,name:i.error.name}),this.handleAuthError(i.error,"logging in"),i;if(i.data?.user){console.log("\u{1F50D} Login bem-sucedido, verificando email_verified...");let{data:r,error:o}=await this.supabase.client.from("users").select("email_verified").eq("auth_id",i.data.user.id).single();if(o)console.error("\u274C Erro ao verificar email_verified:",o);else if(r?.email_verified)console.log("\u2705 Email verificado, login permitido");else return console.log("\u26A0\uFE0F Email n\xE3o verificado, bloqueando login"),await this.supabase.client.auth.signOut(),this.notificationService.addNotification("Email n\xE3o verificado. Por favor, verifique seu email e clique no link de verifica\xE7\xE3o antes de fazer login."),{data:{user:null,session:null},error:{message:"Email n\xE3o verificado. Por favor, verifique seu email e clique no link de verifica\xE7\xE3o antes de fazer login.",name:"EmailNotVerified",status:400}}}return i}catch(i){console.error("Erro inesperado no login:",i);let r=i;return this.handleAuthError(r,"logging in"),{data:{user:null,session:null},error:r}}}async register(e,t,i,r){if(console.log("\u{1F680} AuthService.register() iniciado para:",t),console.log("\u{1F3AF} SOLU\xC7\xC3O ALTERNATIVA: Usando OTP em vez de signUp"),console.log("\u{1F3AF} Role recebido como par\xE2metro:",r),console.log("\u2705 Validando formato do e-mail..."),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){console.error("\u274C Formato de e-mail inv\xE1lido:",t),this.notificationService.addNotification("Por favor, insira um e-mail v\xE1lido (exemplo: usuario@email.com)");return}console.log("\u{1F50D} Verificando se e-mail j\xE1 existe na base de dados...");let{data:s}=await this.supabase.client.from("users").select("email").eq("email",t).single();if(s){console.log("\u26A0\uFE0F E-mail j\xE1 existe na tabela users"),this.notificationService.addNotification("E-mail j\xE1 cadastrado. Tente fazer login ou use outro e-mail.");return}console.log("\u{1F4E7} Enviando c\xF3digo de verifica\xE7\xE3o via OTP...");let{error:a}=await this.supabase.client.auth.signInWithOtp({email:t,options:{shouldCreateUser:!0,data:{name:e,role:r,password:i}}});if(a){console.error("\u274C Erro ao enviar OTP:",a),a.message.includes("User already registered")?this.notificationService.addNotification("E-mail j\xE1 cadastrado. Tente fazer login ou use outro e-mail."):a.message.includes("invalid format")?this.notificationService.addNotification("Formato de e-mail inv\xE1lido. Use o formato: usuario@email.com"):a.message.includes("email address")?this.notificationService.addNotification("E-mail inv\xE1lido. Verifique se digitou corretamente."):a.message.includes("rate limit")?this.notificationService.addNotification("Muitas tentativas. Aguarde alguns minutos e tente novamente."):this.handleAuthError(a,"sending verification code");return}console.log("\u2705 C\xF3digo de verifica\xE7\xE3o enviado com sucesso!");let l={name:e,email:t,password:i,role:r,timestamp:Date.now()};localStorage.setItem("tempUserData",JSON.stringify(l)),console.log("\u{1F4E7} Definindo e-mail pendente de confirma\xE7\xE3o:",t),this.pendingEmailConfirmation.set(t),console.log("\u{1F512} Fazendo logout obrigat\xF3rio para tela de verifica\xE7\xE3o"),await this.supabase.client.auth.signOut(),this.notificationService.addNotification("Um c\xF3digo de verifica\xE7\xE3o foi enviado para seu e-mail. Verifique sua caixa de entrada e spam.")}async verifyOtp(e,t){console.log("\u{1F50D} Verificando OTP para:",e);let i=await this.supabase.client.auth.verifyOtp({email:e,token:t,type:"email"});if(i.error)return this.handleAuthError(i.error,"verifying OTP"),i;if(i.data.user){console.log("\u2705 OTP verificado com sucesso!");let r=localStorage.getItem("tempUserData");if(r)try{let o=JSON.parse(r);console.log("\u{1F4DD} Criando perfil do usu\xE1rio com dados tempor\xE1rios...");let s={auth_id:i.data.user.id,name:o.name,email:o.email,role:o.role,status:o.role==="professional"?"Pending":"Active",avatar_url:`https://i.pravatar.cc/150?u=${i.data.user.id}`,email_verified:!0},{error:a}=await this.supabase.client.from("users").insert(s);if(a)if(a.message.includes("duplicate key")){console.log("\u26A0\uFE0F Usu\xE1rio j\xE1 existe, atualizando...");let{error:l}=await this.supabase.client.from("users").update({name:o.name,role:o.role,status:o.role==="professional"?"Pending":"Active",email_verified:!0}).eq("auth_id",i.data.user.id);l?(console.error("\u274C Erro no update:",l),this.handleAuthError(l,"updating user profile")):console.log("\u2705 Perfil atualizado com sucesso")}else console.error("\u274C Erro ao criar perfil:",a),this.handleAuthError(a,"creating user profile");else console.log("\u2705 Perfil criado com sucesso");if(localStorage.removeItem("tempUserData"),o.password){console.log("\u{1F511} Definindo senha do usu\xE1rio...");let{error:l}=await this.supabase.client.auth.updateUser({password:o.password});l?console.error("\u274C Erro ao definir senha:",l):console.log("\u2705 Senha definida com sucesso")}await this.markEmailAsVerified(i.data.user.id)}catch(o){console.error("\u274C Erro ao processar dados tempor\xE1rios:",o),localStorage.removeItem("tempUserData")}else console.log("\u26A0\uFE0F Dados tempor\xE1rios n\xE3o encontrados, apenas marcando email como verificado"),await this.markEmailAsVerified(i.data.user.id)}return i}async resendVerificationCode(e){try{console.log("\u{1F4E7} Reenviando c\xF3digo de verifica\xE7\xE3o para:",e);let{error:t}=await this.supabase.client.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1}});t?this.handleAuthError(t,"resending verification code"):this.notificationService.addNotification("Um novo c\xF3digo de verifica\xE7\xE3o foi enviado para seu e-mail.")}catch(t){console.error("Error resending verification code:",t),this.notificationService.addNotification("Erro ao reenviar c\xF3digo. Tente novamente.")}}async resetPassword(e){let{error:t}=await this.supabase.client.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin});this.handleAuthError(t,"requesting password reset"),t||this.notificationService.addNotification("Password reset link sent. Please check your email.")}async sendPasswordResetCode(e){console.log("\u{1F511} Enviando c\xF3digo de redefini\xE7\xE3o de senha para:",e);try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))throw new Error("Formato de e-mail inv\xE1lido");let{data:i}=await this.supabase.client.from("users").select("email, auth_id").eq("email",e).single();if(!i)throw new Error("E-mail n\xE3o encontrado em nosso sistema");let{error:r}=await this.supabase.client.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1,data:{isPasswordReset:!0}}});if(r)throw console.error("\u274C Erro ao enviar c\xF3digo de redefini\xE7\xE3o:",r),new Error(r.message||"Erro ao enviar c\xF3digo de redefini\xE7\xE3o");console.log("\u2705 C\xF3digo de redefini\xE7\xE3o enviado com sucesso")}catch(t){throw console.error("\u274C Erro ao enviar c\xF3digo de redefini\xE7\xE3o:",t),t}}async verifyPasswordResetCode(e,t){console.log("\u{1F50D} Verificando c\xF3digo de redefini\xE7\xE3o:",t);try{let{data:i,error:r}=await this.supabase.client.auth.verifyOtp({email:e,token:t,type:"email"});return r?(console.error("\u274C Erro ao verificar c\xF3digo:",r),!1):i.user?(console.log("\u2705 C\xF3digo verificado com sucesso"),!0):!1}catch(i){return console.error("\u274C Erro inesperado ao verificar c\xF3digo:",i),!1}}async updatePasswordWithCode(e,t,i){console.log("\u{1F504} Atualizando senha ap\xF3s verifica\xE7\xE3o OTP");try{let{data:r,error:o}=await this.supabase.client.auth.verifyOtp({email:e,token:t,type:"email"});if(o||!r.user)throw console.error("\u274C Erro ao verificar c\xF3digo:",o),new Error("C\xF3digo inv\xE1lido ou expirado");console.log("\u2705 C\xF3digo verificado, atualizando senha...");let{error:s}=await this.supabase.client.auth.updateUser({password:i});if(s)throw console.error("\u274C Erro ao atualizar senha:",s),new Error(s.message||"Erro ao atualizar senha");console.log("\u2705 Senha atualizada com sucesso"),await this.supabase.client.auth.signOut()}catch(r){throw console.error("\u274C Erro ao atualizar senha:",r),r}}async handlePasswordResetFromUrl(e,t){console.log("\u{1F511} Configurando sess\xE3o para reset de senha");try{let{error:i}=await this.supabase.client.auth.setSession({access_token:e,refresh_token:t||""});if(i)throw console.error("\u274C Erro ao configurar sess\xE3o:",i),new Error("Erro ao configurar sess\xE3o para reset de senha");console.log("\u2705 Sess\xE3o configurada para reset de senha")}catch(i){throw console.error("\u274C Erro ao configurar sess\xE3o:",i),i}}async hasActiveSession(){try{let{data:{session:e}}=await this.supabase.client.auth.getSession();return{hasSession:!!e?.user,userEmail:e?.user?.email}}catch(e){return console.error("\u274C Erro ao verificar sess\xE3o:",e),{hasSession:!1}}}onAuthStateChange(e){return this.supabase.client.auth.onAuthStateChange(e)}async logout(){console.log("\u{1F513} AuthService - executando logout");try{let{data:{session:e}}=await this.supabase.client.auth.getSession();if(e){console.log("\u{1F4CB} Sess\xE3o encontrada, fazendo logout via API");let{error:t}=await this.supabase.client.auth.signOut();t?(console.warn("\u26A0\uFE0F Erro no logout via API, limpando localmente:",t.message),await this.clearLocalSession()):console.log("\u2705 Logout realizado com sucesso via API")}else console.log("\u{1F504} Nenhuma sess\xE3o ativa, limpando dados localmente"),await this.clearLocalSession();this.appUser.set(null),console.log("\u2705 Estado do usu\xE1rio limpo")}catch(e){console.error("\u274C Erro durante logout, limpando localmente:",e),await this.clearLocalSession(),this.appUser.set(null)}}async clearLocalSession(){localStorage.removeItem("supabase.auth.token"),sessionStorage.removeItem("supabase.auth.token");try{await this.supabase.client.auth.signOut({scope:"local"})}catch{console.log("\u{1F504} Limpeza local do Supabase conclu\xEDda")}}async markEmailAsVerified(e){console.log("\u2705 Marcando email como verificado para user:",e);let{error:t}=await this.supabase.client.from("users").update({email_verified:!0}).eq("auth_id",e);t?(console.error("\u274C Erro ao marcar email como verificado:",t),this.handleAuthError(t,"marking email as verified")):(console.log("\u2705 Email marcado como verificado com sucesso"),await this.fetchAppUser(e,!1))}async updateUserProfile(e){let t=this.appUser();if(!t)throw console.error("\u274C No user logged in for profile update"),new Error("No user logged in");console.log("\u{1F4DD} Updating user profile:",e);try{let{data:i,error:r}=await this.supabase.client.from("users").update(e).eq("id",t.id).select().single();if(r)throw console.error("\u274C Supabase error updating profile:",r),this.handleAuthError(r,"updating profile"),r;if(i)console.log("\u2705 Profile updated successfully:",i),this.appUser.set(i);else throw console.error("\u274C No data returned from profile update"),new Error("No data returned from profile update")}catch(i){throw console.error("\u274C Unexpected error updating profile:",i),i}}async updateAvatarUrl(e){let t=this.appUser();if(t)try{let{data:i,error:r}=await this.supabase.client.from("users").update({avatar_url:e}).eq("id",t.id).select().single();if(r){console.error("Error updating avatar URL:",r),this.notificationService.addNotification("Error updating avatar");return}i&&(this.appUser.set(i),console.log("\u2705 Avatar URL updated successfully"))}catch(i){console.error("Unexpected error updating avatar:",i),this.notificationService.addNotification("Error updating avatar")}}async deleteOldAvatar(e,t){try{let i=t.split("/"),r=i.findIndex(a=>a==="avatars");if(r===-1||r>=i.length-1){console.log("Could not extract file path from avatar URL");return}let o=i.slice(r+1).join("/");console.log(`\u{1F5D1}\uFE0F Deleting old avatar: ${o}`);let{error:s}=await this.supabase.client.storage.from("avatars").remove([o]);s?console.error("Error deleting old avatar:",s):console.log("\u2705 Old avatar deleted successfully")}catch(i){console.error("Unexpected error deleting old avatar:",i)}}async uploadAvatar(e){let t=this.appUser(),i=this.supabaseUser();if(!t||!i){this.notificationService.addNotification("No user logged in");return}try{t.avatar_url&&!t.avatar_url.includes("pravatar.cc")&&await this.deleteOldAvatar(i.id,t.avatar_url);let r=e.name.split(".").pop(),o=`${t.id}-${Date.now()}.${r}`,s=`${i.id}/${o}`;console.log(`\u{1F4E4} Uploading avatar: ${o} to path: ${s}`);let{error:a}=await this.supabase.client.storage.from("avatars").upload(s,e,{upsert:!0});if(a){console.error("Error uploading avatar:",a),a.message.includes("Bucket not found")?this.notificationService.addNotification("Storage bucket 'avatars' not found. Please check Supabase configuration."):a.message.includes("payload too large")?this.notificationService.addNotification("Image too large. Please use an image smaller than 2MB."):a.message.includes("file type")?this.notificationService.addNotification("Invalid file type. Please use JPG, PNG, GIF or WebP images."):this.notificationService.addNotification("Error uploading image. Please try again.");return}console.log(`\u2705 Upload successful: ${o}`);let{data:l}=this.supabase.client.storage.from("avatars").getPublicUrl(s);l?(console.log(`\u{1F4F7} Public URL: ${l.publicUrl}`),await this.updateAvatarUrl(l.publicUrl),this.notificationService.addNotification("Photo uploaded successfully!")):(console.error("Failed to generate public URL"),this.notificationService.addNotification("Error generating image URL"))}catch(r){console.error("Unexpected error uploading avatar:",r),this.notificationService.addNotification(`Upload failed: ${r.message||"Unknown error"}`)}}async handleEmailConfirmedViaLink(e){console.log("\u{1F517} Processando confirma\xE7\xE3o de email via link");try{let{user:t,tempData:i}=e,r=JSON.parse(i);console.log("\u{1F4DD} Dados tempor\xE1rios encontrados:",r),console.log("\u{1F464} Usu\xE1rio confirmado:",t.email);let{data:o}=await this.supabase.client.from("users").select("*").eq("auth_id",t.id).single();if(o){console.log("\u{1F4DD} Perfil j\xE1 existe, atualizando email_verified...");let{error:s}=await this.supabase.client.from("users").update({email_verified:!0}).eq("auth_id",t.id);s?console.error("\u274C Erro ao atualizar email_verified:",s):console.log("\u2705 email_verified atualizado com sucesso")}else{console.log("\u{1F4DD} Criando perfil para usu\xE1rio confirmado via link...");let s={auth_id:t.id,name:r.name,email:r.email,role:r.role,status:r.role==="professional"?"Pending":"Active",avatar_url:`https://i.pravatar.cc/150?u=${t.id}`,email_verified:!0},{error:a}=await this.supabase.client.from("users").insert(s);a?console.error("\u274C Erro ao criar perfil:",a):console.log("\u2705 Perfil criado com sucesso")}if(r.password){console.log("\u{1F511} Definindo senha para usu\xE1rio confirmado via link...");let{error:s}=await this.supabase.client.auth.updateUser({password:r.password});s?console.error("\u274C Erro ao definir senha:",s):console.log("\u2705 Senha definida com sucesso")}localStorage.removeItem("tempUserData"),console.log("\u{1F512} Fazendo logout para redirecionar para login..."),await this.supabase.client.auth.signOut(),this.notificationService.addNotification("Conta confirmada com sucesso! Fa\xE7a login com suas credenciais para acessar a aplica\xE7\xE3o."),this.pendingEmailConfirmation.set(null),console.log("\u2705 Confirma\xE7\xE3o via link processada com sucesso")}catch(t){console.error("\u274C Erro ao processar confirma\xE7\xE3o via link:",t),localStorage.removeItem("tempUserData")}}};Wc.\u0275fac=function(t){return new(t||Wc)},Wc.\u0275prov=Se({token:Wc,factory:Wc.\u0275fac,providedIn:"root"});var ci=Wc;var iee={en:{signIn:"Sign In",createAccount:"Create Account",email:"Email",password:"Password",name:"Full Name",role:"Role",client:"Client",professional:"Professional",register:"Register",login:"Login",logout:"Logout",dashboard:"Dashboard",schedule:"Schedule",search:"Search",profile:"Profile",admin:"Admin",language:"Language",english:"English",portuguese:"Portugu\xEAs",currency:"EUR",unassigned:"Unassigned",unknownClient:"Unknown Client",noChangesDetected:"No changes detected.",errorInvalidFileFormat:"Invalid file format. Please use JPG, PNG, or GIF.",errorImageTooLarge:"Image is too large. Maximum size is 2MB.",errorCameraNotSupported:"Camera access is not supported by your browser.",errorAccessingCamera:"Error accessing camera.",pushNotificationsBlocked:"Push notifications are blocked. Please enable them in your browser settings.",noDataToExport:"No financial data to export.",reportExported:"Financial report exported successfully.",confirmRejectRegistration:"Are you sure you want to reject this registration?",confirmDeleteCategory:'Are you sure you want to delete the category "{category}"?',backToHome:"Back to Home",forgotPassword:"Forgot your password?",dontHaveAccount:"Don't have an account?",streetAddress:"Complete Address",streetAddressPlaceholder:"Street/Avenue, number, floor (e.g.: Rua Augusta, 123, 2\xBA)",postalCode:"Postal Code",postalCodePlaceholder:"0000-000",locality:"Locality",localityPlaceholder:"Lisbon, Porto, Coimbra...",district:"District",selectDistrict:"Select district",concelho:"Municipality (Optional)",concelhoPlaceholder:"Lisbon, Porto, Sintra...",freguesia:"Parish (Optional)",postalCodeInvalidFormat:"Format: 0000-000",itemsPerPage:"Items per page",showing:"Showing",to:"to",of:"of",results:"results",pendingApproval:"Pending",activeRequests:"Active",completed:"Completed",myRequests:"My Requests",noRequestsFound:"No requests found",activeJobs:"Active Jobs",completedJobs:"Completed Jobs",totalEarnings:"Total Earnings",totalRevenue:"Total Revenue",pendingApprovals:"Pending Approvals",activeServices:"Active Services",totalProfessionals:"Total Professionals",csvId:"ID",csvClient:"Client",csvProfessional:"Professional",csvService:"Service",csvCompletionDate:"Completion Date",csvPaymentStatus:"Payment Status",csvBaseValue:"Base Value",csvTax:"Tax (7%)",csvTotalValue:"Total Value",awaitingQuote:"Awaiting Quote",mobileRotateDeviceTip:"Tip: Rotate device for better calendar view",selectTime:"Select a time",serviceDetails:"Service Details",serviceRequestDetails:"Service Request Details",noCategoriesAvailable:"No categories available",description:"Description",category:"Category",address:"Address",appName:"HomeService",menu:"Menu",newRequest:"New Request",loadingUser:"Loading user...",accountVerification:"Account Verification",verificationCodeSentTo:"A verification code was sent to",checkEmailBeforeAccess:"Please check your email and enter the verification code to access the application.",verificationCode:"Verification Code",verify:"Verify",resendCode:"Resend Code",noServiceRequestsFound:"No service requests found",viewRequestDetails:"View Request Details",chat:"Chat",approve:"Approve",reject:"Reject",payNow:"Pay Now",choosePaymentMethod:"Choose Payment Method",confirmPayment:"Confirm Payment",paid:"Paid",requested:"Requested",scheduled:"Scheduled",validateQuote:"Validate Quote",emailVerificationRequired:"Email verification required. Please check your inbox.",exportToCsv:"Export to CSV",addProfessional:"Add Professional",serviceCategories:"Service Categories",totalSubcategories:"Total Subcategories",subcategories:"Subcategories",subcategoriesOf:"Subcategories of {category}",noSubcategories:"No subcategories",expand:"Expand",collapse:"Collapse",subcategoryName:"New subcategory",addSubcategory:"Add Subcategory",deleteSubcategory:"Delete Subcategory",editSubcategory:"Edit Subcategory",subcategoryDetails:"Subcategory Details",priced:"Priced",quoted:"Quoted",averageTime:"Average Time",type:"Type",noDescription:"No description provided",confirmDeleteSubcategory:"Confirm deletion of subcategory: {subcategory}?",editCategory:"Edit Category",save:"Save",companyAddress:"123 Service Lane, Anytown",invoice:"Invoice",appNameFull:"HomeService Solutions",quote:"Quote",details:"Details",scheduleAppointmentFor:"Schedule Appointment for",selectProfessional:"Select Professional",selectAProfessional:"Select a Professional",selectDate:"Select Date",cancel:"Cancel",confirmSchedule:"Confirm Schedule",pendingActions:"Pending Actions",request:"Request",status:"Status",actions:"Actions",availableActions:"Available Actions",viewQuote:"View Quote",provideQuote:"Provide Quote",provideClarification:"Provide Clarification",approveQuote:"Approve Quote",requestRevision:"Request Revision",assign:"Assign",assignProfessional:"Assign Professional",noRequestsNeedAttention:"No requests need attention",service:"Service",cost:"Cost",pendingRegistrations:"Pending Registrations",phone:"Phone",noPendingRegistrations:"No pending registrations",completedServices:"Completed Services",totalTax:"Total Tax",outstandingAmount:"Outstanding Amount",registrationSuccessful:"Registration Successful",password_reset_success:"Password reset successful! You can now log in with your new password.",newServiceRequest:"New Service Request",title:"Title",titlePlaceholder:"Enter service title...",selectCategory:"Select a category...",subcategory:"Subcategory",selectSubcategory:"Select a subcategory",descriptionPlaceholder:"Describe what you need...",dateTime:"Date & Time",dateTimePlaceholder:"Select preferred date and time",requestedDateTimeHelp:"When would you like this service to be performed?",validFutureDateTime:"Please select a valid future date and time",complement:"Address Complement",complementPlaceholder:"Apartment, floor, reference (optional)",submitting:"Submitting",submitRequest:"Submit Request",requestedClarification:"Requested Clarification",yourClarification:"Your Clarification",enterClarificationPlaceholder:"Please provide the requested clarification...",clarificationHelp:"Provide as much detail as possible to help us understand your requirements.",sendClarification:"Send Clarification",clarifications:"Clarifications",unread:"unread",addNewQuestion:"Add New Question",questionTitle:"Question Title",questionTitlePlaceholder:"Brief summary of your question...",questionContent:"Question Details",questionContentPlaceholder:"Describe your question in detail...",addQuestion:"Add Question",question:"Question",answer:"Answer",new:"New",by:"by",delete:"Delete",addAnswer:"Add Answer",answerTitle:"Answer Title",answerTitlePlaceholder:"Brief summary of your answer...",answerContent:"Answer Details",answerContentPlaceholder:"Provide your detailed answer...",noClarificationsYet:"No clarifications yet",addFirstQuestion:"Add the first question to start a discussion",confirmDeleteClarification:"Are you sure you want to delete this clarification?",timeControl:"Time Control",requestedDateTime:"Requested Date & Time",scheduledStartDateTime:"Scheduled Start Date & Time",estimatedDuration:"Estimated Duration",actualDuration:"Actual Duration",actualStartDateTime:"Actual Start Date & Time",actualEndDateTime:"Actual End Date & Time",startWork:"Start Work",finishWork:"Finish Work",serviceCompleted:"Service Completed",serviceInProgress:"Service In Progress",awaitingSchedule:"Awaiting Schedule",noActionAvailable:"No Action Available",adminActions:"Admin Actions",useSchedulerToManage:"Use the scheduler to manage this service",scheduleService:"Schedule Service",serviceInformation:"Service Information",notSpecified:"Not Specified",selectOption:"Select an option",specialist:"Specialist",noProfessionalsAvailable:"No professionals available for this category",scheduledDate:"Scheduled Date",scheduledTime:"Scheduled Time",hours:"Hours",minutes:"Minutes",totalDuration:"Total Duration",serviceDescription:"Service Description",serviceAddress:"Service Address",timeReports:"Time Reports",exportCSV:"Export CSV",filters:"Filters",period:"Period",today:"Today",lastWeek:"Last Week",lastMonth:"Last Month",customPeriod:"Custom Period",allCategories:"All Categories",startDate:"Start Date",endDate:"End Date",totalRequests:"Total Requests",completionRate:"Completion Rate",averageDuration:"Average Duration",onTimePercentage:"On Time Percentage",professionalProductivity:"Professional Productivity",completedServicesCount:"Completed Services",noDataAvailable:"No data available",todayScheduledServices:"Today's Scheduled Services",delayedServices:"Delayed Services",delayed:"Delayed",detailedServiceList:"Detailed Service List",professionalName:"Professional",scheduledLabel:"Scheduled",duration:"Duration",estimated:"Estimated",actual:"Actual",accessDenied:"Access Denied",adminAccessRequired:"Administrator access required",schedulingInformation:"Scheduling Information",inMinutes:"in minutes",durationHelpText:"Duration in minutes (minimum 15, increments of 15)",quickSelect:"Quick Select",clientRequestedFor:"Client requested for",assignAndSchedule:"Assign & Schedule",professionalAssigned:"Professional {professional} assigned to request #{id}.",professionalAssignedAndScheduled:"Professional {professional} assigned to request #{id} and scheduled for {date}.",newExecutionDateProposed:"New Execution Date Proposed",executionDateProposedMessage:"Proposed date: {date} at {time}. Notes: {notes}",executionDateApprovedByClient:"Execution Date Approved by Client",executionDateRejectedByClient:"Execution Date Rejected by Client",executionDateApprovedMessage:"The client approved the execution date for request #{requestId}.",executionDateRejectedMessage:"The client rejected the execution date for request #{requestId}. Reason: {reason}",approveExecutionDate:"Approve Date",rejectExecutionDate:"Reject Date",executionDateProposed:"Execution date proposed for request #{id}",executionDateApproved:"Execution date approved for request #{id}",executionDateRejected:"Execution date rejected for request #{id}",errorCameraPermissionDenied:"Camera permission was denied. Please allow camera access and try again.",errorNoCameraFound:"No camera found on this device.",errorCameraInUse:"Camera is already in use by another application.",errorCameraConstraints:"Camera constraints are not supported by your device.",errorVideoNotAvailable:"Video stream is not available.",errorVideoNotReady:"Video is not ready for capture. Please wait a moment.",errorCanvasNotSupported:"Canvas is not supported by your browser.",errorCapturingPhoto:"Error capturing photo. Please try again.",errorUploadingPhoto:"Error uploading photo. Please try again.",errorVideoPlayback:"Error playing video stream.",photoUploadedSuccessfully:"Photo uploaded successfully!",uploadPhoto:"Upload Photo",useCamera:"Use Camera",capturePhoto:"Capture Photo",capture:"Capture",saveChanges:"Save Changes",mySpecialties:"My Specialties",emailAddress:"Email Address",loadingCamera:"Loading camera...",cameraInstructions:"Position yourself in the frame and click capture when ready.",solutionPermissionDenied:"\u{1F4A1} Solution: Click the camera icon in the address bar and allow camera access, then reload the page.",solutionNoCameraFound:"\u{1F4A1} Solution: Connect a camera to your device or check if it's working in other apps.",solutionCameraInUse:"\u{1F4A1} Solution: Close other apps that might be using the camera (Teams, Zoom, Skype, etc.) and try again.",solutionCameraConstraints:"\u{1F4A1} Solution: Try using a different camera or check camera settings.",solutionCameraAborted:"\u{1F4A1} Solution: The operation was cancelled. Please try again.",solutionCameraTypeError:"\u{1F4A1} Solution: This appears to be a browser compatibility issue. Try using Chrome or updating your browser.",errorCameraAborted:"Camera operation was cancelled.",errorCameraTypeError:"Browser compatibility issue with camera access.",forgotPasswordDescription:"Enter your email address and we'll send you a verification code to reset your password.",sendResetCode:"Send Reset Code",resetCodeSent:"Reset code sent!",resetCodeSentDescription:"We've sent a 6-digit verification code to:",proceedToVerification:"I have the code",rememberPassword:"Remember your password?",backToLogin:"Back to Login",sending:"Sending...",resending:"Resending...",verifyCode:"Verify Code",verifyCodeDescription:"Enter the 6-digit code we sent to your email:",codeFromEmail:"Check your email for the 6-digit code",verifying:"Verifying...",newPassword:"New Password",newPasswordDescription:"Choose a strong password for your account.",newPasswordPlaceholder:"Enter your new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your new password",passwordRequirements:"Minimum 6 characters",passwordStrength:"Password Strength",updatePassword:"Update Password",updatingPassword:"Updating...",backToCodeVerification:"Back to Code Verification",emailPlaceholder:"Enter your email address",or:"or",ok:"OK",landingAboutTitle:"About Us",landingAboutText1:"Natan Construtora has been operating in the civil construction market for over 20 years, focusing on quality, innovation, and meeting deadlines. Our mission is to build with quality, responsibility, and purpose, delivering projects that exceed expectations and turn dreams into reality, with commitment to deadlines, safety, and technical excellence.",landingAboutText2:"Our vision is to be a reference in civil construction, recognized for innovation, reliability, and positive impact in the communities where we operate, becoming the first choice for clients and partners.",landingServicesTitle:"Our Services",landingServicesProjects:"Projects",landingServicesProjects1:"Houses, condominiums, and buildings",landingServicesProjects2:"Stores, offices, warehouses",landingServicesConstruction:"Construction",landingServicesConstruction1:"Commercial",landingServicesConstruction2:"Residential",landingServicesRenovation:"Renovations and Expansions",landingServicesRenovation1:"Modernizations and adaptations",landingServicesRenovation2:"Technical coordination and schedules",landingServicesConsulting:"Technical Consulting",landingServicesConsulting1:"Structural support",landingServicesConsulting2:"Legalizations",landingServicesFooter:"From foundation to key handover",landingContactsTitle:"Contacts",landingContactsEmail:"Email:",landingContactsPhone:"Phone:",landingContactsMobile:"Mobile:",landingDescription:"Connect with trusted home service professionals in your area. Quality work, verified experts, and reliable service you can count on.",registerTitle:"Create a new account",registerLoginLink:"sign in to your existing account",loggingIn:"Logging in...",iAmA:"I am a",emailNotVerifiedLogin:"Please verify your email before logging in. Check your email for the verification link.",welcomeBack:"Welcome!",dashboardSummary:"Here is a summary of your activity.",requestDate:"Request Date",costAndPayment:"Cost and Payment",paymentStatus:"Payment Status",assignedProfessional:"Assigned Professional",professionalId:"Professional ID",requestId:"Request ID",close:"Close",month:"Month",week:"Week",day:"Day",agenda:"Agenda",allDay:"All Day",noEventsForDay:"No events for this day",moreEvents:"more events",Requested:"Requested",InAnalysis:"In Analysis",AwaitingClarifications:"Awaiting Clarifications",QuoteSent:"Quote Sent",AwaitingQuoteApproval:"Awaiting Quote Approval",QuoteApproved:"Quote Approved",QuoteRejected:"Quote Rejected",AwaitingExecutionDate:"Awaiting Execution Date",DateProposedByAdmin:"Date Proposed by Admin",AwaitingDateApproval:"Awaiting Date Approval",DateApprovedByClient:"Date Approved by Client",DateRejectedByClient:"Date Rejected by Client",SearchingProfessional:"Searching Professional",ProfessionalSelected:"Professional Selected",AwaitingProfessionalConfirmation:"Awaiting Professional Confirmation",Scheduled:"Scheduled",InProgress:"In Progress",CompletedAwaitingApproval:"Completed - Awaiting Approval",Completed:"Completed",Cancelled:"Cancelled",statusQuoted:"Quoted",statusApproved:"Approved",statusScheduled:"Scheduled",statusInProgress:"In Progress",statusCompleted:"Completed",statusCancelled:"Cancelled",statusAwaitingExecutionDate:"Awaiting Execution Date",statusDateProposedByAdmin:"Date Proposed by Admin",statusAwaitingDateApproval:"Awaiting Date Approval",statusDateApprovedByClient:"Date Approved by Client",statusDateRejectedByClient:"Date Rejected by Client",statusAnalyzing:"Analyzing",statusAwaitingClarification:"Awaiting Clarification",statusAwaitingQuoteApproval:"Awaiting Quote Approval",statusQuoteRejected:"Quote Rejected",statusSearchingProfessional:"Searching Professional",statusProfessionalSelected:"Professional Selected",statusAwaitingProfessionalConfirmation:"Awaiting Professional Confirmation",statusCompletedAwaitingApproval:"Completed - Awaiting Approval",statusRequested:"Requested",statusInAnalysis:"In Analysis",statusAwaitingClarifications:"Awaiting Clarifications",statusQuoteSent:"Quote Sent",statusScheduledEn:"Scheduled",statusCompletedEn:"Completed",statusPending:"Pending",notifications:"Notifications",noNewNotifications:"You have no new notifications.",markAllAsRead:"Mark all as read",clearAll:"Clear All",noMessages:"No messages yet. Start the conversation!",typeMessage:"Type your message...",searchServiceRequests:"Search Service Requests",searchTerm:"Search Term",searchTermPlaceholder:"Enter search term...",completedRequests:"Completed Requests",fullName:"Full Name",statusChangedFromTo:'Request #{id} status changed from "{from}" to "{to}"',paymentStatusChanged:'Request #{id} payment status changed to "{status}"',professionalApproved:"Professional {name} has been approved",professionalRejected:"Professional {name} has been rejected",userStatusUpdated:'User #{id} status updated to "{status}"',overview:"Overview",requests:"Requests",approvals:"Approvals",finances:"Finances",professionals:"Professionals",categories:"Categories",clients:"Clients",financialDetails:"Financial Details",date:"Date",payment:"Payment",total:"Total",action:"Action",generateInvoice:"Generate Invoice",manageProfessionals:"Manage Professionals",addNewProfessional:"Add New Professional",specialties:"Specialties",edit:"Edit",addNewCategory:"Add New Category",categoryName:"Category Name",add:"Add",quoteFor:"Quote for",quoteValue:"Quote Value",submit:"Submit",assignProfessionalToScheduled:"Assign Professional to Scheduled Service",selectProfessionalFor:"Select a professional for",editProfessional:"Edit Professional",proposeExecutionDate:"Propose Execution Date",proposeExecutionDateFor:"Propose execution date for",proposedDate:"Proposed Date",proposedTime:"Proposed Time",notesForClient:"Notes for Client",optional:"Optional",notesForClientPlaceholder:"Additional information about the proposed date...",approvedAmount:"Approved Amount",clientOriginallyRequestedFor:"Client originally requested for",proposeDate:"Propose Date",billedTo:"Billed To",serviceProvidedBy:"Service Provided By",subtotal:"Subtotal",tax:"Tax",grandTotal:"Grand Total",thankYou:"Thank you for your business!",print:"Print",quoteSubmitted:"Quote submitted for request #{id}",quoteApproved:"Quote approved for request #{id}",quoteRejected:"Quote rejected for request #{id}",fillRequiredFields:"Please fill in all required fields",professionalAdded:"Professional {name} added successfully",professionalUpdated:"Professional {name} updated successfully",categoryAdded:"Category '{category}' added successfully",categoryAlreadyExists:"Category already exists",categoryUpdated:"Category updated from '{old}' to '{new}'",categoryDeleted:"Category '{category}' deleted successfully",analyzeRequest:"Analyze Request",requestClarification:"Request Clarification",sendQuote:"Send Quote",requestAnalysisStarted:"Analysis started for '{title}'",errorAnalyzingRequest:"Error analyzing request. Please try again.",enterClarificationRequest:"Enter your clarification request:",clarificationRequestSent:"Clarification request sent for '{title}'",errorRequestingClarification:"Error requesting clarification. Please try again.",manageClients:"Manage Clients",clientManagementDescription:"View and manage all registered clients in the system",services:"Services",totalSpent:"Total Spent",lastService:"Last Service",activateClient:"Activate Client",deactivateClient:"Deactivate Client",approveClient:"Approve Client",rejectClient:"Reject Client",confirmDeactivateClient:"Are you sure you want to deactivate client?",clientActivated:"Client {name} has been activated",clientDeactivated:"Client {name} has been deactivated",noClientsFound:"No Clients Found",noClientsDescription:"No clients have registered yet. Clients will appear here once they create accounts.",emailNotVerified:"Email not verified",never:"Never",viewDetails:"View Details",totalServices:"Total Services",activate:"Activate",deactivate:"Deactivate",professionalResponses:"Professional Responses",requestInformation:"Request Information",loadingServiceRequest:"Loading service request...",startService:"Start Service",finishService:"Finish Service",completeService:"Complete Service",nameNotAvailable:"Name not available",pending:"Pending",createdAt:"Created At",priority:"Priority",high:"High",medium:"Medium",low:"Low",responded:"Responded",accepted:"Accepted",rejected:"Rejected",workflow_progress:"Workflow Progress",phase:"Phase",current_status:"Current Status",in_progress:"In Progress",possible_states:"Possible States",timing_information:"Timing Information",requested_at:"Requested At",scheduled_for:"Scheduled For",started_at:"Started At",completed_at:"Completed At",creditCard:"Credit Card",mbway:"MB WAY",bankTransfer:"Bank Transfer",statusGraphTitle:"Service Status Overview",categoryDistributionTitle:"Order Distribution by Category",categoryDistributionChart:"Category Distribution Chart",ordersByCategory:"Orders by Category",totalOrders:"Total Orders",activeClients:"Active Clients",noCategory:"No Category",quickActions:"Quick Actions",newService:"New Service",generateReport:"Generate Report",viewAllRequests:"View All Requests",manageUsers:"Manage Users",vsLastMonth:"vs last month",vsLastWeek:"vs last week",newToday:"new today",urgentItems:"urgent items",featureComingSoon:"Feature coming soon",temporalEvolutionTitle:"Request Evolution (Last 30 Days)",recentActivities:"Recent Activities",lastUpdate:"Last update",noRecentActivities:"No recent activities",requestCreated:"Request created",requestUpdated:"Request updated",requestCompleted:"Request completed",userRegistered:"User registered",paymentReceived:"Payment received",minutesAgo:"minutes ago",hoursAgo:"hours ago",daysAgo:"days ago",clearFilters:"Clear Filters",quickFilters:"Quick Filters",all:"All",searchPlaceholder:"Search by title, ID or postal code...",activeFilters:"Active Filters",sortBy:"Sort by",sortByDate:"Date",sortByStatus:"Status",sortById:"ID",sortByCategory:"Category",sortByClient:"Client",sortByProfessional:"Professional",ascending:"Ascending",descending:"Descending",clickToSort:"Click to sort",landingCtaQuote:"Request a Quote",landingCtaServices:"Explore Our Services",landingStatsYears:"Years of Experience",landingStatsProjects:"Projects Completed",landingStatsSatisfaction:"Customer Satisfaction",landingDifferential1Title:"Guaranteed Quality",landingDifferential1Text:"Top-quality materials and skilled workmanship",landingDifferential2Title:"On-Time Delivery",landingDifferential2Text:"Strict commitment to established schedules",landingDifferential3Title:"Total Satisfaction",landingDifferential3Text:"Personalized service from start to finish",landingDifferential4Title:"Constant Innovation",landingDifferential4Text:"Modern techniques and sustainable solutions",landingContactsInfo:"Get in Touch",landingSocialMedia:"Follow us",landingQuoteFormTitle:"Request a Quote",landingFormName:"Name",landingFormNamePlaceholder:"Your full name",landingFormEmail:"Email",landingFormEmailPlaceholder:"youremail@example.com",landingFormPhone:"Phone",landingFormPhonePlaceholder:"+351 000 000 000",landingFormService:"Service Type",landingFormServiceSelect:"Select a service",landingFormMessage:"Message",landingFormMessagePlaceholder:"Describe your project...",landingFormSubmit:"Send Request",landingWhatsAppMessage:"Hello! I would like to request a quote.",landingFooterTagline:"Building dreams for over 20 years",landingFooterPrivacy:"Privacy Policy",landingFooterTerms:"Terms of Use",landingFooterContact:"Contact",streetPlaceholder:"Street/Avenue, number, floor (e.g.: Rua Augusta, 123, 2\xBA)",numberPlaceholder:"Number",cityPlaceholder:"City",statePlaceholder:"State",zipPlaceholder:"ZIP Code"},pt:{signIn:"Entrar",createAccount:"Criar Conta",email:"E-mail",password:"Senha",name:"Nome Completo",role:"Fun\xE7\xE3o",client:"Cliente",professional:"Profissional",register:"Registrar",login:"Login",logout:"Sair",dashboard:"Painel",schedule:"Agenda",search:"Buscar",profile:"Perfil",admin:"Admin",language:"Idioma",english:"English",portuguese:"Portugu\xEAs",currency:"EUR",unassigned:"N\xE3o atribu\xEDdo",unknownClient:"Cliente desconhecido",noChangesDetected:"Nenhuma altera\xE7\xE3o detectada.",errorInvalidFileFormat:"Formato de arquivo inv\xE1lido. Use JPG, PNG ou GIF.",errorImageTooLarge:"A imagem \xE9 muito grande. O tamanho m\xE1ximo \xE9 2MB.",errorCameraNotSupported:"O acesso \xE0 c\xE2mera n\xE3o \xE9 suportado pelo seu navegador.",errorAccessingCamera:"Erro ao acessar a c\xE2mera.",pushNotificationsBlocked:"As notifica\xE7\xF5es push est\xE3o bloqueadas. Por favor, habilite-as nas configura\xE7\xF5es do seu navegador.",noDataToExport:"Nenhum dado financeiro para exportar.",reportExported:"Relat\xF3rio financeiro exportado com sucesso.",confirmRejectRegistration:"Tem certeza de que deseja rejeitar este registro?",confirmDeleteCategory:'Tem certeza de que deseja excluir a categoria "{category}"?',backToHome:"Voltar para In\xEDcio",forgotPassword:"Esqueceu sua senha?",dontHaveAccount:"N\xE3o tem uma conta?",streetAddress:"Morada Completa",streetAddressPlaceholder:"Rua/Avenida, n\xFAmero, andar (ex: Rua Augusta, 123, 2\xBA)",postalCode:"C\xF3digo Postal",postalCodePlaceholder:"0000-000",locality:"Localidade",localityPlaceholder:"Lisboa, Porto, Coimbra...",district:"Distrito",selectDistrict:"Selecione o distrito",concelho:"Concelho (Opcional)",concelhoPlaceholder:"Lisboa, Porto, Sintra...",freguesia:"Freguesia (Opcional)",postalCodeInvalidFormat:"Formato: 0000-000",itemsPerPage:"Itens por p\xE1gina",showing:"Mostrando",to:"at\xE9",of:"de",results:"resultados",pendingApproval:"Pendentes",activeRequests:"Ativas",completed:"Conclu\xEDdas",myRequests:"Minhas Solicita\xE7\xF5es",noRequestsFound:"Nenhuma solicita\xE7\xE3o encontrada",activeJobs:"Trabalhos Ativos",completedJobs:"Trabalhos Conclu\xEDdos",totalEarnings:"Ganhos Totais",totalRevenue:"Receita Total",pendingApprovals:"Aprova\xE7\xF5es Pendentes",activeServices:"Servi\xE7os Ativos",totalProfessionals:"Total de Profissionais",csvId:"ID",csvClient:"Cliente",csvProfessional:"Profissional",csvService:"Servi\xE7o",csvCompletionDate:"Data de Conclus\xE3o",csvPaymentStatus:"Status do Pagamento",csvBaseValue:"Valor Base",csvTax:"Imposto (7%)",csvTotalValue:"Valor Total",awaitingQuote:"Aguardando or\xE7amento",mobileRotateDeviceTip:"Dica: Gire o dispositivo para melhor visualiza\xE7\xE3o da agenda",selectTime:"Selecione um hor\xE1rio",serviceDetails:"Detalhes do Servi\xE7o",serviceRequestDetails:"Detalhes da Solicita\xE7\xE3o de Servi\xE7o",noCategoriesAvailable:"Nenhuma categoria dispon\xEDvel",description:"Descri\xE7\xE3o",category:"Categoria",address:"Endere\xE7o",appName:"HomeService",menu:"Menu",newRequest:"Nova Solicita\xE7\xE3o",loadingUser:"Carregando usu\xE1rio...",accountVerification:"Verifica\xE7\xE3o de Conta",verificationCodeSentTo:"Um c\xF3digo de verifica\xE7\xE3o foi enviado para",checkEmailBeforeAccess:"Por favor, verifique seu e-mail e insira o c\xF3digo de verifica\xE7\xE3o para acessar a aplica\xE7\xE3o.",verificationCode:"C\xF3digo de Verifica\xE7\xE3o",verify:"Verificar",resendCode:"Reenviar C\xF3digo",noServiceRequestsFound:"Nenhuma solicita\xE7\xE3o de servi\xE7o encontrada",viewRequestDetails:"Ver Detalhes da Solicita\xE7\xE3o",chat:"Chat",approve:"Aprovar",reject:"Rejeitar",payNow:"Pagar Agora",choosePaymentMethod:"Escolher M\xE9todo de Pagamento",confirmPayment:"Confirmar Pagamento",paid:"Pago",requested:"Solicitado",scheduled:"Agendado",validateQuote:"Validar Or\xE7amento",emailVerificationRequired:"Verifica\xE7\xE3o de e-mail necess\xE1ria. Verifique sua caixa de entrada.",exportToCsv:"Exportar para CSV",addProfessional:"Adicionar Profissional",serviceCategories:"Categorias de Servi\xE7o",totalSubcategories:"Total de Subcategorias",subcategories:"Subcategorias",subcategoriesOf:"Subcategorias de {category}",noSubcategories:"Sem subcategorias",expand:"Expandir",collapse:"Colapsar",subcategoryName:"Nova subcategoria",addSubcategory:"Adicionar Subcategoria",deleteSubcategory:"Excluir Subcategoria",editSubcategory:"Editar Subcategoria",subcategoryDetails:"Detalhes da Subcategoria",priced:"Precificado",quoted:"Or\xE7amentado",averageTime:"Tempo M\xE9dio",type:"Tipo",noDescription:"Nenhuma descri\xE7\xE3o fornecida",confirmDeleteSubcategory:"Confirma a exclus\xE3o da subcategoria: {subcategory}?",editCategory:"Editar Categoria",save:"Salvar",actions:"A\xE7\xF5es",companyAddress:"Rua dos Servi\xE7os, 123, Lisboa",invoice:"Fatura",appNameFull:"HomeService Solutions",quote:"Or\xE7amento",details:"Detalhes",scheduleAppointmentFor:"Agendar Compromisso para",selectProfessional:"Selecionar Profissional",selectAProfessional:"Selecione um Profissional",selectDate:"Selecionar Data",cancel:"Cancelar",confirmSchedule:"Confirmar Agendamento",pendingActions:"A\xE7\xF5es Pendentes",request:"Solicita\xE7\xE3o",status:"Status",availableActions:"A\xE7\xF5es Dispon\xEDveis",viewQuote:"Ver Or\xE7amento",provideQuote:"Fornecer Or\xE7amento",provideClarification:"Fornecer Esclarecimento",approveQuote:"Aprovar Or\xE7amento",requestRevision:"Solicitar Revis\xE3o",assign:"Atribuir",assignProfessional:"Atribuir Profissional",noRequestsNeedAttention:"Nenhuma solicita\xE7\xE3o precisa de aten\xE7\xE3o",service:"Servi\xE7o",cost:"Custo",pendingRegistrations:"Registros Pendentes",phone:"Telefone",noPendingRegistrations:"Nenhum registro pendente",completedServices:"Servi\xE7os Conclu\xEDdos",totalTax:"Imposto Total",outstandingAmount:"Valor em Aberto",registrationSuccessful:"Registro Bem-sucedido",password_reset_success:"Senha redefinida com sucesso! Agora pode fazer login com a sua nova senha.",newServiceRequest:"Nova Solicita\xE7\xE3o de Servi\xE7o",title:"T\xEDtulo",titlePlaceholder:"Digite o t\xEDtulo do servi\xE7o...",selectCategory:"Selecione uma categoria...",subcategory:"Subcategoria",selectSubcategory:"Selecione uma subcategoria",descriptionPlaceholder:"Descreva o que voc\xEA precisa...",dateTime:"Data e Hora",dateTimePlaceholder:"Selecione a data e hora desejadas",requestedDateTimeHelp:"Quando voc\xEA gostaria que este servi\xE7o fosse realizado?",validFutureDateTime:"Selecione uma data e hora futura v\xE1lidas",complement:"Complemento",complementPlaceholder:"Apartamento, andar, refer\xEAncia (opcional)",submitting:"Enviando",submitRequest:"Enviar Solicita\xE7\xE3o",requestedClarification:"Esclarecimentos Solicitados",yourClarification:"Seus Esclarecimentos",enterClarificationPlaceholder:"Por favor, forne\xE7a os esclarecimentos solicitados...",clarificationHelp:"Forne\xE7a o m\xE1ximo de detalhes poss\xEDvel para nos ajudar a compreender seus requisitos.",sendClarification:"Enviar Esclarecimentos",clarifications:"Esclarecimentos",unread:"n\xE3o lidos",addNewQuestion:"Adicionar Nova Pergunta",questionTitle:"T\xEDtulo da Pergunta",questionTitlePlaceholder:"Resumo breve da sua pergunta...",questionContent:"Detalhes da Pergunta",questionContentPlaceholder:"Descreva sua pergunta em detalhes...",addQuestion:"Adicionar Pergunta",question:"Pergunta",answer:"Resposta",new:"Novo",by:"por",delete:"Eliminar",addAnswer:"Adicionar Resposta",answerTitle:"T\xEDtulo da Resposta",answerTitlePlaceholder:"Resumo breve da sua resposta...",answerContent:"Detalhes da Resposta",answerContentPlaceholder:"Forne\xE7a sua resposta detalhada...",noClarificationsYet:"Ainda n\xE3o h\xE1 esclarecimentos",addFirstQuestion:"Adicione a primeira pergunta para iniciar uma discuss\xE3o",confirmDeleteClarification:"Tem certeza de que deseja eliminar este esclarecimento?",timeControl:"Controle de Tempo",requestedDateTime:"Data e Hora Solicitada",scheduledStartDateTime:"Data e Hora Agendada para In\xEDcio",estimatedDuration:"Dura\xE7\xE3o Estimada",actualDuration:"Dura\xE7\xE3o Real",actualStartDateTime:"Data e Hora Real de In\xEDcio",actualEndDateTime:"Data e Hora Real do Final",startWork:"Iniciar Trabalho",finishWork:"Finalizar Trabalho",serviceCompleted:"Servi\xE7o Conclu\xEDdo",serviceInProgress:"Servi\xE7o em Progresso",awaitingSchedule:"Aguardando Agendamento",noActionAvailable:"Nenhuma A\xE7\xE3o Dispon\xEDvel",adminActions:"A\xE7\xF5es do Administrador",useSchedulerToManage:"Use o agendador para gerir este servi\xE7o",scheduleService:"Agendar Servi\xE7o",serviceInformation:"Informa\xE7\xF5es do Servi\xE7o",notSpecified:"N\xE3o Especificado",selectOption:"Selecione uma op\xE7\xE3o",specialist:"Especialista",noProfessionalsAvailable:"Nenhum profissional dispon\xEDvel para esta categoria",scheduledDate:"Data Agendada",scheduledTime:"Hora Agendada",hours:"Horas",minutes:"Minutos",totalDuration:"Dura\xE7\xE3o Total",serviceDescription:"Descri\xE7\xE3o do Servi\xE7o",serviceAddress:"Endere\xE7o do Servi\xE7o",timeReports:"Relat\xF3rios de Tempo",exportCSV:"Exportar CSV",filters:"Filtros",period:"Per\xEDodo",today:"Hoje",lastWeek:"\xDAltima Semana",lastMonth:"\xDAltimo M\xEAs",customPeriod:"Per\xEDodo Personalizado",allCategories:"Todas as Categorias",startDate:"Data de In\xEDcio",endDate:"Data de Fim",totalRequests:"Total de Pedidos",completionRate:"Taxa de Conclus\xE3o",averageDuration:"Dura\xE7\xE3o M\xE9dia",onTimePercentage:"Percentagem No Hor\xE1rio",professionalProductivity:"Produtividade dos Profissionais",completedServicesCount:"Servi\xE7os Conclu\xEDdos",noDataAvailable:"Nenhum dado dispon\xEDvel",todayScheduledServices:"Servi\xE7os Agendados para Hoje",delayedServices:"Servi\xE7os Atrasados",delayed:"Atrasado",detailedServiceList:"Lista Detalhada de Servi\xE7os",professionalName:"Profissional",scheduledLabel:"Agendado",duration:"Dura\xE7\xE3o",estimated:"Estimado",actual:"Real",accessDenied:"Acesso Negado",adminAccessRequired:"Acesso de administrador necess\xE1rio",schedulingInformation:"Informa\xE7\xF5es de Agendamento",inMinutes:"em minutos",durationHelpText:"Dura\xE7\xE3o em minutos (m\xEDnimo 15, incrementos de 15)",quickSelect:"Sele\xE7\xE3o R\xE1pida",clientRequestedFor:"Cliente solicitou para",assignAndSchedule:"Atribuir e Agendar",professionalAssigned:"Profissional {professional} atribu\xEDdo \xE0 solicita\xE7\xE3o #{id}.",professionalAssignedAndScheduled:"Profissional {professional} atribu\xEDdo \xE0 solicita\xE7\xE3o #{id} e agendado para {date}.",newExecutionDateProposed:"Nova Data de Execu\xE7\xE3o Proposta",executionDateProposedMessage:"Data proposta: {date} \xE0s {time}. Observa\xE7\xF5es: {notes}",executionDateApprovedByClient:"Data de Execu\xE7\xE3o Aprovada pelo Cliente",executionDateRejectedByClient:"Data de Execu\xE7\xE3o Rejeitada pelo Cliente",executionDateApprovedMessage:"O cliente aprovou a data de execu\xE7\xE3o para a solicita\xE7\xE3o #{requestId}.",executionDateRejectedMessage:"O cliente rejeitou a data de execu\xE7\xE3o para a solicita\xE7\xE3o #{requestId}. Motivo: {reason}",approveExecutionDate:"Aprovar Data",rejectExecutionDate:"Rejeitar Data",executionDateProposed:"Data de execu\xE7\xE3o proposta para solicita\xE7\xE3o #{id}",executionDateApproved:"Data de execu\xE7\xE3o aprovada para solicita\xE7\xE3o #{id}",executionDateRejected:"Data de execu\xE7\xE3o rejeitada para solicita\xE7\xE3o #{id}",assignProfessionalToScheduled:"Atribuir Profissional ao Servi\xE7o Agendado",selectProfessionalFor:"Selecione um profissional para",assigningProfessional:"Atribuindo profissional...",assignmentSuccess:"Profissional atribu\xEDdo com sucesso!",assignmentError:"Erro ao atribuir profissional. Tente novamente.",assignmentTitle:"Atribuir Profissional",assignmentDescription:"Selecione um profissional e agende o servi\xE7o.",profileUpdatedSuccessfully:"Perfil atualizado com sucesso!",errorCameraPermissionDenied:"Permiss\xE3o da c\xE2mera foi negada. Por favor, permita o acesso \xE0 c\xE2mera e tente novamente.",errorNoCameraFound:"Nenhuma c\xE2mera encontrada neste dispositivo.",errorCameraInUse:"A c\xE2mera j\xE1 est\xE1 sendo usada por outro aplicativo.",errorCameraConstraints:"As configura\xE7\xF5es da c\xE2mera n\xE3o s\xE3o suportadas pelo seu dispositivo.",errorVideoNotAvailable:"O fluxo de v\xEDdeo n\xE3o est\xE1 dispon\xEDvel.",errorVideoNotReady:"O v\xEDdeo n\xE3o est\xE1 pronto para captura. Por favor, aguarde um momento.",errorCanvasNotSupported:"Canvas n\xE3o \xE9 suportado pelo seu navegador.",errorCapturingPhoto:"Erro ao capturar foto. Por favor, tente novamente.",errorUploadingPhoto:"Erro ao fazer upload da foto. Por favor, tente novamente.",errorVideoPlayback:"Erro na reprodu\xE7\xE3o do fluxo de v\xEDdeo.",photoUploadedSuccessfully:"Foto enviada com sucesso!",uploadPhoto:"Enviar Foto",useCamera:"Usar C\xE2mera",capturePhoto:"Capturar Foto",capture:"Capturar",saveChanges:"Salvar Altera\xE7\xF5es",mySpecialties:"Minhas Especialidades",emailAddress:"Endere\xE7o de E-mail",loadingCamera:"Carregando c\xE2mera...",cameraInstructions:"Posicione-se no quadro e clique em capturar quando estiver pronto.",solutionPermissionDenied:"\u{1F4A1} Solu\xE7\xE3o: Clique no \xEDcone da c\xE2mera na barra de endere\xE7os e permita o acesso, depois recarregue a p\xE1gina.",solutionNoCameraFound:"\u{1F4A1} Solu\xE7\xE3o: Conecte uma c\xE2mera ao seu dispositivo ou verifique se est\xE1 funcionando em outros apps.",solutionCameraInUse:"\u{1F4A1} Solu\xE7\xE3o: Feche outros aplicativos que possam estar usando a c\xE2mera (Teams, Zoom, Skype, etc.) e tente novamente.",solutionCameraConstraints:"\u{1F4A1} Solu\xE7\xE3o: Tente usar uma c\xE2mera diferente ou verifique as configura\xE7\xF5es da c\xE2mera.",solutionCameraAborted:"\u{1F4A1} Solu\xE7\xE3o: A opera\xE7\xE3o foi cancelada. Por favor, tente novamente.",solutionCameraTypeError:"\u{1F4A1} Solu\xE7\xE3o: Parece ser um problema de compatibilidade do navegador. Tente usar o Chrome ou atualize seu navegador.",errorCameraAborted:"Opera\xE7\xE3o da c\xE2mera foi cancelada.",errorCameraTypeError:"Problema de compatibilidade do navegador com acesso \xE0 c\xE2mera.",forgotPasswordDescription:"Digite seu endere\xE7o de e-mail e enviaremos um c\xF3digo de verifica\xE7\xE3o para redefinir sua senha.",sendResetCode:"Enviar C\xF3digo",resetCodeSent:"C\xF3digo enviado!",resetCodeSentDescription:"Enviamos um c\xF3digo de 6 d\xEDgitos para:",proceedToVerification:"Tenho o c\xF3digo",rememberPassword:"Lembra da sua senha?",backToLogin:"Voltar ao Login",sending:"Enviando...",resending:"Reenviando...",verifyCode:"Verificar C\xF3digo",verifyCodeDescription:"Digite o c\xF3digo de 6 d\xEDgitos que enviamos para seu e-mail:",codeFromEmail:"Verifique seu e-mail para o c\xF3digo de 6 d\xEDgitos",verifying:"Verificando...",newPassword:"Nova Senha",newPasswordDescription:"Escolha uma senha forte para sua conta.",newPasswordPlaceholder:"Digite sua nova senha",confirmPassword:"Confirmar Senha",confirmPasswordPlaceholder:"Confirme sua nova senha",passwordRequirements:"M\xEDnimo 6 caracteres",passwordStrength:"For\xE7a da Senha",updatePassword:"Atualizar Senha",updatingPassword:"Atualizando...",backToCodeVerification:"Voltar \xE0 Verifica\xE7\xE3o do C\xF3digo",emailPlaceholder:"Digite seu endere\xE7o de e-mail",or:"ou",ok:"OK",landingAboutTitle:"Quem Somos",landingAboutText1:"A Natan Construtora atua no mercado da constru\xE7\xE3o civil h\xE1 mais de 20 anos, com foco em qualidade, inova\xE7\xE3o e respeito aos prazos. Nossa miss\xE3o \xE9 construir com qualidade, responsabilidade e prop\xF3sito, entregando obras que superem expectativas e transformem sonhos em realidade, com compromisso com prazos, seguran\xE7a e excel\xEAncia t\xE9cnica.",landingAboutText2:"Nossa vis\xE3o \xE9 ser refer\xEAncia na constru\xE7\xE3o civil, reconhecida pela inova\xE7\xE3o, confiabilidade e impacto positivo nas comunidades onde atuamos, tornando-se a primeira escolha de clientes e parceiros.",landingServicesTitle:"Nossos Servi\xE7os",landingServicesProjects:"Projetos",landingServicesProjects1:"Casas, condom\xEDnios e edif\xEDcios",landingServicesProjects2:"Lojas, escrit\xF3rios, galp\xF5es",landingServicesConstruction:"Constru\xE7\xE3o",landingServicesConstruction1:"Comercial",landingServicesConstruction2:"Residencial",landingServicesRenovation:"Reformas e Amplia\xE7\xF5es",landingServicesRenovation1:"Moderniza\xE7\xF5es e adapta\xE7\xF5es",landingServicesRenovation2:"Coordena\xE7\xE3o t\xE9cnica e cronogramas",landingServicesConsulting:"Consultoria T\xE9cnica",landingServicesConsulting1:"Suporte estrutural",landingServicesConsulting2:"Legaliza\xE7\xF5es",landingServicesFooter:"Desde a funda\xE7\xE3o at\xE9 a entrega da chave",landingContactsTitle:"Contactos",landingContactsEmail:"Email:",landingContactsPhone:"Telefone:",landingContactsMobile:"Telem\xF3vel:",landingDescription:"Conecte-se com profissionais de servi\xE7os dom\xE9sticos de confian\xE7a na sua \xE1rea. Trabalho de qualidade, especialistas verificados e servi\xE7o confi\xE1vel em que pode confiar.",registerTitle:"Crie uma nova conta",registerLoginLink:"fa\xE7a login na sua conta existente",loggingIn:"Fazendo login...",iAmA:"Eu sou um(a)",emailNotVerifiedLogin:"Por favor, verifique seu email antes de fazer login. Verifique seu email pelo link de verifica\xE7\xE3o.",welcomeBack:"Bem-vindo(a)!",dashboardSummary:"Aqui est\xE1 um resumo da sua atividade.",basicInformation:"Informa\xE7\xF5es B\xE1sicas",requestDate:"Data da Solicita\xE7\xE3o",costAndPayment:"Custo e Pagamento",paymentStatus:"Status do Pagamento",assignedProfessional:"Profissional Designado",professionalId:"ID do Profissional",requestId:"ID da Solicita\xE7\xE3o",close:"Fechar",month:"M\xEAs",week:"Semana",day:"Dia",agenda:"Agenda",allDay:"Dia Todo",noEventsForDay:"Nenhum evento para este dia",moreEvents:"mais eventos",Requested:"Solicitado",InAnalysis:"Em An\xE1lise",AwaitingClarifications:"Aguardando Esclarecimentos",QuoteSent:"Or\xE7amento Enviado",AwaitingQuoteApproval:"Aguardando Aprova\xE7\xE3o do Or\xE7amento",QuoteApproved:"Or\xE7amento Aprovado",QuoteRejected:"Or\xE7amento Rejeitado",AwaitingExecutionDate:"Aguardando Data de Execu\xE7\xE3o",DateProposedByAdmin:"Data Proposta pelo Administrador",AwaitingDateApproval:"Aguardando Aprova\xE7\xE3o da Data",DateApprovedByClient:"Data Aprovada pelo Cliente",DateRejectedByClient:"Data Rejeitada pelo Cliente",SearchingProfessional:"Buscando Profissional",ProfessionalSelected:"Profissional Selecionado",AwaitingProfessionalConfirmation:"Aguardando Confirma\xE7\xE3o do Profissional",Scheduled:"Agendado",InProgress:"Em Execu\xE7\xE3o",CompletedAwaitingApproval:"Conclu\xEDdo - Aguardando Aprova\xE7\xE3o",Completed:"Finalizado",Cancelled:"Cancelado",statusQuoted:"Or\xE7amentado",statusApproved:"Aprovado",statusScheduled:"Agendado",statusInProgress:"Em Andamento",statusCompleted:"Conclu\xEDdo",statusCancelled:"Cancelado",statusAwaitingExecutionDate:"Aguardando Data de Execu\xE7\xE3o",statusDateProposedByAdmin:"Data Proposta pelo Administrador",statusAwaitingDateApproval:"Aguardando Aprova\xE7\xE3o da Data",statusDateApprovedByClient:"Data Aprovada pelo Cliente",statusDateRejectedByClient:"Data Rejeitada pelo Cliente",statusAnalyzing:"Em An\xE1lise",statusAwaitingClarification:"Aguardando Esclarecimentos",statusAwaitingQuoteApproval:"Aguardando Aprova\xE7\xE3o do Or\xE7amento",statusQuoteRejected:"Or\xE7amento Rejeitado",statusSearchingProfessional:"Buscando Profissional",statusProfessionalSelected:"Profissional Selecionado",statusAwaitingProfessionalConfirmation:"Aguardando Confirma\xE7\xE3o do Profissional",statusCompletedAwaitingApproval:"Conclu\xEDdo - Aguardando Aprova\xE7\xE3o",statusRequested:"Solicitado",statusInAnalysis:"Em An\xE1lise",statusAwaitingClarifications:"Aguardando Esclarecimentos",statusQuoteSent:"Or\xE7amento Enviado",statusScheduledEn:"Agendado",statusCompletedEn:"Conclu\xEDdo",statusPending:"Pendente",notifications:"Notifica\xE7\xF5es",noNewNotifications:"Voc\xEA n\xE3o tem novas notifica\xE7\xF5es.",markAllAsRead:"Marcar todas como lidas",clearAll:"Limpar todas",noMessages:"Ainda n\xE3o h\xE1 mensagens. Comece a conversa!",typeMessage:"Digite sua mensagem...",searchServiceRequests:"Buscar Solicita\xE7\xF5es de Servi\xE7o",searchTerm:"Termo de Busca",searchTermPlaceholder:"Digite o termo de busca...",completedRequests:"Solicita\xE7\xF5es Conclu\xEDdas",fullName:"Nome Completo",statusChangedFromTo:'Solicita\xE7\xE3o #{id} mudou status de "{from}" para "{to}"',paymentStatusChanged:'Solicita\xE7\xE3o #{id} mudou status de pagamento para "{status}"',professionalApproved:"Profissional {name} foi aprovado",professionalRejected:"Profissional {name} foi rejeitado",userStatusUpdated:'Usu\xE1rio #{id} status atualizado para "{status}"',overview:"Vis\xE3o Geral",requests:"Solicita\xE7\xF5es",approvals:"Aprova\xE7\xF5es",finances:"Finan\xE7as",professionals:"Profissionais",categories:"Categorias",clients:"Clientes",financialDetails:"Detalhes Financeiros",date:"Data",payment:"Pagamento",total:"Total",action:"A\xE7\xE3o",generateInvoice:"Gerar Fatura",manageProfessionals:"Gerenciar Profissionais",addNewProfessional:"Adicionar Novo Profissional",specialties:"Especialidades",edit:"Editar",addNewCategory:"Adicionar Nova Categoria",categoryName:"Nome da Categoria",add:"Adicionar",quoteFor:"Or\xE7amento para",quoteValue:"Valor do Or\xE7amento",submit:"Enviar",editProfessional:"Editar Profissional",proposeExecutionDate:"Propor Data de Execu\xE7\xE3o",proposeExecutionDateFor:"Propor data de execu\xE7\xE3o para",proposedDate:"Data Proposta",proposedTime:"Hora Proposta",notesForClient:"Observa\xE7\xF5es para o Cliente",optional:"Opcional",notesForClientPlaceholder:"Informa\xE7\xF5es adicionais sobre a data proposta...",approvedAmount:"Valor Aprovado",clientOriginallyRequestedFor:"Cliente originalmente solicitou para",proposeDate:"Propor Data",billedTo:"Faturado para",serviceProvidedBy:"Servi\xE7o Prestado por",subtotal:"Subtotal",tax:"Imposto",grandTotal:"Total Geral",thankYou:"Obrigado pelo seu neg\xF3cio!",print:"Imprimir",quoteSubmitted:"Or\xE7amento enviado para solicita\xE7\xE3o #{id}",quoteApproved:"Or\xE7amento aprovado para solicita\xE7\xE3o #{id}",quoteRejected:"Or\xE7amento rejeitado para solicita\xE7\xE3o #{id}",fillRequiredFields:"Por favor, preencha todos os campos obrigat\xF3rios",professionalAdded:"Profissional {name} adicionado com sucesso",professionalUpdated:"Profissional {name} atualizado com sucesso",categoryAdded:"Categoria '{category}' adicionada com sucesso",categoryAlreadyExists:"Categoria j\xE1 existe",categoryUpdated:"Categoria atualizada de '{old}' para '{new}'",categoryDeleted:"Categoria '{category}' exclu\xEDda com sucesso",analyzeRequest:"Analisar Solicita\xE7\xE3o",requestClarification:"Solicitar Esclarecimentos",sendQuote:"Enviar Or\xE7amento",requestAnalysisStarted:"An\xE1lise iniciada para '{title}'",errorAnalyzingRequest:"Erro ao analisar solicita\xE7\xE3o. Tente novamente.",enterClarificationRequest:"Digite sua solicita\xE7\xE3o de esclarecimentos:",clarificationRequestSent:"Solicita\xE7\xE3o de esclarecimentos enviada para '{title}'",errorRequestingClarification:"Erro ao solicitar esclarecimentos. Tente novamente.",manageClients:"Gerenciar Clientes",clientManagementDescription:"Visualizar e gerenciar todos os clientes cadastrados no sistema",services:"Servi\xE7os",totalSpent:"Total Gasto",lastService:"\xDAltimo Servi\xE7o",activateClient:"Ativar Cliente",deactivateClient:"Desativar Cliente",approveClient:"Aprovar Cliente",rejectClient:"Rejeitar Cliente",confirmDeactivateClient:"Tem certeza de que deseja desativar este cliente?",clientActivated:"Cliente {name} foi ativado",clientDeactivated:"Cliente {name} foi desativado",noClientsFound:"Nenhum Cliente Encontrado",noClientsDescription:"Ainda n\xE3o h\xE1 clientes cadastrados. Os clientes aparecer\xE3o aqui quando criarem contas.",emailNotVerified:"Email n\xE3o verificado",never:"Nunca",viewDetails:"Ver Detalhes",totalServices:"Total de Servi\xE7os",activate:"Ativar",deactivate:"Desativar",professionalResponses:"Respostas dos Profissionais",requestInformation:"Informa\xE7\xF5es da Solicita\xE7\xE3o",loadingServiceRequest:"Carregando solicita\xE7\xE3o de servi\xE7o...",startService:"Iniciar Servi\xE7o",finishService:"Finalizar Servi\xE7o",completeService:"Completar Servi\xE7o",nameNotAvailable:"Nome n\xE3o dispon\xEDvel",pending:"Pendente",createdAt:"Criado em",priority:"Prioridade",high:"Alta",medium:"M\xE9dia",low:"Baixa",responded:"Respondeu",accepted:"Aceito",rejected:"Rejeitado",workflow_progress:"Progresso do Fluxo de Trabalho",phase:"Fase",current_status:"Status Atual",in_progress:"Em Progresso",possible_states:"Estados Poss\xEDveis",timing_information:"Informa\xE7\xF5es de Timing",requested_at:"Solicitado em",scheduled_for:"Agendado para",started_at:"Iniciado em",completed_at:"Conclu\xEDdo em",selectConcelho:"Selecione o concelho",creditCard:"Cart\xE3o de Cr\xE9dito",mbway:"MB WAY",bankTransfer:"Transfer\xEAncia Banc\xE1ria",statusGraphTitle:"Distribui\xE7\xE3o dos Pedidos por Status",categoryDistributionTitle:"Distribui\xE7\xE3o de Pedidos por Categoria",categoryDistributionChart:"Gr\xE1fico de Distribui\xE7\xE3o por Categoria",ordersByCategory:"Pedidos por Categoria",totalOrders:"Total de Pedidos",activeClients:"Clientes Ativos",noCategory:"Sem Categoria",quickActions:"A\xE7\xF5es R\xE1pidas",newService:"Novo Servi\xE7o",generateReport:"Gerar Relat\xF3rio",viewAllRequests:"Ver Todas as Solicita\xE7\xF5es",manageUsers:"Gerenciar Usu\xE1rios",vsLastMonth:"vs m\xEAs anterior",vsLastWeek:"vs semana anterior",newToday:"novos hoje",urgentItems:"itens urgentes",featureComingSoon:"Funcionalidade em breve",temporalEvolutionTitle:"Evolu\xE7\xE3o das Solicita\xE7\xF5es (\xDAltimos 30 Dias)",recentActivities:"Atividades Recentes",lastUpdate:"\xDAltima atualiza\xE7\xE3o",noRecentActivities:"Nenhuma atividade recente",requestCreated:"Solicita\xE7\xE3o criada",requestUpdated:"Solicita\xE7\xE3o atualizada",requestCompleted:"Solicita\xE7\xE3o conclu\xEDda",userRegistered:"Usu\xE1rio registrado",paymentReceived:"Pagamento recebido",minutesAgo:"minutos atr\xE1s",hoursAgo:"horas atr\xE1s",daysAgo:"dias atr\xE1s",clearFilters:"Limpar Filtros",quickFilters:"Filtros R\xE1pidos",all:"Todos",searchPlaceholder:"Pesquisar por t\xEDtulo, ID ou c\xF3digo postal...",activeFilters:"Filtros Ativos",sortBy:"Ordenar por",sortByDate:"Data",sortByStatus:"Status",sortById:"ID",sortByCategory:"Categoria",sortByClient:"Cliente",sortByProfessional:"Profissional",ascending:"Crescente",descending:"Decrescente",clickToSort:"Clique para ordenar",landingCtaQuote:"Solicitar Or\xE7amento",landingCtaServices:"Ver Servi\xE7os",landingStatsYears:"Anos de Experi\xEAncia",landingStatsProjects:"Projetos Realizados",landingStatsSatisfaction:"Satisfa\xE7\xE3o do Cliente",landingDifferential1Title:"Qualidade Garantida",landingDifferential1Text:"Materiais de primeira linha e m\xE3o de obra especializada",landingDifferential2Title:"Prazos Cumpridos",landingDifferential2Text:"Compromisso rigoroso com cronogramas estabelecidos",landingDifferential3Title:"Satisfa\xE7\xE3o Total",landingDifferential3Text:"Atendimento personalizado do in\xEDcio ao fim",landingDifferential4Title:"Inova\xE7\xE3o Constante",landingDifferential4Text:"T\xE9cnicas modernas e solu\xE7\xF5es sustent\xE1veis",landingContactsInfo:"Entre em Contacto",landingSocialMedia:"Siga-nos",landingQuoteFormTitle:"Solicite um Or\xE7amento",landingFormName:"Nome",landingFormNamePlaceholder:"O seu nome completo",landingFormEmail:"Email",landingFormEmailPlaceholder:"seuemail@exemplo.com",landingFormPhone:"Telefone",landingFormPhonePlaceholder:"+351 000 000 000",landingFormService:"Tipo de Servi\xE7o",landingFormServiceSelect:"Selecione um servi\xE7o",landingFormMessage:"Mensagem",landingFormMessagePlaceholder:"Descreva o seu projeto...",landingFormSubmit:"Enviar Pedido",landingWhatsAppMessage:"Ol\xE1! Gostaria de solicitar um or\xE7amento.",landingFooterTagline:"Construindo sonhos h\xE1 mais de 20 anos",landingFooterPrivacy:"Pol\xEDtica de Privacidade",landingFooterTerms:"Termos de Uso",landingFooterContact:"Contacto",streetPlaceholder:"Rua Exemplo",numberPlaceholder:"123",cityPlaceholder:"Lisboa",statePlaceholder:"Lisboa",countryPlaceholder:"Portugal"}},Gc=class Gc{constructor(){this.language=F("en");let e=localStorage.getItem("homeservice-language");e&&(e==="en"||e==="pt")&&(this.language.set(e),console.log(`\u{1F30D} [I18N] Idioma carregado do localStorage: ${e}`)),console.log(`\u{1F30D} [I18N] Idioma inicial: ${this.language()}`)}getCurrentLanguage(){return this.language()}setLanguage(e){this.language.set(e),localStorage.setItem("homeservice-language",e),console.log(`\u{1F30D} [I18N] Idioma alterado para: ${e}`),window.location.reload()}translate(e,t){let i=this.language(),s=iee[i][e]||e;return t&&Object.keys(t).forEach(a=>{s=s.replace(`{${a}}`,String(t[a]))}),s}};Gc.\u0275fac=function(t){return new(t||Gc)},Gc.\u0275prov=Se({token:Gc,factory:Gc.\u0275fac,providedIn:"root"});var $e=Gc;var Xr={Requested:"Solicitado",InAnalysis:"Em an\xE1lise",AwaitingClarifications:"Aguardando esclarecimentos",QuoteSent:"Or\xE7amento enviado",AwaitingQuoteApproval:"Aguardando aprova\xE7\xE3o do or\xE7amento",QuoteApproved:"Or\xE7amento aprovado",QuoteRejected:"Or\xE7amento rejeitado",AwaitingExecutionDate:"Aguardando data de execu\xE7\xE3o",DateProposedByAdmin:"Data proposta pelo administrador",AwaitingDateApproval:"Aguardando aprova\xE7\xE3o da data",DateApprovedByClient:"Data aprovada pelo cliente",DateRejectedByClient:"Data rejeitada pelo cliente",SearchingProfessional:"Buscando profissional",ProfessionalSelected:"Profissional selecionado",AwaitingProfessionalConfirmation:"Aguardando confirma\xE7\xE3o do profissional",Scheduled:"Agendado",InProgress:"Em execu\xE7\xE3o",CompletedAwaitingApproval:"Conclu\xEDdo - Aguardando aprova\xE7\xE3o",Completed:"Finalizado",Cancelled:"Cancelado"};var Qc=class Qc{constructor(){this.i18n=$($e);this.supabase=$(vs);this.notificationService=$(Ft);this.authService=$(ci);this.users=F([]);this.serviceRequests=F([]);this.chatMessages=F([]);this.categories=F([]);this.subcategories=F([]);this.serviceClarifications=F([]);this.listenToServiceRequestChanges(),this.listenToUserChanges()}async getPostalCodeInfo(e){let t=e.replace(/\D/g,"");t.length===7?t=t.slice(0,4)+"-"+t.slice(4):t.length===8&&(t=t.slice(0,4)+"-"+t.slice(4,7)),console.log("[getPostalCodeInfo] Valor recebido:",e),console.log("[getPostalCodeInfo] Valor normalizado:",t),console.log("[getPostalCodeInfo] Query:",{table:"vw_enderecos_completos",select:"id, codigo_postal, distrito, concelho, localidade, designacao_postal, tipo_arteria, arteria_completa, local_arteria, porta, cliente",where:{codigo_postal:t}});let{data:i,error:r}=await this.supabase.client.from("vw_enderecos_completos").select("id, codigo_postal, distrito, concelho, localidade, designacao_postal, tipo_arteria, arteria_completa, local_arteria, porta, cliente").eq("codigo_postal",t).limit(1).single();return console.log("[getPostalCodeInfo] Resultado Supabase:",{data:i,error:r}),r||!i?null:{localidade:i.localidade||"",distrito:i.distrito||"",concelho:i.concelho||"",arteria_completa:i.arteria_completa||""}}async addSubcategory(e,t,i){let r={name:e,category_id:t};i&&(i.type!==void 0&&(r.type=i.type),i.average_time_minutes!==void 0&&(r.average_time_minutes=i.average_time_minutes??null),i.price!==void 0&&(r.price=i.price??null),i.description!==void 0&&(r.description=i.description??null));let{data:o,error:s}=await this.supabase.client.from("service_subcategories").insert(r).select("id, name, category_id, type, average_time_minutes, price, description").single();if(s)return this.notificationService.addNotification("Erro ao criar subcategoria: "+s.message),null;if(o){let a=o,l=ee(B({},a),{category_id:typeof a.category_id=="string"?parseInt(a.category_id,10):a.category_id,average_time_minutes:a.average_time_minutes===void 0?null:a.average_time_minutes,price:a.price===void 0?null:a.price});return this.subcategories.update(c=>[...c,l]),this.notificationService.addNotification("Subcategoria criada com sucesso!"),l}return null}async updateSubcategory(e,t){let i={};t.name!==void 0&&(i.name=t.name),t.type!==void 0&&(i.type=t.type),t.average_time_minutes!==void 0&&(i.average_time_minutes=t.average_time_minutes),t.price!==void 0&&(i.price=t.price),t.description!==void 0&&(i.description=t.description);let{data:r,error:o}=await this.supabase.client.from("service_subcategories").update(i).eq("id",e).select("id, name, category_id, type, average_time_minutes, price, description").single();if(o)return this.notificationService.addNotification("Erro ao atualizar subcategoria: "+o.message),null;if(r){let s=r,a=ee(B({},s),{category_id:typeof s.category_id=="string"?parseInt(s.category_id,10):s.category_id,average_time_minutes:s.average_time_minutes===void 0?null:s.average_time_minutes,price:s.price===void 0?null:s.price});return this.subcategories.update(l=>l.map(c=>c.id===e?a:c)),this.notificationService.addNotification("Subcategoria atualizada com sucesso!"),a}return null}async deleteSubcategory(e){let{error:t}=await this.supabase.client.from("service_subcategories").delete().eq("id",e);if(t)return this.notificationService.addNotification("Erro ao remover subcategoria: "+t.message),!1;let i=this.subcategories().filter(r=>r.id!==e);return this.subcategories.set(i),this.notificationService.addNotification("Subcategoria removida com sucesso!"),!0}async deleteCategory(e){let{error:t}=await this.supabase.client.from("service_categories").delete().eq("id",e);if(t)return this.notificationService.addNotification("Erro ao remover categoria: "+t.message),!1;let i=this.categories().filter(r=>r.id!==e);return this.categories.set(i),this.notificationService.addNotification("Categoria removida com sucesso!"),!0}async addCategory(e){let{data:t,error:i}=await this.supabase.client.from("service_categories").insert({name:e}).select("id, name").single();if(i)return this.notificationService.addNotification("Erro ao criar categoria: "+i.message),null;if(t){let r=[...this.categories(),t];return this.categories.set(r),this.notificationService.addNotification("Categoria criada com sucesso!"),t}return null}async updateCategory(e,t){let{data:i,error:r}=await this.supabase.client.from("service_categories").update({name:t}).eq("id",e).select("id, name").single();if(r)return this.notificationService.addNotification("Erro ao atualizar categoria: "+r.message),null;if(i){let o=this.categories().map(s=>s.id===e?ee(B({},s),{name:i.name}):s);return this.categories.set(o),this.notificationService.addNotification("Categoria atualizada com sucesso!"),i}return null}setServiceStatus(e,t){this.updateServiceRequest(e,{status:Xr[t]})}async loadInitialData(e){await this.fetchUsers(),await this.fetchServiceRequests(e),await this.fetchCategories(),await this.fetchSubcategories()}clearData(){this.users.set([]),this.serviceRequests.set([]),this.chatMessages.set([]),this.categories.set([])}async fetchUsers(){let{data:e,error:t}=await this.supabase.client.from("users").select("*");t?(console.log("Error fetching users from Supabase, keeping sample data:",t.message),this.notificationService.addNotification("Using sample data - Error fetching users: "+t.message)):e&&e.length>0?(console.log("Loaded users from Supabase:",e.length),this.users.set(e)):console.log("No users found in Supabase, keeping sample data")}async fetchServiceRequests(e){let t=this.supabase.client.from("service_requests").select("*"),i={};if(e.role==="client")t=t.eq("client_auth_id",e.auth_id),i={client_auth_id:e.auth_id};else if(e.role==="professional"){let a=typeof e.id=="string"?parseInt(e.id,10):e.id;console.log("[DEBUG] Valor de professional_id usado no filtro:",a,"Tipo:",typeof a),t=t.eq("professional_id",a),i={professional_id:a}}console.log("[fetchServiceRequests] Filtro aplicado:",i);let r="SELECT * FROM service_requests";i.client_auth_id?r+=` WHERE client_auth_id = '${i.client_auth_id}'`:i.professional_id&&(r+=` WHERE professional_id = ${i.professional_id}`),console.log("[DEBUG] SQL simulada:",r);let{data:o,error:s}=await t;if(s)console.log("Error fetching service requests from Supabase, keeping sample data:",s.message),this.notificationService.addNotification("Using sample data - Error fetching service requests: "+s.message);else if(o&&o.length>0){let a=this.users(),l=o.map(c=>ee(B({},c),{client_name:a.find(u=>u.id===c.client_id)?.name||"Unknown",professional_name:a.find(u=>u.id===c.professional_id)?.name||"Unassigned"}));this.serviceRequests.set(l)}else this.serviceRequests.set([])}async fetchCategories(){let{data:e,error:t}=await this.supabase.client.from("service_categories").select("id, name").order("name");t?(console.log("Error fetching categories from Supabase, keeping sample data:",t.message),this.notificationService.addNotification("Using sample data - Error fetching categories: "+t.message)):e&&e.length>0?this.categories.set(e):console.log("No categories found in Supabase, keeping sample data")}async fetchSubcategories(){let{data:e,error:t}=await this.supabase.client.from("service_subcategories").select("id, name, category_id, type, average_time_minutes, price, description").order("name");t&&(console.log("Error fetching subcategories from Supabase:",t.message),this.notificationService.addNotification("Erro ao buscar subcategorias: "+t.message));try{console.debug("[DataService] fetchSubcategories raw response:",{data:e,error:t,currentUserId:this.authService?.appUser?.()?.id??null})}catch{}if(e&&e.length>0){let i=e.map(r=>ee(B({},r),{category_id:typeof r.category_id=="string"?parseInt(r.category_id,10):r.category_id,average_time_minutes:r.average_time_minutes===void 0?null:r.average_time_minutes,price:r.price===void 0?null:r.price}));try{if(console.debug(`[DataService] fetchSubcategories loaded ${i.length} items`),i.length>0){let r=i.slice(0,5).map(o=>({id:o.id,category_id_type:typeof o.category_id,category_id_value:o.category_id}));console.debug("[DataService] subcategories sample types:",r)}}catch{}this.subcategories.set(i)}else console.log("No subcategories found in Supabase.")}async addServiceRequest(e){let t=this.authService.appUser();if(!t)throw new Error("User not authenticated");let i=e.requested_datetime,{StatusService:r}=await import("./chunk-HHD7KH7U.js"),o={client_id:t.id,client_auth_id:t.auth_id,title:e.title,description:e.description,category_id:e.category_id,subcategory_id:e.subcategory_id,street:e.address.street,city:e.address.city,state:e.address.state,zip_code:e.address.zip_code,requested_datetime:i,status:Xr[r.Requested],payment_status:"Unpaid"},{error:s}=await this.supabase.client.from("service_requests").insert(o);if(s)throw this.notificationService.addNotification("Error creating service request: "+s.message),s;{this.notificationService.addNotification("Service request created successfully!");let a=this.authService.appUser();return a&&await this.fetchServiceRequests(a),!0}}async updateServiceRequest(e,t){let i=this.getServiceRequestById(e),{error:r}=await this.supabase.client.from("service_requests").update(t).eq("id",e);r?this.notificationService.addNotification("Error updating request: "+r.message):(t.status&&i&&i.status!==t.status&&this.notificationService.addNotification(this.i18n.translate("statusChangedFromTo",{id:e.toString(),from:i.status,to:t.status})),t.payment_status&&i&&i.payment_status!==t.payment_status&&this.notificationService.addNotification(this.i18n.translate("paymentStatusChanged",{id:e.toString(),status:t.payment_status})))}getServiceRequestById(e){return this.serviceRequests().find(t=>t.id===e)}async respondToQuote(e,t){let i=t?"QuoteApproved":"QuoteRejected";await this.updateServiceRequest(e,{status:Xr[i]}),this.notificationService.addNotification(`Or\xE7amento do pedido #${e} foi ${t?"aprovado":"rejeitado"}.`)}async scheduleServiceRequest(e,t,i){let r={professional_id:t,scheduled_date:i.toISOString(),status:Xr.Scheduled};await this.updateServiceRequest(e,r),this.notificationService.addNotification(`Service request #${e} has been scheduled.`)}async proposeExecutionDate(e,t,i){let r=this.serviceRequests().find(s=>s.id===e);if(!r){console.error("Request n\u251C\xFAo encontrado:",e);return}let o={proposed_execution_date:t.toISOString(),proposed_execution_notes:i||null,execution_date_proposed_at:new Date().toISOString(),status:Xr.DateProposedByAdmin};await this.updateServiceRequest(e,o),this.notificationService.addNotification(this.i18n.translate("executionDateProposed",{id:e.toString()})),r.client_id&&await this.notificationService.createEnhancedNotification(r.client_id,"execution_date_proposal",this.i18n.translate("newExecutionDateProposed"),this.i18n.translate("executionDateProposedMessage",{date:t.toLocaleDateString(),time:t.toLocaleTimeString(),notes:i||""}),{serviceRequestId:e,actionRequired:!0,priority:"high"})}async respondToExecutionDate(e,t,i){let r=this.serviceRequests().find(u=>u.id===e);if(!r){console.error("Request n\u251C\xFAo encontrado:",e);return}let o={execution_date_approval:t?"approved":"rejected",execution_date_approved_at:new Date().toISOString(),execution_date_rejection_reason:t?null:i,status:t?Xr.DateApprovedByClient:Xr.DateRejectedByClient};t&&r?.proposed_execution_date&&(o.scheduled_start_datetime=r.proposed_execution_date,o.status=Xr.Scheduled),await this.updateServiceRequest(e,o),this.notificationService.addNotification(this.i18n.translate(t?"executionDateApproved":"executionDateRejected",{id:e.toString()}));let s=t?"execution_date_approved":"execution_date_rejected",a=t?"executionDateApprovedByClient":"executionDateRejectedByClient",l=t?"executionDateApprovedMessage":"executionDateRejectedMessage",c=this.users().filter(u=>u.role==="admin");for(let u of c)await this.notificationService.createEnhancedNotification(u.id,s,this.i18n.translate(a),this.i18n.translate(l,{requestId:e.toString(),reason:i||""}),{serviceRequestId:e,actionRequired:!t,priority:t?"medium":"high"});r.professional_id&&await this.notificationService.createEnhancedNotification(r.professional_id,s,this.i18n.translate(a),this.i18n.translate(l,{requestId:e.toString(),reason:i||""}),{serviceRequestId:e,actionRequired:!1,priority:"medium"})}async updatePaymentStatus(e,t){await this.updateServiceRequest(e,{payment_status:t}),this.notificationService.addNotification(this.i18n.translate("paymentStatusChanged",{id:e.toString(),status:t}))}async updateUser(e,t){let{error:i}=await this.supabase.client.from("users").update(t).eq("id",e);i?this.notificationService.addNotification("Error updating user: "+i.message):(await this.fetchUsers(),t.status&&this.notificationService.addNotification(this.i18n.translate("userStatusUpdated",{id:e.toString(),status:t.status})))}getProfessionalsByCategory(e){return this.users().filter(t=>t.role==="professional"&&t.status==="Active"&&(t.specialties?.includes(e)||!t.specialties?.length))}async fetchChatMessages(e){let{data:t,error:i}=await this.supabase.client.from("chat_messages").select("*").eq("request_id",e).order("timestamp",{ascending:!0});i?this.notificationService.addNotification("Error fetching messages: "+i.message):this.chatMessages.set(t)}async addChatMessage(e,t,i){let r=this.authService.appUser();if(!r)return;let o={request_id:e,sender_id:t,sender_auth_id:r.auth_id,text:i,timestamp:new Date().toISOString()},{error:s}=await this.supabase.client.from("chat_messages").insert(o);s&&this.notificationService.addNotification("Error sending message: "+s.message)}listenToServiceRequestChanges(){this.supabase.client.channel("public:service_requests").on("postgres_changes",{event:"*",schema:"public",table:"service_requests"},()=>{let e=this.authService.appUser();e&&this.fetchServiceRequests(e)}).subscribe()}listenToUserChanges(){this.supabase.client.channel("public:users").on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>{this.fetchUsers()}).subscribe()}async updateRequestedDateTime(e,t){let i={requested_datetime:t.toISOString()};await this.updateServiceRequest(e,i),this.notificationService.addNotification(`Data solicitada para o pedido #${e} foi atualizada.`)}async scheduleServiceStart(e,t,i,r){let o={professional_id:t,scheduled_start_datetime:i.toISOString(),estimated_duration_minutes:r,status:Xr.Scheduled};await this.updateServiceRequest(e,o),this.notificationService.addNotification(`Servi\u251C\xBAo #${e} foi agendado para ${i.toLocaleDateString()} \u251C\xE1s ${i.toLocaleTimeString()}.`)}async startServiceWork(e){let t={actual_start_datetime:new Date().toISOString(),status:Xr.InProgress};await this.updateServiceRequest(e,t),this.notificationService.addNotification(`Atendimento do servi\u251C\xBAo #${e} foi iniciado.`)}async finishServiceWork(e){let t={actual_end_datetime:new Date().toISOString(),status:Xr.CompletedAwaitingApproval};await this.updateServiceRequest(e,t),this.notificationService.addNotification(`Atendimento do servi\u251C\xBAo #${e} foi finalizado.`)}async updateEstimatedDuration(e,t){let i={estimated_duration_minutes:t};await this.updateServiceRequest(e,i),this.notificationService.addNotification(`Previs\u251C\xFAo de dura\u251C\xBA\u251C\xFAo do servi\u251C\xBAo #${e} foi atualizada para ${t} minutos.`)}calculateActualDuration(e){if(!e.actual_start_datetime||!e.actual_end_datetime)return null;let t=new Date(e.actual_start_datetime),i=new Date(e.actual_end_datetime);return Math.round((i.getTime()-t.getTime())/(1e3*60))}calculateDurationVariance(e){let t=this.calculateActualDuration(e);return!t||!e.estimated_duration_minutes?null:t-e.estimated_duration_minutes}getSchedulingStatus(e){let t=new Date;if(e.status==="Finalizado"&&e.actual_end_datetime)return"Completed";if(e.actual_start_datetime&&!e.actual_end_datetime)return"In Progress";if(e.scheduled_start_datetime&&!e.actual_start_datetime&&new Date(e.scheduled_start_datetime).getTime()+1800*1e3<t.getTime())return"Delayed";if(e.scheduled_start_datetime){let i=new Date(e.scheduled_start_datetime),r=new Date;if(i.toDateString()===r.toDateString())return"Scheduled Today"}return e.scheduled_start_datetime&&new Date(e.scheduled_start_datetime)>t?"Scheduled":e.requested_datetime&&!e.scheduled_start_datetime?"Awaiting Schedule":"Pending"}getTodayScheduledRequests(){let e=new Date,t=this.serviceRequests();console.log("[AGENDA] serviceRequests sinal:",t);let i=t.filter(r=>r.scheduled_start_datetime?new Date(r.scheduled_start_datetime).toDateString()===e.toDateString():!1);return console.log("[AGENDA] Pedidos agendados para hoje:",i),i}getDelayedRequests(){return this.serviceRequests().filter(e=>this.getSchedulingStatus(e)==="Delayed")}getProfessionalProductivityReport(){return this.users().filter(t=>t.role==="professional").map(t=>{let i=this.serviceRequests().filter(a=>a.professional_id===t.id&&a.status==="Finalizado"),r=i.length,o=0,s=0;return i.forEach(a=>{let l=this.calculateActualDuration(a);if(l&&(o+=l),a.scheduled_start_datetime&&a.actual_start_datetime){let c=new Date(a.scheduled_start_datetime),m=(new Date(a.actual_start_datetime).getTime()-c.getTime())/(1e3*60);Math.abs(m)<=15&&s++}}),{professional_id:t.id,professional_name:t.name,completed_services:r,average_duration_minutes:r>0?Math.round(o/r):0,on_time_percentage:r>0?Math.round(s/r*100):0}})}async fetchServiceClarifications(e){let{data:t,error:i}=await this.supabase.client.from("service_clarifications_with_user").select("*").eq("service_request_id",e).order("created_at",{ascending:!0});if(i)return console.error("Error fetching service clarifications:",i),this.notificationService.addNotification("Erro ao buscar esclarecimentos: "+i.message),[];{let r=t;return this.serviceClarifications.set(r),r}}async addClarificationQuestion(e,t,i){let r=this.authService.appUser();if(!r)throw new Error("User not authenticated");let o={service_request_id:e,user_id:r.id,type:"question",title:t,content:i,is_read:!1},{data:s,error:a}=await this.supabase.client.from("service_clarifications").insert(o).select().single();if(a)throw console.error("Error adding clarification question:",a),this.notificationService.addNotification("Erro ao adicionar pergunta: "+a.message),a;return this.notificationService.addNotification("Pergunta adicionada com sucesso!"),await this.fetchServiceClarifications(e),await this.createClarificationNotification(e,"clarification_requested","Nova pergunta adicionada",`${r.name} fez uma nova pergunta: ${t}`),s}async addClarificationAnswer(e,t,i,r){let o=this.authService.appUser();if(!o)throw new Error("User not authenticated");let s={service_request_id:e,user_id:o.id,parent_id:t,type:"answer",title:i,content:r,is_read:!1},{data:a,error:l}=await this.supabase.client.from("service_clarifications").insert(s).select().single();if(l)throw console.error("Error adding clarification answer:",l),this.notificationService.addNotification("Erro ao adicionar resposta: "+l.message),l;return this.notificationService.addNotification("Resposta adicionada com sucesso!"),await this.fetchServiceClarifications(e),await this.createClarificationNotification(e,"clarification_provided","Nova resposta adicionada",`${o.name} respondeu: ${i}`),a}async markClarificationsAsRead(e){let t=this.authService.appUser();if(!t)return;let{data:i,error:r}=await this.supabase.client.rpc("mark_clarifications_as_read",{req_id:e,reader_user_id:t.id});r?console.error("Error marking clarifications as read:",r):(console.log(`Marked ${i} clarifications as read`),await this.fetchServiceClarifications(e))}async countUnreadClarifications(e){let t=this.authService.appUser();if(!t)return 0;let{data:i,error:r}=await this.supabase.client.rpc("count_unread_clarifications",{req_id:e,reader_user_id:t.id});return r?(console.error("Error counting unread clarifications:",r),0):i||0}async deleteClarification(e,t){let{error:i}=await this.supabase.client.from("service_clarifications").delete().eq("id",e);if(i)throw console.error("Error deleting clarification:",i),this.notificationService.addNotification("Erro ao deletar esclarecimento: "+i.message),i;this.notificationService.addNotification("Esclarecimento deletado com sucesso!"),await this.fetchServiceClarifications(t)}async createClarificationNotification(e,t,i,r){try{let o=this.getServiceRequestById(e);if(!o)return;let s=this.authService.appUser();if(!s)return;let a=[o.client_id];o.professional_id&&a.push(o.professional_id);let l=a.filter(c=>c!==s.id);for(let c of l)await this.supabase.client.from("enhanced_notifications").insert({user_id:c,type:t,title:i,message:r,service_request_id:e,action_required:!0,priority:"medium"})}catch(o){console.error("Error creating clarification notification:",o)}}getClarificationThreads(e){let t=this.serviceClarifications();return t.filter(r=>r.service_request_id===e&&r.type==="question").map(r=>({question:r,answers:t.filter(o=>o.parent_id===r.id)}))}};Qc.\u0275fac=function(t){return new(t||Qc)},Qc.\u0275prov=Se({token:Qc,factory:Qc.\u0275fac,providedIn:"root"});var kt=Qc;var Yc=class Yc{constructor(){this.notificationService=$(Ft);this.i18n=$($e);this.swRegistration=null;if(!li.production){this.unregisterServiceWorkersInDev();return}this.registerServiceWorker()}async unregisterServiceWorkersInDev(){if("serviceWorker"in navigator)try{let e=await navigator.serviceWorker.getRegistrations();e.length>0&&(console.log(`Dev mode: unregistering ${e.length} service worker(s) and clearing caches...`),await Promise.all(e.map(t=>t.unregister())))}catch(e){console.warn("Dev mode: failed to unregister service workers:",e)}try{if("caches"in window){let e=await caches.keys();await Promise.all(e.map(t=>caches.delete(t))),console.log("Dev mode: caches cleared")}}catch(e){console.warn("Dev mode: failed to clear caches:",e)}}async registerServiceWorker(){let e=window.isSecureContext||location.protocol==="https:",t=/^(localhost|127\.0\.0\.1|\[::1\])$/.test(location.hostname);if(li.production&&"serviceWorker"in navigator&&(e||t))try{this.swRegistration=await navigator.serviceWorker.register("./service-worker.js"),console.log("Service Worker registered with scope:",this.swRegistration.scope)}catch(i){console.error("Service Worker registration failed:",i)}}async requestPermission(){if("Notification"in window){let e=await Notification.requestPermission();return e==="denied"&&this.notificationService.addNotification(this.i18n.translate("pushNotificationsBlocked")),e}return"default"}sendNotification(e,t,i){this.swRegistration?.active?this.swRegistration.active.postMessage({title:e,body:t,icon:i}):console.warn("Service worker not active, cannot send notification via message.")}};Yc.\u0275fac=function(t){return new(t||Yc)},Yc.\u0275prov=Se({token:Yc,factory:Yc.\u0275fac,providedIn:"root"});var K1=Yc;var A8=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(be(So),be(kn))};static \u0275dir=ct({type:n})}return n})(),_p=(()=>{class n extends A8{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,features:[ln]})}return n})(),Zc=new Ee(""),ree={provide:Zc,useExisting:_n(()=>hA),multi:!0},hA=(()=>{class n extends _p{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[si([ree]),ln]})}return n})(),oee={provide:Zc,useExisting:_n(()=>Lt),multi:!0};function see(){let n=Xa()?Xa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var aee=new Ee(""),Lt=(()=>{class n extends A8{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!see())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(be(So),be(kn),be(aee,8))};static \u0275dir=ct({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&A("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[si([oee]),ln]})}return n})();function T8(n){return n==null||mA(n)===0}function mA(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var nl=new Ee(""),I8=new Ee("");function lee(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function cee(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function uee(n){return T8(n.value)?{required:!0}:null}function dee(n){return e=>{let t=e.value?.length??mA(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function pee(n){return e=>{let t=e.value?.length??mA(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function fee(n){if(!n)return uA;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(T8(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function uA(n){return null}function k8(n){return n!=null}function M8(n){return Zd(n)?Wh(n):n}function N8(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function R8(n,e){return e.map(t=>t(n))}function hee(n){return!n.validate}function P8(n){return n.map(e=>hee(e)?e:t=>e.validate(t))}function mee(n){if(!n)return null;let e=n.filter(k8);return e.length==0?null:function(t){return N8(R8(t,e))}}function gA(n){return n!=null?mee(P8(n)):null}function gee(n){if(!n)return null;let e=n.filter(k8);return e.length==0?null:function(t){let i=R8(t,e).map(M8);return NE(i).pipe(Gn(N8))}}function vA(n){return n!=null?gee(P8(n)):null}function y8(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vee(n){return n._rawValidators}function _ee(n){return n._rawAsyncValidators}function dA(n){return n?Array.isArray(n)?n:[n]:[]}function tb(n,e){return Array.isArray(n)?n.includes(e):n===e}function b8(n,e){let t=dA(e);return dA(n).forEach(r=>{tb(t,r)||t.push(r)}),t}function x8(n,e){return dA(e).filter(t=>!tb(n,t))}var nb=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},gp=class extends nb{name;get formDirective(){return null}get path(){return null}},vp=class extends nb{_parent=null;name=null;valueAccessor=null},ib=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yee={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hIe=ee(B({},yee),{"[class.ng-submitted]":"isSubmitted"}),Gt=(()=>{class n extends ib{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(be(vp,2))};static \u0275dir=ct({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&gt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ln]})}return n})(),ui=(()=>{class n extends ib{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(be(gp,10))};static \u0275dir=ct({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&gt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ln]})}return n})();var mg="VALID",eb="INVALID",hp="PENDING",gg="DISABLED",tl=class{},rb=class extends tl{value;source;constructor(e,t){super(),this.value=e,this.source=t}},_g=class extends tl{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},yg=class extends tl{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},mp=class extends tl{status;source;constructor(e,t){super(),this.status=e,this.source=t}},pA=class extends tl{source;constructor(e){super(),this.source=e}},fA=class extends tl{source;constructor(e){super(),this.source=e}};function O8(n){return(ab(n)?n.validators:n)||null}function bee(n){return Array.isArray(n)?gA(n):n||null}function F8(n,e){return(ab(e)?e.asyncValidators:n)||null}function xee(n){return Array.isArray(n)?vA(n):n||null}function ab(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Cee(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new re(1e3,"");if(!i[t])throw new re(1001,"")}function wee(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new re(1002,"")})}var ob=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ds(this.statusReactive)}set status(e){ds(()=>this.statusReactive.set(e))}_status=J(()=>this.statusReactive());statusReactive=F(void 0);get valid(){return this.status===mg}get invalid(){return this.status===eb}get pending(){return this.status==hp}get disabled(){return this.status===gg}get enabled(){return this.status!==gg}errors;get pristine(){return ds(this.pristineReactive)}set pristine(e){ds(()=>this.pristineReactive.set(e))}_pristine=J(()=>this.pristineReactive());pristineReactive=F(!0);get dirty(){return!this.pristine}get touched(){return ds(this.touchedReactive)}set touched(e){ds(()=>this.touchedReactive.set(e))}_touched=J(()=>this.touchedReactive());touchedReactive=F(!1);get untouched(){return!this.touched}_events=new ts;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(b8(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(b8(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(x8(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(x8(e,this._rawAsyncValidators))}hasValidator(e){return tb(this._rawValidators,e)}hasAsyncValidator(e){return tb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(B({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new yg(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new yg(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(B({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new _g(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new _g(!0,i))}markAsPending(e={}){this.status=hp;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mp(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gg,this.errors=null,this._forEachChild(r=>{r.disable(ee(B({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rb(this.value,i)),this._events.next(new mp(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=mg,this._forEachChild(i=>{i.enable(ee(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mg||this.status===hp)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rb(this.value,t)),this._events.next(new mp(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gg:mg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=hp,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=M8(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new mp(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?gg:this.errors?eb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hp)?hp:this._anyControlsHaveStatus(eb)?eb:mg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new _g(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new yg(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ab(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bee(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xee(this._rawAsyncValidators)}},sb=class extends ob{constructor(e,t,i){super(O8(t),F8(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){wee(this,!0,e),Object.keys(e).forEach(i=>{Cee(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lb=new Ee("",{providedIn:"root",factory:()=>cb}),cb="always";function Eee(n,e){return[...e.path,n]}function L8(n,e,t=cb){B8(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Dee(n,e),Tee(n,e),Aee(n,e),See(n,e)}function C8(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function See(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function B8(n,e){let t=vee(n);e.validator!==null?n.setValidators(y8(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=_ee(n);e.asyncValidator!==null?n.setAsyncValidators(y8(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();C8(e._rawValidators,r),C8(e._rawAsyncValidators,r)}function Dee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&V8(n,e)})}function Aee(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&V8(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function V8(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Tee(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Iee(n,e){n==null,B8(n,e)}function kee(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Mee(n){return Object.getPrototypeOf(n.constructor)===_p}function Nee(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ree(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Lt?t=o:Mee(o)?i=o:r=o}),r||i||t||null}var Pee={provide:gp,useExisting:_n(()=>Zn)},vg=Promise.resolve(),Zn=(()=>{class n extends gp{callSetDisabledState;get submitted(){return ds(this.submittedReactive)}_submitted=J(()=>this.submittedReactive());submittedReactive=F(!1);_directives=new Set;form;ngSubmit=new Pt;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new sb({},gA(t),vA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vg.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),L8(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vg.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vg.then(()=>{let i=this._findContainer(t.path),r=new sb({});Iee(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vg.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){vg.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Nee(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new pA(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new fA(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(be(nl,10),be(I8,10),be(lb,8))};static \u0275dir=ct({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&A("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[si([Pee]),ln]})}return n})();function w8(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function E8(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Oee=class extends ob{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(O8(t),F8(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ab(t)&&(t.nonNullable||t.initialValueIsDefault)&&(E8(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){w8(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){w8(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){E8(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Fee={provide:vp,useExisting:_n(()=>$t)},S8=Promise.resolve(),$t=(()=>{class n extends vp{_changeDetectorRef;callSetDisabledState;control=new Oee;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Pt;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ree(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),kee(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){L8(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){S8.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&l1(i);S8.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Eee(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(be(gp,9),be(nl,10),be(I8,10),be(Zc,10),be(Oc,8),be(lb,8))};static \u0275dir=ct({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[si([Fee]),ln,Qa]})}return n})();var di=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Lee={provide:Zc,useExisting:_n(()=>_A),multi:!0},_A=(()=>{class n extends _p{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&A("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[si([Lee]),ln]})}return n})(),Bee={provide:Zc,useExisting:_n(()=>yA),multi:!0};var Vee=(()=>{class n{_accessors=[];add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yA=(()=>{class n extends _p{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=$(lb,{optional:!0})??cb;constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(vp),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(be(So),be(kn),be(Vee),be(wi))};static \u0275dir=ct({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&A("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[si([Bee]),ln]})}return n})();var jee={provide:Zc,useExisting:_n(()=>_s),multi:!0};function j8(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function qee(n){return n.split(":")[0]}var _s=(()=>{class n extends _p{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=$(Mc).injector;destroyRef=$(Wr);cdr=$(Oc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,eD({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let i=this._getOptionId(t),r=j8(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=qee(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[si([jee]),ln]})}return n})(),pi=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(j8(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(be(kn),be(So),be(_s,9))};static \u0275dir=ct({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Uee={provide:Zc,useExisting:_n(()=>q8),multi:!0};function D8(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function $ee(n){return n.split(":")[0]}var q8=(()=>{class n extends _p{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=$ee(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[si([Uee]),ln]})}return n})(),fi=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(D8(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(D8(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(be(kn),be(So),be(q8,9))};static \u0275dir=ct({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function U8(n){return typeof n=="number"?n:parseInt(n,10)}function $8(n){return typeof n=="number"?n:parseFloat(n)}var yp=(()=>{class n{_validator=uA;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):uA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ct({type:n,features:[Qa]})}return n})(),Hee={provide:nl,useExisting:_n(()=>bA),multi:!0},bA=(()=>{class n extends yp{max;inputName="max";normalizeInput=t=>$8(t);createValidator=t=>cee(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ke("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[si([Hee]),ln]})}return n})(),zee={provide:nl,useExisting:_n(()=>xA),multi:!0},xA=(()=>{class n extends yp{min;inputName="min";normalizeInput=t=>$8(t);createValidator=t=>lee(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ke("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[si([zee]),ln]})}return n})(),Wee={provide:nl,useExisting:_n(()=>Ii),multi:!0};var Ii=(()=>{class n extends yp{required;inputName="required";normalizeInput=l1;createValidator=t=>uee;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ke("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[si([Wee]),ln]})}return n})();var Gee={provide:nl,useExisting:_n(()=>CA),multi:!0},CA=(()=>{class n extends yp{minlength;inputName="minlength";normalizeInput=t=>U8(t);createValidator=t=>dee(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ke("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[si([Gee]),ln]})}return n})(),Qee={provide:nl,useExisting:_n(()=>wA),multi:!0},wA=(()=>{class n extends yp{maxlength;inputName="maxlength";normalizeInput=t=>U8(t);createValidator=t=>pee(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ke("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[si([Qee]),ln]})}return n})(),Yee={provide:nl,useExisting:_n(()=>bg),multi:!0},bg=(()=>{class n extends yp{pattern;inputName="pattern";normalizeInput=t=>t;createValidator=t=>fee(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=_r(n)))(r||n)}})();static \u0275dir=ct({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Ke("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[si([Yee]),ln]})}return n})();var Zee=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ls({type:n});static \u0275inj=vo({})}return n})();var ut=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:lb,useValue:t.callSetDisabledState??cb}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ls({type:n});static \u0275inj=vo({imports:[Zee]})}return n})();var bp=class bp{constructor(){this.i18n=$($e)}transform(e,t){let i=this.i18n.language();return this.i18n.translate(e,t)}};bp.\u0275fac=function(t){return new(t||bp)},bp.\u0275pipe=Ic({name:"i18n",type:bp,pure:!1});var Ae=bp;var Xc=class Xc{constructor(){this.supabase=$(vs);this.notificationService=$(Ft);this.authService=$(ci);this.i18n=$($e)}async analyzeRequest(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={status:"Em an\xE1lise",admin_requests:t};await this.updateRequestWithHistory(e,r,i.id,t||"Solicita\xE7\xE3o em an\xE1lise"),await this.notifyStakeholders(e,"analysis_started","Cliente")}async requestClarification(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={admin_requests:t,status:"Aguardando esclarecimentos"};await this.updateRequestWithHistory(e,r,i.id,"Solicita\xE7\xE3o de esclarecimentos"),await this.notifyStakeholders(e,"clarification_requested","Cliente")}async provideClarification(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={client_clarifications:t,status:"Em an\xE1lise"};await this.updateRequestWithHistory(e,r,i.id,"Esclarecimentos fornecidos"),await this.notifyStakeholders(e,"clarification_provided","Admin")}async sendQuote(e,t,i){let r=this.authService.appUser();if(!r)throw new Error("User not authenticated");let o={quote_amount:t,quote_description:i,quote_sent_at:new Date().toISOString(),status:"Or\xE7amento enviado",cost:t};await this.updateRequestWithHistory(e,o,r.id,`Or\xE7amento enviado: \u20AC${t}`),await this.notifyStakeholders(e,"quote_sent","Cliente")}async approveQuote(e){let t=this.authService.appUser();if(!t)throw new Error("User not authenticated");let i={quote_approved_at:new Date().toISOString(),status:"Or\xE7amento aprovado"};await this.updateRequestWithHistory(e,i,t.id,"Or\xE7amento aprovado pelo cliente"),await this.notifyStakeholders(e,"quote_approved","Admin")}async rejectQuote(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={status:"Or\xE7amento rejeitado"};await this.updateRequestWithHistory(e,r,i.id,`Or\xE7amento rejeitado: ${t||"Sem motivo especificado"}`),await this.notifyStakeholders(e,"quote_rejected","Admin")}async selectProfessional(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={selected_professional_id:t,professional_id:t,status:"Profissional selecionado"};await this.updateRequestWithHistory(e,r,i.id,"Profissional selecionado"),await this.notifySpecificUser(e,t,"professional_assigned","Novo trabalho atribu\xEDdo")}async professionalAcceptJob(e){let t=this.authService.appUser();if(!t)throw new Error("User not authenticated");let i={professional_response:"accepted",professional_response_at:new Date().toISOString(),status:"Aguardando confirma\xE7\xE3o do profissional"};await this.updateRequestWithHistory(e,i,t.id,"Trabalho aceito pelo profissional"),await this.notifyStakeholders(e,"professional_accepted","Admin")}async professionalRejectJob(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={professional_response:"rejected",professional_response_at:new Date().toISOString(),selected_professional_id:null,professional_id:null,status:"Buscando profissional"};await this.updateRequestWithHistory(e,r,i.id,`Trabalho rejeitado: ${t||"Sem motivo especificado"}`),await this.notifyStakeholders(e,"professional_rejected","Admin")}async scheduleWork(e,t,i){let r=this.authService.appUser();if(!r)throw new Error("User not authenticated");let o={scheduled_start_datetime:t.toISOString(),scheduled_date:t.toISOString(),estimated_duration_minutes:i,status:"Agendado"};await this.updateRequestWithHistory(e,o,r.id,`Trabalho agendado para ${t.toLocaleString()}`),await this.notifyStakeholders(e,"work_scheduled","Cliente,Profissional")}async startWork(e){let t=this.authService.appUser();if(!t)throw new Error("User not authenticated");let i=await this.getServiceRequest(e);if(!i)throw new Error("Service request not found");let r=new Date,o=i.scheduled_start_datetime?new Date(i.scheduled_start_datetime):i.scheduled_date?new Date(i.scheduled_date):null;if(o&&r<o)throw this.notificationService.addNotification("N\xE3o \xE9 permitido iniciar o servi\xE7o antes da data agendada!"),new Error("Tentativa de in\xEDcio antes da data agendada");let s={work_started_at:r.toISOString(),actual_start_datetime:r.toISOString(),status:"Em execu\xE7\xE3o"};try{await this.updateRequestWithHistory(e,s,t.id,"Trabalho iniciado")}catch(a){let l=String(a?.message||"");throw a?.code==="23514"||l.includes("chk_scheduled_before_actual_start")?(this.notificationService.addNotification("N\xE3o \xE9 permitido iniciar o servi\xE7o antes da data agendada!"),new Error("Tentativa de in\xEDcio antes da data agendada")):a}await this.notifyStakeholders(e,"work_started","Cliente,Admin")}async completeWork(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={work_completed_at:new Date().toISOString(),actual_end_datetime:new Date().toISOString(),status:"Conclu\xEDdo - Aguardando aprova\xE7\xE3o"};if(t){let o=await this.getProgressUpdates(e);r.progress_updates=[...o||[],`Trabalho conclu\xEDdo: ${t}`]}await this.updateRequestWithHistory(e,r,i.id,"Trabalho conclu\xEDdo"),await this.notifyStakeholders(e,"work_completed","Cliente")}async addProgressUpdate(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r=await this.getProgressUpdates(e),s=`[${new Date().toLocaleString()}] ${t}`,a={progress_updates:[...r||[],s]};await this.updateRequestWithHistory(e,a,i.id,"Atualiza\xE7\xE3o de progresso")}async approveWork(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={client_approval:"approved",client_approval_at:new Date().toISOString(),client_feedback:t,status:"Aprovado pelo cliente",payment_due_date:new Date(Date.now()+10080*60*1e3).toISOString()};await this.updateRequestWithHistory(e,r,i.id,"Trabalho aprovado pelo cliente"),await this.notifyStakeholders(e,"payment_due","Admin,Profissional")}async rejectWork(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={client_approval:"rejected",client_approval_at:new Date().toISOString(),revision_requested:!0,revision_reason:t,status:"Rejeitado pelo cliente"};await this.updateRequestWithHistory(e,r,i.id,`Trabalho rejeitado: ${t}`),await this.notifyStakeholders(e,"work_completed","Admin,Profissional")}async processPayment(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r=await this.getServiceRequest(e);if(!r||!r.quote_amount)throw new Error("Request or quote amount not found");let o=this.calculatePlatformFee(r.quote_amount),s=r.quote_amount-o,a={payment_completed_at:new Date().toISOString(),platform_fee:o,professional_payment:s,payment_status:"Paid",status:"Pago"};await this.updateRequestWithHistory(e,a,i.id,`Pagamento processado: \u20AC${r.quote_amount}`),await this.notifyStakeholders(e,"payment_completed","Profissional")}async finalizeWithEvaluations(e,t,i){let r=this.authService.appUser();if(!r)throw new Error("User not authenticated");let o={client_rating:t,professional_rating:i,mutual_evaluation_completed:!0,status:"Finalizado"};await this.updateRequestWithHistory(e,o,r.id,"Processo finalizado com avalia\xE7\xF5es")}async updateRequestWithHistory(e,t,i,r){let o=await this.getServiceRequest(e),s=o?.status_history||[];if(t.status&&t.status!==o?.status){let c={status:t.status,changed_at:new Date().toISOString(),changed_by:i,notes:r};t.status_history=[...s,c]}console.log("[WorkflowService] updateRequestWithHistory - requestId:",e,"tipo:",typeof e);let{data:a,error:l}=await this.supabase.client.from("service_requests").update(t).eq("id",e).select("*");if(l)throw console.error("Error updating service request:",l),l;console.log("[WorkflowService] Update result:",a),this.notificationService.addNotification(`Pedido #${e} atualizado: ${r||t.status}`)}async getServiceRequest(e){let{data:t,error:i}=await this.supabase.client.from("service_requests").select("*").eq("id",e).single();return i?(console.error("Error fetching service request:",i),null):t}async getProgressUpdates(e){return(await this.getServiceRequest(e))?.progress_updates||null}calculatePlatformFee(e){return Math.round(e*.07*100)/100}async notifyStakeholders(e,t,i){let r=this.getNotificationMessage(t);this.notificationService.addNotification(`${r} - Pedido #${e}`)}async notifySpecificUser(e,t,i,r){this.notificationService.addNotification(`${r} - Pedido #${e}`)}getNotificationMessage(e){return{clarification_requested:"Esclarecimentos solicitados",clarification_provided:"Esclarecimentos fornecidos",quote_sent:"Or\xE7amento enviado",quote_approved:"Or\xE7amento aprovado",quote_rejected:"Or\xE7amento rejeitado",execution_date_proposal:"Data de execu\xE7\xE3o proposta",execution_date_approved:"Data de execu\xE7\xE3o aprovada",execution_date_rejected:"Data de execu\xE7\xE3o rejeitada",professional_assigned:"Profissional atribu\xEDdo",professional_accepted:"Trabalho aceito",professional_rejected:"Trabalho rejeitado",work_scheduled:"Trabalho agendado",work_started:"Trabalho iniciado",work_completed:"Trabalho conclu\xEDdo",payment_due:"Pagamento pendente",payment_completed:"Pagamento processado"}[e]||"Atualiza\xE7\xE3o do pedido"}canTransitionTo(e,t,i){let o={Solicitado:{statuses:["Em an\xE1lise","Aguardando esclarecimentos","Cancelado"],roles:["admin"]},"Em an\xE1lise":{statuses:["Or\xE7amento enviado","Aguardando esclarecimentos","Cancelado"],roles:["admin"]},"Aguardando esclarecimentos":{statuses:["Em an\xE1lise","Cancelado"],roles:["client"]},"Or\xE7amento enviado":{statuses:["Aguardando aprova\xE7\xE3o do or\xE7amento"],roles:["admin"]},"Aguardando aprova\xE7\xE3o do or\xE7amento":{statuses:["Or\xE7amento aprovado","Or\xE7amento rejeitado"],roles:["client"]},"Or\xE7amento aprovado":{statuses:["Aguardando data de execu\xE7\xE3o","Data proposta pelo administrador","Buscando profissional"],roles:["admin"]},"Aguardando data de execu\xE7\xE3o":{statuses:["Data proposta pelo administrador"],roles:["admin"]},"Data proposta pelo administrador":{statuses:["Data aprovada pelo cliente","Data rejeitada pelo cliente"],roles:["client"]},"Aguardando aprova\xE7\xE3o da data":{statuses:["Data aprovada pelo cliente","Data rejeitada pelo cliente"],roles:["client"]},"Data aprovada pelo cliente":{statuses:["Agendado"],roles:["admin"]},"Data rejeitada pelo cliente":{statuses:["Data proposta pelo administrador","Cancelado"],roles:["admin"]},"Or\xE7amento rejeitado":{statuses:["Em an\xE1lise","Cancelado"],roles:["admin"]},"Buscando profissional":{statuses:["Profissional selecionado"],roles:["admin"]},"Profissional selecionado":{statuses:["Aguardando confirma\xE7\xE3o do profissional"],roles:["professional"]},"Aguardando confirma\xE7\xE3o do profissional":{statuses:["Agendado","Buscando profissional"],roles:["admin","professional"]},Agendado:{statuses:["Em execu\xE7\xE3o","Cancelado"],roles:["professional","admin"]},"Em execu\xE7\xE3o":{statuses:["Conclu\xEDdo - Aguardando aprova\xE7\xE3o"],roles:["professional"]},"Conclu\xEDdo - Aguardando aprova\xE7\xE3o":{statuses:["Aprovado pelo cliente","Rejeitado pelo cliente"],roles:["client"]},"Aprovado pelo cliente":{statuses:["Pago"],roles:["client","admin"]},"Rejeitado pelo cliente":{statuses:["Em execu\xE7\xE3o","Cancelado"],roles:["admin"]},Pago:{statuses:["Finalizado"],roles:["admin","client","professional"]},Finalizado:{statuses:[],roles:[]},Cancelado:{statuses:[],roles:[]},Requested:{statuses:[],roles:[]},InAnalysis:{statuses:[],roles:[]},AwaitingClarifications:{statuses:[],roles:[]},QuoteSent:{statuses:[],roles:[]},AwaitingQuoteApproval:{statuses:[],roles:[]},QuoteApproved:{statuses:[],roles:[]},QuoteRejected:{statuses:[],roles:[]},AwaitingExecutionDate:{statuses:[],roles:[]},DateProposedByAdmin:{statuses:[],roles:[]},AwaitingDateApproval:{statuses:[],roles:[]},DateApprovedByClient:{statuses:[],roles:[]},DateRejectedByClient:{statuses:[],roles:[]},SearchingProfessional:{statuses:[],roles:[]},ProfessionalSelected:{statuses:[],roles:[]},AwaitingProfessionalConfirmation:{statuses:[],roles:[]},Scheduled:{statuses:[],roles:[]},InProgress:{statuses:[],roles:[]},CompletedAwaitingApproval:{statuses:[],roles:[]},Completed:{statuses:[],roles:[]},Cancelled:{statuses:[],roles:[]},Paid:{statuses:[],roles:[]}}[e];return o?o.statuses.includes(t)&&o.roles.includes(i):!1}getAvailableActions(e,t){let i=[];switch(e.status){case"Solicitado":t==="admin"&&i.push("analyze","request_clarification");break;case"Em an\xE1lise":t==="admin"&&i.push("send_quote","request_clarification");break;case"Aguardando esclarecimentos":t==="client"&&i.push("provide_clarification");break;case"Or\xE7amento enviado":t==="client"&&i.push("approve_quote","reject_quote");break;case"Or\xE7amento aprovado":t==="admin"&&i.push("select_professional");break;case"Profissional selecionado":t==="professional"&&i.push("accept_job","reject_job");break;case"Aguardando confirma\xE7\xE3o do profissional":t==="admin"&&i.push("schedule_work");break;case"Agendado":t==="professional"&&i.push("start_work");break;case"Em execu\xE7\xE3o":t==="professional"&&i.push("complete_work","add_progress_update");break;case"Conclu\xEDdo - Aguardando aprova\xE7\xE3o":t==="client"&&i.push("approve_work","reject_work");break;case"Aprovado pelo cliente":t==="client"&&i.push("process_payment");break;case"Pago":(t==="client"||t==="professional")&&i.push("submit_evaluation");break}return i}};Xc.\u0275fac=function(t){return new(t||Xc)},Xc.\u0275prov=Se({token:Xc,factory:Xc.\u0275fac,providedIn:"root"});var ys=Xc;function Xee(n,e){if(n&1&&(We(0),p(1,"span",7),h(2),f(),Ge()),n&2){let t=e.$implicit;d(),us("background",t.color)("color","white"),d(),Qe(" ",t.label,": ",t.value," ")}}var xp=class xp{constructor(){this.title=ge.required();this.data=ge();this.labels=ge();this.chartData=J(()=>{let e=this.data(),t=this.labels(),i=["#2563eb","#059669","#eab308","#ef4444","#6366f1","#f59e42","#10b981","#f43f5e","#a3e635","#f472b6"],r=0;return Object.entries(e).map(([o,s])=>({label:t[o]||o,value:s,color:i[r++%i.length]}))});qt(()=>{console.log("[PieChart] T\xEDtulo recebido:",this.title()),this.renderPieChart()})}ngAfterViewInit(){this.renderPieChart()}renderPieChart(){let e=document.querySelector("canvas#pieCanvas");if(!e){console.warn("[PieChart] Canvas n\xE3o encontrado");return}let t=e.getContext("2d");if(!t){console.warn("[PieChart] Contexto 2D n\xE3o encontrado");return}let i=this.chartData(),r=i.reduce((s,a)=>s+a.value,0);if(t.clearRect(0,0,e.width,e.height),r===0){t.beginPath(),t.arc(110,110,100,0,2*Math.PI),t.closePath(),t.fillStyle="#d1d5db",t.fill(),t.font="bold 18px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.textBaseline="middle",t.fillText("Sem dados",110,110);return}let o=0;i.forEach(s=>{let a=s.value/r*2*Math.PI;t.beginPath(),t.moveTo(110,110),t.arc(110,110,100,o,o+a),t.closePath(),t.fillStyle=s.color,t.fill(),o+=a})}};xp.\u0275fac=function(t){return new(t||xp)},xp.\u0275cmp=pe({type:xp,selectors:[["app-status-pie-chart"]],inputs:{title:[1,"title"],data:[1,"data"],labels:[1,"labels"]},decls:8,vars:2,consts:[["pieCanvas",""],[1,"w-full","max-w-xs","md:max-w-md","bg-white","dark:bg-gray-800","rounded-lg","shadow","p-4","mobile-safe","flex","flex-col","items-center"],[1,"text-lg","font-semibold","mb-2","text-center"],[1,"w-full","flex","justify-center","items-center"],["id","pieCanvas","width","220","height","220",1,"w-full","h-auto","max-h-64","aspect-square"],[1,"flex","flex-wrap","gap-2","justify-center","mt-4","w-full"],[4,"ngFor","ngForOf"],[1,"px-2","py-1","rounded","text-xs","font-medium"]],template:function(t,i){t&1&&(p(0,"div",1)(1,"h3",2),h(2),f(),p(3,"div",3),k(4,"canvas",4,0),f(),p(6,"div",5),de(7,Xee,3,6,"ng-container",6),f()()),t&2&&(d(2),R(i.title()),d(5),T("ngForOf",i.chartData()))},dependencies:[me,Pn],encapsulation:2,changeDetection:0});var ub=xp;function Jee(n,e){if(n&1&&(We(0),p(1,"span",7),h(2),f(),Ge()),n&2){let t=e.$implicit;d(),us("background",t.color)("color","white"),d(),Qe(" ",t.label,": ",t.value," ")}}var Cp=class Cp{constructor(){this.title=ge.required();this.data=ge();this.labels=ge();this.chartData=J(()=>{let e=this.data(),t=this.labels(),i=["#2563eb","#059669","#eab308","#ef4444","#6366f1","#f59e42","#10b981","#f43f5e","#a3e635","#f472b6"],r=0;return Object.entries(e).map(([o,s])=>({label:t[o]||o,value:s,color:i[r++%i.length]}))});qt(()=>{console.log("[BarChart] T\xEDtulo recebido:",this.title()),this.renderBarChart()})}ngAfterViewInit(){this.renderBarChart()}renderBarChart(){let e=document.querySelector("canvas#barCanvas");if(!e){console.warn("[BarChart] Canvas n\xE3o encontrado");return}let t=e.getContext("2d");if(!t){console.warn("[BarChart] Contexto 2D n\xE3o encontrado");return}let i=this.chartData(),r=i.reduce((m,y)=>m+y.value,0);if(t.clearRect(0,0,e.width,e.height),r===0){t.font="bold 18px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.textBaseline="middle",t.fillText("Sem dados",e.width/2,e.height/2);return}let o=Math.max(...i.map(m=>m.value)),s=(e.width-60)/i.length,l=Math.max(s-4,12),c=e.height-60,u=30;i.forEach((m,y)=>{let v=m.value/o*c,w=u+y*s,D=e.height-30-v;t.fillStyle=m.color,t.fillRect(w,D,l,v),v>20&&(t.font="10px sans-serif",t.fillStyle="#374151",t.textAlign="center",t.textBaseline="bottom",t.fillText(m.value.toString(),w+l/2,D-2)),t.font="8px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.textBaseline="top",t.fillText(m.label,w+l/2,e.height-25)}),t.strokeStyle="#d1d5db",t.lineWidth=1,t.beginPath(),t.moveTo(25,30),t.lineTo(25,e.height-30),t.stroke(),t.beginPath(),t.moveTo(25,e.height-30),t.lineTo(e.width-30,e.height-30),t.stroke()}};Cp.\u0275fac=function(t){return new(t||Cp)},Cp.\u0275cmp=pe({type:Cp,selectors:[["app-category-bar-chart"]],inputs:{title:[1,"title"],data:[1,"data"],labels:[1,"labels"]},decls:8,vars:2,consts:[["barCanvas",""],[1,"w-full","max-w-xs","md:max-w-md","bg-white","dark:bg-gray-800","rounded-lg","shadow","p-4","mobile-safe","flex","flex-col","items-center"],[1,"text-lg","font-semibold","mb-2","text-center"],[1,"w-full","flex","justify-center","items-center"],["id","barCanvas","width","220","height","220",1,"w-full","h-auto","max-h-64","aspect-square"],[1,"flex","flex-wrap","gap-2","justify-center","mt-4","w-full"],[4,"ngFor","ngForOf"],[1,"px-2","py-1","rounded","text-xs","font-medium"]],template:function(t,i){t&1&&(p(0,"div",1)(1,"h3",2),h(2),f(),p(3,"div",3),k(4,"canvas",4,0),f(),p(6,"div",5),de(7,Jee,3,6,"ng-container",6),f()()),t&2&&(d(2),R(i.title()),d(5),T("ngForOf",i.chartData()))},dependencies:[me,Pn],encapsulation:2,changeDetection:0});var db=Cp;var wp=class wp{constructor(){this.title=ge.required();this.data=ge();this.totalRequests=J(()=>{let e=this.data();return Object.values(e).reduce((t,i)=>t+i,0)});this.averagePerDay=J(()=>{let e=this.totalRequests();return Math.round(e/30)});this.trend=J(()=>{let e=this.data(),t=Object.keys(e).length;if(t<2)return"0%";let i=Object.values(e),r=i.slice(0,Math.floor(t/2)),o=i.slice(Math.floor(t/2)),s=r.reduce((c,u)=>c+u,0)/r.length,a=o.reduce((c,u)=>c+u,0)/o.length;if(s===0)return"0%";let l=(a-s)/s*100;return`${l>0?"+":""}${Math.round(l)}%`});this.trendColor=J(()=>this.trend().includes("+")?"text-green-600":"text-red-600");qt(()=>{console.log("[TemporalChart] T\xEDtulo recebido:",this.title()),this.renderTemporalChart()})}ngAfterViewInit(){this.renderTemporalChart()}renderTemporalChart(){let e=document.querySelector("canvas#temporalCanvas");if(!e){console.warn("[TemporalChart] Canvas n\xE3o encontrado");return}let t=e.getContext("2d");if(!t){console.warn("[TemporalChart] Contexto 2D n\xE3o encontrado");return}let i=this.data(),r=this.totalRequests();if(t.clearRect(0,0,e.width,e.height),r===0){t.font="bold 18px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.textBaseline="middle",t.fillText("Sem dados",e.width/2,e.height/2);return}let o=Object.entries(i).sort((y,v)=>y[0].localeCompare(v[0])),s=Math.max(...o.map(([,y])=>y)),a=20,l=e.width-2*a,c=e.height-2*a,u=3,m=2;t.strokeStyle="#d1d5db",t.lineWidth=1,t.beginPath(),t.moveTo(a,a),t.lineTo(a,e.height-a),t.moveTo(a,e.height-a),t.lineTo(e.width-a,e.height-a),t.stroke(),t.strokeStyle="#3b82f6",t.lineWidth=m,t.beginPath(),o.forEach(([y,v],w)=>{let D=a+w/(o.length-1)*l,I=e.height-a-v/s*c;w===0?t.moveTo(D,I):t.lineTo(D,I)}),t.stroke(),t.fillStyle="#3b82f6",o.forEach(([y,v],w)=>{let D=a+w/(o.length-1)*l,I=e.height-a-v/s*c;t.beginPath(),t.arc(D,I,u,0,2*Math.PI),t.fill()}),t.fillStyle="rgba(59, 130, 246, 0.1)",t.beginPath(),t.moveTo(a,e.height-a),o.forEach(([y,v],w)=>{let D=a+w/(o.length-1)*l,I=e.height-a-v/s*c;t.lineTo(D,I)}),t.lineTo(e.width-a,e.height-a),t.closePath(),t.fill()}};wp.\u0275fac=function(t){return new(t||wp)},wp.\u0275cmp=pe({type:wp,selectors:[["app-temporal-evolution-chart"]],inputs:{title:[1,"title"],data:[1,"data"]},decls:22,vars:6,consts:[["temporalCanvas",""],[1,"w-full","max-w-xs","md:max-w-md","bg-white","dark:bg-gray-800","rounded-lg","shadow","p-4","mobile-safe","flex","flex-col","items-center"],[1,"text-lg","font-semibold","mb-2","text-center"],[1,"w-full","flex","justify-center","items-center"],["id","temporalCanvas","width","220","height","220",1,"w-full","h-auto","max-h-64","aspect-square"],[1,"flex","flex-wrap","gap-2","justify-center","mt-4","w-full"],[1,"text-center"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-lg","font-bold","text-blue-600"],[1,"text-lg","font-bold","text-green-600"],[1,"text-lg","font-bold"]],template:function(t,i){t&1&&(De(0,"div",1)(1,"h3",2),h(2),ke(),De(3,"div",3),Di(4,"canvas",4,0),ke(),De(6,"div",5)(7,"div",6)(8,"div",7),h(9,"Total"),ke(),De(10,"div",8),h(11),ke()(),De(12,"div",6)(13,"div",7),h(14,"M\xE9dia/Dia"),ke(),De(15,"div",9),h(16),ke()(),De(17,"div",6)(18,"div",7),h(19,"Tend\xEAncia"),ke(),De(20,"div",10),h(21),ke()()()()),t&2&&(d(2),R(i.title()),d(9),x(" ",i.totalRequests()," "),d(5),x(" ",i.averagePerDay()," "),d(4),se(i.trendColor()),d(),x(" ",i.trend()," "))},dependencies:[me],encapsulation:2,changeDetection:0});var pb=wp;var Kee=n=>({category:n}),EA=(n,e)=>e.id;function ete(n,e){if(n&1&&(p(0,"span",44),h(1),g(2,"i18n"),g(3,"i18n"),f()),n&2){let t=b().$implicit;gt("bg-blue-100",t.type==="precificado")("text-blue-800",t.type==="precificado")("bg-orange-100",t.type==="or\xE7ado")("text-orange-800",t.type==="or\xE7ado"),d(),x(" ",t.type==="precificado"?_(2,9,"priced"):_(3,11,"quoted")," ")}}function tte(n,e){if(n&1&&(p(0,"span"),k(1,"i",45),h(2),f()),n&2){let t=b().$implicit;d(2),x("",t.average_time," min")}}function nte(n,e){if(n&1&&(p(0,"span"),k(1,"i",46),h(2),g(3,"number"),f()),n&2){let t=b().$implicit;d(2),R(Ye(3,1,t.price,"1.2-2"))}}function ite(n,e){if(n&1){let t=H();p(0,"div",34)(1,"div",35)(2,"div",20),k(3,"i",36),p(4,"span",37),h(5),f(),V(6,ete,4,13,"span",38),f(),p(7,"div",39),V(8,tte,3,1,"span"),V(9,nte,4,4,"span"),f()(),p(10,"div",40)(11,"button",21),g(12,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(4);return S(o.showSubcategoryDetails(r))}),k(13,"i",41),f(),p(14,"button",23),g(15,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(4);return S(o.startEditSubcategory(r))}),k(16,"i",42),f(),p(17,"button",25),g(18,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(4);return S(o.requestDeleteSubcategory(r))}),k(19,"i",43),f()()()}if(n&2){let t=e.$implicit;d(5),R(t.name),d(),j(t.type?6:-1),d(2),j(t.average_time?8:-1),d(),j(t.price?9:-1),d(2),T("title",ne(_(12,10,"details"))),d(3),T("title",ne(_(15,12,"edit"))),d(3),T("title",ne(_(18,14,"delete")))}}function rte(n,e){if(n&1&&(p(0,"div",32),ce(1,ite,20,16,"div",34,EA),f()),n&2){let t=b(2).$implicit,i=b();d(),ue(i.subcategoriesOf(t.id))}}function ote(n,e){n&1&&(p(0,"div",33),k(1,"i",47),p(2,"p",48),h(3),g(4,"i18n"),f()()),n&2&&(d(3),R(_(4,1,"noSubcategories")))}function ste(n,e){if(n&1&&(p(0,"tr",7)(1,"td",29)(2,"div",30)(3,"h4",31),h(4),g(5,"i18n"),f(),V(6,rte,3,0,"div",32)(7,ote,5,3,"div",33),f()()()),n&2){let t=b().$implicit,i=b();d(4),x(" ",_(5,2,"subcategories")," "),d(2),j(i.subcategoriesOf(t.id).length>0?6:7)}}function ate(n,e){if(n&1){let t=H();We(0),p(1,"tr",14)(2,"td",15)(3,"div",16)(4,"button",17),g(5,"i18n"),g(6,"i18n"),A("click",function(){let r=E(t).$implicit,o=b();return S(o.toggleExpand(r.id))}),k(7,"i"),f(),p(8,"span"),h(9),f()()(),p(10,"td",18),h(11),f(),p(12,"td",19)(13,"div",20)(14,"button",21),g(15,"i18n"),A("click",function(){let r=E(t).$implicit,o=b();return S(o.showDetails(r))}),k(16,"i",22),f(),p(17,"button",23),g(18,"i18n"),A("click",function(){let r=E(t).$implicit,o=b();return S(o.startEditCategory(r))}),k(19,"i",24),f(),p(20,"button",25),g(21,"i18n"),A("click",function(){let r=E(t).$implicit,o=b();return S(o.requestDeleteCategory(r))}),k(22,"i",26),f(),p(23,"button",27),g(24,"i18n"),A("click",function(){let r=E(t).$implicit,o=b();return S(o.manageSubcategories(r))}),k(25,"i",4),f()()()(),de(26,ste,8,4,"tr",28),Ge()}if(n&2){let t=e.$implicit,i=b();d(4),Ke("aria-expanded",i.isExpanded(t.id))("aria-label",i.isExpanded(t.id)?_(5,15,"collapse"):_(6,17,"expand")),d(3),se(i.isExpanded(t.id)?"fas fa-chevron-down":"fas fa-chevron-right"),d(2),R(t.name),d(2),x(" ",i.subcategoryCounts().get(t.id)||0," "),d(3),T("title",ne(_(15,19,"details"))),d(3),T("title",ne(_(18,21,"edit"))),d(3),T("title",ne(_(21,23,"delete"))),d(3),T("title",ne(_(24,25,"addSubcategory"))),d(3),T("ngIf",i.isExpanded(t.id))}}function lte(n,e){if(n&1&&(p(0,"span",44),h(1),g(2,"i18n"),g(3,"i18n"),f()),n&2){let t=b().$implicit;gt("bg-blue-100",t.type==="precificado")("text-blue-800",t.type==="precificado")("bg-orange-100",t.type==="or\xE7ado")("text-orange-800",t.type==="or\xE7ado"),d(),x(" ",t.type==="precificado"?_(2,9,"priced"):_(3,11,"quoted")," ")}}function cte(n,e){if(n&1&&(p(0,"span"),k(1,"i",45),h(2),f()),n&2){let t=b().$implicit;d(2),x("",t.average_time," min")}}function ute(n,e){if(n&1&&(p(0,"span"),k(1,"i",46),h(2),g(3,"number"),f()),n&2){let t=b().$implicit;d(2),R(Ye(3,1,t.price,"1.2-2"))}}function dte(n,e){if(n&1){let t=H();p(0,"div",66)(1,"div",67)(2,"div",35)(3,"div",68)(4,"span",37),h(5),f(),V(6,lte,4,13,"span",38),f(),p(7,"div",69),V(8,cte,3,1,"span"),V(9,ute,4,4,"span"),f()()(),p(10,"div",70)(11,"button",71),A("click",function(){let r=E(t).$implicit,o=b(4);return S(o.showSubcategoryDetails(r))}),k(12,"i",72),h(13),g(14,"i18n"),f(),p(15,"button",73),A("click",function(){let r=E(t).$implicit,o=b(4);return S(o.startEditSubcategory(r))}),k(16,"i",74),h(17),g(18,"i18n"),f(),p(19,"button",75),A("click",function(){let r=E(t).$implicit,o=b(4);return S(o.requestDeleteSubcategory(r))}),k(20,"i",76),h(21),g(22,"i18n"),f()()()}if(n&2){let t=e.$implicit;d(5),R(t.name),d(),j(t.type?6:-1),d(2),j(t.average_time?8:-1),d(),j(t.price?9:-1),d(4),x(" ",_(14,7,"details")," "),d(4),x(" ",_(18,9,"edit")," "),d(4),x(" ",_(22,11,"delete")," ")}}function pte(n,e){if(n&1&&(p(0,"div",32),ce(1,dte,23,13,"div",66,EA),f()),n&2){let t=b(2).$implicit,i=b();d(),ue(i.subcategoriesOf(t.id))}}function fte(n,e){n&1&&(p(0,"div",65),k(1,"i",77),p(2,"p",78),h(3),g(4,"i18n"),f()()),n&2&&(d(3),R(_(4,1,"noSubcategories")))}function hte(n,e){if(n&1&&(p(0,"div",63)(1,"h5",64),h(2),g(3,"i18n"),f(),V(4,pte,3,0,"div",32)(5,fte,5,3,"div",65),f()),n&2){let t=b().$implicit,i=b();d(2),R(_(3,2,"subcategories")),d(2),j(i.subcategoriesOf(t.id).length>0?4:5)}}function mte(n,e){if(n&1){let t=H();p(0,"div",12)(1,"div",49)(2,"div",50)(3,"div",35)(4,"h4",51),h(5),f(),p(6,"p",52),h(7),g(8,"i18n"),f()(),p(9,"button",53),A("click",function(){let r=E(t).$implicit,o=b();return S(o.toggleExpand(r.id))}),k(10,"i"),f()(),p(11,"div",54)(12,"button",55),A("click",function(){let r=E(t).$implicit,o=b();return S(o.showDetails(r))}),k(13,"i",56),h(14),g(15,"i18n"),f(),p(16,"button",57),A("click",function(){let r=E(t).$implicit,o=b();return S(o.startEditCategory(r))}),k(17,"i",58),h(18),g(19,"i18n"),f(),p(20,"button",59),A("click",function(){let r=E(t).$implicit,o=b();return S(o.manageSubcategories(r))}),k(21,"i",60),h(22),g(23,"i18n"),f(),p(24,"button",61),A("click",function(){let r=E(t).$implicit,o=b();return S(o.requestDeleteCategory(r))}),k(25,"i",62),f()()(),V(26,hte,6,4,"div",63),f()}if(n&2){let t=e.$implicit,i=b();d(5),R(t.name),d(2),Qe(" ",i.subcategoryCounts().get(t.id)||0," ",_(8,9,"subcategories")," "),d(3),se(i.isExpanded(t.id)?"fas fa-chevron-up":"fas fa-chevron-down"),d(4),x(" ",_(15,11,"details")," "),d(4),x(" ",_(19,13,"edit")," "),d(4),x(" ",_(23,15,"add")," "),d(4),j(i.isExpanded(t.id)?26:-1)}}function gte(n,e){if(n&1){let t=H();p(0,"div",79),A("click",function(){E(t);let r=b();return S(r.closeAddCategoryModal())})("keydown.escape",function(){E(t);let r=b();return S(r.closeAddCategoryModal())}),p(1,"div",80),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown",function(r){return E(t),S(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),A("click",function(){E(t);let r=b();return S(r.closeAddCategoryModal())}),h(7," \u2715 "),f()(),p(8,"div",84)(9,"input",85),A("input",function(r){E(t);let o=b();return S(o.newCategory.set(r.target.value))})("keydown.enter",function(){E(t);let r=b();return S(r.addCategory())}),f()(),p(10,"div",86)(11,"button",87),A("click",function(){E(t);let r=b();return S(r.addCategory())}),h(12),g(13,"i18n"),f(),p(14,"button",88),A("click",function(){E(t);let r=b();return S(r.closeAddCategoryModal())}),h(15),g(16,"i18n"),f()()()()}if(n&2){let t=b();d(4),R(_(5,4,"addNewCategory")),d(5),T("value",t.newCategory()),d(3),x(" ",_(13,6,"add")," "),d(3),x(" ",_(16,8,"cancel")," ")}}function vte(n,e){if(n&1){let t=H();p(0,"div",79),A("click",function(){E(t);let r=b();return S(r.editingCategory.set(null))})("keydown.escape",function(){E(t);let r=b();return S(r.editingCategory.set(null))}),p(1,"div",80),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown",function(r){return E(t),S(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),A("click",function(){E(t);let r=b();return S(r.editingCategory.set(null))}),h(7," \u2715 "),f()(),p(8,"div",84)(9,"input",89),A("input",function(r){E(t);let o=b();return S(o.editingCategoryName.set(r.target.value))})("keydown.enter",function(){E(t);let r=b();return S(r.saveCategoryEdit())}),f()(),p(10,"div",86)(11,"button",90),A("click",function(){E(t);let r=b();return S(r.saveCategoryEdit())}),h(12),g(13,"i18n"),f(),p(14,"button",88),A("click",function(){E(t);let r=b();return S(r.editingCategory.set(null))}),h(15),g(16,"i18n"),f()()()()}if(n&2){let t=b();d(4),R(_(5,4,"editCategory")),d(5),T("value",t.editingCategoryName()),d(3),x(" ",_(13,6,"save")," "),d(3),x(" ",_(16,8,"cancel")," ")}}function _te(n,e){if(n&1){let t=H();p(0,"div",79),A("click",function(){E(t);let r=b();return S(r.selectedCategoryForDetails.set(null))})("keydown.escape",function(){E(t);let r=b();return S(r.selectedCategoryForDetails.set(null))}),p(1,"div",80),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown",function(r){return E(t),S(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),A("click",function(){E(t);let r=b();return S(r.selectedCategoryForDetails.set(null))}),h(7," \u2715 "),f()(),p(8,"div",84)(9,"p",91),h(10,"Nome"),f(),p(11,"p"),h(12),f(),p(13,"p",92),h(14,"Total de Subcategorias"),f(),p(15,"p"),h(16),f()(),p(17,"div",93)(18,"button",88),A("click",function(){E(t);let r=b();return S(r.selectedCategoryForDetails.set(null))}),h(19),g(20,"i18n"),f()()()()}if(n&2){let t,i,r=b();d(4),R(_(5,4,"categoryDetails")),d(8),R((t=r.selectedCategoryForDetails())==null?null:t.name),d(4),x(" ",r.subcategoryCounts().get(((i=r.selectedCategoryForDetails())==null?null:i.id)||0)||0," "),d(3),x(" ",_(20,6,"close")," ")}}function yte(n,e){if(n&1){let t=H();p(0,"li",108)(1,"span"),h(2),f(),p(3,"div",109)(4,"button",110),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.startEditSubcategory(r))}),h(5),g(6,"i18n"),f(),p(7,"button",111),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.requestDeleteSubcategory(r))}),h(8),g(9,"i18n"),f()()()}if(n&2){let t=e.$implicit;d(2),R(t.name),d(3),x(" ",_(6,3,"edit")," "),d(3),x(" ",_(9,5,"delete")," ")}}function bte(n,e){if(n&1){let t=H();p(0,"div",79),A("click",function(){E(t);let r=b();return S(r.selectedCategoryForSubcategories.set(null))})("keydown.escape",function(){E(t);let r=b();return S(r.selectedCategoryForSubcategories.set(null))}),p(1,"div",94),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown",function(r){return E(t),S(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),A("click",function(){E(t);let r=b();return S(r.selectedCategoryForSubcategories.set(null))}),h(7," \u2715 "),f()(),p(8,"div",84)(9,"input",95),A("input",function(r){E(t);let o=b();return S(o.newSubcategoryName.set(r.target.value))})("keydown.enter",function(){E(t);let r=b();return S(r.addSubcategoryToCategory())}),f(),p(10,"div",96)(11,"select",97),A("change",function(r){E(t);let o=b();return S(o.onNewSubcategoryTypeChange(r.target.value))}),p(12,"option",98),h(13),g(14,"i18n"),f(),p(15,"option",99),h(16),g(17,"i18n"),f(),p(18,"option",100),h(19),g(20,"i18n"),f()(),p(21,"input",101),A("input",function(r){E(t);let o=b();return S(o.newSubcategoryAverageTime.set(r.target.valueAsNumber||null))}),f(),p(22,"input",102),A("input",function(r){E(t);let o=b();return S(o.newSubcategoryPrice.set(r.target.valueAsNumber||null))}),f(),p(23,"textarea",103),A("input",function(r){E(t);let o=b();return S(o.newSubcategoryDescription.set(r.target.value))}),f()(),p(24,"div",104)(25,"button",105),A("click",function(){E(t);let r=b();return S(r.addSubcategoryToCategory())}),h(26),g(27,"i18n"),f(),p(28,"button",88),A("click",function(){E(t);let r=b();return S(r.selectedCategoryForSubcategories.set(null))}),h(29),g(30,"i18n"),f()()(),p(31,"ul",106),de(32,yte,10,7,"li",107),f()()()}if(n&2){let t,i=b();d(4),x(" ",Ye(5,19,"subcategoriesOf",Rn(32,Kee,((t=i.selectedCategoryForSubcategories())==null?null:t.name)||""))," "),d(5),T("value",i.newSubcategoryName()),d(2),T("value",i.newSubcategoryType()),d(2),R(_(14,22,"selectOption")),d(3),R(_(17,24,"priced")),d(3),R(_(20,26,"quoted")),d(2),gt("opacity-50",i.newSubcategoryType()==="or\xE7ado"),T("value",i.newSubcategoryAverageTime())("disabled",i.newSubcategoryType()==="or\xE7ado"),d(),gt("opacity-50",i.newSubcategoryType()==="or\xE7ado"),T("value",i.newSubcategoryPrice())("disabled",i.newSubcategoryType()==="or\xE7ado"),d(),T("value",i.newSubcategoryDescription()),d(3),x(" ",_(27,28,"addSubcategory")," "),d(3),x(" ",_(30,30,"cancel")," "),d(3),T("ngForOf",i.subcategoriesForSelectedCategory())("ngForTrackBy",i.trackBySubId)}}function xte(n,e){if(n&1){let t=H();p(0,"div",79),A("click",function(){E(t);let r=b();return S(r.editingSubcategory.set(null))})("keydown.escape",function(){E(t);let r=b();return S(r.editingSubcategory.set(null))}),p(1,"div",80),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown",function(r){return E(t),S(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),A("click",function(){E(t);let r=b();return S(r.editingSubcategory.set(null))}),h(7," \u2715 "),f()(),p(8,"div",112)(9,"input",113),A("input",function(r){E(t);let o=b();return S(o.editingSubcategoryName.set(r.target.value))}),f(),p(10,"select",97),A("change",function(r){E(t);let o=b();return S(o.onEditingSubcategoryTypeChange(r.target.value))}),p(11,"option",98),h(12),g(13,"i18n"),f(),p(14,"option",99),h(15),g(16,"i18n"),f(),p(17,"option",100),h(18),g(19,"i18n"),f()(),p(20,"input",101),A("input",function(r){E(t);let o=b();return S(o.editingSubcategoryAverageTime.set(r.target.valueAsNumber||null))}),f(),p(21,"input",102),A("input",function(r){E(t);let o=b();return S(o.editingSubcategoryPrice.set(r.target.valueAsNumber||null))}),f(),p(22,"textarea",103),A("input",function(r){E(t);let o=b();return S(o.editingSubcategoryDescription.set(r.target.value))}),f()(),p(23,"div",86)(24,"button",90),A("click",function(){E(t);let r=b();return S(r.saveSubcategoryEdit())}),h(25),g(26,"i18n"),f(),p(27,"button",88),A("click",function(){E(t);let r=b();return S(r.editingSubcategory.set(null))}),h(28),g(29,"i18n"),f()()()()}if(n&2){let t=b();d(4),R(_(5,17,"editSubcategory")),d(5),T("value",t.editingSubcategoryName()),d(),T("value",t.editingSubcategoryType()),d(2),R(_(13,19,"selectOption")),d(3),R(_(16,21,"priced")),d(3),R(_(19,23,"quoted")),d(2),gt("opacity-50",t.editingSubcategoryType()==="or\xE7ado"),T("value",t.editingSubcategoryAverageTime())("disabled",t.editingSubcategoryType()==="or\xE7ado"),d(),gt("opacity-50",t.editingSubcategoryType()==="or\xE7ado"),T("value",t.editingSubcategoryPrice())("disabled",t.editingSubcategoryType()==="or\xE7ado"),d(),T("value",t.editingSubcategoryDescription()),d(3),x(" ",_(26,25,"save")," "),d(3),x(" ",_(29,27,"cancel")," ")}}function Cte(n,e){if(n&1){let t=H();p(0,"div",79),A("click",function(){E(t);let r=b();return S(r.cancelDeleteSubcategory())})("keydown.escape",function(){E(t);let r=b();return S(r.cancelDeleteSubcategory())}),p(1,"div",80),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown",function(r){return E(t),S(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4,"Excluir Subcategoria"),f(),p(5,"button",83),A("click",function(){E(t);let r=b();return S(r.cancelDeleteSubcategory())}),h(6," \u2715 "),f()(),p(7,"p"),h(8),f(),p(9,"div",114)(10,"button",115),A("click",function(){E(t);let r=b();return S(r.confirmDeleteSubcategory())}),h(11," Excluir "),f(),p(12,"button",88),A("click",function(){E(t);let r=b();return S(r.cancelDeleteSubcategory())}),h(13," Cancelar "),f()()()()}if(n&2){let t,i=b();d(8),x("Confirma exclus\xE3o de: ",(t=i.subcategoryToDelete())==null?null:t.name)}}function wte(n,e){if(n&1){let t=H();p(0,"div",79),A("click",function(){E(t);let r=b();return S(r.cancelDeleteCategory())})("keydown.escape",function(){E(t);let r=b();return S(r.cancelDeleteCategory())}),p(1,"div",80),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown",function(r){return E(t),S(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4,"Excluir Categoria"),f(),p(5,"button",83),A("click",function(){E(t);let r=b();return S(r.cancelDeleteCategory())}),h(6," \u2715 "),f()(),p(7,"p"),h(8),f(),p(9,"div",114)(10,"button",115),A("click",function(){E(t);let r=b();return S(r.confirmDeleteCategory())}),h(11," Excluir "),f(),p(12,"button",88),A("click",function(){E(t);let r=b();return S(r.cancelDeleteCategory())}),h(13," Cancelar "),f()()()()}if(n&2){let t,i=b();d(8),x("Confirma exclus\xE3o de: ",(t=i.categoryToDelete())==null?null:t.name)}}function Ete(n,e){if(n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"span",127),h(5),g(6,"i18n"),g(7,"i18n"),f()()),n&2){let t,i,r,o,s,a=b(2);d(2),x(" ",_(3,10,"type")," "),d(2),gt("bg-blue-100",((t=a.selectedSubcategoryForDetails())==null?null:t.type)==="precificado")("text-blue-800",((i=a.selectedSubcategoryForDetails())==null?null:i.type)==="precificado")("bg-orange-100",((r=a.selectedSubcategoryForDetails())==null?null:r.type)==="or\xE7ado")("text-orange-800",((o=a.selectedSubcategoryForDetails())==null?null:o.type)==="or\xE7ado"),d(),x(" ",((s=a.selectedSubcategoryForDetails())==null?null:s.type)==="precificado"?_(6,12,"priced"):_(7,14,"quoted")," ")}}function Ste(n,e){if(n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"p",122),k(5,"i",128),h(6),g(7,"i18n"),f()()),n&2){let t,i=b(2);d(2),x(" ",_(3,3,"averageTime")," "),d(4),Qe(" ",(t=i.selectedSubcategoryForDetails())==null?null:t.average_time_minutes," ",_(7,5,"minutes")," ")}}function Dte(n,e){if(n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"p",122),k(5,"i",129),h(6),g(7,"number"),f()()),n&2){let t,i=b(2);d(2),x(" ",_(3,2,"price")," "),d(4),x(" ",Ye(7,4,(t=i.selectedSubcategoryForDetails())==null?null:t.price,"1.2-2")," ")}}function Ate(n,e){if(n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"p",130),h(5),f()()),n&2){let t,i=b(2);d(2),x(" ",_(3,2,"description")," "),d(3),x(" ",(t=i.selectedSubcategoryForDetails())==null?null:t.description," ")}}function Tte(n,e){n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"p",131),h(5),g(6,"i18n"),f()()),n&2&&(d(2),x(" ",_(3,2,"description")," "),d(3),R(_(6,4,"noDescription")))}function Ite(n,e){if(n&1){let t=H();p(0,"div",79),A("click",function(){E(t);let r=b();return S(r.closeSubcategoryDetails())})("keydown.escape",function(){E(t);let r=b();return S(r.closeSubcategoryDetails())}),p(1,"div",94),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown",function(r){return E(t),S(r.stopPropagation())}),p(2,"div",116)(3,"h2",117),h(4),g(5,"i18n"),f(),p(6,"button",118),A("click",function(){E(t);let r=b();return S(r.closeSubcategoryDetails())}),k(7,"i",119),f()(),p(8,"div",120)(9,"div")(10,"p",121),h(11),g(12,"i18n"),f(),p(13,"p",122),h(14),f()(),p(15,"div")(16,"p",121),h(17),g(18,"i18n"),f(),p(19,"p",122),h(20),f()(),de(21,Ete,8,16,"div",123)(22,Ste,8,7,"div",123)(23,Dte,8,7,"div",123)(24,Ate,6,4,"div",123)(25,Tte,7,6,"div",123),f(),p(26,"div",124)(27,"button",125),A("click",function(){E(t);let r=b();return S(r.startEditSubcategory(r.selectedSubcategoryForDetails()))}),k(28,"i",24),h(29),g(30,"i18n"),f(),p(31,"button",126),A("click",function(){E(t);let r=b();return S(r.closeSubcategoryDetails())}),h(32),g(33,"i18n"),f()()()()}if(n&2){let t,i,r,o,s,a,l,c=b();d(4),R(_(5,12,"subcategoryDetails")),d(7),x(" ",_(12,14,"name")," "),d(3),R((t=c.selectedSubcategoryForDetails())==null?null:t.name),d(3),x(" ",_(18,16,"category")," "),d(3),x(" ",c.getCategoryName(((i=c.selectedSubcategoryForDetails())==null?null:i.category_id)||0)," "),d(),T("ngIf",(r=c.selectedSubcategoryForDetails())==null?null:r.type),d(),T("ngIf",(o=c.selectedSubcategoryForDetails())==null?null:o.average_time_minutes),d(),T("ngIf",(s=c.selectedSubcategoryForDetails())==null?null:s.price),d(),T("ngIf",(a=c.selectedSubcategoryForDetails())==null?null:a.description),d(),T("ngIf",!((l=c.selectedSubcategoryForDetails())!=null&&l.description)),d(4),x(" ",_(30,18,"edit")," "),d(3),x(" ",_(33,20,"close")," ")}}var Ep=class Ep{constructor(){this.newCategory=F("");this.dataService=$(kt);this.selectedCategoryForSubcategories=F(null);this.subcategoriesForSelectedCategory=J(()=>{let e=this.selectedCategoryForSubcategories();return e?this.allSubcategories().filter(t=>t.category_id===e.id):[]});this.editingCategory=F(null);this.editingCategoryName=F("");this.showAddCategoryModal=F(!1);this.allCategories=J(()=>this.dataService.categories());this.showDeleteModal=F(!1);this.categoryToDelete=F(null);this.expandedCategories=F(new Set);this.selectedCategoryForDetails=F(null);this.selectedCategoryForSubcategory=F("");this.newSubcategoryName=F("");this.newSubcategoryType=F("");this.newSubcategoryAverageTime=F(null);this.newSubcategoryPrice=F(null);this.newSubcategoryDescription=F(null);this.allSubcategories=J(()=>this.dataService.subcategories());this.subcategoryCounts=J(()=>{let e=new Map;for(let t of this.allSubcategories())e.set(t.category_id,(e.get(t.category_id)||0)+1);return e});this.editingSubcategory=F(null);this.editingSubcategoryName=F("");this.editingSubcategoryType=F("");this.editingSubcategoryAverageTime=F(null);this.editingSubcategoryPrice=F(null);this.editingSubcategoryDescription=F(null);this.selectedSubcategoryForDetails=F(null);this.showDeleteSubcategoryModal=F(!1);this.subcategoryToDelete=F(null)}manageSubcategories(e){this.selectedCategoryForSubcategories.set(e),this.newSubcategoryName.set(""),this.editingSubcategory.set(null),this.showDeleteSubcategoryModal.set(!1),this.subcategoryToDelete.set(null)}async addSubcategoryToCategory(){let e=this.selectedCategoryForSubcategories(),t=this.newSubcategoryName().trim();if(!e||!t||this.subcategoriesForSelectedCategory().some(o=>o.name===t))return;let i=this.newSubcategoryType()||void 0,r={type:i,description:this.newSubcategoryDescription()};i!=="or\xE7ado"&&(r.average_time_minutes=this.newSubcategoryAverageTime(),r.price=this.newSubcategoryPrice()),await this.dataService.addSubcategory(t,e.id,r),this.newSubcategoryName.set(""),this.newSubcategoryType.set(""),this.newSubcategoryAverageTime.set(null),this.newSubcategoryPrice.set(null),this.newSubcategoryDescription.set(null)}categoryExists(e){let t=e.trim();return t?this.allCategories().some(i=>i.name===t):!1}addCategory(){let e=this.newCategory().trim();e&&!this.allCategories().some(t=>t.name===e)&&(this.dataService.addCategory(e),this.newCategory.set(""),this.showAddCategoryModal.set(!1))}startEditCategory(e){this.editingCategory.set(e),this.editingCategoryName.set(e.name)}saveCategoryEdit(){let e=this.editingCategory(),t=this.editingCategoryName().trim();if(!e||!t||t===e.name){this.editingCategory.set(null);return}this.allCategories().some(i=>i.name===t)||(this.dataService.updateCategory(e.id,t),this.editingCategory.set(null),this.editingCategoryName.set(""))}requestDeleteCategory(e){this.categoryToDelete.set(e),this.showDeleteModal.set(!0)}confirmDeleteCategory(){let e=this.categoryToDelete();e&&this.dataService.deleteCategory(e.id),this.showDeleteModal.set(!1),this.categoryToDelete.set(null)}cancelDeleteCategory(){this.showDeleteModal.set(!1),this.categoryToDelete.set(null)}trackById(e,t){return t.id}toggleExpand(e){let t=new Set(this.expandedCategories());t.has(e)?t.delete(e):t.add(e),this.expandedCategories.set(t)}isExpanded(e){return this.expandedCategories().has(e)}subcategoriesOf(e){return this.allSubcategories().filter(t=>t.category_id===e)}showDetails(e){this.selectedCategoryForDetails.set(e)}subcategoryExists(e,t,i){let r=e.trim();return!r||!t?!1:this.allSubcategories().some(o=>o.id!==i&&o.name===r&&o.category_id===Number(t))}async addSubcategory(){let e=this.newSubcategoryName().trim(),t=Number(this.selectedCategoryForSubcategory());if(!e||!t||this.subcategoryExists(e,t))return;let i=this.newSubcategoryType()||void 0,r={type:i,description:this.newSubcategoryDescription()};i!=="or\xE7ado"&&(r.average_time_minutes=this.newSubcategoryAverageTime(),r.price=this.newSubcategoryPrice()),await this.dataService.addSubcategory(e,t,r),this.newSubcategoryName.set("")}startEditSubcategory(e){this.editingSubcategory.set(e),this.editingSubcategoryName.set(e.name);let t=e;this.editingSubcategoryType.set(t.type||""),this.editingSubcategoryAverageTime.set(t.average_time_minutes??null),this.editingSubcategoryPrice.set(t.price??null),this.editingSubcategoryDescription.set(t.description??null)}async saveSubcategoryEdit(){let e=this.editingSubcategory(),t=this.editingSubcategoryName().trim();if(!e||!t){this.editingSubcategory.set(null);return}if(t!==e.name&&this.subcategoryExists(t,e.category_id,e.id))return;let i=this.editingSubcategoryType()||null,r={name:t,type:i,description:this.editingSubcategoryDescription()??null};i!=="or\xE7ado"?(r.average_time_minutes=this.editingSubcategoryAverageTime()??null,r.price=this.editingSubcategoryPrice()??null):(r.average_time_minutes=null,r.price=null),await this.dataService.updateSubcategory(e.id,r),this.editingSubcategory.set(null),this.editingSubcategoryName.set("")}onNewSubcategoryTypeChange(e){let t=e||"";this.newSubcategoryType.set(t),t==="or\xE7ado"&&(this.newSubcategoryAverageTime.set(null),this.newSubcategoryPrice.set(null))}onEditingSubcategoryTypeChange(e){let t=e||"";this.editingSubcategoryType.set(t),t==="or\xE7ado"&&(this.editingSubcategoryAverageTime.set(null),this.editingSubcategoryPrice.set(null))}showSubcategoryDetails(e){this.selectedSubcategoryForDetails.set(e)}closeSubcategoryDetails(){this.selectedSubcategoryForDetails.set(null)}getCategoryName(e){return this.allCategories().find(i=>i.id===e)?.name||"N/A"}requestDeleteSubcategory(e){this.subcategoryToDelete.set(e),this.showDeleteSubcategoryModal.set(!0)}async confirmDeleteSubcategory(){let e=this.subcategoryToDelete();e&&await this.dataService.deleteSubcategory(e.id),this.showDeleteSubcategoryModal.set(!1),this.subcategoryToDelete.set(null)}cancelDeleteSubcategory(){this.showDeleteSubcategoryModal.set(!1),this.subcategoryToDelete.set(null)}trackBySubId(e,t){return t.id}closeAddCategoryModal(){this.showAddCategoryModal.set(!1),this.newCategory.set("")}};Ep.\u0275fac=function(t){return new(t||Ep)},Ep.\u0275cmp=pe({type:Ep,selectors:[["app-category-management"]],decls:35,vars:25,consts:[[1,"bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-4","border-b","flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-4"],[1,"text-xl","font-semibold"],[1,"w-full","sm:w-auto","px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","flex","items-center","justify-center","gap-2",3,"click"],[1,"fas","fa-plus"],[1,"hidden","lg:block"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"lg:hidden","p-4","space-y-4"],[1,"border","border-gray-200","rounded-lg","overflow-hidden"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",3,"click","keydown.escape",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"flex","items-center","gap-3"],["type","button",1,"p-2","text-gray-500","hover:text-gray-700","hover:bg-gray-100","rounded-full","transition-colors",3,"click"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","items-center","gap-2"],["type","button",1,"p-2","text-gray-600","hover:text-gray-800","hover:bg-gray-50","rounded-full","transition-colors",3,"click","title"],[1,"fas","fa-eye"],["type","button",1,"p-2","text-blue-600","hover:text-blue-800","hover:bg-blue-50","rounded-full","transition-colors",3,"click","title"],[1,"fas","fa-edit"],["type","button",1,"p-2","text-red-600","hover:text-red-800","hover:bg-red-50","rounded-full","transition-colors",3,"click","title"],[1,"fas","fa-times"],["type","button",1,"p-2","text-green-600","hover:text-green-800","hover:bg-green-50","rounded-full","transition-colors",3,"click","title"],["class","bg-gray-50",4,"ngIf"],["colspan","3",1,"px-6","py-4"],[1,"pl-12"],[1,"text-sm","font-semibold","text-gray-700","mb-3"],[1,"space-y-2"],[1,"text-center","py-6"],[1,"flex","items-center","justify-between","p-3","bg-white","rounded-md","border","border-gray-200","hover:border-gray-300"],[1,"flex-1"],[1,"fas","fa-tag","text-gray-400","text-xs"],[1,"text-sm","font-medium","text-gray-900"],[1,"inline-flex","px-2","py-0.5","text-xs","font-medium","rounded-full",3,"bg-blue-100","text-blue-800","bg-orange-100","text-orange-800"],[1,"flex","items-center","gap-4","mt-1","ml-5","text-xs","text-gray-500"],[1,"flex","gap-1","ml-4"],[1,"fas","fa-eye","text-xs"],[1,"fas","fa-edit","text-xs"],[1,"fas","fa-times","text-xs"],[1,"inline-flex","px-2","py-0.5","text-xs","font-medium","rounded-full"],[1,"fas","fa-clock","mr-1"],[1,"fas","fa-euro-sign","mr-1"],[1,"fas","fa-inbox","text-3xl","text-gray-300","mb-2"],[1,"text-sm","text-gray-500"],[1,"p-4","bg-white"],[1,"flex","justify-between","items-start","mb-3"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-xs","text-gray-500","mt-1"],["type","button",1,"p-2","text-gray-500","hover:text-gray-700","rounded-full",3,"click"],[1,"flex","flex-wrap","gap-2"],["type","button",1,"flex-1","min-w-[80px]","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-50","hover:bg-gray-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-eye","mr-2"],["type","button",1,"flex-1","min-w-[80px]","px-3","py-2","text-sm","font-medium","text-blue-600","bg-blue-50","hover:bg-blue-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-edit","mr-2"],["type","button",1,"flex-1","min-w-[80px]","px-3","py-2","text-sm","font-medium","text-green-600","bg-green-50","hover:bg-green-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-plus","mr-2"],["type","button",1,"px-3","py-2","text-sm","font-medium","text-red-600","bg-red-50","hover:bg-red-100","rounded-md","transition-colors",3,"click"],[1,"fas","fa-trash"],[1,"border-t","border-gray-200","bg-gray-50","p-4"],[1,"text-xs","font-semibold","text-gray-700","mb-3"],[1,"text-center","py-4"],[1,"p-3","bg-white","rounded-md","border","border-gray-200"],[1,"flex","justify-between","items-start","mb-2"],[1,"flex","items-center","gap-2","mb-1"],[1,"flex","items-center","gap-3","mt-1","text-xs","text-gray-500"],[1,"flex","gap-2","pt-2","border-t","border-gray-100"],["type","button",1,"flex-1","px-3","py-1.5","text-xs","font-medium","text-gray-600","bg-gray-50","hover:bg-gray-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-eye","mr-1"],["type","button",1,"flex-1","px-3","py-1.5","text-xs","font-medium","text-blue-600","bg-blue-50","hover:bg-blue-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-edit","mr-1"],["type","button",1,"flex-1","px-3","py-1.5","text-xs","font-medium","text-red-600","bg-red-50","hover:bg-red-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-times","mr-1"],[1,"fas","fa-inbox","text-2xl","text-gray-300","mb-2"],[1,"text-xs","text-gray-500"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click","keydown.escape"],[1,"bg-white","rounded-lg","shadow-xl","max-w-md","w-full","mx-4","p-6",3,"click","keydown"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-bold"],["type","button",1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"mb-4"],["type","text","placeholder","Nome da categoria",1,"w-full","p-2","border","rounded-md",3,"input","keydown.enter","value"],[1,"flex","justify-end","gap-2"],["type","button",1,"px-4","py-2","bg-indigo-600","text-white","rounded-md",3,"click"],["type","button",1,"px-4","py-2","bg-gray-300","rounded-md",3,"click"],["type","text",1,"w-full","p-2","border","rounded-md",3,"input","keydown.enter","value"],["type","button",1,"px-4","py-2","bg-blue-600","text-white","rounded-md",3,"click"],[1,"font-semibold"],[1,"mt-2","font-semibold"],[1,"flex","justify-end"],[1,"bg-white","rounded-lg","shadow-xl","max-w-lg","w-full","mx-4","p-6",3,"click","keydown"],["type","text","placeholder","Nome da subcategoria",1,"w-full","p-2","border","rounded-md",3,"input","keydown.enter","value"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2","mt-2"],[1,"p-2","border","rounded-md",3,"change","value"],["value",""],["value","precificado"],["value","or\xE7ado"],["type","number","placeholder","Tempo m\xE9dio (min)","min","0",1,"p-2","border","rounded-md",3,"input","value","disabled"],["type","number","placeholder","Pre\xE7o (\u20AC)","step","0.01","min","0",1,"p-2","border","rounded-md",3,"input","value","disabled"],["placeholder","Descri\xE7\xE3o (opcional)",1,"p-2","border","rounded-md","w-full",3,"input","value"],[1,"flex","justify-end","gap-2","mt-2"],["type","button",1,"px-4","py-2","bg-green-600","text-white","rounded-md",3,"click"],[1,"list-disc","pl-6"],["class","flex items-center justify-between mb-2",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","gap-2"],["type","button",1,"px-2","py-1","bg-blue-500","text-white","rounded","text-xs",3,"click"],["type","button",1,"px-2","py-1","bg-red-500","text-white","rounded","text-xs",3,"click"],[1,"mb-4","grid","grid-cols-1","gap-2"],["type","text",1,"w-full","p-2","border","rounded-md",3,"input","value"],[1,"flex","justify-end","gap-2","mt-4"],["type","button",1,"px-4","py-2","bg-red-600","text-white","rounded-md",3,"click"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-bold","text-gray-900"],["type","button",1,"text-gray-400","hover:text-gray-600","transition-colors",3,"click"],[1,"fas","fa-times","text-xl"],[1,"space-y-4"],[1,"block","text-sm","font-semibold","text-gray-700","mb-1"],[1,"text-base","text-gray-900"],[4,"ngIf"],[1,"flex","justify-end","gap-2","mt-6","pt-4","border-t","border-gray-200"],["type","button",1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","transition-colors","flex","items-center","gap-2",3,"click"],["type","button",1,"px-4","py-2","bg-gray-300","text-gray-700","rounded-md","hover:bg-gray-400","transition-colors",3,"click"],[1,"inline-flex","px-3","py-1","text-sm","font-medium","rounded-full"],[1,"fas","fa-clock","mr-2","text-gray-500"],[1,"fas","fa-euro-sign","mr-2","text-gray-500"],[1,"text-base","text-gray-900","bg-gray-50","p-3","rounded-md"],[1,"text-sm","text-gray-500","italic"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"h3",2),h(3),g(4,"i18n"),f(),p(5,"button",3),A("click",function(){return i.showAddCategoryModal.set(!0)}),k(6,"i",4),h(7),g(8,"i18n"),f()(),p(9,"div",5)(10,"table",6)(11,"thead",7)(12,"tr")(13,"th",8),h(14),g(15,"i18n"),f(),p(16,"th",8),h(17),g(18,"i18n"),f(),p(19,"th",8),h(20),g(21,"i18n"),f()()(),p(22,"tbody",9),de(23,ate,27,27,"ng-container",10),f()()(),p(24,"div",11),ce(25,mte,27,17,"div",12,EA),f()(),de(27,gte,17,10,"div",13)(28,vte,17,10,"div",13)(29,_te,21,8,"div",13)(30,bte,33,34,"div",13)(31,xte,30,29,"div",13)(32,Cte,14,1,"div",13)(33,wte,14,1,"div",13)(34,Ite,34,22,"div",13)),t&2&&(d(3),R(_(4,15,"serviceCategories")),d(4),x(" ",_(8,17,"addNewCategory")," "),d(7),x(" ",_(15,19,"category")," "),d(3),x(" ",_(18,21,"subcategories")," "),d(3),x(" ",_(21,23,"actions")," "),d(3),T("ngForOf",i.allCategories())("ngForTrackBy",i.trackById),d(2),ue(i.allCategories()),d(2),T("ngIf",i.showAddCategoryModal()),d(),T("ngIf",i.editingCategory()),d(),T("ngIf",i.selectedCategoryForDetails()),d(),T("ngIf",i.selectedCategoryForSubcategories()),d(),T("ngIf",i.editingSubcategory()),d(),T("ngIf",i.showDeleteSubcategoryModal()&&i.subcategoryToDelete()),d(),T("ngIf",i.showDeleteModal()&&i.categoryToDelete()),d(),T("ngIf",i.selectedSubcategoryForDetails()))},dependencies:[me,Pn,bn,ut,pi,fi,Ti,Ae],styles:[".category-list[_ngcontent-%COMP%]{list-style:none;padding:0}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75rem 0;border-bottom:1px solid #e5e7eb}"],changeDetection:0});var fb=Ep;var kte=["actionsMenu"],Zi=(n,e)=>e.id,Mte=(n,e)=>e.label,Nte=(n,e)=>e.message,Rte=(n,e)=>e.status,Pte=(n,e)=>e.value,Ote=(n,e)=>e.type;function Fte(n,e){if(n&1&&h(0),n&2){let t=b(2);x(" (",t.pendingApprovalCount(),") ")}}function Lte(n,e){if(n&1&&(p(0,"option",6),h(1),V(2,Fte,1,1),f()),n&2){let t=e.$implicit,i=b();T("value",t.id),d(),x(" ",t.label," "),d(),j(t.id==="approvals"&&i.pendingApprovalCount()>0?2:-1)}}function Bte(n,e){if(n&1&&(p(0,"span",17),h(1),f()),n&2){let t=b(2);d(),x(" ",t.pendingApprovalCount()," ")}}function Vte(n,e){if(n&1){let t=H();p(0,"button",14),A("click",function(){let r=E(t).$implicit,o=b();return S(o.setView(r.id))}),k(1,"i",15),p(2,"span",16),h(3),f(),V(4,Bte,2,1,"span",17),f()}if(n&2){let t=e.$implicit,i=b();se("whitespace-nowrap py-3 px-3 sm:py-4 sm:px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 flex-shrink-0 min-w-[80px] sm:min-w-0 "+(i.currentView()===t.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")),d(),se(t.icon+" sm:mr-2"),d(2),R(t.label),d(),j(t.id==="approvals"&&i.pendingApprovalCount()>0?4:-1)}}function jte(n,e){if(n&1&&(p(0,"div",53)(1,"span",65),h(2),f()()),n&2){let t=b().$implicit;d(2),x(" ",t.badge," ")}}function qte(n,e){if(n&1){let t=H();p(0,"div",52),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.handleCardClick(r.label))}),V(1,jte,3,1,"div",53),p(2,"div",54)(3,"div",55),k(4,"i",56),f(),p(5,"div",57)(6,"h3",58),h(7),f(),p(8,"p",59),h(9),f()()(),p(10,"div",60)(11,"div",61),k(12,"i",62),p(13,"span",63),h(14),f()(),p(15,"span",64),h(16),f()()()}if(n&2){let t=e.$implicit,i=b(2);gt("cursor-pointer",i.isCardClickable(t.label)),T("title",i.getCardTooltip(t.label)),d(),j(t.badge?1:-1),d(2),se(t.bgColor),d(),se(t.icon),d(3),x(" ",t.label," "),d(2),x(" ",t.value," "),d(3),se(t.trendColor),gt("fa-arrow-down",t.trend.includes("-"))("fa-arrow-up",t.trend.includes("+")),d(),se(t.trendColor),d(),x(" ",t.trend," "),d(2),x(" ",i.i18n.translate("vsLastMonth")," ")}}function Ute(n,e){if(n&1&&(p(0,"div",66)(1,"div",67),k(2,"i",68),f(),p(3,"div",69)(4,"p",70),h(5),f(),p(6,"p",71),h(7),f()()()),n&2){let t=e.$implicit;d(2),se(t.icon+" "+t.color),d(3),R(t.message),d(2),R(t.time)}}function $te(n,e){if(n&1&&(p(0,"div",50),ce(1,Ute,8,4,"div",66,Nte),f()),n&2){let t=b(2);d(),ue(t.recentActivities())}}function Hte(n,e){n&1&&(p(0,"div",51),k(1,"i",72),p(2,"p",73),h(3),g(4,"i18n"),f()()),n&2&&(d(3),R(_(4,1,"noRecentActivities")))}function zte(n,e){if(n&1){let t=H();p(0,"div",18)(1,"h2",19),h(2),g(3,"i18n"),f()(),p(4,"div",20),ce(5,qte,17,20,"div",21,Mte),f(),p(7,"div",22)(8,"div",23)(9,"h3",24),k(10,"i",25),h(11),g(12,"i18n"),f(),p(13,"div",26)(14,"button",27),A("click",function(){E(t);let r=b();return S(r.createNewService())}),p(15,"div",28),k(16,"i",29),f(),p(17,"span",30),h(18),g(19,"i18n"),f()(),p(20,"button",31),A("click",function(){E(t);let r=b();return S(r.generateReport())}),p(21,"div",32),k(22,"i",33),f(),p(23,"span",34),h(24),g(25,"i18n"),f()(),p(26,"button",35),A("click",function(){E(t);let r=b();return S(r.viewAllRequests())}),p(27,"div",36),k(28,"i",37),f(),p(29,"span",38),h(30),g(31,"i18n"),f()(),p(32,"button",39),A("click",function(){E(t);let r=b();return S(r.manageUsers())}),p(33,"div",40),k(34,"i",41),f(),p(35,"span",42),h(36),g(37,"i18n"),f()()()()(),k(38,"div",43)(39,"app-status-pie-chart",44)(40,"div",43)(41,"app-category-bar-chart",44)(42,"div",43)(43,"app-temporal-evolution-chart",45)(44,"div",43),p(45,"div",23)(46,"div",18)(47,"h3",46),k(48,"i",47),h(49),g(50,"i18n"),f(),p(51,"div",48),k(52,"i",49),h(53),g(54,"i18n"),g(55,"date"),f()(),V(56,$te,3,0,"div",50)(57,Hte,5,3,"div",51),f()}if(n&2){let t=b();d(2),R(_(3,18,"overview")),d(3),ue(t.stats()),d(6),x(" ",_(12,20,"quickActions")," "),d(7),R(_(19,22,"newService")),d(6),R(_(25,24,"generateReport")),d(6),R(_(31,26,"viewAllRequests")),d(6),R(_(37,28,"manageUsers")),d(3),T("title",t.statusGraphTitle)("data",t.statusPieChartData())("labels",t.statusLabels),d(2),T("title",t.i18n.translate("categoryDistributionTitle"))("data",t.ordersByCategory())("labels",t.categoryLabels()),d(2),T("title",t.i18n.translate("temporalEvolutionTitle"))("data",t.temporalData()),d(6),x(" ",_(50,30,"recentActivities")," "),d(4),Qe(" ",_(54,32,"lastUpdate"),": ",Ye(55,34,t.lastUpdate(),"short")," "),d(3),j(t.recentActivities().length>0?56:57)}}function Wte(n,e){if(n&1){let t=H();p(0,"button",100),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.applyQuickFilter(r.status))}),h(1),g(2,"i18n"),f()}if(n&2){let t=e.$implicit,i=b(2);se("px-3 py-1 text-xs font-medium rounded-full "+(i.filterStatus()===t.status?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300")),d(),x(" ",_(2,3,t.label)," ")}}function Gte(n,e){if(n&1&&(p(0,"option",6),h(1),f()),n&2){let t=e.$implicit;T("value",t.value),d(),R(t.label)}}function Qte(n,e){if(n&1&&(p(0,"option",6),h(1),f()),n&2){let t=e.$implicit;T("value",t),d(),R(t)}}function Yte(n,e){if(n&1&&(p(0,"option",6),h(1),f()),n&2){let t=e.$implicit;T("value",t.id),d(),R(t.name)}}function Zte(n,e){if(n&1){let t=H();p(0,"span",102),h(1),g(2,"i18n"),p(3,"button",103),A("click",function(){let r=E(t).$implicit,o=b(3);return S(o.removeFilter(r.type))}),k(4,"i",104),f()()}if(n&2){let t=e.$implicit;d(),Qe(" ",_(2,2,t.label),": ",t.value," ")}}function Xte(n,e){if(n&1&&(p(0,"div",87)(1,"span",101),h(2),g(3,"i18n"),f(),ce(4,Zte,5,4,"span",102,Ote),f()),n&2){let t=b(2);d(2),x("",_(3,1,"activeFilters"),":"),d(2),ue(t.activeFilters())}}function Jte(n,e){n&1&&k(0,"i",105)}function Kte(n,e){n&1&&k(0,"i",106)}function ene(n,e){if(n&1&&V(0,Jte,1,0,"i",105)(1,Kte,1,0,"i",106),n&2){let t=b(2);j(t.sortOrder()==="asc"?0:1)}}function tne(n,e){n&1&&k(0,"i",94)}function nne(n,e){n&1&&k(0,"i",105)}function ine(n,e){n&1&&k(0,"i",106)}function rne(n,e){if(n&1&&V(0,nne,1,0,"i",105)(1,ine,1,0,"i",106),n&2){let t=b(2);j(t.sortOrder()==="asc"?0:1)}}function one(n,e){n&1&&k(0,"i",94)}function sne(n,e){n&1&&k(0,"i",105)}function ane(n,e){n&1&&k(0,"i",106)}function lne(n,e){if(n&1&&V(0,sne,1,0,"i",105)(1,ane,1,0,"i",106),n&2){let t=b(2);j(t.sortOrder()==="asc"?0:1)}}function cne(n,e){n&1&&k(0,"i",94)}function une(n,e){n&1&&k(0,"i",105)}function dne(n,e){n&1&&k(0,"i",106)}function pne(n,e){if(n&1&&V(0,une,1,0,"i",105)(1,dne,1,0,"i",106),n&2){let t=b(2);j(t.sortOrder()==="asc"?0:1)}}function fne(n,e){n&1&&k(0,"i",94)}function hne(n,e){if(n&1){let t=H();p(0,"button",118),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.analyzeRequest(r))}),k(1,"i",119),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"analyzeRequest")," "))}function mne(n,e){if(n&1){let t=H();p(0,"button",120),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.selectRequestForQuote(r))}),k(1,"i",121),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"sendQuote")," "))}function gne(n,e){if(n&1){let t=H();p(0,"button",120),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.selectRequestForAssignment(r))}),k(1,"i",122),h(2),g(3,"i18n"),g(4,"i18n"),f()}if(n&2){let t=b().$implicit;d(2),x(" ",t.status==="Agendado"&&!t.professional_id?_(3,1,"assignProfessionalToScheduled"):_(4,3,"assign")," ")}}function vne(n,e){if(n&1){let t=H();p(0,"button",123),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.selectRequestForQuote(r))}),k(1,"i",121),h(2),g(3,"i18n"),g(4,"i18n"),f()}if(n&2){let t=b().$implicit;d(2),x(" ",t.status==="Quoted"?_(3,1,"viewQuote"):_(4,3,"provideQuote")," ")}}function _ne(n,e){if(n&1){let t=H();p(0,"a",125),A("click",function(){E(t);let r=b(2).$implicit;return b(2).requestClarificationFromClient(r),S(!1)}),k(1,"i",129),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"requestClarification")," "))}function yne(n,e){if(n&1){let t=H();p(0,"div",117)(1,"div",124)(2,"a",125),A("click",function(){E(t);let r=b().$implicit;return b(2).viewRequestDetails(r),S(!1)}),k(3,"i",126),h(4),g(5,"i18n"),f(),p(6,"a",125),A("click",function(){E(t);let r=b().$implicit;return b(2).openChat(r),S(!1)}),k(7,"i",127),h(8),g(9,"i18n"),f(),V(10,_ne,4,3,"a",128),f()()}if(n&2){let t=b().$implicit;d(4),x(" ",_(5,3,"viewDetails")," "),d(4),x(" ",_(9,5,"chat")," "),d(2),j(t.status==="Solicitado"||t.status==="Em an\xE1lise"||t.status==="Or\xE7amento aprovado"?10:-1)}}function bne(n,e){if(n&1){let t=H();p(0,"tr")(1,"td",107),h(2),f(),p(3,"td",108),h(4),f(),p(5,"td",108),h(6),f(),p(7,"td",109)(8,"span"),h(9),f()(),p(10,"td",108),h(11),g(12,"number"),f(),p(13,"td",110)(14,"div",82),V(15,hne,4,3,"button",111)(16,mne,4,3,"button",112)(17,gne,5,5,"button",112)(18,vne,5,5,"button",113),p(19,"div",114,0)(21,"button",115),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.toggleActionsMenu(r.id))}),k(22,"i",116),f(),V(23,yne,11,7,"div",117),f()()()()}if(n&2){let t=e.$implicit,i=b(2);d(2),x(" ",t.title," "),d(2),x(" ",i.getClientName(t.client_id)," "),d(2),x(" ",i.getProfessionalName(t.professional_id)," "),d(2),se(i.statusClass(t.status)),d(),R(t.status),d(2),x(" ",t.cost?"\u20AC"+Ye(12,9,t.cost,"1.2-2"):"N/A"," "),d(4),j(t.status==="Solicitado"?15:t.status==="Em an\xE1lise"?16:i.needsProfessionalAssignment(t)?17:t.status==="Pending"||t.status==="Quoted"?18:-1),d(8),j(i.isActionsMenuOpen(t.id)?23:-1)}}function xne(n,e){if(n&1){let t=H();p(0,"button",146),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.selectRequestForQuote(r))}),k(1,"i",147),h(2),g(3,"i18n"),g(4,"i18n"),f()}if(n&2){let t=b().$implicit;d(2),x(" ",t.status==="Quoted"?_(3,1,"viewQuote"):_(4,3,"provideQuote")," ")}}function Cne(n,e){if(n&1){let t=H();p(0,"button",148),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.analyzeRequest(r))}),k(1,"i",149),h(2),g(3,"i18n"),f(),p(4,"button",150),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.requestClarificationFromClient(r))}),k(5,"i",151),h(6),g(7,"i18n"),f()}n&2&&(d(2),x(" ",_(3,2,"analyzeRequest")," "),d(4),x(" ",_(7,4,"requestClarification")," "))}function wne(n,e){if(n&1){let t=H();p(0,"button",152),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.selectRequestForQuote(r))}),k(1,"i",147),h(2),g(3,"i18n"),f(),p(4,"button",150),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.requestClarificationFromClient(r))}),k(5,"i",151),h(6),g(7,"i18n"),f()}n&2&&(d(2),x(" ",_(3,2,"sendQuote")," "),d(4),x(" ",_(7,4,"requestClarification")," "))}function Ene(n,e){if(n&1){let t=H();p(0,"button",150),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(o.requestClarificationFromClient(r))}),k(1,"i",151),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"requestClarification")," "))}function Sne(n,e){if(n&1){let t=H();p(0,"button",152),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.selectRequestForAssignment(r))}),k(1,"i",153),h(2),g(3,"i18n"),f(),V(4,Ene,4,3,"button",154)}if(n&2){let t=b().$implicit;d(2),x(" ",t.status==="Agendado"&&!t.professional_id?"assignProfessionalToScheduled":_(3,2,"assign")," "),d(2),j(t.status==="Or\xE7amento aprovado"?4:-1)}}function Dne(n,e){if(n&1){let t=H();p(0,"div",98)(1,"div",130)(2,"h4",131),h(3),f(),p(4,"span",132),h(5),f()(),p(6,"div",133)(7,"div",134)(8,"span",135),h(9),g(10,"i18n"),f(),p(11,"span",136),h(12),f()(),p(13,"div",134)(14,"span",135),h(15),g(16,"i18n"),f(),p(17,"span",136),h(18),f()(),p(19,"div",134)(20,"span",135),h(21),g(22,"i18n"),f(),p(23,"span",137),h(24),g(25,"number"),f()()(),p(26,"div",138)(27,"div",139),V(28,xne,5,5,"button",140),V(29,Cne,8,6),V(30,wne,8,6),V(31,Sne,5,4),p(32,"div",141)(33,"button",142),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.viewRequestDetails(r))}),k(34,"i",143),h(35),g(36,"i18n"),f(),p(37,"button",144),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.openChat(r))}),k(38,"i",145),h(39),g(40,"i18n"),f()()()()()}if(n&2){let t=e.$implicit,i=b(2);d(3),x(" ",t.title," "),d(),se(i.statusClass(t.status)),d(),x(" ",t.status," "),d(4),x("",_(10,16,"client"),":"),d(3),R(i.getClientName(t.client_id)),d(3),x("",_(16,18,"professional"),":"),d(3),R(i.getProfessionalName(t.professional_id)),d(3),x("",_(22,20,"cost"),":"),d(3),x(" ",t.cost?"\u20AC"+Ye(25,22,t.cost,"1.2-2"):"N/A"," "),d(4),j(t.status==="Pending"||t.status==="Quoted"?28:-1),d(),j(t.status==="Solicitado"?29:-1),d(),j(t.status==="Em an\xE1lise"?30:-1),d(),j(i.needsProfessionalAssignment(t)?31:-1),d(4),x(" ",_(36,25,"viewDetails")," "),d(4),x(" ",_(40,27,"chat")," ")}}function Ane(n,e){n&1&&(p(0,"span",173),h(1," ... "),f())}function Tne(n,e){if(n&1){let t=H();p(0,"button",100),A("click",function(){E(t);let r=b().$implicit,o=b(3);return S(o.goToPage(r))}),h(1),f()}if(n&2){let t=b().$implicit,i=b(3);se(t===i.currentPage()?"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-indigo-50 text-sm font-medium text-indigo-600":"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"),d(),x(" ",t," ")}}function Ine(n,e){if(n&1&&V(0,Ane,2,0,"span",173)(1,Tne,2,3,"button",77),n&2){let t=e.$implicit;j(t===-1?0:1)}}function kne(n,e){if(n&1){let t=H();p(0,"div",99)(1,"div",155)(2,"span",156),h(3),g(4,"i18n"),f(),p(5,"select",157),A("change",function(r){E(t);let o=b(2);return S(o.setItemsPerPage(+r.target.value))}),p(6,"option",158),h(7,"5"),f(),p(8,"option",159),h(9,"10"),f(),p(10,"option",160),h(11,"25"),f(),p(12,"option",161),h(13,"50"),f()()(),p(14,"div",162)(15,"p",156),h(16),g(17,"i18n"),p(18,"span",163),h(19),f(),h(20),g(21,"i18n"),p(22,"span",163),h(23),f(),h(24),g(25,"i18n"),p(26,"span",163),h(27),f(),h(28),g(29,"i18n"),f()(),p(30,"div",164)(31,"nav",165)(32,"button",166),A("click",function(){E(t);let r=b(2);return S(r.previousPage())}),k(33,"i",167),p(34,"span",168),h(35,"Previous"),f()(),p(36,"div",169),ce(37,Ine,2,1,null,null,Nn),f(),p(39,"div",170),h(40),f(),p(41,"button",171),A("click",function(){E(t);let r=b(2);return S(r.nextPage())}),k(42,"i",172),p(43,"span",168),h(44,"Next"),f()()()()()}if(n&2){let t=b(2);d(3),x("",_(4,13,"itemsPerPage"),":"),d(2),T("value",t.itemsPerPage()),d(11),x(" ",_(17,15,"showing")," "),d(3),R((t.currentPage()-1)*t.itemsPerPage()+1),d(),x(" ",_(21,17,"to")," "),d(3),R(t.Math.min(t.currentPage()*t.itemsPerPage(),t.allRequests().length)),d(),x(" ",_(25,19,"of")," "),d(3),R(t.allRequests().length),d(),x(" ",_(29,21,"results")," "),d(4),T("disabled",t.currentPage()===1),d(5),ue(t.pageNumbers),d(3),Qe(" ",t.currentPage()," / ",t.totalPages()," "),d(),T("disabled",t.currentPage()===t.totalPages())}}function Mne(n,e){if(n&1){let t=H();p(0,"div",10)(1,"div",74)(2,"div",75)(3,"span",76),h(4),g(5,"i18n"),f(),ce(6,Wte,3,5,"button",77,Rte),f(),p(8,"div",78)(9,"div")(10,"label",79),h(11),g(12,"i18n"),f(),p(13,"select",80),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterStatus.set(r))}),p(14,"option",81),h(15),g(16,"i18n"),f(),ce(17,Gte,2,2,"option",6,Pte),f()(),p(19,"div")(20,"label",79),h(21),g(22,"i18n"),f(),p(23,"div",82)(24,"input",83),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterStartDate.set(r))}),f(),p(25,"span",73),h(26,"-"),f(),p(27,"input",83),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterEndDate.set(r))}),f()()(),p(28,"div")(29,"label",79),h(30),g(31,"i18n"),f(),p(32,"select",80),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterDistrict.set(r))}),p(33,"option",81),h(34),g(35,"i18n"),f(),ce(36,Qte,2,2,"option",6,Nn),f()(),p(38,"div")(39,"label",79),h(40),g(41,"i18n"),f(),p(42,"select",80),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterProfessional.set(r))}),p(43,"option",81),h(44),g(45,"i18n"),f(),ce(46,Yte,2,2,"option",6,Zi),f()(),p(48,"div",84)(49,"label",79),h(50),g(51,"i18n"),f(),p(52,"input",85),g(53,"i18n"),A("ngModelChange",function(r){E(t);let o=b();return S(o.searchTerm.set(r))}),f()(),p(54,"button",86),A("click",function(){E(t);let r=b();return S(r.clearFilters())}),h(55),g(56,"i18n"),f()(),V(57,Xte,6,3,"div",87),f(),p(58,"div",88)(59,"table",89)(60,"thead",90)(61,"tr")(62,"th",91)(63,"button",92),g(64,"i18n"),g(65,"i18n"),g(66,"i18n"),g(67,"i18n"),A("click",function(){E(t);let r=b();return S(r.sortByColumn("category"))}),p(68,"div",93)(69,"span"),h(70),g(71,"i18n"),f(),V(72,ene,2,1)(73,tne,1,0,"i",94),f()()(),p(74,"th",91)(75,"button",92),g(76,"i18n"),g(77,"i18n"),g(78,"i18n"),g(79,"i18n"),A("click",function(){E(t);let r=b();return S(r.sortByColumn("client"))}),p(80,"div",93)(81,"span"),h(82),g(83,"i18n"),f(),V(84,rne,2,1)(85,one,1,0,"i",94),f()()(),p(86,"th",91)(87,"button",92),g(88,"i18n"),g(89,"i18n"),g(90,"i18n"),g(91,"i18n"),A("click",function(){E(t);let r=b();return S(r.sortByColumn("professional"))}),p(92,"div",93)(93,"span"),h(94),g(95,"i18n"),f(),V(96,lne,2,1)(97,cne,1,0,"i",94),f()()(),p(98,"th",91)(99,"button",92),g(100,"i18n"),g(101,"i18n"),g(102,"i18n"),g(103,"i18n"),A("click",function(){E(t);let r=b();return S(r.sortByColumn("status"))}),p(104,"div",93)(105,"span"),h(106),g(107,"i18n"),f(),V(108,pne,2,1)(109,fne,1,0,"i",94),f()()(),p(110,"th",95),h(111),g(112,"i18n"),f(),p(113,"th",95),h(114),g(115,"i18n"),f()()(),p(116,"tbody",96),ce(117,bne,24,12,"tr",null,Zi),f()()(),p(119,"div",97),ce(120,Dne,41,29,"div",98,Zi),f(),V(122,kne,45,23,"div",99),f()}if(n&2){let t=b();d(4),x("",_(5,42,"quickFilters"),":"),d(2),ue(t.quickFilterOptions),d(5),R(_(12,44,"status")),d(2),T("ngModel",t.filterStatus()),d(2),R(_(16,46,"all")),d(2),ue(t.statusOptions()),d(4),R(_(22,48,"period")),d(3),T("ngModel",t.filterStartDate()),d(3),T("ngModel",t.filterEndDate()),d(3),R(_(31,50,"district")),d(2),T("ngModel",t.filterDistrict()),d(2),R(_(35,52,"all")),d(2),ue(t.districtOptions),d(4),R(_(41,54,"professional")),d(2),T("ngModel",t.filterProfessional()),d(2),R(_(45,56,"all")),d(2),ue(t.professionalOptions),d(4),R(_(51,58,"search")),d(2),T("placeholder",ne(_(53,60,"searchPlaceholder")))("ngModel",t.searchTerm()),d(3),x(" ",_(56,62,"clearFilters")," "),d(2),j(t.activeFilters().length>0?57:-1),d(5),Ke("aria-sort",t.sortBy()==="category"?t.sortOrder()==="asc"?"ascending":"descending":"none"),d(),Ke("aria-label",_(64,64,"clickToSort")+": "+_(65,66,"service"))("title",_(66,68,"clickToSort")+": "+_(67,70,"service")),d(7),R(_(71,72,"service")),d(2),j(t.sortBy()==="category"?72:73),d(2),Ke("aria-sort",t.sortBy()==="client"?t.sortOrder()==="asc"?"ascending":"descending":"none"),d(),Ke("aria-label",_(76,74,"clickToSort")+": "+_(77,76,"client"))("title",_(78,78,"clickToSort")+": "+_(79,80,"client")),d(7),R(_(83,82,"client")),d(2),j(t.sortBy()==="client"?84:85),d(2),Ke("aria-sort",t.sortBy()==="professional"?t.sortOrder()==="asc"?"ascending":"descending":"none"),d(),Ke("aria-label",_(88,84,"clickToSort")+": "+_(89,86,"professional"))("title",_(90,88,"clickToSort")+": "+_(91,90,"professional")),d(7),R(_(95,92,"professional")),d(2),j(t.sortBy()==="professional"?96:97),d(2),Ke("aria-sort",t.sortBy()==="status"?t.sortOrder()==="asc"?"ascending":"descending":"none"),d(),Ke("aria-label",_(100,94,"clickToSort")+": "+_(101,96,"status"))("title",_(102,98,"clickToSort")+": "+_(103,100,"status")),d(7),R(_(107,102,"status")),d(2),j(t.sortBy()==="status"?108:109),d(3),x(" ",_(112,104,"cost")," "),d(3),x(" ",_(115,106,"actions")," "),d(3),ue(t.filteredPaginatedRequests()),d(3),ue(t.paginatedRequests()),d(2),j(t.allRequests().length>0?122:-1)}}function Nne(n,e){if(n&1){let t=H();p(0,"tr")(1,"td",107),h(2),f(),p(3,"td",108),h(4),f(),p(5,"td",108),h(6),f(),p(7,"td",110)(8,"div",176)(9,"button",177),g(10,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(3);return S(o.approveClient(r.id))}),k(11,"i",178),f(),p(12,"button",179),g(13,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(3);return S(o.rejectClient(r.id))}),k(14,"i",180),f()()()()}if(n&2){let t=e.$implicit;d(2),x(" ",t.name," "),d(2),x(" ",t.email," "),d(2),x(" ",t.phone," "),d(3),T("title",ne(_(10,7,"approve"))),d(3),T("title",ne(_(13,9,"reject")))}}function Rne(n,e){if(n&1){let t=H();p(0,"div",98)(1,"div",181)(2,"div",182),k(3,"i",183),f(),p(4,"div",57)(5,"h4",184),h(6),f(),p(7,"p",71),h(8),g(9,"i18n"),f()()(),p(10,"div",133)(11,"div",181),k(12,"i",185),p(13,"span",136),h(14),f()(),p(15,"div",181),k(16,"i",186),p(17,"span",136),h(18),f()()(),p(19,"div",138)(20,"div",187)(21,"button",188),A("click",function(){let r=E(t).$implicit,o=b(3);return S(o.approveClient(r.id))}),k(22,"i",189),h(23),g(24,"i18n"),f(),p(25,"button",190),A("click",function(){let r=E(t).$implicit,o=b(3);return S(o.rejectClient(r.id))}),k(26,"i",191),h(27),g(28,"i18n"),f()()()()}if(n&2){let t=e.$implicit;d(6),x(" ",t.name," "),d(2),x(" ",_(9,6,"pendingApproval")," "),d(6),R(t.email),d(4),R(t.phone||"N/A"),d(5),x(" ",_(24,8,"approve")," "),d(4),x(" ",_(28,10,"reject")," ")}}function Pne(n,e){if(n&1&&(p(0,"div",88)(1,"table",89)(2,"thead",90)(3,"tr")(4,"th",95),h(5),g(6,"i18n"),f(),p(7,"th",95),h(8),g(9,"i18n"),f(),p(10,"th",95),h(11),g(12,"i18n"),f(),p(13,"th",95),h(14),g(15,"i18n"),f()()(),p(16,"tbody",96),ce(17,Nne,15,11,"tr",null,Zi),f()()(),p(19,"div",97),ce(20,Rne,29,12,"div",98,Zi),f()),n&2){let t=b(2);d(5),x(" ",_(6,4,"name")," "),d(3),x(" ",_(9,6,"email")," "),d(3),x(" ",_(12,8,"phone")," "),d(3),x(" ",_(15,10,"actions")," "),d(3),ue(t.pendingRegistrations()),d(3),ue(t.pendingRegistrations())}}function One(n,e){n&1&&(p(0,"p",175),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"noPendingRegistrations")," "))}function Fne(n,e){if(n&1&&(p(0,"div",10)(1,"h3",174),h(2),g(3,"i18n"),f(),V(4,Pne,22,12)(5,One,3,3,"p",175),f()),n&2){let t=b();d(2),x(" ",_(3,2,"pendingRegistrations")," "),d(2),j(t.pendingRegistrations().length>0?4:5)}}function Lne(n,e){if(n&1&&(p(0,"div",192)(1,"div",200)(2,"h4",201),h(3),g(4,"i18n"),f(),p(5,"p",19),h(6),f()(),p(7,"div",200)(8,"h4",201),h(9),g(10,"i18n"),f(),p(11,"p",202),h(12),f()(),p(13,"div",200)(14,"h4",201),h(15),g(16,"i18n"),f(),p(17,"p",19),h(18),f()(),p(19,"div",200)(20,"h4",201),h(21),g(22,"i18n"),f(),p(23,"p",203),h(24),f()()()),n&2){let t=e,i=b(2);d(3),x(" ",_(4,8,"completedServices")," "),d(3),R(t.completedServices),d(3),x(" ",_(10,10,"totalRevenue")," "),d(3),x(" ",i.formatCost(t.totalRevenue)," "),d(3),x(" ",_(16,12,"totalTax")," "),d(3),R(i.formatCost(t.totalTax)),d(3),x(" ",_(22,14,"outstandingAmount")," "),d(3),x(" ",i.formatCost(t.outstandingAmount)," ")}}function Bne(n,e){if(n&1){let t=H();p(0,"tr")(1,"td",204),h(2),f(),p(3,"td",205),h(4),f(),p(5,"td",205),h(6),f(),p(7,"td",205),h(8),g(9,"date"),f(),p(10,"td",206),h(11),f(),p(12,"td",207),h(13),f(),p(14,"td",208)(15,"button",209),g(16,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.generateInvoice(r))}),k(17,"i",210),f()()()}if(n&2){let t=e.$implicit,i=b(2);d(2),x(" ",t.title," "),d(2),x(" ",i.getClientName(t.client_id)," "),d(2),x(" ",i.getProfessionalName(t.professional_id)," "),d(2),x(" ",_(9,12,t.scheduled_date)," "),d(2),gt("text-green-600",t.payment_status==="Paid")("text-orange-600",t.payment_status==="Unpaid"),d(),x(" ",t.payment_status," "),d(2),x(" ",i.formatCost(t.cost)," "),d(2),T("title",ne(_(16,14,"generateInvoice")))}}function Vne(n,e){if(n&1){let t=H();p(0,"div",98)(1,"div",130)(2,"h4",131),h(3),f(),p(4,"span",211),h(5),f()(),p(6,"div",133)(7,"div",134)(8,"span",135),h(9),g(10,"i18n"),f(),p(11,"span",136),h(12),f()(),p(13,"div",134)(14,"span",135),h(15),g(16,"i18n"),f(),p(17,"span",136),h(18),f()(),p(19,"div",134)(20,"span",135),h(21),g(22,"i18n"),f(),p(23,"span",136),h(24),g(25,"date"),f()(),p(26,"div",134)(27,"span",135),h(28),g(29,"i18n"),f(),p(30,"span",212),h(31),f()()(),p(32,"div",138)(33,"button",213),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.generateInvoice(r))}),k(34,"i",214),h(35),g(36,"i18n"),f()()()}if(n&2){let t=e.$implicit,i=b(2);d(3),x(" ",t.title," "),d(),gt("bg-green-100",t.payment_status==="Paid")("text-green-800",t.payment_status==="Paid")("bg-orange-100",t.payment_status==="Unpaid")("text-orange-800",t.payment_status==="Unpaid"),d(),x(" ",t.payment_status," "),d(4),x("",_(10,19,"client"),":"),d(3),R(i.getClientName(t.client_id)),d(3),x("",_(16,21,"professional"),":"),d(3),R(i.getProfessionalName(t.professional_id)),d(3),x("",_(22,23,"date"),":"),d(3),R(_(25,25,t.scheduled_date)),d(4),x("",_(29,27,"total"),":"),d(3),R(i.formatCost(t.cost)),d(4),x(" ",_(36,29,"generateInvoice")," ")}}function jne(n,e){if(n&1){let t=H();V(0,Lne,25,16,"div",192),p(1,"div",10)(2,"div",193)(3,"h3",194),h(4),g(5,"i18n"),f(),p(6,"button",195),A("click",function(){E(t);let r=b();return S(r.exportToCSV())}),k(7,"i",196),h(8),g(9,"i18n"),f()(),p(10,"div",88)(11,"table",89)(12,"thead",90)(13,"tr")(14,"th",197),h(15),g(16,"i18n"),f(),p(17,"th",197),h(18),g(19,"i18n"),f(),p(20,"th",197),h(21),g(22,"i18n"),f(),p(23,"th",197),h(24),g(25,"i18n"),f(),p(26,"th",197),h(27),g(28,"i18n"),f(),p(29,"th",198),h(30),g(31,"i18n"),f(),p(32,"th",199),h(33),g(34,"i18n"),f()()(),p(35,"tbody",96),ce(36,Bne,18,16,"tr",null,Zi),f()()(),p(38,"div",97),ce(39,Vne,37,31,"div",98,Zi),f()()}if(n&2){let t,i=b();j((t=i.financialStats())?0:-1,t),d(4),x(" ",_(5,10,"financialDetails")," "),d(4),x("",_(9,12,"exportToCsv")," "),d(7),x(" ",_(16,14,"service")," "),d(3),x(" ",_(19,16,"client")," "),d(3),x(" ",_(22,18,"professional")," "),d(3),x(" ",_(25,20,"date")," "),d(3),x(" ",_(28,22,"payment")," "),d(3),x(" ",_(31,24,"total")," "),d(3),x(" ",_(34,26,"action")," "),d(3),ue(i.completedRequests()),d(3),ue(i.completedRequests())}}function qne(n,e){if(n&1){let t=H();p(0,"div")(1,"input",227),A("change",function(r){let o=E(t).$implicit,s=b(3);return S(s.toggleNewProfessionalSpecialty(o,r))}),f(),p(2,"label",228),h(3),f()()}if(n&2){let t=e.$implicit;d(),T("id","new-pro-"+t),d(),T("for","new-pro-"+t),d(),R(t)}}function Une(n,e){if(n&1){let t=H();p(0,"div",217)(1,"h4",218),h(2),g(3,"i18n"),f(),p(4,"div",219)(5,"input",220),g(6,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b(2);return At(o.newProfessionalName,r)||(o.newProfessionalName=r),S(r)}),f(),p(7,"input",221),g(8,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b(2);return At(o.newProfessionalEmail,r)||(o.newProfessionalEmail=r),S(r)}),f(),p(9,"fieldset")(10,"legend",222),h(11),g(12,"i18n"),f(),p(13,"div",223),ce(14,qne,4,3,"div",null,Nn),f()(),p(16,"div",224)(17,"button",225),A("click",function(){E(t);let r=b(2);return S(r.resetNewProfessionalForm())}),h(18),g(19,"i18n"),f(),p(20,"button",226),A("click",function(){E(t);let r=b(2);return S(r.addProfessional())}),h(21),g(22,"i18n"),f()()()()}if(n&2){let t=b(2);d(2),x(" ",_(3,8,"addNewProfessional")," "),d(3),xt("ngModel",t.newProfessionalName),T("placeholder",_(6,10,"name")),d(2),xt("ngModel",t.newProfessionalEmail),T("placeholder",_(8,12,"email")),d(4),x(" ",_(12,14,"specialties")," "),d(3),ue(t.allCategories()),d(4),x(" ",_(19,16,"cancel")," "),d(3),x(" ",_(22,18,"add")," ")}}function $ne(n,e){if(n&1){let t=H();p(0,"tr")(1,"td",110),h(2),f(),p(3,"td",109),h(4),f(),p(5,"td",109),h(6),f(),p(7,"td",109)(8,"button",209),g(9,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.startEditProfessional(r))}),k(10,"i",229),f()()()}if(n&2){let t=e.$implicit;d(2),x(" ",t.name," "),d(2),x(" ",t.email," "),d(2),x(" ",t.specialties==null?null:t.specialties.join(", ")," "),d(2),T("title",ne(_(9,5,"edit")))}}function Hne(n,e){if(n&1&&(p(0,"span",235),h(1),f()),n&2){let t=e.$implicit;d(),x(" ",t," ")}}function zne(n,e){if(n&1&&(p(0,"div")(1,"p",233),h(2),g(3,"i18n"),f(),p(4,"div",234),ce(5,Hne,2,1,"span",235,Nn),f()()),n&2){let t=b().$implicit;d(2),x(" ",_(3,1,"specialties"),": "),d(3),ue(t.specialties)}}function Wne(n,e){if(n&1){let t=H();p(0,"div",98)(1,"div",130)(2,"div",230)(3,"div",231),k(4,"i",232),f(),p(5,"div",57)(6,"h4",184),h(7),f(),p(8,"p",71),h(9),g(10,"i18n"),f()()(),p(11,"button",209),g(12,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.startEditProfessional(r))}),k(13,"i",229),f()(),p(14,"div",133)(15,"div",181),k(16,"i",185),p(17,"span",136),h(18),f()()(),V(19,zne,7,3,"div"),f()}if(n&2){let t=e.$implicit;d(7),x(" ",t.name," "),d(2),x(" ",_(10,6,"professional")," "),d(2),T("title",ne(_(12,8,"edit"))),d(7),R(t.email),d(),j(t.specialties&&t.specialties.length>0?19:-1)}}function Gne(n,e){if(n&1){let t=H();p(0,"div",11)(1,"div",193)(2,"h3",194),h(3),g(4,"i18n"),f(),p(5,"button",215),A("click",function(){E(t);let r=b();return S(r.showAddProfessionalForm.set(!0))}),k(6,"i",216),h(7),g(8,"i18n"),f()(),V(9,Une,23,20,"div",217),p(10,"div",88)(11,"table",89)(12,"thead",90)(13,"tr")(14,"th",95),h(15),g(16,"i18n"),f(),p(17,"th",95),h(18),g(19,"i18n"),f(),p(20,"th",95),h(21),g(22,"i18n"),f(),p(23,"th",95),h(24),g(25,"i18n"),f()()(),p(26,"tbody",96),ce(27,$ne,11,7,"tr",null,Zi),f()()(),p(29,"div",97),ce(30,Wne,20,10,"div",98,Zi),f()()}if(n&2){let t=b();d(3),x(" ",_(4,7,"manageProfessionals")," "),d(4),x("",_(8,9,"addProfessional")," "),d(2),j(t.showAddProfessionalForm()?9:-1),d(6),x(" ",_(16,11,"name")," "),d(3),x(" ",_(19,13,"email")," "),d(3),x(" ",_(22,15,"specialties")," "),d(3),x(" ",_(25,17,"action")," "),d(3),ue(t.professionals()),d(3),ue(t.professionals())}}function Qne(n,e){n&1&&k(0,"app-category-management")}function Yne(n,e){if(n&1&&k(0,"img",240),n&2){let t=b(2).$implicit;T("src",t.avatar_url,Hi)("alt",t.name)}}function Zne(n,e){n&1&&(p(0,"div",241),k(1,"i",249),f())}function Xne(n,e){n&1&&(p(0,"div",242),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"emailNotVerified")," "))}function Jne(n,e){if(n&1&&(p(0,"span"),h(1),g(2,"date"),f()),n&2){let t=b();d(),R(Ye(2,1,t.lastServiceDate,"short"))}}function Kne(n,e){n&1&&(p(0,"span",246),h(1),g(2,"i18n"),f()),n&2&&(d(),R(_(2,1,"never")))}function eie(n,e){if(n&1){let t=H();p(0,"button",179),g(1,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(3);return S(o.deactivateClient(r.id))}),k(2,"i",250),f()}n&2&&T("title",ne(_(1,2,"deactivateClient")))}function tie(n,e){if(n&1){let t=H();p(0,"button",177),g(1,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(3);return S(o.activateClient(r.id))}),k(2,"i",251),f()}n&2&&T("title",ne(_(1,2,"activateClient")))}function nie(n,e){if(n&1){let t=H();p(0,"button",177),g(1,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(3);return S(o.activateClient(r.id))}),k(2,"i",178),f(),p(3,"button",179),g(4,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(3);return S(o.deactivateClient(r.id))}),k(5,"i",180),f()}n&2&&(T("title",ne(_(1,4,"approveClient"))),d(3),T("title",ne(_(4,6,"rejectClient"))))}function iie(n,e){if(n&1&&(p(0,"tr")(1,"td",107)(2,"div",181),V(3,Yne,1,2,"img",240)(4,Zne,2,0,"div",241),p(5,"div")(6,"div",163),h(7),f(),V(8,Xne,3,3,"div",242),f()()(),p(9,"td",108),h(10),f(),p(11,"td",108),h(12),f(),p(13,"td",109)(14,"span",243),h(15),f()(),p(16,"td",108)(17,"div",244)(18,"div",163),h(19),f(),p(20,"div",64),h(21),g(22,"i18n"),f()()(),p(23,"td",108)(24,"span",245),h(25),f()(),p(26,"td",108),V(27,Jne,3,4,"span")(28,Kne,3,3,"span",246),f(),p(29,"td",110)(30,"div",176),V(31,eie,3,4,"button",247)(32,tie,3,4,"button",248),V(33,nie,6,8),f()()()),n&2){let t=e,i=b().$implicit,r=b(3);d(3),j(i.avatar_url?3:4),d(4),R(i.name),d(),j(i.email_verified===!1?8:-1),d(2),x(" ",i.email," "),d(2),x(" ",i.phone||"N/A"," "),d(2),gt("bg-green-100",i.status==="Active")("text-green-800",i.status==="Active")("bg-yellow-100",i.status==="Pending")("text-yellow-800",i.status==="Pending")("bg-red-100",i.status==="Rejected")("text-red-800",i.status==="Rejected"),d(),x(" ",i.status," "),d(4),x(" ",t.completedRequests," "),d(2),Qe(" ",_(22,25,"of")," ",t.totalRequests," "),d(4),x(" ",r.formatCost(t.totalSpent)," "),d(2),j(t.lastServiceDate?27:28),d(4),j(i.status==="Active"?31:i.status==="Rejected"?32:-1),d(2),j(i.status==="Pending"?33:-1)}}function rie(n,e){if(n&1&&V(0,iie,34,27,"tr"),n&2){let t,i=e.$implicit,r=b(3);j((t=r.getClientStats(i.id))?0:-1,t)}}function oie(n,e){if(n&1&&k(0,"img",254),n&2){let t=b(2).$implicit;T("src",t.avatar_url,Hi)("alt",t.name)}}function sie(n,e){n&1&&(p(0,"div",255),k(1,"i",183),f())}function aie(n,e){n&1&&(p(0,"p",242),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"emailNotVerified")," "))}function lie(n,e){if(n&1){let t=H();p(0,"button",190),A("click",function(){E(t);let r=b(2).$implicit,o=b(3);return S(o.deactivateClient(r.id))}),k(1,"i",261),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"deactivate")," "))}function cie(n,e){if(n&1){let t=H();p(0,"button",188),A("click",function(){E(t);let r=b(2).$implicit,o=b(3);return S(o.activateClient(r.id))}),k(1,"i",262),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"activate")," "))}function uie(n,e){if(n&1){let t=H();p(0,"button",188),A("click",function(){E(t);let r=b(2).$implicit,o=b(3);return S(o.activateClient(r.id))}),k(1,"i",189),h(2),g(3,"i18n"),f(),p(4,"button",190),A("click",function(){E(t);let r=b(2).$implicit,o=b(3);return S(o.deactivateClient(r.id))}),k(5,"i",191),h(6),g(7,"i18n"),f()}n&2&&(d(2),x(" ",_(3,2,"approve")," "),d(4),x(" ",_(7,4,"reject")," "))}function die(n,e){if(n&1&&(p(0,"div",252)(1,"div",253)(2,"div",230),V(3,oie,1,2,"img",254)(4,sie,2,0,"div",255),p(5,"div",57)(6,"h4",184),h(7),f(),V(8,aie,3,3,"p",242),f()(),p(9,"span",211),h(10),f()(),p(11,"div",133)(12,"div",181),k(13,"i",185),p(14,"span",136),h(15),f()(),p(16,"div",181),k(17,"i",186),p(18,"span",136),h(19),f()()(),p(20,"div",256)(21,"div",244)(22,"div",257),h(23),f(),p(24,"div",71),h(25),g(26,"i18n"),f()(),p(27,"div",244)(28,"div",258),h(29),f(),p(30,"div",71),h(31),g(32,"i18n"),f()(),p(33,"div",244)(34,"div",257),h(35),f(),p(36,"div",71),h(37),g(38,"i18n"),f()()(),p(39,"div",138)(40,"div",187),V(41,lie,4,3,"button",259)(42,cie,4,3,"button",260),V(43,uie,8,6),f()()()),n&2){let t=e,i=b().$implicit,r=b(3);d(3),j(i.avatar_url?3:4),d(4),x(" ",i.name," "),d(),j(i.email_verified===!1?8:-1),d(),gt("bg-green-100",i.status==="Active")("text-green-800",i.status==="Active")("bg-yellow-100",i.status==="Pending")("text-yellow-800",i.status==="Pending")("bg-red-100",i.status==="Rejected")("text-red-800",i.status==="Rejected"),d(),x(" ",i.status," "),d(5),R(i.email),d(4),R(i.phone||"N/A"),d(4),x(" ",t.completedRequests," "),d(2),x(" ",_(26,26,"completed")," "),d(4),x(" ",r.formatCost(t.totalSpent)," "),d(2),x(" ",_(32,28,"totalSpent")," "),d(4),x(" ",t.totalRequests," "),d(2),x(" ",_(38,30,"totalServices")," "),d(4),j(i.status==="Active"?41:i.status==="Rejected"?42:-1),d(2),j(i.status==="Pending"?43:-1)}}function pie(n,e){if(n&1&&V(0,die,44,32,"div",252),n&2){let t,i=e.$implicit,r=b(3);j((t=r.getClientStats(i.id))?0:-1,t)}}function fie(n,e){if(n&1&&(p(0,"div",239)(1,"table",89)(2,"thead",90)(3,"tr")(4,"th",95),h(5),g(6,"i18n"),f(),p(7,"th",95),h(8),g(9,"i18n"),f(),p(10,"th",95),h(11),g(12,"i18n"),f(),p(13,"th",95),h(14),g(15,"i18n"),f(),p(16,"th",95),h(17),g(18,"i18n"),f(),p(19,"th",95),h(20),g(21,"i18n"),f(),p(22,"th",95),h(23),g(24,"i18n"),f(),p(25,"th",95),h(26),g(27,"i18n"),f()()(),p(28,"tbody",96),ce(29,rie,1,1,null,null,Zi),f()()(),p(31,"div",97),ce(32,pie,1,1,null,null,Zi),f()),n&2){let t=b(2);d(5),x(" ",_(6,8,"name")," "),d(3),x(" ",_(9,10,"email")," "),d(3),x(" ",_(12,12,"phone")," "),d(3),x(" ",_(15,14,"status")," "),d(3),x(" ",_(18,16,"services")," "),d(3),x(" ",_(21,18,"totalSpent")," "),d(3),x(" ",_(24,20,"lastService")," "),d(3),x(" ",_(27,22,"actions")," "),d(3),ue(t.clients()),d(3),ue(t.clients())}}function hie(n,e){n&1&&(p(0,"div",238),k(1,"i",263),p(2,"h4",264),h(3),g(4,"i18n"),f(),p(5,"p",73),h(6),g(7,"i18n"),f()()),n&2&&(d(3),x(" ",_(4,2,"noClientsFound")," "),d(3),x(" ",_(7,4,"noClientsDescription")," "))}function mie(n,e){if(n&1&&(p(0,"div",11)(1,"div",236)(2,"h3",194),h(3),g(4,"i18n"),f(),p(5,"p",237),h(6),g(7,"i18n"),f()(),V(8,fie,34,24)(9,hie,8,6,"div",238),f()),n&2){let t=b();d(3),R(_(4,3,"manageClients")),d(3),x(" ",_(7,5,"clientManagementDescription")," "),d(2),j(t.clients().length>0?8:9)}}function gie(n,e){if(n&1){let t=H();p(0,"button",273),A("click",function(){E(t);let r=b(),o=b();return S(o.respondToQuote(r.id,!1))}),h(1),g(2,"i18n"),f(),p(3,"button",274),A("click",function(){E(t);let r=b(),o=b();return S(o.respondToQuote(r.id,!0))}),h(4),g(5,"i18n"),f()}n&2&&(d(),x(" ",_(2,2,"reject")," "),d(3),x(" ",_(5,4,"approve")," "))}function vie(n,e){if(n&1){let t=H();p(0,"div",12)(1,"div",265)(2,"h3",266),h(3),g(4,"i18n"),f(),p(5,"p",267),h(6),f(),p(7,"label",268),h(8),g(9,"i18n"),f(),p(10,"input",269),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.quoteAmount,r)||(o.quoteAmount=r),S(r)}),f(),p(11,"div",270)(12,"button",271),A("click",function(){E(t);let r=b();return S(r.quoteRequest.set(null))}),h(13),g(14,"i18n"),f(),p(15,"button",272),A("click",function(){E(t);let r=b();return S(r.submitQuote())}),h(16),g(17,"i18n"),f(),V(18,gie,6,6),f()()()}if(n&2){let t=e,i=b();d(3),Qe(" ",_(4,9,"quoteFor"),' "',t.title,'" '),d(3),R(t.description),d(2),R(_(9,11,"quoteValue")),d(2),xt("ngModel",i.quoteAmount),d(3),x(" ",_(14,13,"cancel")," "),d(2),T("disabled",!i.quoteAmount()||i.quoteAmount()<=0),d(),x(" ",_(17,15,"submit")," "),d(2),j(t.status==="Quoted"?18:-1)}}function _ie(n,e){if(n&1&&(p(0,"option",286),h(1),f()),n&2){let t=e.$implicit;T("ngValue",t.id),d(),R(t.name)}}function yie(n,e){if(n&1&&(p(0,"div",303)(1,"p",307),k(2,"i",308),h(3),g(4,"i18n"),p(5,"strong"),h(6),f()()()),n&2){let t=b(),i=b();d(3),x(" ",_(4,2,"clientRequestedFor"),": "),d(3),R(i.formatDateTime(t.requested_datetime))}}function bie(n,e){if(n&1){let t=H();p(0,"div",12)(1,"div",275)(2,"div",276)(3,"label",277),h(4),g(5,"i18n"),f(),p(6,"select",278),A("change",function(r){E(t);let o=b();return S(o.i18n.setLanguage(r.target.value))}),p(7,"option",279),h(8),g(9,"i18n"),f(),p(10,"option",280),h(11),g(12,"i18n"),f()()(),p(13,"h3",266),h(14),g(15,"i18n"),f(),p(16,"p",281),h(17),g(18,"i18n"),f(),p(19,"div",282)(20,"div")(21,"label",283),h(22),g(23,"i18n"),f(),p(24,"select",284),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.assigningProfessionalId,r)||(o.assigningProfessionalId=r),S(r)}),p(25,"option",285),h(26),g(27,"i18n"),f(),ce(28,_ie,2,2,"option",286,Zi),f()(),p(30,"div",287)(31,"h4",288),h(32),g(33,"i18n"),f(),p(34,"div",289)(35,"div")(36,"label",290),h(37),g(38,"i18n"),f(),p(39,"input",291),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.scheduledDate,r)||(o.scheduledDate=r),S(r)}),f()(),p(40,"div")(41,"label",292),h(42),g(43,"i18n"),f(),p(44,"input",293),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.scheduledTime,r)||(o.scheduledTime=r),S(r)}),f()()(),p(45,"div",294)(46,"label",295),h(47),g(48,"i18n"),g(49,"i18n"),f(),p(50,"div",114)(51,"input",296),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.estimatedDurationMinutes,r)||(o.estimatedDurationMinutes=r),S(r)}),f(),p(52,"div",297)(53,"span",298),h(54,"min"),f()()(),p(55,"p",299),h(56),g(57,"i18n"),f()(),p(58,"div",300)(59,"p",301),h(60),g(61,"i18n"),f(),p(62,"div",139)(63,"button",302),A("click",function(){E(t);let r=b();return S(r.setEstimatedDuration(30))}),h(64," 30min "),f(),p(65,"button",302),A("click",function(){E(t);let r=b();return S(r.setEstimatedDuration(60))}),h(66," 1h "),f(),p(67,"button",302),A("click",function(){E(t);let r=b();return S(r.setEstimatedDuration(120))}),h(68," 2h "),f(),p(69,"button",302),A("click",function(){E(t);let r=b();return S(r.setEstimatedDuration(180))}),h(70," 3h "),f(),p(71,"button",302),A("click",function(){E(t);let r=b();return S(r.setEstimatedDuration(240))}),h(72," 4h "),f(),p(73,"button",302),A("click",function(){E(t);let r=b();return S(r.setEstimatedDuration(480))}),h(74," 8h "),f()()(),V(75,yie,7,4,"div",303),f()(),p(76,"div",304)(77,"button",305),A("click",function(){E(t);let r=b();return S(r.cancelAssignment())}),h(78),g(79,"i18n"),f(),p(80,"button",306),A("click",function(){E(t);let r=b();return S(r.assignProfessional())}),h(81),g(82,"i18n"),f()()()()}if(n&2){let t=e,i=b();d(4),R(_(5,25,"language")),d(4),R(_(9,27,"portuguese")),d(3),R(_(12,29,"english")),d(3),x(" ",_(15,31,"assignProfessional")," "),d(3),Qe(" ",_(18,33,"selectProfessionalFor"),' "',t.title,'". '),d(5),R(_(23,35,"professional")),d(2),xt("ngModel",i.assigningProfessionalId),d(),T("ngValue",null),d(),x(" ",_(27,37,"selectAProfessional")," "),d(2),ue(i.getProfessionalsForRequest(t.category)),d(4),x(" ",_(33,39,"schedulingInformation")," "),d(5),x(" ",_(38,41,"scheduledDate")," * "),d(2),xt("ngModel",i.scheduledDate),T("min",i.getMinDate()),d(3),x(" ",_(43,43,"scheduledTime")," * "),d(2),xt("ngModel",i.scheduledTime),d(3),Qe(" ",_(48,45,"estimatedDuration")," (",_(49,47,"inMinutes"),") * "),d(4),xt("ngModel",i.estimatedDurationMinutes),d(5),x(" ",_(57,49,"durationHelpText")," "),d(4),x(" ",_(61,51,"quickSelect"),": "),d(15),j(t.requested_datetime?75:-1),d(3),x(" ",_(79,53,"cancel")," "),d(2),T("disabled",!i.canAssignProfessional()),d(),x(" ",_(82,55,"assignAndSchedule")," ")}}function xie(n,e){if(n&1&&(p(0,"p",311),k(1,"i",321),h(2),g(3,"i18n"),f()),n&2){let t=b(),i=b();d(2),Qe(" ",_(3,2,"approvedAmount"),": ",i.formatCost(t.quote_amount)," ")}}function Cie(n,e){if(n&1&&(p(0,"div",320)(1,"p",322),k(2,"i",308),h(3),g(4,"i18n"),p(5,"strong"),h(6),f()()()),n&2){let t=b(),i=b();d(3),x(" ",_(4,2,"clientOriginallyRequestedFor"),": "),d(3),R(i.formatDateTime(t.requested_datetime))}}function wie(n,e){if(n&1){let t=H();p(0,"div",12)(1,"div",275)(2,"h3",266),h(3),g(4,"i18n"),f(),p(5,"p",281),h(6),g(7,"i18n"),f(),p(8,"div",282)(9,"div",309)(10,"h4",310),h(11),g(12,"i18n"),f(),p(13,"p",311),k(14,"i",312),h(15),g(16,"i18n"),f(),p(17,"p",311),k(18,"i",313),h(19),f(),V(20,xie,4,4,"p",311),f(),p(21,"div",289)(22,"div")(23,"label",314),h(24),g(25,"i18n"),f(),p(26,"input",315),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.proposedExecutionDate,r)||(o.proposedExecutionDate=r),S(r)}),f()(),p(27,"div")(28,"label",316),h(29),g(30,"i18n"),f(),p(31,"input",317),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.proposedExecutionTime,r)||(o.proposedExecutionTime=r),S(r)}),f()()(),p(32,"div")(33,"label",318),h(34),g(35,"i18n"),g(36,"i18n"),f(),p(37,"textarea",319),g(38,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.proposedExecutionNotes,r)||(o.proposedExecutionNotes=r),S(r)}),f()(),V(39,Cie,7,4,"div",320),f(),p(40,"div",304)(41,"button",305),A("click",function(){E(t);let r=b();return S(r.cancelDateProposal())}),h(42),g(43,"i18n"),f(),p(44,"button",306),A("click",function(){E(t);let r=b();return S(r.proposeDateExecution())}),h(45),g(46,"i18n"),f()()()()}if(n&2){let t=e,i=b();d(3),x(" ",_(4,22,"proposeExecutionDate")," "),d(3),Qe(" ",_(7,24,"proposeExecutionDateFor"),' "',t.title,'". '),d(5),x(" ",_(12,26,"serviceDetails")," "),d(4),Qe(" ",_(16,28,"client"),": ",t.client_name," "),d(4),Qe(" ",t.street,", ",t.city," "),d(),j(t.quote_amount?20:-1),d(4),x(" ",_(25,30,"proposedDate")," * "),d(2),xt("ngModel",i.proposedExecutionDate),T("min",i.getMinDate()),d(3),x(" ",_(30,32,"proposedTime")," * "),d(2),xt("ngModel",i.proposedExecutionTime),d(3),Qe(" ",_(35,34,"notesForClient")," (",_(36,36,"optional"),") "),d(3),xt("ngModel",i.proposedExecutionNotes),T("placeholder",_(38,38,"notesForClientPlaceholder")),d(2),j(t.requested_datetime?39:-1),d(3),x(" ",_(43,40,"cancel")," "),d(2),T("disabled",!i.canProposeDate()),d(),x(" ",_(46,42,"proposeDate")," ")}}function Eie(n,e){if(n&1){let t=H();p(0,"div")(1,"input",326),A("change",function(r){let o=E(t).$implicit,s=b(2);return S(s.toggleEditProfessionalSpecialty(o,r))}),f(),p(2,"label",228),h(3),f()()}if(n&2){let t=e.$implicit,i=b(2);d(),T("id","edit-pro-"+t)("checked",i.editingProfessionalSpecialties().includes(t)),d(),T("for","edit-pro-"+t),d(),R(t)}}function Sie(n,e){if(n&1){let t=H();p(0,"div",12)(1,"div",323)(2,"h3",266),h(3),g(4,"i18n"),f(),p(5,"div",219)(6,"input",220),g(7,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.editingProfessionalName,r)||(o.editingProfessionalName=r),S(r)}),f(),p(8,"input",221),g(9,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.editingProfessionalEmail,r)||(o.editingProfessionalEmail=r),S(r)}),f(),p(10,"fieldset")(11,"legend",222),h(12),g(13,"i18n"),f(),p(14,"div",324),ce(15,Eie,4,4,"div",null,Nn),f()()(),p(17,"div",270)(18,"button",271),A("click",function(){E(t);let r=b();return S(r.cancelEditProfessional())}),h(19),g(20,"i18n"),f(),p(21,"button",325),A("click",function(){E(t);let r=b();return S(r.saveProfessionalEdit())}),h(22),g(23,"i18n"),f()()()()}if(n&2){let t=b();d(3),R(_(4,8,"editProfessional")),d(3),xt("ngModel",t.editingProfessionalName),T("placeholder",_(7,10,"name")),d(2),xt("ngModel",t.editingProfessionalEmail),T("placeholder",_(9,12,"email")),d(4),x(" ",_(13,14,"specialties")," "),d(3),ue(t.allCategories()),d(4),x(" ",_(20,16,"cancel")," "),d(3),x(" ",_(23,18,"saveChanges")," ")}}function Die(n,e){if(n&1){let t=H();p(0,"div",13)(1,"div",327)(2,"div",328)(3,"div",329)(4,"h2",330),h(5),g(6,"i18n"),f(),p(7,"div",331)(8,"p",332),h(9),g(10,"i18n"),f(),p(11,"p",333),h(12),g(13,"i18n"),f()()(),p(14,"div",334)(15,"div")(16,"h4",335),h(17),g(18,"i18n"),f(),p(19,"p"),h(20),f(),p(21,"p",333),h(22),f()(),p(23,"div")(24,"h4",335),h(25),g(26,"i18n"),f(),p(27,"p"),h(28),f()()(),p(29,"h3",336),h(30),g(31,"i18n"),f(),p(32,"table",337)(33,"thead",90)(34,"tr")(35,"th",338),h(36),g(37,"i18n"),f(),p(38,"th",339),h(39),g(40,"i18n"),f()()(),p(41,"tbody")(42,"tr",340)(43,"td",341),h(44),f(),p(45,"td",342),h(46),f()()()(),p(47,"div",343)(48,"div",344)(49,"div",345)(50,"p"),h(51),g(52,"i18n"),f(),p(53,"p"),h(54),f()(),p(55,"div",345)(56,"p"),h(57),g(58,"i18n"),f(),p(59,"p"),h(60),f()(),p(61,"div",346)(62,"p"),h(63),g(64,"i18n"),f(),p(65,"p"),h(66),f()()()(),p(67,"p",347),h(68),g(69,"i18n"),f()(),p(70,"div",348)(71,"button",271),A("click",function(){E(t);let r=b();return S(r.invoiceRequest.set(null))}),h(72),g(73,"i18n"),f(),p(74,"button",325),A("click",function(){E(t);let r=b();return S(r.printInvoice())}),h(75),g(76,"i18n"),f()()()()}if(n&2){let t=e,i=b();d(5),R(_(6,23,"invoice")),d(4),R(_(10,25,"appNameFull")),d(3),R(_(13,27,"companyAddress")),d(5),x(" ",_(18,29,"billedTo")," "),d(3),R(i.getClientName(t.client_id)),d(2),Qe(" ",t.street,", ",t.city," "),d(3),x(" ",_(26,31,"serviceProvidedBy")," "),d(3),R(i.getProfessionalName(t.professional_id)),d(2),x(" ",_(31,33,"serviceDescription")," "),d(6),x(" ",_(37,35,"description")," "),d(3),x(" ",_(40,37,"total")," "),d(5),R(t.title),d(2),R(i.formatCost(t.cost)),d(5),R(_(52,39,"subtotal")),d(3),R(i.formatCost(t.cost)),d(3),x("",_(58,41,"tax")," (7%)"),d(3),R(i.formatCost((t.cost??0)*.07)),d(3),R(_(64,43,"grandTotal")),d(3),R(i.formatCost((t.cost??0)*1.07)),d(2),x(" ",_(69,45,"thankYou")," "),d(4),x(" ",_(73,47,"close")," "),d(3),x(" ",_(76,49,"print")," ")}}var Sp=class Sp{constructor(){this.filterStatus=F("");this.filterStartDate=F("");this.filterEndDate=F("");this.filterDistrict=F("");this.filterProfessional=F("");this.searchTerm=F("");this.sortBy=F("date");this.sortOrder=F("desc");this.quickFilterOptions=[{status:"Solicitado",label:"statusRequested"},{status:"Em an\xE1lise",label:"statusInAnalysis"},{status:"Agendado",label:"statusScheduled"},{status:"Finalizado",label:"statusCompleted"}];this.statusOptions=F([]);this.districtOptions=["Lisboa","Porto","Set\xFAbal","Braga","Coimbra","Aveiro"];this.professionalOptions=[];this.activeFilters=J(()=>{let e=[];if(this.filterStatus()&&e.push({type:"status",label:"status",value:this.filterStatus()}),this.filterStartDate()&&this.filterEndDate()&&e.push({type:"period",label:"period",value:`${this.filterStartDate()} - ${this.filterEndDate()}`}),this.filterDistrict()&&e.push({type:"district",label:"district",value:this.filterDistrict()}),this.filterProfessional()){let t=this.professionalOptions.find(i=>String(i.id)===String(this.filterProfessional()))?.name||"";e.push({type:"professional",label:"professional",value:t})}return this.searchTerm()&&e.push({type:"search",label:"search",value:this.searchTerm()}),e});this.filteredRequests=J(()=>{let e=this.allRequests(),t=this.filterStatus(),i=this.filterStartDate(),r=this.filterEndDate(),o=this.filterDistrict(),s=this.filterProfessional(),a=this.searchTerm().toLowerCase();if(t&&(e=e.filter(l=>l.status===t)),i&&r){let l=new Date(i),c=new Date(r);c.setHours(23,59,59,999),e=e.filter(u=>{if(!u.requested_date)return!1;let m=new Date(u.requested_date);return m>=l&&m<=c})}return o&&(e=e.filter(l=>l.state===o)),s&&(e=e.filter(l=>String(l.professional_id)===String(s))),a&&(e=e.filter(l=>l.title?.toLowerCase().includes(a)||this.getClientName(l.client_id)?.toLowerCase().includes(a)||l.zip_code?.toLowerCase().includes(a)||String(l.id).includes(a))),this.sortRequests(e)});this.filteredPaginatedRequests=J(()=>{let e=this.filteredRequests(),t=(this.currentPage()-1)*this.itemsPerPage(),i=t+this.itemsPerPage();return e.slice(t,i)});this.dataService=$(kt);this.i18n=$($e);this.statusGraphTitle=this.i18n.translate("statusGraphTitle");this.statusLabels={Solicitado:this.i18n.translate("statusRequested"),"Em an\xE1lise":this.i18n.translate("statusInAnalysis"),"Aguardando esclarecimentos":this.i18n.translate("statusAwaitingClarifications"),"Or\xE7amento enviado":this.i18n.translate("statusQuoteSent"),"Aguardando aprova\xE7\xE3o do or\xE7amento":this.i18n.translate("statusAwaitingQuoteApproval"),"Or\xE7amento aprovado":this.i18n.translate("statusQuoteApproved"),"Aguardando data de execu\xE7\xE3o":this.i18n.translate("statusAwaitingExecutionDate"),"Data proposta pelo administrador":this.i18n.translate("statusDateProposedByAdmin"),"Aguardando aprova\xE7\xE3o da data":this.i18n.translate("statusAwaitingDateApproval"),"Data aprovada pelo cliente":this.i18n.translate("statusDateApprovedByClient"),"Buscando profissional":this.i18n.translate("statusSearchingProfessional"),"Profissional selecionado":this.i18n.translate("statusProfessionalSelected"),"Aguardando confirma\xE7\xE3o do profissional":this.i18n.translate("statusAwaitingProfessionalConfirmation"),Agendado:this.i18n.translate("statusScheduled"),"Em execu\xE7\xE3o":this.i18n.translate("statusInExecution"),"Conclu\xEDdo - Aguardando aprova\xE7\xE3o":this.i18n.translate("statusCompletedAwaitingApproval"),Assigned:this.i18n.translate("statusAssigned"),Pending:this.i18n.translate("statusPending"),Scheduled:this.i18n.translate("statusScheduledEn"),"In Progress":this.i18n.translate("statusInProgress"),Finalizado:this.i18n.translate("statusCompleted"),Cancelado:this.i18n.translate("statusCancelled"),Completed:this.i18n.translate("statusCompletedEn")};this.notificationService=$(Ft);this.workflowService=$(ys);this.Math=Math;this.isProduction=!1;this.openActionsMenuId=F(null);this.currentView=F("overview");this.showAddProfessionalForm=F(!1);this.editingCategory=F(null);this.editingCategoryName=F("");this.lastUpdate=F(new Date);this.refreshInterval=null;this.newCategory=F("");this.newProfessionalName=F("");this.newProfessionalEmail=F("");this.newProfessionalSpecialties=F([]);this.editingProfessional=F(null);this.editingProfessionalName=F("");this.editingProfessionalEmail=F("");this.editingProfessionalSpecialties=F([]);this.quoteRequest=F(null);this.quoteAmount=F(null);this.assignmentRequest=F(null);this.assigningProfessionalId=F(null);this.invoiceRequest=F(null);this.scheduledDate=F("");this.scheduledTime=F("");this.estimatedDurationMinutes=F(null);this.servicesByStatus=J(()=>{let e=this.dataService.serviceRequests(),t={};for(let i of e){let r=i.status?.trim().toLowerCase();t[r]=(t[r]||0)+1}return t});this.ordersByCategory=J(()=>{let e=this.dataService.serviceRequests(),t=this.dataService.categories(),i={};for(let r of e){let o=r.category_id||"none";i[o]=(i[o]||0)+1}return t.forEach(r=>{r.id in i||(i[r.id]=0)}),i.none!==void 0&&(i.none=i.none),i});this.categoryLabels=J(()=>{let e=this.dataService.categories(),t={};return e.forEach(i=>{t[i.id]=i.name}),t.none=this.i18n.translate("noCategory"),t});this.temporalData=J(()=>{let e=this.allRequests(),t={};for(let i=29;i>=0;i--){let r=new Date;r.setDate(r.getDate()-i);let o=r.toISOString().split("T")[0],s=e.filter(a=>new Date(a.requested_date).toISOString().split("T")[0]===o).length;t[o]=s}return t});this.recentActivities=J(()=>{let e=this.allRequests(),t=this.allUsers(),i=[];return e.slice(0,5).forEach(r=>{i.push({type:"request",message:this.i18n.translate("requestCreated")+` #${r.id}`,time:this.getRelativeTime(r.requested_date),icon:"fas fa-file-alt",color:"text-blue-600"})}),t.slice(0,3).forEach(r=>{i.push({type:"user",message:this.i18n.translate("userRegistered")+`: ${r.name}`,time:this.getRelativeTime(new Date().toISOString()),icon:"fas fa-user-plus",color:"text-green-600"})}),i.sort((r,o)=>new Date(o.time).getTime()-new Date(r.time).getTime()).slice(0,8)});this.dateProposalRequest=F(null);this.proposedExecutionDate=F("");this.proposedExecutionTime=F("");this.proposedExecutionNotes=F("");this.currentPage=F(1);this.itemsPerPage=F(5);this.totalPages=J(()=>Math.ceil(this.allRequests().length/this.itemsPerPage()));this.paginatedRequests=J(()=>{let e=this.allRequests(),t=(this.currentPage()-1)*this.itemsPerPage(),i=t+this.itemsPerPage();return e.slice(t,i)});this.allUsers=this.dataService.users;this.allRequests=this.dataService.serviceRequests;this.allCategories=this.dataService.categories;this.views=J(()=>[{id:"overview",label:this.i18n.translate("overview"),icon:"fas fa-tachometer-alt"},{id:"requests",label:this.i18n.translate("requests"),icon:"fas fa-list"},{id:"approvals",label:this.i18n.translate("approvals"),icon:"fas fa-user-check"},{id:"finances",label:this.i18n.translate("finances"),icon:"fas fa-chart-line"},{id:"professionals",label:this.i18n.translate("professionals"),icon:"fas fa-users"},{id:"clients",label:this.i18n.translate("clients"),icon:"fas fa-user-friends"},{id:"categories",label:this.i18n.translate("categories"),icon:"fas fa-tags"}]);this.pendingRegistrations=J(()=>this.allUsers().filter(e=>(e.role==="professional"||e.role==="client")&&(e.status==="Pending"||e.email_verified===!1)));this.pendingApprovalCount=J(()=>this.pendingRegistrations().length);this.actionableRequests=J(()=>this.allRequests().filter(e=>e.status==="Solicitado"||e.status==="Or\xE7amento enviado"||e.status==="Or\xE7amento aprovado"));this.professionals=J(()=>this.allUsers().filter(e=>e.role==="professional"&&e.status==="Active"));this.clients=J(()=>this.allUsers().filter(e=>e.role==="client"));this.completedRequests=J(()=>this.allRequests().filter(e=>(e.status==="Finalizado"||e.status==="Completed")&&e.cost));this.financialStats=J(()=>{let e=this.completedRequests(),t=e.filter(o=>o.payment_status==="Paid").reduce((o,s)=>o+(s.cost||0),0),i=t*.07,r=e.filter(o=>o.payment_status==="Unpaid").reduce((o,s)=>o+(s.cost||0),0);return{completedServices:e.length,totalRevenue:t,totalTax:i,outstandingAmount:r}});this.stats=J(()=>{let e=this.allRequests(),t=this.allUsers(),i=this.financialStats(),r=this.calculateTrends();return[{label:this.i18n.translate("totalRevenue"),value:this.formatCost(i.totalRevenue),icon:"fas fa-euro-sign",bgColor:"bg-gradient-to-br from-green-100 to-green-200 text-green-700",trend:r.revenue,trendColor:r.revenue.includes("+")?"text-green-600":"text-red-600",badge:null},{label:this.i18n.translate("pendingApprovals"),value:this.pendingApprovalCount(),icon:"fas fa-user-clock",bgColor:"bg-gradient-to-br from-orange-100 to-orange-200 text-orange-700",trend:r.approvals,trendColor:r.approvals.includes("+")?"text-red-600":"text-green-600",badge:this.getNewTodayCount()>0?`${this.getNewTodayCount()} ${this.i18n.translate("newToday")}`:null},{label:this.i18n.translate("activeServices"),value:e.filter(o=>Object.values(wl).includes(o.status)).length,icon:"fas fa-cogs",bgColor:"bg-gradient-to-br from-blue-100 to-blue-200 text-blue-700",trend:r.activeServices,trendColor:r.activeServices.includes("+")?"text-green-600":"text-red-600",badge:this.getUrgentCount()>0?`${this.getUrgentCount()} ${this.i18n.translate("urgentItems")}`:null},{label:this.i18n.translate("totalProfessionals"),value:t.filter(o=>o.role==="professional"&&o.status==="Active").length,icon:"fas fa-users-cog",bgColor:"bg-gradient-to-br from-indigo-100 to-indigo-200 text-indigo-700",trend:r.professionals,trendColor:r.professionals.includes("+")?"text-green-600":"text-red-600",badge:null},{label:this.i18n.translate("activeClients"),value:t.filter(o=>o.role==="client"&&o.status==="Active").length,icon:"fas fa-user-friends",bgColor:"bg-gradient-to-br from-purple-100 to-purple-200 text-purple-700",trend:r.clients,trendColor:r.clients.includes("+")?"text-green-600":"text-red-600",badge:null}]});this.pendingProfessionals=this.pendingRegistrations;this.categories=this.allCategories}sortByColumn(e){this.sortBy()===e?this.toggleSortOrder():(this.sortBy.set(e),this.sortOrder.set("desc"))}toggleSortOrder(){this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc")}ngOnInit(){this.startAutoRefresh(),this.professionalOptions=this.professionals(),this.statusOptions.set(Object.values(wl).map(e=>({value:e,label:this.i18n.translate(e)})))}applyQuickFilter(e){this.filterStatus.set(this.filterStatus()===e?"":e)}clearFilters(){this.filterStatus.set(""),this.filterStartDate.set(""),this.filterEndDate.set(""),this.filterDistrict.set(""),this.filterProfessional.set(""),this.searchTerm.set("")}removeFilter(e){switch(e){case"status":this.filterStatus.set("");break;case"period":this.filterStartDate.set(""),this.filterEndDate.set("");break;case"district":this.filterDistrict.set("");break;case"professional":this.filterProfessional.set("");break;case"search":this.searchTerm.set("");break}}sortRequests(e){let t=this.sortBy(),r=this.sortOrder()==="asc"?1:-1;return[...e].sort((o,s)=>{let a=0;switch(t){case"date":{let l=o.requested_date?new Date(o.requested_date).getTime():0,c=s.requested_date?new Date(s.requested_date).getTime():0;a=l-c;break}case"status":{a=(o.status||"").localeCompare(s.status||"");break}case"id":{a=o.id-s.id;break}case"category":{let l=this.dataService.categories().find(u=>u.id===o.category_id)?.name||"",c=this.dataService.categories().find(u=>u.id===s.category_id)?.name||"";a=l.localeCompare(c);break}case"client":{let l=this.getClientName(o.client_id)||"",c=this.getClientName(s.client_id)||"";a=l.localeCompare(c);break}case"professional":{let l=this.getProfessionalName(o.professional_id)||"",c=this.getProfessionalName(s.professional_id)||"";a=l.localeCompare(c);break}}return a*r})}statusPieChartData(){let e=this.servicesByStatus();return console.log("[PieChart] Dados enviados ao gr\xE1fico:",e),e}onDocumentClick(e){if(this.openActionsMenuId()===null)return;this.actionsMenus.some(i=>i.nativeElement.contains(e.target))||this.openActionsMenuId.set(null)}get pageNumbers(){let e=this.totalPages(),t=this.currentPage(),i=[];i.push(1);let r=Math.max(2,t-2),o=Math.min(e-1,t+2);r>2&&i.push(-1);for(let s=r;s<=o;s++)s!==1&&s!==e&&i.push(s);return o<e-1&&i.push(-1),e>1&&i.push(e),i}setView(e){this.currentView.set(e)}navigateToFinances(){this.setView("finances")}isRevenueCard(e){return e===this.i18n.translate("totalRevenue")}isPendingApprovalsCard(e){return e===this.i18n.translate("pendingApprovals")}isActiveServicesCard(e){return e===this.i18n.translate("activeServices")}isTotalProfessionalsCard(e){return e===this.i18n.translate("totalProfessionals")}isActiveClientsCard(e){return e===this.i18n.translate("activeClients")}navigateToApprovals(){this.setView("approvals")}navigateToRequests(){this.setView("requests")}navigateToProfessionals(){this.setView("professionals")}navigateToClients(){this.setView("clients")}handleCardClick(e){this.isRevenueCard(e)?this.navigateToFinances():this.isPendingApprovalsCard(e)?this.navigateToApprovals():this.isActiveServicesCard(e)?this.navigateToRequests():this.isTotalProfessionalsCard(e)?this.navigateToProfessionals():this.isActiveClientsCard(e)&&this.navigateToClients()}isCardClickable(e){return this.isRevenueCard(e)||this.isPendingApprovalsCard(e)||this.isActiveServicesCard(e)||this.isTotalProfessionalsCard(e)||this.isActiveClientsCard(e)}getCardTooltip(e){return this.isRevenueCard(e)?this.i18n.translate("clickToViewFinances"):this.isPendingApprovalsCard(e)?this.i18n.translate("clickToViewApprovals"):this.isActiveServicesCard(e)?this.i18n.translate("clickToViewRequests"):this.isTotalProfessionalsCard(e)?this.i18n.translate("clickToViewProfessionals"):this.isActiveClientsCard(e)?this.i18n.translate("clickToViewClients"):""}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}previousPage(){let e=this.currentPage();e>1&&this.currentPage.set(e-1)}nextPage(){let e=this.currentPage();e<this.totalPages()&&this.currentPage.set(e+1)}setItemsPerPage(e){this.itemsPerPage.set(e),this.currentPage.set(1)}getClientName(e){return this.allUsers().find(t=>t.id===e)?.name||this.i18n.translate("unknownClient")}getProfessionalName(e){return e?this.allUsers().find(t=>t.id===e)?.name||this.i18n.translate("unassigned"):this.i18n.translate("unassigned")}statusClass(e){return{Pending:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",Quoted:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",Approved:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800","In Progress":"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-800",Completed:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",Cancelled:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"}[e]||"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800"}toggleActionsMenu(e){this.openActionsMenuId.set(this.openActionsMenuId()===e?null:e)}isActionsMenuOpen(e){return this.openActionsMenuId()===e}formatCost(e){return e?`\u20AC ${e.toFixed(2)}`:"N/A"}approveClient(e){this.dataService.updateUser(e,{status:"Active"}),this.notificationService.addNotification(this.i18n.translate("professionalApproved",{name:this.allUsers().find(t=>t.id===e)?.name||"Professional"}))}rejectClient(e){confirm(this.i18n.translate("confirmRejectRegistration"))&&(this.dataService.updateUser(e,{status:"Rejected"}),this.notificationService.addNotification(this.i18n.translate("professionalRejected",{name:this.allUsers().find(t=>t.id===e)?.name||"Professional"})))}selectRequestForQuote(e){this.quoteRequest.set(e),this.quoteAmount.set(e.cost||null)}submitQuote(){let e=this.quoteRequest(),t=this.quoteAmount();!e||!t||t<=0||(this.dataService.updateServiceRequest(e.id,{cost:t,status:"Or\xE7amento enviado"}),this.notificationService.addNotification(this.i18n.translate("quoteSubmitted",{id:e.id.toString()})),this.quoteRequest.set(null),this.quoteAmount.set(null))}respondToQuote(e,t){let i=t?"Or\xE7amento aprovado":"Or\xE7amento rejeitado";this.dataService.updateServiceRequest(e,{status:i}),this.notificationService.addNotification(t?this.i18n.translate("quoteApproved",{id:e.toString()}):this.i18n.translate("quoteRejected",{id:e.toString()}))}async analyzeRequest(e){try{await this.workflowService.analyzeRequest(e.id),this.notificationService.addNotification(this.i18n.translate("requestAnalysisStarted",{title:e.title}))}catch(t){console.error("Error analyzing request:",t),this.notificationService.addNotification(this.i18n.translate("errorAnalyzingRequest"))}}async requestClarificationFromClient(e){let t=window.prompt(this.i18n.translate("enterClarificationRequest"));if(t?.trim())try{await this.workflowService.requestClarification(e.id,t),this.notificationService.addNotification(this.i18n.translate("clarificationRequestSent",{title:e.title}))}catch(i){console.error("Error requesting clarification:",i),this.notificationService.addNotification(this.i18n.translate("errorRequestingClarification"))}}selectRequestForAssignment(e){this.assignmentRequest.set(e),this.assigningProfessionalId.set(null),this.resetSchedulingFields()}getProfessionalsForRequest(e){let t=this.professionals().filter(i=>i.specialties?.some(r=>r.id===e)||!i.specialties?.length);return t.length>0?t:this.professionals()}assignProfessional(){let e=this.assignmentRequest(),t=this.assigningProfessionalId(),i=this.scheduledDate(),r=this.scheduledTime(),o=this.estimatedDurationMinutes();if(!e||!t||!i||!r||!o)return;let s=this.combineDateTime(i,r);this.dataService.updateServiceRequest(e.id,{professional_id:t,status:"Agendado",scheduled_start_datetime:s,estimated_duration_minutes:o}).then(()=>{let a=this.dataService.authService.appUser();a&&this.dataService.loadInitialData(a)}),this.notificationService.addNotification(this.i18n.translate("professionalAssignedAndScheduled",{id:e.id.toString(),professional:this.getProfessionalName(t),date:this.formatDateTime(s)})),this.resetAssignmentForm()}resetSchedulingFields(){this.scheduledDate.set(""),this.scheduledTime.set(""),this.estimatedDurationMinutes.set(null)}resetAssignmentForm(){this.assignmentRequest.set(null),this.assigningProfessionalId.set(null),this.resetSchedulingFields()}cancelAssignment(){this.resetAssignmentForm()}getMinDate(){return new Date().toISOString().split("T")[0]}setEstimatedDuration(e){this.estimatedDurationMinutes.set(e)}combineDateTime(e,t){return`${e}T${t}:00.000Z`}formatDateTime(e){try{let t=new Date(e),i=this.i18n.language()==="pt"?"pt-PT":"en-US";return t.toLocaleString(i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return e}}canAssignProfessional(){return!!(this.assigningProfessionalId()&&this.scheduledDate()&&this.scheduledTime()&&this.estimatedDurationMinutes()&&this.estimatedDurationMinutes()>0)}needsProfessionalAssignment(e){return e.status==="Agendado"&&!e.professional_id||e.status==="Or\xE7amento aprovado"||e.status==="Aprovado pelo cliente"}openDateProposalModal(e){this.dateProposalRequest.set(e),this.proposedExecutionDate.set(""),this.proposedExecutionTime.set(""),this.proposedExecutionNotes.set("")}proposeDateExecution(){let e=this.dateProposalRequest(),t=this.proposedExecutionDate(),i=this.proposedExecutionTime(),r=this.proposedExecutionNotes();if(!e||!t||!i){this.notificationService.addNotification(this.i18n.translate("fillRequiredFields"));return}let o=new Date(`${t}T${i}`);this.dataService.proposeExecutionDate(e.id,o,r.trim()||void 0),this.notificationService.addNotification(this.i18n.translate("executionDateProposed",{id:e.id.toString()})),this.cancelDateProposal()}cancelDateProposal(){this.dateProposalRequest.set(null),this.proposedExecutionDate.set(""),this.proposedExecutionTime.set(""),this.proposedExecutionNotes.set("")}canProposeDate(){return!!(this.proposedExecutionDate()&&this.proposedExecutionTime())}isRequestAwaitingDateProposal(e){return e.status==="Or\xE7amento aprovado"}toggleNewProfessionalSpecialty(e,t){let i=t.target.checked,r=this.newProfessionalSpecialties();i?r.some(o=>o.id===e.id)||this.newProfessionalSpecialties.set([...r,e]):this.newProfessionalSpecialties.set(r.filter(o=>o.id!==e.id))}addProfessional(){let e=this.newProfessionalName().trim(),t=this.newProfessionalEmail().trim(),i=this.newProfessionalSpecialties();if(!e||!t){this.notificationService.addNotification(this.i18n.translate("fillRequiredFields"));return}this.notificationService.addNotification(this.i18n.translate("professionalAdded",{name:e})),this.resetNewProfessionalForm()}resetNewProfessionalForm(){this.showAddProfessionalForm.set(!1),this.newProfessionalName.set(""),this.newProfessionalEmail.set(""),this.newProfessionalSpecialties.set([])}startEditProfessional(e){this.editingProfessional.set(e),this.editingProfessionalName.set(e.name),this.editingProfessionalEmail.set(e.email),this.editingProfessionalSpecialties.set(e.specialties?[...e.specialties]:[])}toggleEditProfessionalSpecialty(e,t){let i=t.target.checked,r=this.editingProfessionalSpecialties();i?r.some(o=>o.id===e.id)||this.editingProfessionalSpecialties.set([...r,e]):this.editingProfessionalSpecialties.set(r.filter(o=>o.id!==e.id))}saveProfessionalEdit(){let e=this.editingProfessional();if(!e)return;let t={name:this.editingProfessionalName(),email:this.editingProfessionalEmail(),specialties:this.editingProfessionalSpecialties()};this.dataService.updateUser(e.id,t),this.notificationService.addNotification(this.i18n.translate("professionalUpdated",{name:t.name})),this.cancelEditProfessional()}cancelEditProfessional(){this.editingProfessional.set(null),this.editingProfessionalName.set(""),this.editingProfessionalEmail.set(""),this.editingProfessionalSpecialties.set([])}startEditCategory(e){this.editingCategory.set(e),this.editingCategoryName.set(e.name)}saveCategoryEdit(){let e=this.editingCategory(),t=this.editingCategoryName().trim();if(!e||!t||t===e.name){this.editingCategory.set(null);return}if(this.allCategories().some(i=>i.name===t)){this.notificationService.addNotification(this.i18n.translate("categoryAlreadyExists"));return}this.allCategories.update(i=>i.map(r=>r.id===e.id?ee(B({},r),{name:t}):r)),this.notificationService.addNotification(this.i18n.translate("categoryUpdated",{old:e.name,new:t})),this.editingCategory.set(null),this.editingCategoryName.set("")}addCategory(){let e=this.newCategory().trim();if(e&&!this.allCategories().some(t=>t.name===e)){let t={id:Date.now(),name:e};this.allCategories.update(i=>[...i,t]),this.newCategory.set(""),this.notificationService.addNotification(this.i18n.translate("categoryAdded",{category:e}))}else this.allCategories().some(t=>t.name===e)&&this.notificationService.addNotification(this.i18n.translate("categoryAlreadyExists"))}deleteCategory(e){confirm(this.i18n.translate("confirmDeleteCategory",{category:e.name}))&&(this.allCategories.update(t=>t.filter(i=>i.id!==e.id)),this.notificationService.addNotification(this.i18n.translate("categoryDeleted",{category:e.name})))}activateClient(e){this.dataService.updateUser(e,{status:"Active"}),this.notificationService.addNotification(this.i18n.translate("clientActivated",{name:this.allUsers().find(t=>t.id===e)?.name||"Cliente"}))}deactivateClient(e){confirm(this.i18n.translate("confirmDeactivateClient"))&&(this.dataService.updateUser(e,{status:"Rejected"}),this.notificationService.addNotification(this.i18n.translate("clientDeactivated",{name:this.allUsers().find(t=>t.id===e)?.name||"Cliente"})))}getClientStats(e){let t=this.allRequests().filter(o=>o.client_id===e),i=t.filter(o=>o.status==="Finalizado"),r=i.reduce((o,s)=>o+(s.cost||0),0);return{totalRequests:t.length,completedRequests:i.length,totalSpent:r,lastServiceDate:t.length>0?Math.max(...t.map(o=>new Date(o.requested_date).getTime())):null}}exportToCSV(){this.exportFinancialsAsCSV()}generateInvoice(e){this.invoiceRequest.set(e)}printInvoice(){window.print()}exportFinancialsAsCSV(){let e=this.completedRequests();if(e.length===0){this.notificationService.addNotification(this.i18n.translate("noDataToExport"));return}let t=this.i18n,i=[t.translate("csvId"),t.translate("csvClient"),t.translate("csvProfessional"),t.translate("csvService"),t.translate("csvCompletionDate"),t.translate("csvPaymentStatus"),t.translate("csvBaseValue"),t.translate("csvTax"),t.translate("csvTotalValue")],r=e.map(l=>{let c=this.getClientName(l.client_id),u=this.getProfessionalName(l.professional_id),m=(l.cost||0)*.07,y=(l.cost||0)+m;return[l.id,c,u,l.title,l.scheduled_date||l.requested_date,l.payment_status,(l.cost||0).toFixed(2),m.toFixed(2),y.toFixed(2)].join(",")}),o="data:text/csv;charset=utf-8,"+[i.join(","),...r].join("\\n"),s=encodeURI(o),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download","financial_report.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),this.notificationService.addNotification(this.i18n.translate("reportExported"))}handleApproval(e,t){t?this.approveClient(e.id):this.rejectClient(e.id)}viewRequestDetails(e){console.log("Admin Dashboard - viewRequestDetails called:",e),window.postMessage({type:"OPEN_REQUEST_DETAILS",payload:e},"*")}openChat(e){console.log("Admin Dashboard - openChat called:",e),window.postMessage({type:"OPEN_CHAT",payload:e},"*")}changeProfessional(e){console.log("Admin Dashboard - changeProfessional called:",e),window.postMessage({type:"OPEN_CHANGE_PROFESSIONAL",payload:e},"*"),this.notificationService.addNotification(this.i18n.translate("changeProfessionalAction"))}adjustSchedule(e){console.log("Admin Dashboard - adjustSchedule called:",e),window.postMessage({type:"OPEN_ADJUST_SCHEDULE",payload:e},"*"),this.notificationService.addNotification(this.i18n.translate("adjustScheduleAction"))}calculateTrends(){return{revenue:"+12%",approvals:"+3",activeServices:"-5%",professionals:"+2",clients:"+8%"}}getNewTodayCount(){return Math.floor(Math.random()*5)}getUrgentCount(){return Math.floor(Math.random()*3)}createNewService(){this.notificationService.addNotification(this.i18n.translate("newService")+" - "+this.i18n.translate("featureComingSoon"))}generateReport(){this.exportToCSV()}viewAllRequests(){this.setView("requests")}manageUsers(){this.setView("approvals")}getRelativeTime(e){let t=new Date,i=new Date(e),r=Math.floor((t.getTime()-i.getTime())/(1e3*60));return r<60?`${r} ${this.i18n.translate("minutesAgo")}`:r<1440?`${Math.floor(r/60)} ${this.i18n.translate("hoursAgo")}`:`${Math.floor(r/1440)} ${this.i18n.translate("daysAgo")}`}startAutoRefresh(){this.refreshInterval&&clearInterval(this.refreshInterval),this.refreshInterval=setInterval(()=>{this.refreshData()},3e4)}stopAutoRefresh(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}refreshData(){let e=this.dataService.authService.appUser();e&&(this.dataService.loadInitialData(e),this.lastUpdate.set(new Date))}ngOnDestroy(){this.stopAutoRefresh()}};Sp.\u0275fac=function(t){return new(t||Sp)},Sp.\u0275cmp=pe({type:Sp,selectors:[["app-admin-dashboard"]],viewQuery:function(t,i){if(t&1&&Nc(kte,5),t&2){let r;Jt(r=Kt())&&(i.actionsMenus=r)}},hostBindings:function(t,i){t&1&&A("click",function(o){return i.onDocumentClick(o)},k2)},decls:25,vars:7,consts:[["actionsMenu",""],[1,"flex","flex-col","h-full","bg-gray-100"],[1,"flex-1","overflow-y-auto","p-3","sm:p-4","lg:p-6"],[1,"flex-shrink-0","border-b-2","border-gray-200","bg-white","shadow-sm"],[1,"block","sm:hidden","px-4","py-3"],[1,"w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"change","value"],[3,"value"],[1,"hidden","sm:flex","overflow-x-auto","-mb-px","px-4","sm:px-6","scrollbar-hide"],[1,"flex","space-x-4","sm:space-x-6","min-w-max"],[1,"flex","items-center","justify-center","sm:justify-start",3,"class"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"bg-white","rounded-lg","shadow-md"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","no-print"],[1,"flex","items-center","justify-center","sm:justify-start",3,"click"],[1,"text-sm","sm:text-base"],[1,"hidden","md:inline","ml-1","sm:ml-0"],[1,"ml-1","sm:ml-2","inline-flex","items-center","px-1.5","py-0.5","sm:px-2.5","rounded-full","text-xs","font-medium","bg-orange-100","text-orange-800"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-2xl","font-bold"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-3","sm:gap-4","lg:gap-6","mt-6"],[1,"bg-white","p-6","rounded-lg","shadow-md","hover:shadow-lg","transition-all","duration-300","transform","hover:-translate-y-1","flex","flex-col","relative","overflow-hidden",3,"cursor-pointer","title"],[1,"mt-8"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"text-lg","font-semibold","mb-4","flex","items-center"],[1,"fas","fa-bolt","text-yellow-500","mr-2"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"flex","flex-col","items-center","p-4","bg-gradient-to-br","from-blue-50","to-blue-100","hover:from-blue-100","hover:to-blue-200","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-md",3,"click"],[1,"w-12","h-12","bg-blue-500","rounded-full","flex","items-center","justify-center","mb-2"],[1,"fas","fa-plus","text-white","text-lg"],[1,"text-sm","font-medium","text-blue-700"],[1,"flex","flex-col","items-center","p-4","bg-gradient-to-br","from-green-50","to-green-100","hover:from-green-100","hover:to-green-200","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-md",3,"click"],[1,"w-12","h-12","bg-green-500","rounded-full","flex","items-center","justify-center","mb-2"],[1,"fas","fa-chart-bar","text-white","text-lg"],[1,"text-sm","font-medium","text-green-700"],[1,"flex","flex-col","items-center","p-4","bg-gradient-to-br","from-purple-50","to-purple-100","hover:from-purple-100","hover:to-purple-200","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-md",3,"click"],[1,"w-12","h-12","bg-purple-500","rounded-full","flex","items-center","justify-center","mb-2"],[1,"fas","fa-list","text-white","text-lg"],[1,"text-sm","font-medium","text-purple-700"],[1,"flex","flex-col","items-center","p-4","bg-gradient-to-br","from-orange-50","to-orange-100","hover:from-orange-100","hover:to-orange-200","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-md",3,"click"],[1,"w-12","h-12","bg-orange-500","rounded-full","flex","items-center","justify-center","mb-2"],[1,"fas","fa-users","text-white","text-lg"],[1,"text-sm","font-medium","text-orange-700"],[1,"my-8"],[3,"title","data","labels"],[3,"title","data"],[1,"text-lg","font-semibold","flex","items-center"],[1,"fas","fa-history","text-indigo-500","mr-2"],[1,"text-sm","text-gray-500","flex","items-center"],[1,"fas","fa-sync-alt","mr-1"],[1,"space-y-3"],[1,"text-center","py-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","hover:shadow-lg","transition-all","duration-300","transform","hover:-translate-y-1","flex","flex-col","relative","overflow-hidden",3,"click","title"],[1,"absolute","top-2","right-2"],[1,"flex","items-center","space-x-4","mb-3"],[1,"flex-shrink-0","w-12","h-12","flex","items-center","justify-center","rounded-full","transition-transform","duration-300","hover:scale-110"],[1,"text-2xl"],[1,"flex-1"],[1,"text-gray-500","text-sm","font-medium"],[1,"text-2xl","font-bold","text-gray-800","mt-1"],[1,"flex","items-center","justify-between","mt-2"],[1,"flex","items-center","space-x-1"],[1,"fas","fa-arrow-up","text-xs"],[1,"text-xs","font-medium"],[1,"text-xs","text-gray-400"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-red-100","text-red-800","animate-pulse"],[1,"flex","items-start","space-x-3","p-3","rounded-lg","hover:bg-gray-50","transition-colors"],[1,"flex-shrink-0","w-8","h-8","rounded-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-sm"],[1,"flex-1","min-w-0"],[1,"text-sm","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"fas","fa-inbox","text-4xl","text-gray-300","mb-2"],[1,"text-gray-500"],[1,"p-4","border-b","border-gray-200","bg-gray-50","space-y-4"],[1,"flex","flex-wrap","items-center","gap-2"],[1,"text-sm","font-semibold","text-gray-700","mr-2"],[3,"class"],[1,"flex","flex-wrap","gap-4","items-end"],[1,"block","text-xs","font-semibold","text-gray-600","mb-1"],[1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],["value",""],[1,"flex","items-center","gap-2"],["type","date",1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],[1,"flex-1","min-w-[200px]"],["type","text",1,"border","rounded","px-2","py-1","text-sm","w-full",3,"ngModelChange","ngModel","placeholder"],[1,"px-3","py-1","text-xs","bg-gray-300","rounded","hover:bg-gray-400",3,"click"],[1,"flex","flex-wrap","items-center","gap-2","pt-3","border-t","border-gray-200","mt-3"],[1,"hidden","lg:block"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","tracking-wider"],["type","button",1,"w-full","text-left","cursor-pointer","hover:bg-gray-100","transition-colors","select-none","focus:outline-none","focus-visible:ring-2","focus-visible:ring-indigo-500","rounded","px-2","-mx-2",3,"click"],[1,"flex","items-center","justify-between"],[1,"fas","fa-sort","text-gray-400","ml-1"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"lg:hidden","p-4","space-y-4"],[1,"border","border-gray-200","rounded-lg","p-4","space-y-3"],[1,"bg-white","px-4","py-3","flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","border-t","border-gray-200","space-y-3","sm:space-y-0"],[3,"click"],[1,"text-sm","font-medium","text-gray-600"],[1,"inline-flex","items-center","gap-x-1.5","py-1.5","px-3","rounded-full","text-xs","font-medium","bg-teal-100","text-teal-800"],[1,"flex-shrink-0","h-4","w-4","rounded-full","inline-flex","items-center","justify-center","text-teal-600","hover:bg-teal-200","hover:text-teal-500",3,"click"],[1,"fas","fa-times","text-xs"],[1,"fas","fa-sort-up","text-indigo-600","ml-1"],[1,"fas","fa-sort-down","text-indigo-600","ml-1"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-blue-600","rounded-md","hover:bg-blue-700","transition-colors"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-green-600","rounded-md","hover:bg-green-700","transition-colors"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","transition-colors"],[1,"relative"],[1,"p-2","text-gray-500","hover:text-gray-700","hover:bg-gray-100","rounded-full","transition-colors",3,"click"],[1,"fas","fa-ellipsis-v"],[1,"absolute","right-0","z-10","mt-2","w-48","origin-top-right","bg-white","rounded-md","shadow-lg","ring-1","ring-black","ring-opacity-5","focus:outline-none"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-blue-600","rounded-md","hover:bg-blue-700","transition-colors",3,"click"],[1,"fas","fa-search","mr-1"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-green-600","rounded-md","hover:bg-green-700","transition-colors",3,"click"],[1,"fas","fa-calculator","mr-1"],[1,"fas","fa-user-plus","mr-1"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","transition-colors",3,"click"],["role","menu","aria-orientation","vertical",1,"py-1"],["href","#","role","menuitem",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],[1,"fas","fa-eye","w-5","mr-2"],[1,"fas","fa-comments","w-5","mr-2"],["href","#","role","menuitem",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"fas","fa-question-circle","w-5","mr-2"],[1,"flex","justify-between","items-start"],[1,"text-sm","font-semibold","text-gray-900","flex-1","mr-3"],[1,"flex-shrink-0","text-xs"],[1,"space-y-2","text-sm"],[1,"flex","justify-between"],[1,"text-gray-600","font-medium"],[1,"text-gray-900"],[1,"text-gray-900","font-semibold"],[1,"pt-3","border-t","border-gray-100"],[1,"flex","flex-wrap","gap-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center"],[1,"flex","w-full","gap-2","mt-2"],[1,"flex-1","px-3","py-2","text-sm","font-medium","text-blue-600","bg-blue-50","hover:bg-blue-100","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-eye","mr-2"],[1,"flex-1","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-50","hover:bg-gray-100","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-comments","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-calculator","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-search","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-yellow-600","hover:bg-yellow-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-question-circle","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-green-600","hover:bg-green-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-user-plus","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-yellow-600","hover:bg-yellow-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-2","py-1","text-sm",3,"change","value"],["value","5"],["value","10"],["value","25"],["value","50"],[1,"hidden","sm:block"],[1,"font-medium"],[1,"flex","justify-center","sm:justify-end"],["aria-label","Pagination",1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"sr-only"],[1,"hidden","sm:flex"],[1,"sm:hidden","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-right"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"],[1,"text-xl","font-semibold","text-gray-800","p-4","border-b"],[1,"text-center","text-gray-500","p-6"],[1,"flex","gap-2","items-center"],[1,"p-2","text-green-600","hover:text-green-800","hover:bg-green-50","rounded-full","transition-colors","duration-200",3,"click","title"],[1,"fas","fa-check"],[1,"p-2","text-red-600","hover:text-red-800","hover:bg-red-50","rounded-full","transition-colors","duration-200",3,"click","title"],[1,"fas","fa-times"],[1,"flex","items-center"],[1,"h-10","w-10","rounded-full","bg-gray-300","flex","items-center","justify-center","mr-3"],[1,"fas","fa-user","text-gray-600"],[1,"text-sm","font-semibold","text-gray-900"],[1,"fas","fa-envelope","text-gray-400","w-4","mr-2"],[1,"fas","fa-phone","text-gray-400","w-4","mr-2"],[1,"flex","gap-2"],[1,"flex-1","px-4","py-2","text-sm","font-medium","text-white","bg-green-600","hover:bg-green-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-check","mr-2"],[1,"flex-1","px-4","py-2","text-sm","font-medium","text-white","bg-red-600","hover:bg-red-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-times","mr-2"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","lg:gap-6","mb-6"],[1,"p-4","border-b","flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-4"],[1,"text-xl","font-semibold"],[1,"w-full","sm:w-auto","px-4","py-2","text-sm","font-medium","text-white","bg-green-600","rounded-md","hover:bg-green-700",3,"click"],[1,"fas","fa-file-csv","mr-2"],[1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"px-4","py-3","text-right","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"px-4","py-3","text-center","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"bg-white","p-4","rounded-lg","shadow"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-orange-600"],[1,"px-4","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"px-4","py-4","whitespace-nowrap","text-sm"],[1,"px-4","py-4","whitespace-nowrap","text-sm","font-semibold"],[1,"px-4","py-4","whitespace-nowrap","text-sm","text-right"],[1,"px-4","py-4","whitespace-nowrap","text-sm","text-center"],[1,"p-2","text-indigo-600","hover:text-indigo-800","hover:bg-indigo-50","rounded-full","transition-colors","duration-200",3,"click","title"],[1,"fas","fa-file-invoice"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full","flex-shrink-0"],[1,"text-gray-900","font-semibold","text-lg"],[1,"w-full","px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-file-invoice","mr-2"],[1,"w-full","sm:w-auto","px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700",3,"click"],[1,"fas","fa-plus","mr-2"],[1,"p-4","border-b","bg-gray-50"],[1,"text-lg","font-medium","mb-2"],[1,"space-y-4"],["type","text",1,"w-full","p-2","border","rounded-md",3,"ngModelChange","ngModel","placeholder"],["type","email",1,"w-full","p-2","border","rounded-md",3,"ngModelChange","ngModel","placeholder"],[1,"text-sm","font-medium"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-2","mt-2"],[1,"flex","flex-col","sm:flex-row","justify-end","space-y-2","sm:space-y-0","sm:space-x-2"],[1,"px-4","py-2","text-sm","rounded-md","bg-gray-200",3,"click"],[1,"px-4","py-2","text-sm","rounded-md","text-white","bg-green-600",3,"click"],["type","checkbox",3,"change","id"],[1,"ml-2",3,"for"],[1,"fas","fa-edit"],[1,"flex","items-center","flex-1"],[1,"h-10","w-10","rounded-full","bg-indigo-100","flex","items-center","justify-center","mr-3"],[1,"fas","fa-user-tie","text-indigo-600"],[1,"text-xs","font-medium","text-gray-600","mb-2"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","px-2","py-1","text-xs","font-medium","bg-gray-100","text-gray-800","rounded-full"],[1,"p-4","border-b"],[1,"text-gray-600","text-sm","mt-1"],[1,"text-center","py-12"],[1,"hidden","lg:block","overflow-x-auto"],[1,"h-8","w-8","rounded-full","mr-3",3,"src","alt"],[1,"h-8","w-8","rounded-full","bg-gray-300","flex","items-center","justify-center","mr-3"],[1,"text-xs","text-orange-600"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"text-center"],[1,"font-medium","text-green-600"],[1,"text-gray-400"],[1,"p-2","text-red-600","hover:text-red-800","hover:bg-red-50","rounded-full","transition-colors","duration-200",3,"title"],[1,"p-2","text-green-600","hover:text-green-800","hover:bg-green-50","rounded-full","transition-colors","duration-200",3,"title"],[1,"fas","fa-user","text-gray-600","text-sm"],[1,"fas","fa-user-times"],[1,"fas","fa-user-check"],[1,"border","border-gray-200","rounded-lg","p-4","space-y-4"],[1,"flex","items-start","justify-between"],[1,"h-12","w-12","rounded-full","mr-3",3,"src","alt"],[1,"h-12","w-12","rounded-full","bg-gray-300","flex","items-center","justify-center","mr-3"],[1,"grid","grid-cols-3","gap-4","py-3","border-t","border-gray-100"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","font-medium","text-green-600"],[1,"flex-1","px-4","py-2","text-sm","font-medium","text-white","bg-red-600","hover:bg-red-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center"],[1,"flex-1","px-4","py-2","text-sm","font-medium","text-white","bg-green-600","hover:bg-green-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center"],[1,"fas","fa-user-times","mr-2"],[1,"fas","fa-user-check","mr-2"],[1,"fas","fa-user-friends","text-4xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-md"],[1,"text-lg","font-bold","mb-4"],[1,"text-sm","text-gray-600","mb-4"],["for","quoteAmount",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","quoteAmount",1,"mt-1","w-full","p-2","border","rounded-md",3,"ngModelChange","ngModel"],[1,"mt-6","flex","justify-end","space-x-3"],[1,"px-4","py-2","rounded-md","bg-gray-200",3,"click"],[1,"px-4","py-2","rounded-md","bg-indigo-600","text-white","disabled:bg-indigo-300",3,"click","disabled"],[1,"px-4","py-2","rounded-md","bg-red-600","text-white",3,"click"],[1,"px-4","py-2","rounded-md","bg-green-600","text-white",3,"click"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-2xl","max-h-[90vh]","overflow-y-auto"],[1,"flex","items-center","gap-2","mb-4"],["for","lang-select-modal",1,"font-medium"],["id","lang-select-modal",1,"border","rounded","px-2","py-1",3,"change"],["value","pt"],["value","en"],[1,"text-sm","text-gray-600","mb-6"],[1,"space-y-6"],["for","professionalSelect",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","professionalSelect",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue"],[1,"border-t","pt-6"],[1,"text-md","font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["for","scheduledDate",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","scheduledDate","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel","min"],["for","scheduledTime",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","time","id","scheduledTime","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],[1,"mt-4"],["for","estimatedDuration",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","estimatedDuration","min","15","max","1440","step","15","placeholder","60","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","text-sm"],[1,"text-xs","text-gray-500","mt-1"],[1,"mt-3"],[1,"text-sm","text-gray-600","mb-2"],["type","button",1,"px-3","py-1","text-xs","bg-gray-100","hover:bg-gray-200","rounded-md","transition-colors",3,"click"],[1,"mt-4","p-3","bg-blue-50","rounded-md"],[1,"mt-8","flex","flex-col","sm:flex-row","justify-end","space-y-2","sm:space-y-0","sm:space-x-3"],[1,"px-4","py-2","rounded-md","bg-gray-200","hover:bg-gray-300","transition-colors",3,"click"],[1,"px-4","py-2","rounded-md","bg-indigo-600","text-white","hover:bg-indigo-700","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],[1,"text-sm","text-blue-800"],[1,"fas","fa-info-circle","mr-1"],[1,"bg-blue-50","p-4","rounded-md"],[1,"font-semibold","text-blue-800","mb-2"],[1,"text-sm","text-blue-700"],[1,"fas","fa-user","mr-1"],[1,"fas","fa-map-marker-alt","mr-1"],["for","proposedExecutionDate",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","proposedExecutionDate","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel","min"],["for","proposedExecutionTime",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","time","id","proposedExecutionTime","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["for","proposedExecutionNotes",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","proposedExecutionNotes","rows","3",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel","placeholder"],[1,"p-3","bg-yellow-50","rounded-md"],[1,"fas","fa-euro-sign","mr-1"],[1,"text-sm","text-yellow-800"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-lg"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-2","mt-2"],[1,"px-4","py-2","rounded-md","bg-indigo-600","text-white",3,"click"],["type","checkbox",3,"change","id","checked"],[1,"bg-white","p-8","rounded-lg","shadow-xl","w-full","max-w-2xl"],[1,"invoice-content"],[1,"flex","justify-between","items-center","border-b","pb-4","mb-6"],[1,"text-3xl","font-bold"],[1,"text-right"],[1,"font-semibold"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-2","gap-8","mb-8"],[1,"font-semibold","text-gray-600","mb-1"],[1,"font-semibold","text-gray-600","mb-2"],[1,"w-full","mb-8"],[1,"p-2","text-left","font-medium","text-gray-600"],[1,"p-2","text-right","font-medium","text-gray-600"],[1,"border-b"],[1,"p-2"],[1,"p-2","text-right"],[1,"flex","justify-end"],[1,"w-full","max-w-xs"],[1,"flex","justify-between","text-gray-600"],[1,"flex","justify-between","font-bold","text-xl","mt-2","pt-2","border-t"],[1,"text-center","text-sm","text-gray-500","mt-12"],[1,"mt-8","flex","justify-end","space-x-3","no-print"]],template:function(t,i){if(t&1&&(p(0,"div",1)(1,"div",2)(2,"div",1)(3,"div",3)(4,"div",4)(5,"select",5),A("change",function(o){return i.setView(o.target.value)}),ce(6,Lte,3,3,"option",6,Zi),f()(),p(8,"nav",7)(9,"div",8),ce(10,Vte,5,6,"button",9,Zi),f()()(),p(12,"div",2),V(13,zte,58,37)(14,Mne,123,108,"div",10)(15,Fne,6,4,"div",10)(16,jne,41,28)(17,Gne,32,19,"div",11)(18,Qne,1,0,"app-category-management")(19,mie,10,7,"div",11),f()(),V(20,vie,19,17,"div",12),V(21,bie,83,57,"div",12),V(22,wie,47,44,"div",12),V(23,Sie,24,20,"div",12),V(24,Die,77,51,"div",13),f()()),t&2){let r,o,s,a,l,c;d(5),T("value",i.currentView()),d(),ue(i.views()),d(4),ue(i.views()),d(3),j((r=i.currentView())==="overview"?13:r==="requests"?14:r==="approvals"?15:r==="finances"?16:r==="professionals"?17:r==="categories"?18:r==="clients"?19:-1),d(7),j((o=i.quoteRequest())?20:-1,o),d(),j((s=i.assignmentRequest())?21:-1,s),d(),j((a=i.dateProposalRequest())?22:-1,a),d(),j((l=i.editingProfessional())?23:-1,l),d(),j((c=i.invoiceRequest())?24:-1,c)}},dependencies:[me,ut,pi,fi,Lt,_A,_s,Gt,Ii,xA,bA,$t,ub,db,pb,fb,Ti,Ai,Ae],encapsulation:2,changeDetection:0});var hb=Sp;var Aie=["chatContainer"],Tie=(n,e)=>e.id;function Iie(n,e){n&1&&(p(0,"div",8),k(1,"i",14),p(2,"p"),h(3),g(4,"i18n"),f()()),n&2&&(d(3),R(_(4,1,"noMessages")))}function kie(n,e){if(n&1&&k(0,"img",18),n&2){let t=b().$implicit;T("src",t.sender_avatar_url,Hi)("alt",t.sender_name)}}function Mie(n,e){n&1&&(p(0,"div",19),k(1,"i",23),f())}function Nie(n,e){if(n&1&&(p(0,"div")(1,"div",16)(2,"div",17),V(3,kie,1,2,"img",18)(4,Mie,2,0,"div",19),p(5,"span",20),h(6),f()(),p(7,"p",21),h(8),f(),p(9,"p",22),h(10),g(11,"date"),f()()()),n&2){let t=e.$implicit;se(t.isCurrentUser?"flex justify-end":"flex justify-start"),d(),se(t.isCurrentUser?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"),d(2),j(t.sender_avatar_url?3:4),d(2),se(t.isCurrentUser?"text-blue-100":"text-gray-600"),d(),R(t.sender_name),d(2),R(t.text),d(),se(t.isCurrentUser?"text-blue-200":"text-gray-500"),d(),x(" ",Ye(11,12,t.timestamp,"short")," ")}}function Rie(n,e){if(n&1&&ce(0,Nie,12,15,"div",15,Tie),n&2){let t=b();ue(t.messages())}}var Dp=class Dp{constructor(){this.serviceRequest=ge.required();this.currentUser=ge.required();this.close=ae();this.dataService=$(kt);this.chatContainer=Pc("chatContainer");this.messages=J(()=>this.dataService.chatMessages().filter(e=>e.request_id===this.serviceRequest().id).map(e=>{let t=this.dataService.users().find(i=>i.id===e.sender_id);return ee(B({},e),{sender_name:t?.name||"Unknown",sender_avatar_url:t?.avatar_url,isCurrentUser:e.sender_id===this.currentUser().id})}));this.newMessageText="";qt(()=>{let e=this.serviceRequest();e&&this.dataService.fetchChatMessages(e.id)}),qt(()=>{this.messages(),this.scrollToBottom()})}sendMessage(){this.newMessageText.trim()&&(this.dataService.addChatMessage(this.serviceRequest().id,this.currentUser().id,this.newMessageText.trim()),this.newMessageText="",setTimeout(()=>this.scrollToBottom(),50))}scrollToBottom(){try{if(this.chatContainer()){let e=this.chatContainer().nativeElement;e.scrollTop=e.scrollHeight}}catch(e){console.error("Could not scroll to bottom:",e)}}};Dp.\u0275fac=function(t){return new(t||Dp)},Dp.\u0275cmp=pe({type:Dp,selectors:[["app-chat"]],viewQuery:function(t,i){t&1&&Ya(i.chatContainer,Aie,5),t&2&&Rc()},inputs:{serviceRequest:[1,"serviceRequest"],currentUser:[1,"currentUser"]},outputs:{close:"close"},decls:19,vars:8,consts:[["chatContainer",""],[1,"flex","flex-col","h-full","bg-white","rounded-lg"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"text-gray-400","hover:text-gray-600","transition-colors",3,"click"],[1,"fas","fa-times","text-xl"],[1,"flex-1","overflow-y-auto","p-4","space-y-4","max-h-96"],[1,"text-center","text-gray-500","py-8"],[1,"border-t","border-gray-200","p-4"],[1,"flex","space-x-2",3,"ngSubmit"],["type","text","name","messageText","autocomplete","off",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","placeholder"],["type","submit",1,"px-4","py-2","bg-blue-500","text-white","rounded-md","hover:bg-blue-600","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors",3,"disabled"],[1,"fas","fa-paper-plane"],[1,"fas","fa-comments","text-4xl","mb-4","text-gray-300"],[3,"class"],[1,"max-w-xs","lg:max-w-md","px-4","py-2","rounded-lg","shadow"],[1,"flex","items-center","space-x-2","mb-1"],[1,"w-6","h-6","rounded-full",3,"src","alt"],[1,"w-6","h-6","rounded-full","bg-gray-300","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"text-sm","whitespace-pre-wrap"],[1,"text-xs","mt-1"],[1,"fas","fa-user","text-xs","text-gray-600"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div",2)(2,"div")(3,"h3",3),h(4),f(),p(5,"p",4),h(6),f()(),p(7,"button",5),A("click",function(){return E(r),S(i.close.emit())}),k(8,"i",6),f()(),p(9,"div",7,0),V(11,Iie,5,3,"div",8)(12,Rie,2,0),f(),p(13,"div",9)(14,"form",10),A("ngSubmit",function(){return E(r),S(i.sendMessage())}),p(15,"input",11),g(16,"i18n"),Ct("ngModelChange",function(s){return E(r),At(i.newMessageText,s)||(i.newMessageText=s),S(s)}),f(),p(17,"button",12),k(18,"i",13),f()()()()}t&2&&(d(4),x(" Chat - ",i.serviceRequest().title," "),d(2),R(i.serviceRequest().category),d(5),j(i.messages().length===0?11:12),d(4),xt("ngModel",i.newMessageText),T("placeholder",_(16,6,"typeMessage")),d(2),T("disabled",!i.newMessageText.trim()))},dependencies:[me,ut,di,Lt,Gt,ui,$t,Zn,Ai,Ae],encapsulation:2,changeDetection:0});var mb=Dp;var un=class{static getColor(e){return this.colorMap[e]||"#6b7280"}static getLabel(e,t){return t.translate(this.statusMap[e]||"statusPending")}};un.colorMap={Solicitado:"#eab308","Em an\xE1lise":"#06b6d4","Aguardando esclarecimentos":"#f59e0b","Or\xE7amento enviado":"#0ea5e9","Aguardando aprova\xE7\xE3o do or\xE7amento":"#6366f1","Or\xE7amento aprovado":"#22c55e","Or\xE7amento rejeitado":"#ef4444","Aguardando data de execu\xE7\xE3o":"#fbbf24","Data proposta pelo administrador":"#3b82f6","Aguardando aprova\xE7\xE3o da data":"#6366f1","Data aprovada pelo cliente":"#22c55e","Data rejeitada pelo cliente":"#ef4444","Buscando profissional":"#a855f7","Profissional selecionado":"#14b8a6","Aguardando confirma\xE7\xE3o do profissional":"#f97316",Agendado:"#3b82f6","Em execu\xE7\xE3o":"#8b5cf6","Conclu\xEDdo - Aguardando aprova\xE7\xE3o":"#84cc16","Aprovado pelo cliente":"#22c55e","Rejeitado pelo cliente":"#ef4444",Pago:"#10b981",Finalizado:"#059669",Cancelado:"#6b7280",Requested:"#eab308",InAnalysis:"#06b6d4",AwaitingClarifications:"#f59e0b",QuoteSent:"#0ea5e9",AwaitingQuoteApproval:"#6366f1",QuoteApproved:"#22c55e",QuoteRejected:"#ef4444",AwaitingExecutionDate:"#fbbf24",DateProposedByAdmin:"#3b82f6",AwaitingDateApproval:"#6366f1",DateApprovedByClient:"#22c55e",DateRejectedByClient:"#ef4444",SearchingProfessional:"#a855f7",ProfessionalSelected:"#14b8a6",AwaitingProfessionalConfirmation:"#f97316",Scheduled:"#3b82f6",InProgress:"#8b5cf6",CompletedAwaitingApproval:"#84cc16",Completed:"#059669",Cancelled:"#6b7280",Paid:"#10b981"},un.statusMap={Solicitado:"statusPending","Em an\xE1lise":"statusAnalyzing","Aguardando esclarecimentos":"statusAwaitingClarification","Or\xE7amento enviado":"statusQuoted","Aguardando aprova\xE7\xE3o do or\xE7amento":"statusAwaitingQuoteApproval","Or\xE7amento aprovado":"statusApproved","Or\xE7amento rejeitado":"statusQuoteRejected","Aguardando data de execu\xE7\xE3o":"statusAwaitingExecutionDate","Data proposta pelo administrador":"statusDateProposedByAdmin","Aguardando aprova\xE7\xE3o da data":"statusAwaitingDateApproval","Data aprovada pelo cliente":"statusDateApprovedByClient","Data rejeitada pelo cliente":"statusDateRejectedByClient","Buscando profissional":"statusSearchingProfessional","Profissional selecionado":"statusProfessionalSelected","Aguardando confirma\xE7\xE3o do profissional":"statusAwaitingProfessionalConfirmation",Agendado:"statusScheduled","Em execu\xE7\xE3o":"statusInProgress","Conclu\xEDdo - Aguardando aprova\xE7\xE3o":"statusCompletedAwaitingApproval","Aprovado pelo cliente":"statusApprovedByClient","Rejeitado pelo cliente":"statusRejectedByClient",Pago:"statusPaid",Finalizado:"statusCompleted",Cancelado:"statusCancelled",Requested:"statusPending",InAnalysis:"statusAnalyzing",AwaitingClarifications:"statusAwaitingClarification",QuoteSent:"statusQuoted",AwaitingQuoteApproval:"statusAwaitingQuoteApproval",QuoteApproved:"statusApproved",QuoteRejected:"statusQuoteRejected",AwaitingExecutionDate:"statusAwaitingExecutionDate",DateProposedByAdmin:"statusDateProposedByAdmin",AwaitingDateApproval:"statusAwaitingDateApproval",DateApprovedByClient:"statusDateApprovedByClient",DateRejectedByClient:"statusDateRejectedByClient",SearchingProfessional:"statusSearchingProfessional",ProfessionalSelected:"statusProfessionalSelected",AwaitingProfessionalConfirmation:"statusAwaitingProfessionalConfirmation",Scheduled:"statusScheduled",InProgress:"statusInProgress",CompletedAwaitingApproval:"statusCompletedAwaitingApproval",Completed:"statusCompleted",Cancelled:"statusCancelled",Paid:"statusPaid"};function Pie(n,e){if(n&1){let t=H();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),g(4,"i18n"),A("click",function(){E(t);let r=b();return S(r.handleClose())}),k(5,"i",5),f(),p(6,"h2",6),h(7),g(8,"i18n"),f(),k(9,"span",7),f(),p(10,"div",8),k(11,"i",9),p(12,"label",10),h(13),g(14,"i18n"),f(),p(15,"select",11),g(16,"i18n"),A("change",function(r){E(t);let o=b();return S(o.setLanguage(r.target.value))}),p(17,"option",12),h(18,"Portugu\xEAs"),f(),p(19,"option",13),h(20,"English"),f()()(),p(21,"div",14)(22,"div",15)(23,"span",16),h(24),g(25,"i18n"),f(),p(26,"span",17),h(27),f()(),p(28,"div",15)(29,"span",16),h(30),g(31,"i18n"),f(),p(32,"span",17),h(33),f()(),p(34,"div",15)(35,"span",16),h(36),g(37,"i18n"),f(),p(38,"span",17),h(39),f()(),p(40,"div",15)(41,"span",16),h(42),g(43,"i18n"),f(),p(44,"span",18),h(45),g(46,"number"),f()()(),p(47,"div",19)(48,"button",20),A("click",function(){E(t);let r=b();return S(r.handleApprove())}),k(49,"i"),h(50),g(51,"i18n"),f(),p(52,"button",21),A("click",function(){E(t);let r=b();return S(r.handleReject())}),k(53,"i"),h(54),g(55,"i18n"),f()()()()}if(n&2){let t=b();d(3),bt("aria-label",ne(_(4,24,"back"))),T("disabled",t.loading()),d(4),x(" ",_(8,26,"quoteDetails")," "),d(6),x("",_(14,28,"language"),":"),d(2),bt("aria-label",ne(_(16,30,"language"))),T("value",t.selectedLanguage()),d(9),x("",_(25,32,"service"),":"),d(3),R(t.request().category),d(3),x("",_(31,34,"description"),":"),d(3),R(t.request().description),d(3),x("",_(37,36,"professional"),":"),d(3),R(t.request().professional_id),d(3),x("",_(43,38,"quote"),":"),d(3),x("\u20AC ",Ye(46,40,t.request().cost,"1.2-2")),d(3),T("disabled",t.loading()),d(),se(t.loading()?"fas fa-circle-notch fa-spin mr-2":"fas fa-check mr-2"),d(),x(" ",_(51,43,"approve")," "),d(2),T("disabled",t.loading()),d(),se(t.loading()?"fas fa-circle-notch fa-spin mr-2":"fas fa-times mr-2"),d(),x(" ",_(55,45,"reject")," ")}}var Ap=class Ap{constructor(){this.request=ge.required();this.user=ge.required();this.show=ge(!1);this.loading=ge(!1);this.approve=ae();this.reject=ae();this.close=ae();this.i18n=$($e);this.selectedLanguage=F(this.i18n.language())}setLanguage(e){this.selectedLanguage.set(e),this.i18n.setLanguage(e)}handleApprove(){this.loading()||(this.approve.emit(this.request()),this.close.emit())}handleReject(){this.loading()||(this.reject.emit(this.request()),this.close.emit())}handleClose(){this.loading()||this.close.emit()}};Ap.\u0275fac=function(t){return new(t||Ap)},Ap.\u0275cmp=pe({type:Ap,selectors:[["app-budget-approval-modal"]],inputs:{request:[1,"request"],user:[1,"user"],show:[1,"show"],loading:[1,"loading"]},outputs:{approve:"approve",reject:"reject",close:"close"},decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-40"],[1,"bg-white","rounded-lg","shadow-lg","w-full","max-w-md","p-6","relative","mobile-safe"],[1,"flex","items-center","justify-between","mb-6"],[1,"rounded-full","p-2","bg-gray-100","hover:bg-gray-200","text-gray-600","focus:outline-none","focus:ring-2","focus:ring-indigo-500","disabled:opacity-50",3,"click","disabled","aria-label"],[1,"fas","fa-arrow-left","text-lg"],[1,"text-xl","font-semibold","text-gray-800","text-center","flex-1"],[1,"w-8"],[1,"mb-4","flex","items-center","justify-end","gap-2"],[1,"fas","fa-globe","text-gray-500"],["for","modal-language-select",1,"text-sm","text-gray-600"],["id","modal-language-select",1,"border","rounded","px-2","py-1","text-sm","focus:outline-none","focus:ring-2","focus:ring-indigo-500",3,"change","value","aria-label"],["value","pt"],["value","en"],[1,"mb-6","space-y-2"],[1,"text-gray-700"],[1,"font-medium"],[1,"ml-1"],[1,"text-green-700","font-bold","ml-1"],[1,"flex","flex-col","gap-3","mt-6"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","py-2","rounded-lg","font-semibold","text-base","flex","items-center","justify-center","disabled:opacity-50",3,"click","disabled"],[1,"w-full","bg-red-600","hover:bg-red-700","text-white","py-2","rounded-lg","font-semibold","text-base","flex","items-center","justify-center","disabled:opacity-50",3,"click","disabled"]],template:function(t,i){t&1&&de(0,Pie,56,47,"div",0),t&2&&T("ngIf",i.show())},dependencies:[me,bn,Ti,Ae],encapsulation:2,changeDetection:0});var gb=Ap;function Oie(n,e){if(n&1){let t=H();We(0),p(1,"label",14)(2,"input",15),A("change",function(){let r=E(t).$implicit,o=b(2);return S(o.selectedMethod.set(r.id))}),f(),p(3,"span",16),h(4),f()(),Ge()}if(n&2){let t=e.$implicit,i=b(2);d(2),T("value",t.id)("checked",i.selectedMethod()===t.id)("disabled",i.loading()),d(2),R(t.label)}}function Fie(n,e){if(n&1){let t=H();p(0,"div",1)(1,"div",2)(2,"button",3),A("click",function(){E(t);let r=b();return S(r.handleClose())}),k(3,"i",4),f(),p(4,"h2",5),h(5),g(6,"i18n"),f(),p(7,"div",6)(8,"div",7),h(9),g(10,"i18n"),p(11,"span",8),h(12),f()(),p(13,"div",7),h(14),g(15,"i18n"),p(16,"span",8),h(17),f()(),p(18,"div",7),h(19),g(20,"i18n"),p(21,"span",8),h(22),g(23,"i18n"),f()(),p(24,"div",7),h(25),g(26,"i18n"),p(27,"span",9),h(28),g(29,"number"),f()(),p(30,"div",7),h(31),g(32,"i18n"),p(33,"span",8),h(34),f()()(),p(35,"div",6)(36,"div",10),h(37),g(38,"i18n"),f(),p(39,"div",11),de(40,Oie,5,4,"ng-container",12),f()(),p(41,"button",13),A("click",function(){E(t);let r=b();return S(r.handlePay())}),k(42,"i"),h(43),g(44,"i18n"),f()()()}if(n&2){let t=b();d(2),T("disabled",t.loading()),d(3),R(_(6,18,"payNow")),d(4),x(" ",_(10,20,"service"),": "),d(3),R(t.request().title),d(2),x(" ",_(15,22,"category"),": "),d(3),R(t.request().category),d(2),x(" ",_(20,24,"professional"),": "),d(3),R(t.request().professional_id?t.request().professional_id:_(23,26,"unassigned")),d(3),x(" ",_(26,28,"cost"),": "),d(3),x("\u20AC ",Ye(29,30,t.request().cost,"1.2-2")),d(3),x(" ",_(32,33,"status"),": "),d(3),R(t.request().status),d(3),R(_(38,35,"choosePaymentMethod")),d(3),T("ngForOf",t.paymentMethods),d(),T("disabled",!t.selectedMethod()||t.loading()),d(),se(t.loading()?"fas fa-circle-notch fa-spin mr-2":"fas fa-credit-card mr-2"),d(),x("",_(44,37,"confirmPayment")," ")}}var Tp=class Tp{constructor(){this.request=ge.required();this.show=ge(!1);this.loading=ge(!1);this.onPay=ae();this.onClose=ae();this.i18n=$($e);this.selectedMethod=F("");this.paymentMethods=[{id:"card",label:this.i18n.translate("creditCard")},{id:"mbway",label:this.i18n.translate("mbway")},{id:"bank",label:this.i18n.translate("bankTransfer")}]}handlePay(){this.loading()||this.selectedMethod()&&this.onPay.emit({request:this.request(),method:this.selectedMethod()})}handleClose(){this.loading()||this.onClose.emit()}};Tp.\u0275fac=function(t){return new(t||Tp)},Tp.\u0275cmp=pe({type:Tp,selectors:[["app-payment-modal"]],inputs:{request:[1,"request"],show:[1,"show"],loading:[1,"loading"]},outputs:{onPay:"onPay",onClose:"onClose"},decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-40"],[1,"bg-white","rounded-lg","shadow-lg","max-w-md","w-full","p-6","relative"],["aria-label","Fechar",1,"absolute","top-2","right-2","text-gray-400","hover:text-gray-600","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-times"],[1,"text-xl","font-bold","mb-4","text-gray-900"],[1,"mb-4"],[1,"text-sm","text-gray-700","mb-2"],[1,"font-medium"],[1,"font-semibold","text-green-700"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"space-y-2"],[4,"ngFor","ngForOf"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","transition-colors","duration-200","disabled:opacity-50",3,"click","disabled"],[1,"flex","items-center","cursor-pointer"],["type","radio","name","paymentMethod",1,"form-radio","text-green-600",3,"change","value","checked","disabled"],[1,"ml-2","text-gray-800"]],template:function(t,i){t&1&&de(0,Fie,45,39,"div",0),t&2&&T("ngIf",i.show())},dependencies:[me,Pn,bn,Ti,Ae],encapsulation:2,changeDetection:0});var vb=Tp;function H8(n){return n?n.toLowerCase().split(/\s+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function Lie(n){if(!n)return"";let e=String(n).replace(/[^0-9]/g,"");return e.length===7?`${e.slice(0,4)}-${e.slice(4)}`:(/^\d{4}-\d{3}$/.test(String(n)),String(n))}function xg(n){let e=n||{},t=e.street??e.address?.street??"",i=e.number??e.address?.number??"",r=e.zip_code??e.address?.postal_code??"",o=e.city??e.address?.locality??"",s=e.state??e.address?.district??"",a=[t,i].filter(Boolean).join(", "),l=Lie(r),c=H8(o),u=H8(s);return{streetNumber:a,postalCode:l,locality:c,district:u}}function z8(n,e=" \u2022 "){let{streetNumber:t,postalCode:i,locality:r,district:o}=xg(n),s=[i,r].filter(Boolean).join(" ");return[t,s,o].filter(Boolean).join(e)}var W8=(n,e)=>e.id;function Bie(n,e){if(n&1&&k(0,"i",22),n&2){let t=b();se(t.sortOrder()==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function Vie(n,e){n&1&&k(0,"i",8)}function jie(n,e){if(n&1&&k(0,"i",22),n&2){let t=b();se(t.sortOrder()==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function qie(n,e){n&1&&k(0,"i",8)}function Uie(n,e){if(n&1&&k(0,"i",22),n&2){let t=b();se(t.sortOrder()==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function $ie(n,e){n&1&&k(0,"i",8)}function Hie(n,e){n&1&&(p(0,"tr")(1,"td",23),h(2),g(3,"i18n"),f()()),n&2&&(d(2),x(" ",_(3,1,"noServiceRequestsFound")," "))}function zie(n,e){if(n&1&&(p(0,"span",32),h(1),g(2,"date"),f()),n&2){let t=b().$implicit;d(),x(" ",Ye(2,1,t.scheduled_start_datetime,"dd/MM/yyyy HH:mm")," ")}}function Wie(n,e){if(n&1&&(p(0,"span",37),h(1),g(2,"number"),f()),n&2){let t=b().$implicit;d(),x("\u20AC ",Ye(2,1,t.cost,"1.2-2"))}}function Gie(n,e){n&1&&(p(0,"span",38),h(1),g(2,"i18n"),f()),n&2&&(d(),R(_(2,1,"awaitingQuote")))}function Qie(n,e){if(n&1){let t=H();p(0,"button",46),g(1,"i18n"),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.startService.emit(r))}),k(2,"i"),f()}if(n&2){let t=b().$implicit,i=b(2);T("title",ne(_(1,5,"startService")))("disabled",i.isLoading(t.id)),d(2),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-play")}}function Yie(n,e){if(n&1){let t=H();p(0,"button",47),g(1,"i18n"),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.finishService.emit(r))}),k(2,"i"),f()}if(n&2){let t=b().$implicit,i=b(2);T("title",ne(_(1,5,"finishService")))("disabled",i.isLoading(t.id)),d(2),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-check")}}function Zie(n,e){if(n&1){let t=H();p(0,"button",52),g(1,"i18n"),g(2,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(o.openBudgetApprovalModal(r))}),k(3,"i",53),f()}n&2&&Ke("title",_(1,2,"validateQuote"))("aria-label",_(2,4,"validateQuote"))}function Xie(n,e){if(n&1){let t=H();p(0,"button",54),g(1,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.approveExecutionDate.emit(r))}),k(2,"i"),f(),p(3,"button",55),g(4,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.rejectExecutionDate.emit({request:r,reason:""}))}),k(5,"i"),f()}if(n&2){let t=b(2).$implicit,i=b(2);T("title",ne(_(1,10,"approveExecutionDate")))("disabled",i.isLoading(t.id)),d(2),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-calendar-check"),d(),T("title",ne(_(4,12,"rejectExecutionDate")))("disabled",i.isLoading(t.id)),d(2),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-calendar-times")}}function Jie(n,e){if(n&1){let t=H();p(0,"button",56),g(1,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(o.provideClarification.emit(r))}),k(2,"i",57),f()}n&2&&T("title",ne(_(1,2,"provideClarification")))}function Kie(n,e){if(n&1){let t=H();p(0,"button",58),g(1,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(o.scheduleRequest.emit(r))}),k(2,"i",59),f()}n&2&&T("title",ne(_(1,2,"schedule")))}function ere(n,e){if(n&1){let t=H();p(0,"button",60),g(1,"i18n"),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(o.handlePayNow(r))}),k(2,"i",61),f()}n&2&&T("title",ne(_(1,2,"payNow")))}function tre(n,e){if(n&1&&(V(0,Zie,4,6,"button",48),V(1,Xie,6,14),V(2,Jie,3,4,"button",49),V(3,Kie,3,4,"button",50),V(4,ere,3,4,"button",51)),n&2){let t=b().$implicit,i=b(2);j(t.status==="Or\xE7amento enviado"?0:-1),d(),j(t.status==="Data proposta pelo administrador"||t.status==="Aguardando aprova\xE7\xE3o da data"?1:-1),d(),j(t.status==="Aguardando esclarecimentos"&&i.isActionAvailable(t,"provide_clarification")?2:-1),d(),j(t.status==="Approved"?3:-1),d(),j(t.status==="Completed"&&t.payment_status==="Unpaid"?4:-1)}}function nre(n,e){if(n&1){let t=H();p(0,"tr",24)(1,"td",25)(2,"div",26)(3,"div",27),h(4),f(),p(5,"div",28),h(6),f()()(),p(7,"td",29)(8,"div",30),h(9),f()(),p(10,"td",31),V(11,zie,3,4,"span",32),f(),p(12,"td",33)(13,"span",34),h(14),f()(),p(15,"td",29)(16,"div",35),h(17),g(18,"i18n"),f()(),p(19,"td",36),V(20,Wie,3,4,"span",37)(21,Gie,3,3,"span",38),f(),p(22,"td",39)(23,"div",40)(24,"button",41),g(25,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.viewDetails.emit(r))}),k(26,"i",42),f(),p(27,"button",41),g(28,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.openChat.emit(r))}),k(29,"i",43),f(),V(30,Qie,3,7,"button",44),V(31,Yie,3,7,"button",45),V(32,tre,5,5),f()()()}if(n&2){let t=e.$implicit,i=b(2);d(4),x(" ",t.category," "),d(2),x(" ",t.title," "),d(3),x(" ",i.getAddressParts(t).locality||"\u2014"," "),d(2),j(t.scheduled_start_datetime?11:-1),d(2),se(i.statusClass(t.status)),Ke("aria-label",i.getStatusLabel(t.status)||t.status),d(),x(" ",i.getStatusLabel(t.status)||t.status||"\u2014"," "),d(3),x(" ",t.professional_id?i.getProfessionalName(t.professional_id):_(18,17,"unassigned")," "),d(3),j(t.cost?20:21),d(4),T("title",ne(_(25,19,"viewRequestDetails"))),d(3),T("title",ne(_(28,21,"chat"))),d(3),j(i.currentUser().role==="professional"&&(t.status==="Agendado"||t.status==="Scheduled")?30:-1),d(),j(i.currentUser().role==="professional"&&(t.status==="Em Progresso"||t.status==="In Progress")?31:-1),d(),j(i.currentUser().role==="client"?32:-1)}}function ire(n,e){if(n&1&&ce(0,nre,33,23,"tr",24,W8),n&2){let t=b();ue(t.displayedRequests())}}function rre(n,e){n&1&&(p(0,"div",17),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"noServiceRequestsFound")," "))}function ore(n,e){n&1&&(p(0,"span",69),h(1),g(2,"i18n"),f()),n&2&&(d(),x("(",_(2,1,"paid"),")"))}function sre(n,e){if(n&1&&(p(0,"div",71)(1,"div",80),Ne(),p(2,"svg",97),k(3,"path",98),f(),Le(),p(4,"div",83)(5,"span",84),h(6),g(7,"i18n"),f(),p(8,"span",99),h(9),g(10,"date"),f()()()()),n&2){let t=b().$implicit;d(6),x("",_(7,2,"scheduled"),":"),d(3),x(" ",Ye(10,4,t.scheduled_start_datetime,"dd/MM/yyyy HH:mm")," ")}}function are(n,e){if(n&1&&(p(0,"div",71)(1,"div",72),Ne(),p(2,"svg",73),k(3,"path",100),f(),Le(),p(4,"div",83)(5,"span",101),h(6),g(7,"i18n"),f(),p(8,"span",102),h(9),f()()()()),n&2){let t=b().$implicit;d(6),x("",_(7,2,"description"),":"),d(3),x(" ",t.description," ")}}function lre(n,e){if(n&1&&(p(0,"div",89)(1,"div",80),Ne(),p(2,"svg",103),k(3,"path",104),f(),Le(),p(4,"div",105)(5,"span",106),h(6),g(7,"number"),f(),p(8,"span",107),h(9),g(10,"i18n"),f()()()()),n&2){let t=b().$implicit;d(6),x(" \u20AC ",Ye(7,2,t.cost,"1.2-2")," "),d(3),x("(",_(10,5,"quote"),")")}}function cre(n,e){if(n&1){let t=H();p(0,"div",91)(1,"button",110),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.approveQuote.emit(r))}),k(2,"i",111),h(3),g(4,"i18n"),f(),p(5,"button",112),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.rejectQuote.emit(r))}),k(6,"i",111),h(7),g(8,"i18n"),f()()}if(n&2){let t=b(2).$implicit,i=b(2);d(),T("disabled",i.isLoading(t.id)),d(),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-check"),d(),x(" ",_(4,8,"approve")," "),d(2),T("disabled",i.isLoading(t.id)),d(),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-times"),d(),x(" ",_(8,10,"reject")," ")}}function ure(n,e){if(n&1){let t=H();p(0,"div",91)(1,"button",113),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.approveExecutionDate.emit(r))}),k(2,"i"),h(3),g(4,"i18n"),f(),p(5,"button",114),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.rejectExecutionDate.emit({request:r,reason:""}))}),k(6,"i"),h(7),g(8,"i18n"),f()()}if(n&2){let t=b(2).$implicit,i=b(2);d(),T("disabled",i.isLoading(t.id)),d(),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin mr-1 sm:mr-2":"fas fa-calendar-check mr-1 sm:mr-2"),d(),x(" ",_(4,8,"approveExecutionDate")," "),d(2),T("disabled",i.isLoading(t.id)),d(),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin mr-1 sm:mr-2":"fas fa-calendar-times mr-1 sm:mr-2"),d(),x(" ",_(8,10,"rejectExecutionDate")," ")}}function dre(n,e){if(n&1){let t=H();p(0,"button",115),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(o.provideClarification.emit(r))}),k(1,"i",116),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"provideClarification")," "))}function pre(n,e){if(n&1){let t=H();p(0,"button",117),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(o.scheduleRequest.emit(r))}),k(1,"i",118),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"schedule")," "))}function fre(n,e){if(n&1){let t=H();p(0,"button",117),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(o.payNow.emit(r))}),k(1,"i",119),h(2),g(3,"i18n"),f()}n&2&&(d(2),x(" ",_(3,1,"payNow")," "))}function hre(n,e){if(n&1&&(V(0,cre,9,12,"div",91),V(1,ure,9,12,"div",91),V(2,dre,4,3,"button",108),V(3,pre,4,3,"button",109),V(4,fre,4,3,"button",109)),n&2){let t=b().$implicit,i=b(2);j(t.status==="Quoted"?0:-1),d(),j(t.status==="Data proposta pelo administrador"||t.status==="Aguardando aprova\xE7\xE3o da data"?1:-1),d(),j(t.status==="Aguardando esclarecimentos"&&i.isActionAvailable(t,"provide_clarification")?2:-1),d(),j(t.status==="Approved"?3:-1),d(),j(t.status==="Completed"&&t.payment_status==="Unpaid"?4:-1)}}function mre(n,e){if(n&1){let t=H();p(0,"button",122),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.startService.emit(r))}),k(1,"i",111),h(2),g(3,"i18n"),f()}if(n&2){let t=b(2).$implicit,i=b(2);T("disabled",i.isLoading(t.id)),d(),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-play"),d(),x(" ",_(3,4,"startService")," ")}}function gre(n,e){if(n&1){let t=H();p(0,"button",123),A("click",function(){E(t);let r=b(2).$implicit,o=b(2);return S(!o.isLoading(r.id)&&o.finishService.emit(r))}),k(1,"i",111),h(2),g(3,"i18n"),f()}if(n&2){let t=b(2).$implicit,i=b(2);T("disabled",i.isLoading(t.id)),d(),se(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-check"),d(),x(" ",_(3,4,"finishService")," ")}}function vre(n,e){if(n&1&&(p(0,"div",91),V(1,mre,4,6,"button",120),V(2,gre,4,6,"button",121),f()),n&2){let t=b().$implicit;d(),j(t.status==="Agendado"||t.status==="Scheduled"?1:-1),d(),j(t.status==="Em Progresso"||t.status==="In Progress"?2:-1)}}function _re(n,e){if(n&1){let t=H();p(0,"div",62)(1,"div",63)(2,"div",64)(3,"h3",65),h(4),f(),p(5,"p",66),h(6),f()(),p(7,"div",67)(8,"span",68),h(9),V(10,ore,3,3,"span",69),f()()(),p(11,"div",70)(12,"div",71)(13,"div",72),Ne(),p(14,"svg",73),k(15,"path",74)(16,"path",75),f(),Le(),p(17,"div",76)(18,"div",77)(19,"span",78),h(20),g(21,"i18n"),f(),p(22,"span",79),h(23),f()()()()(),p(24,"div",71)(25,"div",80),Ne(),p(26,"svg",81),k(27,"path",82),f(),Le(),p(28,"div",83)(29,"span",84),h(30),g(31,"i18n"),f(),p(32,"span",85),h(33),g(34,"date"),f()()()(),p(35,"div",71)(36,"div",80),Ne(),p(37,"svg",86),k(38,"path",87),f(),Le(),p(39,"div",83)(40,"span",84),h(41),g(42,"i18n"),f(),p(43,"span",88),h(44),g(45,"i18n"),f()()()(),V(46,sre,11,7,"div",71),V(47,are,10,4,"div",71),V(48,lre,11,7,"div",89),f(),p(49,"div",90),V(50,hre,5,5),V(51,vre,3,2,"div",91),p(52,"div",92)(53,"button",93),g(54,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.viewDetails.emit(r))}),k(55,"i",94),h(56),g(57,"i18n"),f(),p(58,"button",95),g(59,"i18n"),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.openChat.emit(r))}),k(60,"i",96),h(61),g(62,"i18n"),f()()()()}if(n&2){let t=e.$implicit,i=b(2);d(4),x(" ",t.category," "),d(2),x(" ",t.title," "),d(2),se(i.statusClass(t.status)),d(),x(" ",i.getStatusLabel(t.status)," "),d(),j(t.payment_status==="Paid"?10:-1),d(10),x("",_(21,23,"locality"),":"),d(3),R(i.getAddressParts(t).locality||"\u2014"),d(7),x("",_(31,25,"requested"),":"),d(3),R(Ye(34,27,t.requested_date,"dd/MM/yyyy HH:mm")),d(8),x("",_(42,30,"professional"),":"),d(3),x(" ",t.professional_id?i.getProfessionalName(t.professional_id):_(45,32,"unassigned")," "),d(2),j(t.scheduled_start_datetime?46:-1),d(),j(t.description?47:-1),d(),j(t.status==="Quoted"&&t.cost?48:-1),d(2),j(i.currentUser().role==="client"?50:-1),d(),j(i.currentUser().role==="professional"?51:-1),d(2),T("title",ne(_(54,34,"viewRequestDetails"))),d(3),x(" ",_(57,36,"details")," "),d(2),T("title",ne(_(59,38,"chat"))),d(3),x(" ",_(62,40,"chat")," ")}}function yre(n,e){if(n&1&&(p(0,"div",18),ce(1,_re,63,42,"div",62,W8),f()),n&2){let t=b();d(),ue(t.displayedRequests())}}function bre(n,e){n&1&&(p(0,"span",139),h(1," ... "),f())}function xre(n,e){if(n&1){let t=H();p(0,"button",141),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.goToPage(r))}),h(1),f()}if(n&2){let t=b().$implicit,i=b(2);se(t===i.currentPage()?"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-indigo-50 text-sm font-medium text-indigo-600":"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"),d(),x(" ",t," ")}}function Cre(n,e){if(n&1&&V(0,bre,2,0,"span",139)(1,xre,2,3,"button",140),n&2){let t=e.$implicit;j(t===-1?0:1)}}function wre(n,e){if(n&1){let t=H();p(0,"div",19)(1,"div",124)(2,"span",125),h(3),g(4,"i18n"),f(),p(5,"select",126),A("change",function(r){E(t);let o=b();return S(o.setItemsPerPage(+r.target.value))}),p(6,"option",127),h(7,"5"),f(),p(8,"option",128),h(9,"10"),f(),p(10,"option",129),h(11,"25"),f(),p(12,"option",130),h(13,"50"),f()()(),p(14,"div",131)(15,"div")(16,"p",125),h(17),g(18,"i18n"),p(19,"span",132),h(20),f(),h(21),g(22,"i18n"),p(23,"span",132),h(24),f(),h(25),g(26,"i18n"),p(27,"span",132),h(28),f(),h(29),g(30,"i18n"),f()()(),p(31,"div",133)(32,"nav",134)(33,"button",135),A("click",function(){E(t);let r=b();return S(r.previousPage())}),k(34,"i",136),f(),ce(35,Cre,2,1,null,null,Nn),p(37,"button",137),A("click",function(){E(t);let r=b();return S(r.nextPage())}),k(38,"i",138),f()()()()}if(n&2){let t=b();d(3),x("",_(4,11,"itemsPerPage"),":"),d(2),T("value",t.itemsPerPage()),d(12),x(" ",_(18,13,"showing")," "),d(3),R((t.currentPage()-1)*t.itemsPerPage()+1),d(),x(" ",_(22,15,"to")," "),d(3),R(t.Math.min(t.currentPage()*t.itemsPerPage(),t.serviceRequests().length)),d(),x(" ",_(26,17,"of")," "),d(3),R(t.serviceRequests().length),d(),x(" ",_(30,19,"results")," "),d(4),T("disabled",t.currentPage()===1),d(2),ue(t.pageNumbers),d(2),T("disabled",t.currentPage()===t.totalPages())}}function Ere(n,e){if(n&1){let t=H();p(0,"app-budget-approval-modal",142),A("approve",function(r){E(t);let o=b();return S(o.handleApproveQuote(r))})("reject",function(r){E(t);let o=b();return S(o.handleRejectQuote(r))})("close",function(){E(t);let r=b();return S(r.handleCloseBudgetModal())}),f()}if(n&2){let t=b();T("request",t.selectedRequestForBudget())("user",t.currentUser())("show",t.showBudgetApprovalModal())("loading",t.isLoading(t.selectedRequestForBudget().id))}}function Sre(n,e){if(n&1){let t=H();p(0,"app-payment-modal",143),A("onPay",function(r){E(t);let o=b();return S(o.handlePaymentConfirmed(r))})("onClose",function(){E(t);let r=b();return S(r.handlePaymentModalClose())}),f()}if(n&2){let t=b();T("request",t.selectedRequestForPayment())("show",t.showPaymentModal())("loading",t.isLoading(t.selectedRequestForPayment().id))}}var Ip=class Ip{constructor(){this.serviceRequests=ge();this.currentUser=ge.required();this.enablePagination=ge(!1);this.itemsPerPageDefault=ge(10);this.sortBy=ge("date");this.sortOrder=ge("desc");this.sortChange=ae();this.viewDetails=ae();this.openChat=ae();this.approveQuote=ae();this.rejectQuote=ae();this.approveExecutionDate=ae();this.rejectExecutionDate=ae();this.payNow=ae();this.showPaymentModal=F(!1);this.selectedRequestForPayment=F(null);this.scheduleRequest=ae();this.provideClarification=ae();this.startService=ae();this.finishService=ae();this.actionLoadingIds=ge([]);this.dataService=$(kt);this.workflowService=$(ys);this.i18n=$($e);this.Math=Math;this.currentPage=F(1);this.itemsPerPage=F(10);this.totalPages=J(()=>this.enablePagination()?Math.ceil(this.serviceRequests().length/this.itemsPerPage()):1);this.displayedRequests=J(()=>{if(!this.enablePagination()){let o=this.serviceRequests();return console.log("[ServiceListComponent] displayedRequests (no pagination):",o),Array.isArray(o)&&o.forEach((s,a)=>{console.log(`[ServiceListComponent] Request[${a}].id:`,s.id,"status:",s.status)}),o}let e=this.serviceRequests(),t=(this.currentPage()-1)*this.itemsPerPage(),i=t+this.itemsPerPage(),r=e.slice(t,i);return console.log("[ServiceListComponent] displayedRequests (paginated):",r),Array.isArray(r)&&r.forEach((o,s)=>{console.log(`[ServiceListComponent] Paginated[${s}].id:`,o.id,"status:",o.status)}),r});this.allUsers=this.dataService.users;this.showBudgetApprovalModal=F(!1);this.selectedRequestForBudget=F(null);this.itemsPerPage.set(this.itemsPerPageDefault())}ngOnInit(){console.log("[ServiceListComponent] currentUser:",this.currentUser().name)}handleSortColumn(e){this.sortChange.emit(e)}isSortedBy(e){return this.sortBy()===e}get pageNumbers(){if(!this.enablePagination())return[];let e=this.totalPages(),t=this.currentPage(),i=[];i.push(1);let r=Math.max(2,t-2),o=Math.min(e-1,t+2);r>2&&i.push(-1);for(let s=r;s<=o;s++)s!==1&&s!==e&&i.push(s);return o<e-1&&i.push(-1),e>1&&i.push(e),i}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}previousPage(){let e=this.currentPage();e>1&&this.currentPage.set(e-1)}nextPage(){let e=this.currentPage();e<this.totalPages()&&this.currentPage.set(e+1)}setItemsPerPage(e){this.itemsPerPage.set(e),this.currentPage.set(1)}isActionAvailable(e,t){let i=this.currentUser();return i?this.workflowService.getAvailableActions(e,i.role).includes(t):!1}formatAddress(e){return z8(e)}getAddressParts(e){return xg(e)}getProfessionalName(e){return e?this.allUsers().find(i=>i.id===e)?.name||this.i18n.translate("unknownProfessional"):this.i18n.translate("unassigned")}statusClass(e){let t="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",i=un.getColor(e);return`${t} text-white`}getStatusLabel(e){let t=un.getLabel(e,this.i18n);return console.log(`[ServiceListComponent] getStatusLabel: status='${e}' => label='${t}'`),t}isLoading(e){return(this.actionLoadingIds()||[]).includes(e)}handleApproveQuote(e){this.approveQuote.emit(e),this.showBudgetApprovalModal.set(!1)}handlePayNow(e){this.selectedRequestForPayment.set(e),this.showPaymentModal.set(!0)}handlePaymentModalClose(){this.showPaymentModal.set(!1),this.selectedRequestForPayment.set(null)}handlePaymentConfirmed(e){this.payNow.emit(e.request),this.showPaymentModal.set(!1),this.selectedRequestForPayment.set(null)}handleRejectQuote(e){this.rejectQuote.emit(e),this.showBudgetApprovalModal.set(!1)}openBudgetApprovalModal(e){this.selectedRequestForBudget.set(e),this.showBudgetApprovalModal.set(!0)}handleCloseBudgetModal(){this.showBudgetApprovalModal.set(!1)}};Ip.\u0275fac=function(t){return new(t||Ip)},Ip.\u0275cmp=pe({type:Ip,selectors:[["app-service-list"]],inputs:{serviceRequests:[1,"serviceRequests"],currentUser:[1,"currentUser"],enablePagination:[1,"enablePagination"],itemsPerPageDefault:[1,"itemsPerPageDefault"],sortBy:[1,"sortBy"],sortOrder:[1,"sortOrder"],actionLoadingIds:[1,"actionLoadingIds"]},outputs:{sortChange:"sortChange",viewDetails:"viewDetails",openChat:"openChat",approveQuote:"approveQuote",rejectQuote:"rejectQuote",approveExecutionDate:"approveExecutionDate",rejectExecutionDate:"rejectExecutionDate",payNow:"payNow",scheduleRequest:"scheduleRequest",provideClarification:"provideClarification",startService:"startService",finishService:"finishService"},decls:62,vars:62,consts:[[1,"service-list-container"],[1,"hidden","md:block","overflow-x-auto"],[1,"w-full","min-w-full"],[1,"bg-gray-50"],["scope","col",1,"service-list-header","text-left"],["type","button",1,"w-full","text-left","cursor-pointer","hover:bg-gray-100","transition-colors","select-none","focus:outline-none","focus-visible:ring-2","focus-visible:ring-indigo-500","rounded","px-2","-mx-2",3,"click"],[1,"flex","items-center","gap-2"],[1,"text-blue-600",3,"class"],[1,"fas","fa-sort","text-gray-400"],[1,"service-list-header","text-left"],["scope","col",1,"service-list-header","text-center"],["type","button",1,"w-full","text-center","cursor-pointer","hover:bg-gray-100","transition-colors","select-none","focus:outline-none","focus-visible:ring-2","focus-visible:ring-indigo-500","rounded","px-2","-mx-2",3,"click"],[1,"flex","items-center","justify-center","gap-2"],[1,"service-list-header"],[1,"service-list-header","text-center"],[1,"service-list-table-body"],[1,"md:hidden"],[1,"p-4","sm:p-6","text-center","text-gray-500"],[1,"divide-y","divide-gray-200"],[1,"service-list-pagination-bar"],[3,"request","user","show","loading","approve","reject","close",4,"ngIf"],[3,"request","show","loading","onPay","onClose",4,"ngIf"],[1,"text-blue-600"],["colspan","7",1,"service-list-empty-row"],[1,"hover:bg-gray-50"],[1,"px-4","lg:px-6","py-4"],[1,"min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-sm","text-gray-500","truncate"],[1,"service-list-empty-row"],[1,"max-w-xs","truncate","text-sm","text-gray-700"],[1,"service-list-empty-row","text-center"],[1,"font-semibold","text-indigo-700"],[1,"px-4","lg:px-6","py-4","whitespace-nowrap","text-left"],[1,"px-2","py-1","text-xs","font-medium","rounded-full",2,"border","2px solid red","background","#ffeaea","color","#222"],[1,"max-w-xs","truncate"],[1,"px-4","lg:px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"text-green-600","font-medium"],[1,"text-gray-400"],[1,"px-4","lg:px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","gap-2","items-center"],[1,"service-list-action-view-details",3,"click","title"],[1,"fas","fa-eye"],[1,"fas","fa-comments"],[1,"service-list-action-start-service",3,"title","disabled"],[1,"service-list-action-finish-service",3,"title","disabled"],[1,"service-list-action-start-service",3,"click","title","disabled"],[1,"service-list-action-finish-service",3,"click","title","disabled"],[1,"service-list-action-budget-approval"],[1,"service-list-action-clarification",3,"title"],[1,"service-list-action-schedule",3,"title"],[1,"service-list-action-pay-now",3,"title"],[1,"service-list-action-budget-approval",3,"click"],[1,"fas","fa-file-invoice-dollar"],[1,"service-list-action-approve-date",3,"click","title","disabled"],[1,"service-list-action-reject-date",3,"click","title","disabled"],[1,"service-list-action-clarification",3,"click","title"],[1,"fas","fa-comment-dots"],[1,"service-list-action-schedule",3,"click","title"],[1,"fas","fa-calendar"],[1,"service-list-action-pay-now",3,"click","title"],[1,"fas","fa-credit-card"],[1,"service-request-card","p-4","sm:p-5"],[1,"flex","items-start","justify-between","mb-3","sm:mb-4","gap-3"],[1,"flex-1","min-w-0"],[1,"service-request-title","text-gray-900","text-base","sm:text-lg","font-semibold","leading-tight"],[1,"text-sm","text-gray-600","mt-1","line-clamp-2","leading-relaxed"],[1,"flex-shrink-0"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","whitespace-nowrap"],[1,"ml-1","font-bold","text-green-700"],[1,"service-request-details","space-y-2","sm:space-y-3","mb-3","sm:mb-4"],[1,"service-request-info-item"],[1,"flex","items-start","gap-2","sm:gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","mt-0.5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-sm","text-gray-700","min-w-0","flex-1"],[1,"font-medium","break-words"],[1,"font-semibold"],[1,"ml-1"],[1,"flex","items-center","gap-2","sm:gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-sm","min-w-0","flex-1"],[1,"font-medium","text-gray-700"],[1,"text-gray-600","ml-1","break-words"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-blue-600","ml-1","font-medium","break-words"],[1,"service-request-info-item","service-list-quote-info"],[1,"border-t","border-gray-100","pt-3","sm:pt-4"],[1,"service-list-actions","mb-3"],[1,"service-list-actions"],[1,"service-list-action-secondary-details",2,"display","flex","align-items","center",3,"click","title"],[1,"fas","fa-eye","mr-1"],[1,"service-list-action-secondary-chat",3,"click","title"],[1,"fas","fa-comments","mr-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-green-600","ml-1","font-medium","break-words"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"font-medium","text-gray-700","block","mb-1"],[1,"text-gray-600","leading-relaxed","break-words"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"min-w-0","flex-1"],[1,"font-semibold","text-green-800","text-base","sm:text-lg","break-words"],[1,"text-xs","text-green-600","ml-2"],[1,"service-list-action-clarification"],[1,"service-list-action-schedule"],[1,"service-list-action-approve",3,"click","disabled"],[1,"mr-1","sm:mr-2"],[1,"service-list-action-reject",3,"click","disabled"],[1,"service-list-action-approve-date",3,"click","disabled"],[1,"service-list-action-reject-date",3,"click","disabled"],[1,"service-list-action-clarification",3,"click"],[1,"fas","fa-comment-dots","mr-1","sm:mr-2"],[1,"service-list-action-schedule",3,"click"],[1,"fas","fa-calendar","mr-1","sm:mr-2"],[1,"fas","fa-credit-card","mr-1","sm:mr-2"],[1,"service-list-action-start-service",3,"disabled"],[1,"service-list-action-finish-service",3,"disabled"],[1,"service-list-action-start-service",3,"click","disabled"],[1,"service-list-action-finish-service",3,"click","disabled"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-2","py-1","text-sm",3,"change","value"],["value","5"],["value","10"],["value","25"],["value","50"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"font-medium"],[1,"flex-1","flex","justify-center","sm:justify-end"],["aria-label","Pagination",1,"service-list-pagination-flex"],[1,"service-list-pagination-prev",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"service-list-pagination-next",3,"click","disabled"],[1,"fas","fa-chevron-right"],[1,"service-list-pagination-ellipsis"],[3,"class"],[3,"click"],[3,"approve","reject","close","request","user","show","loading"],[3,"onPay","onClose","request","show","loading"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th",4)(6,"button",5),g(7,"i18n"),g(8,"i18n"),g(9,"i18n"),g(10,"i18n"),A("click",function(){return i.handleSortColumn("category")}),p(11,"div",6)(12,"span"),h(13),g(14,"i18n"),f(),V(15,Bie,1,2,"i",7)(16,Vie,1,0,"i",8),f()()(),p(17,"th",9),h(18),g(19,"i18n"),f(),p(20,"th",10)(21,"button",11),g(22,"i18n"),g(23,"i18n"),g(24,"i18n"),g(25,"i18n"),A("click",function(){return i.handleSortColumn("date")}),p(26,"div",12)(27,"span"),h(28),g(29,"i18n"),f(),V(30,jie,1,2,"i",7)(31,qie,1,0,"i",8),f()()(),p(32,"th",4)(33,"button",5),g(34,"i18n"),g(35,"i18n"),g(36,"i18n"),g(37,"i18n"),A("click",function(){return i.handleSortColumn("status")}),p(38,"div",6)(39,"span"),h(40),g(41,"i18n"),f(),V(42,Uie,1,2,"i",7)(43,$ie,1,0,"i",8),f()()(),p(44,"th",9),h(45),g(46,"i18n"),f(),p(47,"th",13),h(48),g(49,"i18n"),f(),p(50,"th",14),h(51),g(52,"i18n"),f()()(),p(53,"tbody",15),V(54,Hie,4,3,"tr")(55,ire,2,0),f()()(),p(56,"div",16),V(57,rre,3,3,"div",17)(58,yre,3,0,"div",18),f(),V(59,wre,39,21,"div",19),de(60,Ere,1,4,"app-budget-approval-modal",20)(61,Sre,1,3,"app-payment-modal",21),f()),t&2&&(d(5),Ke("aria-sort",i.isSortedBy("category")?i.sortOrder()==="asc"?"ascending":"descending":"none"),d(),Ke("aria-label",_(7,24,"clickToSort")+": "+_(8,26,"service"))("title",_(9,28,"clickToSort")+": "+_(10,30,"service")),d(7),R(_(14,32,"service")),d(2),j(i.isSortedBy("category")?15:16),d(3),x(" ",_(19,34,"locality")," "),d(2),Ke("aria-sort",i.isSortedBy("date")?i.sortOrder()==="asc"?"ascending":"descending":"none"),d(),Ke("aria-label",_(22,36,"clickToSort")+": "+_(23,38,"date"))("title",_(24,40,"clickToSort")+": "+_(25,42,"date")),d(7),R(_(29,44,"date")),d(2),j(i.isSortedBy("date")?30:31),d(2),Ke("aria-sort",i.isSortedBy("status")?i.sortOrder()==="asc"?"ascending":"descending":"none"),d(),Ke("aria-label",_(34,46,"clickToSort")+": "+_(35,48,"status"))("title",_(36,50,"clickToSort")+": "+_(37,52,"status")),d(7),R(_(41,54,"status")),d(2),j(i.isSortedBy("status")?42:43),d(3),x(" ",_(46,56,"professional")," "),d(3),x(" ",_(49,58,"value")," "),d(3),x(" ",_(52,60,"actions")," "),d(3),j(i.displayedRequests().length===0?54:55),d(3),j(i.displayedRequests().length===0?57:58),d(2),j(i.enablePagination()&&i.totalPages()>1?59:-1),d(),T("ngIf",i.showBudgetApprovalModal()&&i.selectedRequestForBudget()),d(),T("ngIf",i.showPaymentModal()&&i.selectedRequestForPayment()))},dependencies:[me,bn,gb,vb,Ti,Ai,Ae],encapsulation:2,changeDetection:0});var kp=Ip;var Dre=n=>({name:n}),Are=()=>[],Tre=(n,e)=>e.label,Ire=(n,e)=>e.status,kre=(n,e)=>e.value,Mre=(n,e)=>e.id,Nre=(n,e)=>e.type;function Rre(n,e){if(n&1){let t=H();p(0,"div",0)(1,"div",8)(2,"div",9),h(3),f(),p(4,"button",10),A("click",function(){E(t);let r=b();return S(r.showBusinessError.set(!1))}),h(5," OK "),f()()()}if(n&2){let t=b();d(3),x(" ",t.businessErrorMessage()," ")}}function Pre(n,e){if(n&1&&(p(0,"div",5)(1,"div",11),k(2,"i",12),f(),p(3,"div",13)(4,"span",14),h(5),f(),p(6,"span",15),h(7),f()()()),n&2){let t=e.$implicit;d(),gt("bg-yellow-100",t.icon.includes("yellow"))("bg-blue-100",t.icon.includes("blue"))("bg-green-100",t.icon.includes("green"))("bg-emerald-100",t.icon.includes("emerald")),d(),se(t.icon),d(3),R(t.label),d(2),R(t.value)}}function Ore(n,e){if(n&1){let t=H();p(0,"app-service-request-details",16),A("close",function(){E(t);let r=b();return S(r.selectedRequest.set(null))})("refreshRequest",function(){E(t);let r=b();return S(r.selectedRequest.set(null))}),f()}if(n&2){let t=b();T("request",t.selectedRequest())("currentUser",t.user())}}function Fre(n,e){if(n&1){let t=H();p(0,"button",35),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.applyQuickFilter(r.status))}),h(1),g(2,"i18n"),f()}if(n&2){let t=e.$implicit,i=b(2);se("px-3 py-1 text-xs font-medium rounded-full "+(i.filterStatus()===t.status?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300")),d(),x(" ",_(2,3,t.label)," ")}}function Lre(n,e){if(n&1&&(p(0,"option",25),h(1),f()),n&2){let t=e.$implicit;T("value",t.value),d(),R(t.label)}}function Bre(n,e){if(n&1&&(p(0,"option",25),h(1),f()),n&2){let t=e.$implicit;T("value",t.id),d(),R(t.name)}}function Vre(n,e){if(n&1){let t=H();p(0,"span",37),h(1),g(2,"i18n"),p(3,"button",38),A("click",function(){let r=E(t).$implicit,o=b(3);return S(o.removeFilter(r.type))}),k(4,"i",39),f()()}if(n&2){let t=e.$implicit;d(),Qe(" ",_(2,2,t.label),": ",t.value," ")}}function jre(n,e){if(n&1&&(p(0,"div",33)(1,"span",36),h(2),g(3,"i18n"),f(),ce(4,Vre,5,4,"span",37,Nre),f()),n&2){let t=b(2);d(2),x("",_(3,1,"activeFilters"),":"),d(2),ue(t.activeFilters())}}function qre(n,e){n&1&&(p(0,"span",60),h(1," ... "),f())}function Ure(n,e){if(n&1){let t=H();p(0,"button",35),A("click",function(){E(t);let r=b().$implicit,o=b(4);return S(o.goToPage(r))}),h(1),f()}if(n&2){let t=b().$implicit,i=b(4);se(t===i.currentPage()?"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-indigo-50 text-sm font-medium text-indigo-600":"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"),d(),x(" ",t," ")}}function $re(n,e){if(n&1&&V(0,qre,2,0,"span",60)(1,Ure,2,3,"button",20),n&2){let t=e.$implicit;j(t===-1?0:1)}}function Hre(n,e){if(n&1){let t=H();p(0,"div",41)(1,"div",42)(2,"span",43),h(3),g(4,"i18n"),f(),p(5,"select",44),A("change",function(r){E(t);let o=b(3);return S(o.setItemsPerPage(+r.target.value))}),p(6,"option",45),h(7,"5"),f(),p(8,"option",46),h(9,"10"),f(),p(10,"option",47),h(11,"25"),f(),p(12,"option",48),h(13,"50"),f()()(),p(14,"div",49)(15,"p",43),h(16),g(17,"i18n"),p(18,"span",50),h(19),f(),h(20),g(21,"i18n"),p(22,"span",50),h(23),f(),h(24),g(25,"i18n"),p(26,"span",50),h(27),f(),h(28),g(29,"i18n"),f()(),p(30,"div",51)(31,"nav",52)(32,"button",53),A("click",function(){E(t);let r=b(3);return S(r.previousPage())}),k(33,"i",54),p(34,"span",55),h(35,"Previous"),f()(),p(36,"div",56),ce(37,$re,2,1,null,null,Nn),f(),p(39,"div",57),h(40),f(),p(41,"button",58),A("click",function(){E(t);let r=b(3);return S(r.nextPage())}),k(42,"i",59),p(43,"span",55),h(44,"Next"),f()()()()()}if(n&2){let t=b(3);d(3),x("",_(4,13,"itemsPerPage"),":"),d(2),T("value",t.itemsPerPage()),d(11),x(" ",_(17,15,"showing")," "),d(3),R((t.currentPage()-1)*t.itemsPerPage()+1),d(),x(" ",_(21,17,"to")," "),d(3),R(t.Math.min(t.currentPage()*t.itemsPerPage(),t.filteredRequests().length)),d(),x(" ",_(25,19,"of")," "),d(3),R(t.filteredRequests().length),d(),x(" ",_(29,21,"results")," "),d(4),T("disabled",t.currentPage()===1),d(5),ue(t.pageNumbers),d(3),Qe(" ",t.currentPage()," / ",t.totalPages()," "),d(),T("disabled",t.currentPage()===t.totalPages())}}function zre(n,e){if(n&1){let t=H();p(0,"app-service-list",40),A("sortChange",function(r){E(t);let o=b(2);return S(o.sortByColumn(r))})("viewDetails",function(r){E(t);let o=b(2);return S(o.handleViewDetails(r))})("openChat",function(r){E(t);let o=b(2);return S(o.openChat.emit(r))})("payNow",function(r){E(t);let o=b(2);return S(o.payNow.emit(r))})("approveQuote",function(r){E(t);let o=b(2);return S(o.handleQuoteResponse(r,!0))})("rejectQuote",function(r){E(t);let o=b(2);return S(o.handleQuoteResponse(r,!1))})("approveExecutionDate",function(r){E(t);let o=b(2);return S(o.handleExecutionDateResponse(r,!0))})("rejectExecutionDate",function(r){E(t);let o=b(2);return S(o.handleExecutionDateResponse(r.request,!1,r.reason))})("scheduleRequest",function(r){E(t);let o=b(2);return S(o.scheduleRequest.emit(r))})("provideClarification",function(r){E(t);let o=b(2);return S(o.handleProvideClarification(r))})("startService",function(r){E(t);let o=b(2);return S(o.handleStartService(r))})("finishService",function(r){E(t);let o=b(2);return S(o.handleFinishService(r))}),f(),V(1,Hre,45,23,"div",41)}if(n&2){let t=b(2);T("serviceRequests",t.paginatedRequests()||Om(7,Are))("currentUser",t.user())("enablePagination",!1)("sortBy",t.sortBy())("sortOrder",t.sortOrder())("actionLoadingIds",t.actionLoadingIds()),d(),j(t.filteredRequests().length>0?1:-1)}}function Wre(n,e){n&1&&(p(0,"div",34),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"noRequestsFound")," "))}function Gre(n,e){if(n&1){let t=H();p(0,"div",7)(1,"div",17)(2,"div",18)(3,"span",19),h(4),g(5,"i18n"),f(),ce(6,Fre,3,5,"button",20,Ire),f(),p(8,"div",21)(9,"div")(10,"label",22),h(11),g(12,"i18n"),f(),p(13,"select",23),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterStatus.set(r))}),p(14,"option",24),h(15),g(16,"i18n"),f(),ce(17,Lre,2,2,"option",25,kre),f()(),p(19,"div")(20,"label",22),h(21),g(22,"i18n"),f(),p(23,"div",26)(24,"input",27),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterStartDate.set(r))}),f(),p(25,"span",28),h(26,"-"),f(),p(27,"input",27),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterEndDate.set(r))}),f()()(),p(28,"div")(29,"label",22),h(30),g(31,"i18n"),f(),p(32,"select",29),A("ngModelChange",function(r){E(t);let o=b();return S(o.filterCategory.set(r))}),p(33,"option",24),h(34),g(35,"i18n"),f(),ce(36,Bre,2,2,"option",25,Mre),f()(),p(38,"div",30)(39,"label",22),h(40),g(41,"i18n"),f(),p(42,"input",31),g(43,"i18n"),A("ngModelChange",function(r){E(t);let o=b();return S(o.searchTerm.set(r))}),f()(),p(44,"button",32),A("click",function(){E(t);let r=b();return S(r.clearFilters())}),h(45),g(46,"i18n"),f()(),V(47,jre,6,3,"div",33),f(),V(48,zre,2,8)(49,Wre,3,3,"div",34),f()}if(n&2){let t=b();d(4),x("",_(5,17,"quickFilters"),":"),d(2),ue(t.quickFilterOptions),d(5),R(_(12,19,"status")),d(2),T("ngModel",t.filterStatus()),d(2),R(_(16,21,"all")),d(2),ue(t.statusAtivos()),d(4),R(_(22,23,"period")),d(3),T("ngModel",t.filterStartDate()),d(3),T("ngModel",t.filterEndDate()),d(3),R(_(31,25,"category")),d(2),T("ngModel",t.filterCategory()),d(2),R(_(35,27,"all")),d(2),ue(t.dataService.categories()),d(4),R(_(41,29,"search")),d(2),T("placeholder",ne(_(43,31,"searchPlaceholder")))("ngModel",t.searchTerm()),d(3),x(" ",_(46,33,"clearFilters")," "),d(2),j(t.activeFilters().length>0?47:-1),d(),j(t.user()&&t.isArray(t.paginatedRequests())&&t.paginatedRequests().length>0?48:49)}}var Mp=class Mp{constructor(){this.statusMap={Requested:"Solicitado",InAnalysis:"Em an\xE1lise",AwaitingClarifications:"Aguardando esclarecimentos",QuoteSent:"Or\xE7amento enviado",AwaitingQuoteApproval:"Aguardando aprova\xE7\xE3o do or\xE7amento",QuoteApproved:"Or\xE7amento aprovado",QuoteRejected:"Or\xE7amento rejeitado",AwaitingExecutionDate:"Aguardando data de execu\xE7\xE3o",DateProposedByAdmin:"Data proposta pelo administrador",AwaitingDateApproval:"Aguardando aprova\xE7\xE3o da data",DateApprovedByClient:"Data aprovada pelo cliente",DateRejectedByClient:"Data rejeitada pelo cliente",SearchingProfessional:"Buscando profissional",ProfessionalSelected:"Profissional selecionado",AwaitingProfessionalConfirmation:"Aguardando confirma\xE7\xE3o do profissional",Scheduled:"Agendado",InProgress:"Em execu\xE7\xE3o",CompletedAwaitingApproval:"Conclu\xEDdo - Aguardando aprova\xE7\xE3o",Completed:"Finalizado",Cancelled:"Cancelado"};this.showBusinessError=F(!1);this.businessErrorMessage=F("");this.filterStatus=F("");this.filterStartDate=F("");this.filterEndDate=F("");this.filterCategory=F("");this.searchTerm=F("");this.sortBy=F("date");this.sortOrder=F("desc");this.currentPage=F(1);this.itemsPerPage=F(10);this.totalPages=J(()=>Math.ceil(this.filteredRequests().length/this.itemsPerPage()));this.quickFilterOptions=[{status:"Requested",label:"statusRequested"},{status:"InAnalysis",label:"statusInAnalysis"},{status:"Scheduled",label:"statusScheduled"},{status:"Completed",label:"statusCompleted"}];this.user=ge.required();this.viewDetails=ae();this.openChat=ae();this.payNow=ae();this.scheduleRequest=ae();this.provideClarification=ae();this.startService=ae();this.finishService=ae();this.statusAtivos=F([]);this.actionLoadingIds=F([]);this.selectedRequest=F(null);this.dataService=$(kt);this.workflowService=$(ys);this.i18n=$($e);this.userRequests=J(()=>{let e=this.dataService.serviceRequests(),t=this.user(),i=[];return t.role==="client"?i=e.filter(r=>r.client_id===t.id):t.role==="professional"?i=e.filter(r=>r.professional_id===t.id):t.role==="admin"&&(i=e),i});this.filteredRequests=J(()=>{let e=this.userRequests(),t=this.filterStatus(),i=this.filterStartDate(),r=this.filterEndDate(),o=this.filterCategory(),s=this.searchTerm().toLowerCase();if(t){let a=this.statusMap[t];e=e.filter(l=>l.status===a)}if(i&&r){let a=new Date(i),l=new Date(r);l.setHours(23,59,59,999),e=e.filter(c=>{if(!c.requested_date)return!1;let u=new Date(c.requested_date);return u>=a&&u<=l})}return o&&(e=e.filter(a=>String(a.category_id)===o)),s&&(e=e.filter(a=>a.title?.toLowerCase().includes(s)||a.zip_code?.toLowerCase().includes(s)||String(a.id).includes(s))),this.sortRequests(e)});this.paginatedRequests=J(()=>{let e=this.filteredRequests(),t=(this.currentPage()-1)*this.itemsPerPage(),i=t+this.itemsPerPage();return e.slice(t,i)});this.activeFilters=J(()=>{let e=[];if(this.filterStatus()){let t=this.statusAtivos().find(i=>i.value===this.filterStatus())?.label||this.filterStatus();e.push({type:"status",label:"status",value:t})}if(this.filterStartDate()&&this.filterEndDate()&&e.push({type:"period",label:"period",value:`${this.filterStartDate()} - ${this.filterEndDate()}`}),this.filterCategory()){let t=this.dataService.categories().find(i=>String(i.id)===String(this.filterCategory()))?.name||"";e.push({type:"category",label:"category",value:t})}return this.searchTerm()&&e.push({type:"search",label:"search",value:this.searchTerm()}),e});this.stats=J(()=>{let e=this.user(),t=this.userRequests(),i=this.statusAtivos().map(r=>this.statusMap[r.value]).filter(Boolean);if(e.role==="client")return[{label:this.i18n.translate("totalRequests"),value:t.length,icon:"fas fa-list text-indigo-500"},{label:this.i18n.translate("activeRequests"),value:t.filter(r=>i.includes(r.status)).length,icon:"fas fa-cogs text-blue-500"},{label:this.i18n.translate("completedRequests"),value:t.filter(r=>!i.includes(r.status)).length,icon:"fas fa-check-circle text-green-500"}];if(e.role==="admin")return[{label:this.i18n.translate("activeRequests"),value:t.filter(r=>i.includes(r.status)).length,icon:"fas fa-cogs text-blue-500"},{label:this.i18n.translate("completedRequests"),value:t.filter(r=>!i.includes(r.status)).length,icon:"fas fa-check-circle text-green-500"}];if(e.role==="professional"){let r=t.filter(o=>o.payment_status==="Paid"&&o.cost).reduce((o,s)=>o+s.cost,0);return[{label:this.i18n.translate("activeJobs"),value:t.filter(o=>i.includes(o.status)).length,icon:"fas fa-briefcase text-blue-500"},{label:this.i18n.translate("completedJobs"),value:t.filter(o=>!i.includes(o.status)).length,icon:"fas fa-check-double text-green-500"},{label:this.i18n.translate("totalEarnings"),value:`\u20AC ${r.toFixed(2)}`,icon:"fas fa-euro-sign text-emerald-500"}]}return[]});this.Math=Math}handleViewDetails(e){this.viewDetails.emit(e)}sortByColumn(e){this.sortBy()===e?this.toggleSortOrder():(this.sortBy.set(e),this.sortOrder.set("desc"))}toggleSortOrder(){this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc")}isArray(e){return Array.isArray(e)}async handleFinishService(e){this.actionLoadingIds.update(t=>Array.from(new Set([...t||[],e.id])));try{await this.workflowService.completeWork(e.id),this.selectedRequest.set(null)}catch(t){console.error("Erro ao finalizar servi\xE7o:",t),this.showBusinessError.set(!0),this.businessErrorMessage.set(this.i18n.translate("errorFinishingService"))}finally{this.actionLoadingIds.update(t=>(t||[]).filter(i=>i!==e.id))}}async handleStartService(e){this.actionLoadingIds.update(t=>Array.from(new Set([...t||[],e.id])));try{await this.workflowService.startWork(e.id),this.selectedRequest.set(null)}catch(t){t instanceof Error&&t.message.includes("Tentativa de in\xEDcio antes da data agendada")?this.showBusinessRuleError("N\xE3o \xE9 permitido iniciar o servi\xE7o antes da data agendada!"):(console.error("Erro ao iniciar servi\xE7o:",t),this.showBusinessError.set(!0),this.businessErrorMessage.set(this.i18n.translate("genericError")))}finally{this.actionLoadingIds.update(t=>(t||[]).filter(i=>i!==e.id))}}ngOnInit(){this.statusAtivos.set(Object.values(wl).map(e=>({value:e,label:this.i18n.translate(e)})))}get pageNumbers(){let e=this.totalPages(),t=this.currentPage(),i=[];i.push(1);let r=Math.max(2,t-2),o=Math.min(e-1,t+2);r>2&&i.push(-1);for(let s=r;s<=o;s++)s!==1&&s!==e&&i.push(s);return o<e-1&&i.push(-1),e>1&&i.push(e),i}sortRequests(e){let t=this.sortBy(),r=this.sortOrder()==="asc"?1:-1;return[...e].sort((o,s)=>{let a=0;switch(t){case"date":{let l=o.requested_date?new Date(o.requested_date).getTime():0,c=s.requested_date?new Date(s.requested_date).getTime():0;a=l-c;break}case"status":{a=(o.status||"").localeCompare(s.status||"");break}case"id":{a=o.id-s.id;break}case"category":{let l=this.dataService.categories().find(u=>u.id===o.category_id)?.name||"",c=this.dataService.categories().find(u=>u.id===s.category_id)?.name||"";a=l.localeCompare(c);break}}return a*r})}async handleQuoteResponse(e,t){this.actionLoadingIds.update(i=>Array.from(new Set([...i||[],e.id])));try{await this.dataService.respondToQuote(e.id,t)}catch(i){console.error("Erro ao responder or\xE7amento:",i),this.showBusinessError.set(!0),this.businessErrorMessage.set(this.i18n.translate("genericError"))}finally{this.actionLoadingIds.update(i=>(i||[]).filter(r=>r!==e.id))}}async handleExecutionDateResponse(e,t,i){this.actionLoadingIds.update(r=>Array.from(new Set([...r||[],e.id])));try{await this.dataService.respondToExecutionDate(e.id,t,i)}catch(r){console.error("Erro ao responder data de execu\xE7\xE3o:",r),this.showBusinessError.set(!0),this.businessErrorMessage.set(this.i18n.translate("genericError"))}finally{this.actionLoadingIds.update(r=>(r||[]).filter(o=>o!==e.id))}}handleProvideClarification(e){this.provideClarification.emit(e)}showBusinessRuleError(e){this.businessErrorMessage.set(e),this.showBusinessError.set(!0),setTimeout(()=>this.showBusinessError.set(!1),6e3)}applyQuickFilter(e){this.filterStatus.set(this.filterStatus()===e?"":e)}clearFilters(){this.filterStatus.set(""),this.filterStartDate.set(""),this.filterEndDate.set(""),this.filterCategory.set(""),this.searchTerm.set("")}removeFilter(e){switch(e){case"status":this.filterStatus.set("");break;case"period":this.filterStartDate.set(""),this.filterEndDate.set("");break;case"category":this.filterCategory.set("");break;case"search":this.searchTerm.set("");break}}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}previousPage(){let e=this.currentPage();e>1&&this.currentPage.set(e-1)}nextPage(){let e=this.currentPage();e<this.totalPages()&&this.currentPage.set(e+1)}setItemsPerPage(e){this.itemsPerPage.set(e),this.currentPage.set(1)}};Mp.\u0275fac=function(t){return new(t||Mp)},Mp.\u0275cmp=pe({type:Mp,selectors:[["app-dashboard"]],inputs:{user:[1,"user"]},outputs:{viewDetails:"viewDetails",openChat:"openChat",payNow:"payNow",scheduleRequest:"scheduleRequest",provideClarification:"provideClarification",startService:"startService",finishService:"finishService"},decls:14,vars:11,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-30"],[1,"space-y-4","sm:space-y-6","min-w-0","overflow-hidden","px-2","sm:px-0"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-800","break-words"],[1,"text-gray-500","text-sm","sm:text-base"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-3","sm:gap-4"],[1,"bg-white","p-4","sm:p-6","rounded-lg","shadow","flex","items-center","space-x-3","sm:space-x-4","min-w-0"],[3,"request","currentUser"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"bg-white","rounded-lg","shadow-lg","p-6","max-w-sm","w-full","text-center","border","border-red-300"],[1,"text-red-600","text-lg","font-semibold","mb-2"],[1,"mt-4","px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600",3,"click"],[1,"flex-shrink-0","w-10","h-10","sm:w-12","sm:h-12","flex","items-center","justify-center","rounded-full"],[1,"text-lg","sm:text-2xl"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-gray-700"],[1,"ml-2","text-gray-900"],[3,"close","refreshRequest","request","currentUser"],[1,"p-4","border-b","border-gray-200","bg-gray-50","space-y-4"],[1,"flex","flex-wrap","items-center","gap-2"],[1,"text-sm","font-semibold","text-gray-700","mr-2"],[3,"class"],[1,"flex","flex-wrap","gap-4","items-end"],[1,"block","text-xs","font-semibold","text-gray-600","mb-1"],[1,"border","border-gray-300","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value"],[1,"flex","items-center","gap-2"],["type","date",1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],[1,"text-gray-500"],[1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],[1,"flex-1","min-w-[200px]"],["type","text",1,"border","rounded","px-2","py-1","text-sm","w-full",3,"ngModelChange","ngModel","placeholder"],[1,"px-3","py-1","text-xs","bg-gray-300","rounded","hover:bg-gray-400",3,"click"],[1,"flex","flex-wrap","items-center","gap-2","pt-3","border-t","border-gray-200"],[1,"text-center","text-gray-500","p-6"],[3,"click"],[1,"text-sm","font-medium","text-gray-600"],[1,"inline-flex","items-center","gap-x-1.5","py-1.5","px-3","rounded-full","text-xs","font-medium","bg-teal-100","text-teal-800"],[1,"flex-shrink-0","h-4","w-4","rounded-full","inline-flex","items-center","justify-center","text-teal-600","hover:bg-teal-200","hover:text-teal-500",3,"click"],[1,"fas","fa-times","text-xs"],[3,"sortChange","viewDetails","openChat","payNow","approveQuote","rejectQuote","approveExecutionDate","rejectExecutionDate","scheduleRequest","provideClarification","startService","finishService","serviceRequests","currentUser","enablePagination","sortBy","sortOrder","actionLoadingIds"],[1,"bg-white","px-4","py-3","flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","border-t","border-gray-200","space-y-3","sm:space-y-0"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-2","py-1","text-sm",3,"change","value"],["value","5"],["value","10"],["value","25"],["value","50"],[1,"hidden","sm:block"],[1,"font-medium"],[1,"flex","justify-center","sm:justify-end"],["aria-label","Pagination",1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"sr-only"],[1,"hidden","sm:flex"],[1,"sm:hidden","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-right"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"]],template:function(t,i){t&1&&(V(0,Rre,6,1,"div",0),p(1,"div",1)(2,"div")(3,"h2",2),h(4),g(5,"i18n"),f(),p(6,"p",3),h(7),g(8,"i18n"),f()(),p(9,"div",4),ce(10,Pre,8,12,"div",5,Tre),f(),V(12,Ore,1,2,"app-service-request-details",6)(13,Gre,50,35,"div",7),f()),t&2&&(j(i.showBusinessError()?0:-1),d(4),x(" ",Ye(5,4,"welcomeBack",Rn(9,Dre,i.user().name))," "),d(3),x(" ",_(8,7,"dashboardSummary")," "),d(3),ue(i.stats()),d(2),j(i.selectedRequest()?12:13))},dependencies:[me,ut,pi,fi,Lt,_s,Gt,$t,kp,Ae],encapsulation:2,changeDetection:0});var _b=Mp;function Qre(n,e){if(n&1&&(p(0,"div",15)(1,"div",19),k(2,"i",20),p(3,"span"),h(4),f()()()),n&2){let t=b(2);d(4),R(t.errorMessage())}}function Yre(n,e){n&1&&(k(0,"i",21),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"sending")," "))}function Zre(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&x(" ",_(1,1,"sendResetCode")," ")}function Xre(n,e){if(n&1){let t=H();p(0,"form",14),A("ngSubmit",function(){E(t);let r=b();return S(r.sendResetEmail())}),V(1,Qre,5,1,"div",15),p(2,"div")(3,"label",16),h(4),g(5,"i18n"),f(),p(6,"input",17),g(7,"i18n"),A("ngModelChange",function(r){E(t);let o=b();return S(o.email.set(r))}),f()(),p(8,"div")(9,"button",18),V(10,Yre,3,3)(11,Zre,2,3),f()()()}if(n&2){let t=b();d(),j(t.errorMessage()?1:-1),d(3),x(" ",_(5,6,"emailAddress")," "),d(2),T("placeholder",_(7,8,"emailPlaceholder"))("ngModel",t.email()),d(3),T("disabled",!t.email()||t.isLoading()),d(),j(t.isLoading()?10:11)}}function Jre(n,e){n&1&&(k(0,"i",21),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"resending")," "))}function Kre(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&x(" ",_(1,1,"resendCode")," ")}function eoe(n,e){if(n&1){let t=H();p(0,"div",10)(1,"div",22)(2,"div",23),k(3,"i",24),p(4,"span"),h(5),g(6,"i18n"),f()()(),p(7,"div",12)(8,"p"),h(9),g(10,"i18n"),f(),p(11,"p",25),h(12),f()(),p(13,"div",26)(14,"button",27),A("click",function(){E(t);let r=b();return S(r.goToVerification())}),h(15),g(16,"i18n"),f(),p(17,"button",28),A("click",function(){E(t);let r=b();return S(r.resendCode())}),V(18,Jre,3,3)(19,Kre,2,3),f()()()}if(n&2){let t=b();d(5),R(_(6,6,"resetCodeSent")),d(4),R(_(10,8,"resetCodeSentDescription")),d(3),R(t.email()),d(3),x(" ",_(16,10,"proceedToVerification")," "),d(2),T("disabled",t.isLoading()),d(),j(t.isLoading()?18:19)}}var Np=class Np{constructor(){this.backToLogin=ae();this.codeRequested=ae();this.initialEmail=ge("");this.authService=$(ci);this.notificationService=$(Ft);this.email=F("");this.isLoading=F(!1);this.isEmailSent=F(!1);this.errorMessage=F(null);qt(()=>{let e=this.initialEmail();e&&this.email.set(e)})}async sendResetEmail(){if(!this.email()){this.errorMessage.set("Por favor, informe seu e-mail");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email())){this.errorMessage.set("Por favor, informe um e-mail v\xE1lido");return}this.isLoading.set(!0),this.errorMessage.set(null);try{await this.authService.sendPasswordResetCode(this.email()),this.isEmailSent.set(!0),this.notificationService.addNotification("Um c\xF3digo de redefini\xE7\xE3o foi enviado para seu e-mail")}catch(t){console.error("Erro ao enviar c\xF3digo de redefini\xE7\xE3o:",t),this.errorMessage.set(t.message||"Erro ao enviar c\xF3digo. Tente novamente.")}finally{this.isLoading.set(!1)}}async resendCode(){this.isLoading.set(!0);try{await this.authService.sendPasswordResetCode(this.email()),this.notificationService.addNotification("Um novo c\xF3digo foi enviado para seu e-mail")}catch(e){console.error("Erro ao reenviar c\xF3digo:",e),this.errorMessage.set(e.message||"Erro ao reenviar c\xF3digo. Tente novamente.")}finally{this.isLoading.set(!1)}}goToVerification(){this.codeRequested.emit(this.email())}};Np.\u0275fac=function(t){return new(t||Np)},Np.\u0275cmp=pe({type:Np,selectors:[["app-forgot-password"]],inputs:{initialEmail:[1,"initialEmail"]},outputs:{backToLogin:"backToLogin",codeRequested:"codeRequested"},decls:25,vars:16,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gray-100"],[1,"w-full","max-w-md","p-8","space-y-6","bg-white","rounded-lg","shadow-md","relative"],[1,"absolute","top-4","left-4","text-gray-600","hover:text-indigo-600","flex","items-center",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"text-center","pt-10"],[1,"mx-auto","w-16","h-16","bg-indigo-100","rounded-full","flex","items-center","justify-center","mb-4"],[1,"fas","fa-key","text-indigo-600","text-2xl"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"space-y-6"],[1,"text-center","space-y-6"],[1,"text-center"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-indigo-600","hover:text-indigo-500",3,"click"],[1,"space-y-6",3,"ngSubmit"],[1,"p-3","bg-red-100","border","border-red-400","text-red-700","rounded-md"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","name","email","type","email","autocomplete","email","required","",1,"w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","placeholder","ngModel"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-indigo-400","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","items-center"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"fas","fa-spinner","fa-spin","mr-2"],[1,"p-4","bg-green-100","border","border-green-400","text-green-700","rounded-md"],[1,"flex","items-center","justify-center"],[1,"fas","fa-check-circle","mr-2"],[1,"font-medium","mt-2"],[1,"space-y-3"],[1,"w-full","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"w-full","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),A("click",function(){return i.backToLogin.emit()}),k(3,"i",3),p(4,"span"),h(5),g(6,"i18n"),f()(),p(7,"div",4)(8,"div",5),k(9,"i",6),f(),p(10,"h1",7),h(11),g(12,"i18n"),f(),p(13,"p",8),h(14),g(15,"i18n"),f()(),V(16,Xre,12,10,"form",9)(17,eoe,20,12,"div",10),p(18,"div",11)(19,"p",12),h(20),g(21,"i18n"),p(22,"button",13),A("click",function(){return i.backToLogin.emit()}),h(23),g(24,"i18n"),f()()()()()),t&2&&(d(5),R(_(6,6,"backToLogin")),d(6),x(" ",_(12,8,"forgotPassword")," "),d(3),x(" ",_(15,10,"forgotPasswordDescription")," "),d(2),j(i.isEmailSent()?17:16),d(4),x(" ",_(21,12,"rememberPassword")," "),d(3),x(" ",_(24,14,"backToLogin")," "))},dependencies:[me,ut,di,Lt,Gt,ui,Ii,$t,Zn,Ae],encapsulation:2,changeDetection:0});var yb=Np;var toe=[[["","language-switcher",""]]],noe=["[language-switcher]"];function ioe(n,e){n&1&&(p(0,"div",112),Ne(),p(1,"svg",113),k(2,"circle",114)(3,"path",115)(4,"path",116),f(),Le(),p(5,"span",117),h(6,"Imagem n\xE3o encontrada"),k(7,"br"),h(8,"Verifique o arquivo "),p(9,"b"),h(10,"assets/landing-page.png"),f()()())}var Rp=class Rp{constructor(){this.signIn=ae();this.createAccount=ae();this.currentYear=new Date().getFullYear();this.imgError=!1;this.placeholderDataUrl="data:image/svg+xml;utf8,"+encodeURIComponent(`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 675" width="1200" height="675">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0f172a"/>
      <stop offset="50%" stop-color="#1e3a8a"/>
      <stop offset="100%" stop-color="#3730a3"/>
    </linearGradient>
  </defs>
  <rect width="100%" height="100%" fill="url(#g)"/>
  <g fill="none" stroke="#60a5fa" stroke-opacity="0.25">
    <circle cx="200" cy="150" r="120"/>
    <circle cx="1000" cy="520" r="160"/>
    <path d="M100 600 C300 500, 900 500, 1100 600"/>
  </g>
  <g fill="#93c5fd" fill-opacity="0.9">
    <path d="M300 420 h150 v-80 a20 20 0 0 1 20 -20 h60 a20 20 0 0 1 20 20 v80 h150 v100 H300 Z" opacity="0.25"/>
  </g>
  <text x="50%" y="45%" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="44" fill="#e0e7ff" opacity="0.95">Natan Construtora</text>
  <text x="50%" y="55%" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="20" fill="#bfdbfe" opacity="0.9">Imagem tempor\xE1ria (assets/landing-page.png ausente)</text>
  <text x="50%" y="64%" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" fill="#93c5fd" opacity="0.85">Substitua por src/assets/landing-page.png</text>
</svg>
`)}onSubmitQuote(e){e.preventDefault();let t=e.target,i=new FormData(t),r={name:i.get("name"),email:i.get("email"),phone:i.get("phone"),service:i.get("service"),message:i.get("message")};console.log("Quote request:",r);let o=this.buildWhatsAppMessage(r),s=`https://wa.me/351910997548?text=${encodeURIComponent(o)}`;window.open(s,"_blank"),t.reset(),this.showSuccessMessage()}buildWhatsAppMessage(e){return`
*Pedido de Or\xE7amento - Natan Construtora*

*Nome:* ${e.name}
*Email:* ${e.email}
*Telefone:* ${e.phone}
*Servi\xE7o:* ${e.service}

*Mensagem:*
${e.message||"Sem mensagem adicional"}

---
`}showSuccessMessage(){}};Rp.\u0275fac=function(t){return new(t||Rp)},Rp.\u0275cmp=pe({type:Rp,selectors:[["app-landing"]],outputs:{signIn:"signIn",createAccount:"createAccount"},ngContentSelectors:noe,decls:322,vars:185,consts:[[1,"flex","flex-col","min-h-screen","bg-gradient-to-br","from-slate-900","via-blue-900","to-indigo-900","text-white","relative","overflow-x-hidden","mobile-safe"],[1,"absolute","inset-0","opacity-5","bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMSI+PHBhdGggZD0iTTM2IDEzNGgxMnYxMkgzNnoiLz48L2c+PC9nPjwvc3ZnPg==')]"],[1,"relative","w-full","h-[60vh]","sm:h-auto","sm:aspect-[16/7]","flex","items-end","justify-center","shadow-2xl","rounded-b-3xl","mb-8","bg-black"],["alt","Fam\xEDlia feliz em frente a uma casa constru\xEDda pela Natan Construtora","loading","eager",1,"absolute","inset-0","w-full","h-full","object-cover","sm:object-contain","object-center","z-0",2,"filter","brightness(0.82) saturate(1.1)",3,"error","src"],["class","absolute inset-0 flex flex-col items-center justify-center z-10 bg-black/70",4,"ngIf"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/70","via-black/20","to-transparent","z-10"],[1,"absolute","top-2","right-8","sm:top-4","sm:right-16","lg:right-24","z-20","flex","flex-col","items-end","gap-3"],[1,"flex","flex-col","sm:flex-row","gap-3","sm:gap-4","w-full","sm:w-auto"],[1,"bg-white","text-indigo-800","font-semibold","py-3","px-5","sm:px-7","rounded-full","shadow-lg","transform","hover:scale-105","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-blue-400","active:bg-blue-100/80","border-2","border-indigo-200","w-full","sm:w-auto","hover:shadow-xl","min-h-12",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"inline-block","mr-2","w-5","h-5","text-blue-500","align-middle"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15"],["stroke-linecap","round","stroke-linejoin","round","d","M18 12H9m0 0l3-3m-3 3l3 3"],[1,"bg-indigo-800","text-white","font-semibold","py-3","px-5","sm:px-7","rounded-full","shadow-lg","transform","hover:scale-105","transition-all","duration-200","border-2","border-indigo-800","hover:bg-indigo-700","hover:text-white","focus:outline-none","focus:ring-2","focus:ring-blue-400","active:bg-indigo-900/80","w-full","sm:w-auto","hover:shadow-xl","min-h-12",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"inline-block","mr-2","w-5","h-5","text-blue-200","align-middle"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.5V17a2 2 0 00-2-2H7a2 2 0 00-2 2v2.5"],["cx","9","cy","7","r","4"],["stroke-linecap","round","stroke-linejoin","round","d","M19 8v6m3-3h-6"],[1,"container","mx-auto","px-2","sm:px-4","pb-40","pt-24","sm:pt-8"],[1,"text-center","animate-fadeInUp","mb-12","sm:mb-16"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-4","justify-center","items-center","w-full"],["href","#contact",1,"bg-gradient-to-r","from-blue-500","to-indigo-600","text-white","font-bold","py-4","px-8","rounded-full","shadow-2xl","transform","hover:scale-105","transition-all","duration-300","hover:shadow-blue-500/50","border-2","border-blue-400/30","w-full","sm:w-auto","focus:outline-none","focus:ring-2","focus:ring-white"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"inline-block","mr-2","w-6","h-6"],["d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["href","#services",1,"bg-white/10","backdrop-blur-md","text-white","font-semibold","py-4","px-8","rounded-full","shadow-lg","transform","hover:scale-105","transition-all","duration-300","border-2","border-white/30","hover:bg-white/20","w-full","sm:w-auto","focus:outline-none","focus:ring-2","focus:ring-white"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","sm:gap-6","mb-10","sm:mb-16","max-w-4xl","mx-auto"],[1,"bg-white/10","backdrop-blur-md","border","border-white/20","rounded-xl","p-4","sm:p-6","text-center","transform","hover:scale-105","transition-all","duration-300","hover:bg-white/15"],[1,"text-4xl","font-bold","text-blue-300","mb-2"],[1,"text-sm","text-white/80","font-sans"],["id","about",1,"bg-white/15","backdrop-blur-md","border","border-white/20","rounded-2xl","p-6","sm:p-8","max-w-4xl","mx-auto","mb-12","shadow-2xl","transition-all","duration-300","hover:shadow-blue-500/20","hover:border-white/40","w-full"],[1,"text-3xl","font-serif","font-bold","mb-6","tracking-tight","flex","items-center","gap-3"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-8","h-8","text-blue-300"],["d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"space-y-4","text-base","sm:text-lg"],[1,"font-sans","leading-relaxed"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","mt-8"],[1,"flex","items-start","gap-3","bg-white/5","p-4","rounded-lg"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-6","h-6","text-blue-400","flex-shrink-0","mt-1"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-semibold","mb-1"],[1,"text-sm","text-white/80"],["d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["id","services",1,"bg-gradient-to-br","from-white/20","via-blue-100/10","to-indigo-200/10","backdrop-blur-md","border","border-white/20","rounded-2xl","p-6","sm:p-8","max-w-4xl","mx-auto","mb-12","shadow-2xl","transition-all","duration-300","hover:shadow-blue-500/20","hover:border-white/40"],[1,"text-3xl","font-serif","font-bold","mb-6","tracking-tight","text-center","flex","items-center","justify-center","gap-3"],["d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"font-serif","font-semibold","mb-3","text-xl","flex","items-center","gap-3"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-7","h-7","text-blue-300"],[1,"space-y-2","ml-2"],[1,"font-sans","flex","items-center","gap-3","group"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5","text-blue-400","group-hover:scale-110","transition-transform"],["d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],[1,"bg-white/5","rounded-xl","p-5","hover:bg-white/10","transition-all","duration-300"],["d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["d","M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"],["d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"mt-6","italic","font-sans","text-center","text-blue-200","bg-white/5","rounded-lg","p-4"],["id","contact",1,"bg-gradient-to-br","from-white/20","via-blue-100/10","to-indigo-200/10","backdrop-blur-md","border","border-white/20","rounded-2xl","p-6","sm:p-8","max-w-4xl","mx-auto","mb-12","shadow-2xl","transition-all","duration-300","hover:shadow-blue-500/20","hover:border-white/40"],["d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"space-y-4"],[1,"text-xl","font-semibold","mb-4"],[1,"space-y-3"],["href","mailto:natanconstrucoes@gmail.com","aria-label","Enviar email para Natan Construtora",1,"flex","items-center","gap-3","text-white","hover:text-blue-300","transition-colors","group"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-6","h-6","text-blue-400","group-hover:scale-110","transition-transform"],[1,"text-sm","text-white/70"],[1,"font-semibold"],["href","tel:+351296383222","aria-label","Ligar para telefone fixo Natan Construtora",1,"flex","items-center","gap-3","text-white","hover:text-blue-300","transition-colors","group"],["d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["href","tel:+351910997548","aria-label","Ligar para telem\xF3vel Natan Construtora",1,"flex","items-center","gap-3","text-white","hover:text-blue-300","transition-colors","group"],["d","M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"pt-6","border-t","border-white/20"],[1,"text-lg","font-semibold","mb-3"],[1,"flex","gap-4"],["href","https://facebook.com/natanconstrutora","target","_blank","rel","noopener noreferrer","aria-label","Facebook da Natan Construtora",1,"bg-white/10","hover:bg-blue-600","p-3","rounded-full","transition-all","duration-300","transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-white"],["fill","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-6","h-6"],["d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],["href","https://instagram.com/construtora_natan","target","_blank","rel","noopener noreferrer","aria-label","Instagram da Natan Construtora",1,"bg-white/10","hover:bg-pink-600","p-3","rounded-full","transition-all","duration-300","transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-white"],["d","M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z"],[1,"bg-white/5","rounded-xl","p-6"],[1,"space-y-4",3,"submit"],["for","name",1,"block","text-sm","font-medium","mb-2"],["type","text","id","name","name","name","required","",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all",3,"placeholder"],["for","email",1,"block","text-sm","font-medium","mb-2"],["type","email","id","email","name","email","required","",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all",3,"placeholder"],["for","phone",1,"block","text-sm","font-medium","mb-2"],["type","tel","id","phone","name","phone","required","",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all",3,"placeholder"],["for","service",1,"block","text-sm","font-medium","mb-2"],["id","service","name","service","required","",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all"],["value","",1,"bg-indigo-900"],["value","projeto",1,"bg-indigo-900"],["value","construcao",1,"bg-indigo-900"],["value","reforma",1,"bg-indigo-900"],["value","consultoria",1,"bg-indigo-900"],["for","message",1,"block","text-sm","font-medium","mb-2"],["id","message","name","message","rows","4",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all","resize-none",3,"placeholder"],["type","submit",1,"w-full","bg-gradient-to-r","from-blue-500","to-indigo-600","text-white","font-bold","py-3","px-6","rounded-lg","shadow-lg","transform","hover:scale-105","transition-all","duration-300","hover:shadow-blue-500/50","focus:outline-none","focus:ring-2","focus:ring-white"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"inline-block","mr-2","w-5","h-5"],["d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],["target","_blank","rel","noopener noreferrer","aria-label","Contatar via WhatsApp",1,"fixed","bottom-20","right-4","sm:bottom-24","sm:right-12","bg-green-500","hover:bg-green-600","text-white","rounded-full","p-3","sm:p-4","shadow-2xl","transform","hover:scale-110","transition-all","duration-300","z-50","animate-bounce","focus:outline-none","focus:ring-2","focus:ring-white",3,"href"],["fill","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-7","h-7","sm:w-8","sm:h-8"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"],[1,"w-full","fixed","bottom-0","left-0","z-40","bg-gradient-to-r","from-indigo-900/95","via-indigo-800/95","to-blue-700/95","backdrop-blur-md","text-white/90","text-xs","py-2","sm:py-3","px-2","sm:px-4","shadow-2xl","border-t","border-white/10"],[1,"container","mx-auto","flex","flex-col","sm:flex-row","items-center","justify-between","gap-1","sm:gap-2"],[1,"flex","flex-col","sm:flex-row","items-center","gap-1","sm:gap-4"],[1,"hidden","sm:inline","text-white/50"],[1,"text-white/70"],[1,"flex","flex-wrap","items-center","justify-center","gap-1","sm:gap-4"],["href","#privacy",1,"hover:text-blue-300","transition-colors","underline"],["href","#terms",1,"hover:text-blue-300","transition-colors","underline"],["href","mailto:natanconstrucoes@gmail.com",1,"hover:text-blue-300","transition-colors","underline"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","z-10","bg-black/70"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 48 48","aria-hidden","true",1,"w-20","h-20","text-blue-300","mb-4"],["cx","24","cy","24","r","22","stroke","currentColor","stroke-width","3","fill","none"],["d","M16 32l8-8 8 8","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round","fill","none"],["d","M24 16v8","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round","fill","none"],[1,"text-blue-100","text-lg","font-semibold","text-center","drop-shadow"]],template:function(t,i){t&1&&(Nm(toe),p(0,"div",0),k(1,"div",1),p(2,"div",2)(3,"img",3),A("error",function(){return i.imgError=!0}),f(),de(4,ioe,11,0,"div",4),k(5,"div",5),p(6,"div",6),Rm(7),p(8,"div",7)(9,"button",8),A("click",function(){return i.signIn.emit()}),Ne(),p(10,"svg",9),k(11,"path",10)(12,"path",11),f(),h(13),g(14,"i18n"),f(),Le(),p(15,"button",12),A("click",function(){return i.createAccount.emit()}),Ne(),p(16,"svg",13),k(17,"path",14)(18,"circle",15)(19,"path",16),f(),h(20),g(21,"i18n"),f()()()(),Le(),p(22,"div",17)(23,"div",18)(24,"div",19)(25,"a",20),Ne(),p(26,"svg",21),k(27,"path",22),f(),h(28),g(29,"i18n"),f(),Le(),p(30,"a",23),h(31),g(32,"i18n"),f()()(),p(33,"section",24)(34,"div",25)(35,"div",26),h(36,"20+"),f(),p(37,"div",27),h(38),g(39,"i18n"),f()(),p(40,"div",25)(41,"div",26),h(42,"500+"),f(),p(43,"div",27),h(44),g(45,"i18n"),f()(),p(46,"div",25)(47,"div",26),h(48,"100%"),f(),p(49,"div",27),h(50),g(51,"i18n"),f()()(),p(52,"section",28)(53,"h2",29),Ne(),p(54,"svg",30),k(55,"path",31),f(),h(56),g(57,"i18n"),f(),Le(),p(58,"div",32)(59,"p",33),h(60),g(61,"i18n"),f(),p(62,"p",33),h(63),g(64,"i18n"),f()(),p(65,"div",34)(66,"div",35),Ne(),p(67,"svg",36),k(68,"path",37),f(),Le(),p(69,"div")(70,"h4",38),h(71),g(72,"i18n"),f(),p(73,"p",39),h(74),g(75,"i18n"),f()()(),p(76,"div",35),Ne(),p(77,"svg",36),k(78,"path",40),f(),Le(),p(79,"div")(80,"h4",38),h(81),g(82,"i18n"),f(),p(83,"p",39),h(84),g(85,"i18n"),f()()(),p(86,"div",35),Ne(),p(87,"svg",36),k(88,"path",41),f(),Le(),p(89,"div")(90,"h4",38),h(91),g(92,"i18n"),f(),p(93,"p",39),h(94),g(95,"i18n"),f()()(),p(96,"div",35),Ne(),p(97,"svg",36),k(98,"path",42),f(),Le(),p(99,"div")(100,"h4",38),h(101),g(102,"i18n"),f(),p(103,"p",39),h(104),g(105,"i18n"),f()()()()(),p(106,"section",43)(107,"h2",44),Ne(),p(108,"svg",30),k(109,"path",45),f(),h(110),g(111,"i18n"),f(),Le(),p(112,"h3",46),Ne(),p(113,"svg",47),k(114,"path",22),f(),h(115),g(116,"i18n"),f(),Le(),p(117,"ul",48)(118,"li",49),Ne(),p(119,"svg",50),k(120,"path",51),f(),Le(),p(121,"span"),h(122),g(123,"i18n"),f()(),p(124,"li",49),Ne(),p(125,"svg",50),k(126,"path",31),f(),Le(),p(127,"span"),h(128),g(129,"i18n"),f()()(),p(130,"div",52)(131,"h3",46),Ne(),p(132,"svg",47),k(133,"path",31),f(),h(134),g(135,"i18n"),f(),Le(),p(136,"ul",48)(137,"li",49),Ne(),p(138,"svg",50),k(139,"path",45),f(),Le(),p(140,"span"),h(141),g(142,"i18n"),f()(),p(143,"li",49),Ne(),p(144,"svg",50),k(145,"path",51),f(),Le(),p(146,"span"),h(147),g(148,"i18n"),f()()()(),p(149,"div",52)(150,"h3",46),Ne(),p(151,"svg",47),k(152,"path",53),f(),h(153),g(154,"i18n"),f(),Le(),p(155,"ul",48)(156,"li",49),Ne(),p(157,"svg",50),k(158,"path",54),f(),Le(),p(159,"span"),h(160),g(161,"i18n"),f()(),p(162,"li",49),Ne(),p(163,"svg",50),k(164,"path",40),f(),Le(),p(165,"span"),h(166),g(167,"i18n"),f()()()(),p(168,"div",52)(169,"h3",46),Ne(),p(170,"svg",47),k(171,"path",22),f(),h(172),g(173,"i18n"),f(),Le(),p(174,"ul",48)(175,"li",49),Ne(),p(176,"svg",50),k(177,"path",55),f(),Le(),p(178,"span"),h(179),g(180,"i18n"),f()(),p(181,"li",49),Ne(),p(182,"svg",50),k(183,"path",56),f(),Le(),p(184,"span"),h(185),g(186,"i18n"),f()()()(),p(187,"p",57),h(188),g(189,"i18n"),f(),p(190,"section",58)(191,"h2",44),Ne(),p(192,"svg",30),k(193,"path",59),f(),h(194),g(195,"i18n"),f(),Le(),p(196,"div",60)(197,"div",61)(198,"h3",62),h(199),g(200,"i18n"),f(),p(201,"div",63)(202,"a",64),Ne(),p(203,"svg",65),k(204,"path",59),f(),Le(),p(205,"div")(206,"div",66),h(207),g(208,"i18n"),f(),p(209,"div",67),h(210,"natanconstrucoes@gmail.com"),f()()(),p(211,"a",68),Ne(),p(212,"svg",65),k(213,"path",69),f(),Le(),p(214,"div")(215,"div",66),h(216),g(217,"i18n"),f(),p(218,"div",67),h(219,"+351 296 383 222"),f()()(),p(220,"a",70),Ne(),p(221,"svg",65),k(222,"path",71),f(),Le(),p(223,"div")(224,"div",66),h(225),g(226,"i18n"),f(),p(227,"div",67),h(228,"+351 910 997 548"),f()()()(),p(229,"div",72)(230,"h4",73),h(231),g(232,"i18n"),f(),p(233,"div",74)(234,"a",75),Ne(),p(235,"svg",76),k(236,"path",77),f()(),Le(),p(237,"a",78),Ne(),p(238,"svg",76),k(239,"path",79),f()()()()(),Le(),p(240,"div",80)(241,"h3",62),h(242),g(243,"i18n"),f(),p(244,"form",81),A("submit",function(o){return i.onSubmitQuote(o)}),p(245,"div")(246,"label",82),h(247),g(248,"i18n"),f(),k(249,"input",83),g(250,"i18n"),f(),p(251,"div")(252,"label",84),h(253),g(254,"i18n"),f(),k(255,"input",85),g(256,"i18n"),f(),p(257,"div")(258,"label",86),h(259),g(260,"i18n"),f(),k(261,"input",87),g(262,"i18n"),f(),p(263,"div")(264,"label",88),h(265),g(266,"i18n"),f(),p(267,"select",89)(268,"option",90),h(269),g(270,"i18n"),f(),p(271,"option",91),h(272),g(273,"i18n"),f(),p(274,"option",92),h(275),g(276,"i18n"),f(),p(277,"option",93),h(278),g(279,"i18n"),f(),p(280,"option",94),h(281),g(282,"i18n"),f()()(),p(283,"div")(284,"label",95),h(285),g(286,"i18n"),f(),k(287,"textarea",96),g(288,"i18n"),f(),p(289,"button",97),Ne(),p(290,"svg",98),k(291,"path",99),f(),h(292),g(293,"i18n"),f()()()()(),Le(),p(294,"a",100),g(295,"i18n"),Ne(),p(296,"svg",101),k(297,"path",102),f()(),Le(),p(298,"footer",103)(299,"div",104)(300,"div",105)(301,"span",67),h(302),f(),p(303,"span",106),h(304,"|"),f(),p(305,"span",107),h(306),g(307,"i18n"),f()(),p(308,"div",108)(309,"a",109),h(310),g(311,"i18n"),f(),p(312,"span",106),h(313,"|"),f(),p(314,"a",110),h(315),g(316,"i18n"),f(),p(317,"span",106),h(318,"|"),f(),p(319,"a",111),h(320),g(321,"i18n"),f()()()()()()()),t&2&&(d(3),T("src",i.imgError?i.placeholderDataUrl:"src/assets/landing-page.png",Hi),d(),T("ngIf",i.imgError),d(9),x(" ",_(14,67,"signIn")," "),d(7),x(" ",_(21,69,"createAccount")," "),d(8),x(" ",_(29,71,"landingCtaQuote")," "),d(3),x(" ",_(32,73,"landingCtaServices")," "),d(7),R(_(39,75,"landingStatsYears")),d(6),R(_(45,77,"landingStatsProjects")),d(6),R(_(51,79,"landingStatsSatisfaction")),d(6),x(" ",_(57,81,"landingAboutTitle")," "),d(4),x(" ",_(61,83,"landingAboutText1")," "),d(3),x(" ",_(64,85,"landingAboutText2")," "),d(8),R(_(72,87,"landingDifferential1Title")),d(3),R(_(75,89,"landingDifferential1Text")),d(7),R(_(82,91,"landingDifferential2Title")),d(3),R(_(85,93,"landingDifferential2Text")),d(7),R(_(92,95,"landingDifferential3Title")),d(3),R(_(95,97,"landingDifferential3Text")),d(7),R(_(102,99,"landingDifferential4Title")),d(3),R(_(105,101,"landingDifferential4Text")),d(6),x(" ",_(111,103,"landingServicesTitle")," "),d(5),x(" ",_(116,105,"landingServicesProjects")," "),d(7),R(_(123,107,"landingServicesProjects1")),d(6),R(_(129,109,"landingServicesProjects2")),d(6),x(" ",_(135,111,"landingServicesConstruction")," "),d(7),R(_(142,113,"landingServicesConstruction1")),d(6),R(_(148,115,"landingServicesConstruction2")),d(6),x(" ",_(154,117,"landingServicesRenovation")," "),d(7),R(_(161,119,"landingServicesRenovation1")),d(6),R(_(167,121,"landingServicesRenovation2")),d(6),x(" ",_(173,123,"landingServicesConsulting")," "),d(7),R(_(180,125,"landingServicesConsulting1")),d(6),R(_(186,127,"landingServicesConsulting2")),d(3),x(" ",_(189,129,"landingServicesFooter")," "),d(6),x(" ",_(195,131,"landingContactsTitle")," "),d(5),R(_(200,133,"landingContactsInfo")),d(8),R(_(208,135,"landingContactsEmail")),d(9),R(_(217,137,"landingContactsPhone")),d(9),R(_(226,139,"landingContactsMobile")),d(6),R(_(232,141,"landingSocialMedia")),d(11),R(_(243,143,"landingQuoteFormTitle")),d(5),x("",_(248,145,"landingFormName")," *"),d(2),T("placeholder",ne(_(250,147,"landingFormNamePlaceholder"))),d(4),x("",_(254,149,"landingFormEmail")," *"),d(2),T("placeholder",ne(_(256,151,"landingFormEmailPlaceholder"))),d(4),x("",_(260,153,"landingFormPhone")," *"),d(2),T("placeholder",ne(_(262,155,"landingFormPhonePlaceholder"))),d(4),x("",_(266,157,"landingFormService")," *"),d(4),R(_(270,159,"landingFormServiceSelect")),d(3),R(_(273,161,"landingServicesProjects")),d(3),R(_(276,163,"landingServicesConstruction")),d(3),R(_(279,165,"landingServicesRenovation")),d(3),R(_(282,167,"landingServicesConsulting")),d(4),R(_(286,169,"landingFormMessage")),d(2),T("placeholder",ne(_(288,171,"landingFormMessagePlaceholder"))),d(5),x(" ",_(293,173,"landingFormSubmit")," "),d(2),T("href",Xd("https://wa.me/351910997548?text=",_(295,175,"landingWhatsAppMessage")),Hi),d(8),x("\xA9 ",i.currentYear," Natan Construtora"),d(4),R(_(307,177,"landingFooterTagline")),d(4),R(_(311,179,"landingFooterPrivacy")),d(5),R(_(316,181,"landingFooterTerms")),d(5),R(_(321,183,"landingFooterContact")))},dependencies:[me,bn,Ae],encapsulation:2,changeDetection:0});var bb=Rp;function roe(n,e){if(n&1&&(p(0,"div",15)(1,"div",25),k(2,"i",26),p(3,"span"),h(4),f()()()),n&2){let t=b();d(4),R(t.errorMessage())}}function ooe(n,e){n&1&&(k(0,"i",27),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"loggingIn")," "))}function soe(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&x(" ",_(1,1,"login")," ")}var Pp=class Pp{constructor(){this.loggedIn=ae();this.switchToRegister=ae();this.switchToLanding=ae();this.forgotPassword=ae();this.email=F("");this.password=F("");this.errorMessage=F(null);this.isLoading=F(!1);this.i18n=$($e)}login(){console.log("Logging in with",this.email(),this.password()),this.errorMessage.set(null),this.isLoading.set(!0),this.loggedIn.emit({email:this.email(),password:this.password()})}setError(e){this.errorMessage.set(e),this.isLoading.set(!1)}clearError(){this.errorMessage.set(null),this.isLoading.set(!1)}handleForgotPassword(){console.log("Forgot password for email:",this.email()),this.forgotPassword.emit(this.email())}};Pp.\u0275fac=function(t){return new(t||Pp)},Pp.\u0275cmp=pe({type:Pp,selectors:[["app-login"]],outputs:{loggedIn:"loggedIn",switchToRegister:"switchToRegister",switchToLanding:"switchToLanding",forgotPassword:"forgotPassword"},decls:49,vars:30,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gradient-to-br","from-indigo-100","via-white","to-indigo-300","mobile-safe"],[1,"w-full","max-w-md","md:max-w-lg","lg:max-w-xl","p-4","md:p-8","space-y-8","bg-white/90","backdrop-blur-md","rounded-3xl","shadow-2xl","relative","border","border-indigo-100","transition-all","duration-300"],["aria-label","Voltar para Home",1,"absolute","top-3","left-3","text-indigo-400","hover:text-indigo-700","flex","items-center","focus:outline-none","focus:ring-2","focus:ring-indigo-400","bg-white/80","px-2","py-1","rounded-lg","shadow-sm",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"hidden","sm:inline"],[1,"absolute","top-3","right-3","flex","items-center","gap-2","z-10"],[1,"fas","fa-globe","text-indigo-500","text-lg"],["aria-label","Selecionar idioma",1,"px-2","py-1","rounded-lg","border","border-indigo-200","bg-indigo-50","text-indigo-700","text-sm","focus:outline-none","focus:ring-2","focus:ring-indigo-400",3,"change","value"],["value","pt"],["value","en"],[1,"flex","flex-col","items-center","pt-10","pb-2","gap-2"],["src","src/assets/logo_dasad.png","alt","Logo HomeService",1,"h-16","w-16","md:h-20","md:w-20","rounded-full","shadow-lg","mb-2"],[1,"text-3xl","md:text-4xl","font-extrabold","text-indigo-700","drop-shadow-sm"],[1,"mt-2","text-base","text-indigo-400","font-medium"],[1,"space-y-7",3,"ngSubmit"],[1,"p-3","bg-red-100","border","border-red-400","text-red-700","rounded-md"],["for","email",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","email","name","email","type","email","autocomplete","email","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","password","name","password","type","password","autocomplete","current-password","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between","mt-2"],["type","button",1,"text-sm","font-semibold","text-indigo-500","hover:text-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-400","px-2","py-1","rounded-lg",3,"click"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-xl","shadow-md","text-base","font-bold","text-white","bg-gradient-to-r","from-indigo-500","via-indigo-600","to-indigo-700","hover:from-indigo-600","hover:to-indigo-800","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-400","disabled:bg-indigo-300","disabled:cursor-not-allowed","transition-all","duration-150",3,"disabled"],[1,"mt-6","text-sm","text-center","text-indigo-500"],[1,"font-bold","text-indigo-600","hover:text-indigo-800","ml-1","focus:outline-none","focus:ring-2","focus:ring-indigo-400","px-2","py-1","rounded-lg",3,"click"],[1,"flex","items-center"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"fas","fa-spinner","fa-spin","mr-2"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),A("click",function(){return i.switchToLanding.emit()}),k(3,"i",3),p(4,"span",4),h(5),g(6,"i18n"),f()(),p(7,"div",5),k(8,"i",6),p(9,"select",7),A("change",function(o){return i.i18n.setLanguage(o.target.value)}),p(10,"option",8),h(11,"Portugu\xEAs"),f(),p(12,"option",9),h(13,"English"),f()()(),p(14,"div",10),k(15,"img",11),p(16,"h1",12),h(17),g(18,"i18n"),f(),p(19,"p",13),h(20),g(21,"i18n"),f()(),p(22,"form",14),A("ngSubmit",function(){return i.login()}),V(23,roe,5,1,"div",15),p(24,"div")(25,"label",16),h(26),g(27,"i18n"),f(),p(28,"input",17),A("ngModelChange",function(o){return i.email.set(o)}),f()(),p(29,"div")(30,"label",18),h(31),g(32,"i18n"),f(),p(33,"input",19),A("ngModelChange",function(o){return i.password.set(o)}),f()(),p(34,"div",20)(35,"button",21),A("click",function(){return i.handleForgotPassword()}),h(36),g(37,"i18n"),f()(),p(38,"div")(39,"button",22),V(40,ooe,3,3)(41,soe,2,3),f()()(),p(42,"div",23)(43,"span"),h(44),g(45,"i18n"),f(),p(46,"button",24),A("click",function(){return i.switchToRegister.emit()}),h(47),g(48,"i18n"),f()()()()),t&2&&(d(5),R(_(6,14,"backToHome")),d(4),T("value",i.i18n.language()),d(8),x(" ",_(18,16,"signIn")," "),d(3),x(" ",_(21,18,"welcomeBack")," "),d(3),j(i.errorMessage()?23:-1),d(3),R(_(27,20,"email")),d(2),T("ngModel",i.email()),d(3),R(_(32,22,"password")),d(2),T("ngModel",i.password()),d(3),x(" ",_(37,24,"forgotPassword")," "),d(3),T("disabled",!i.email()||!i.password()||i.isLoading()),d(),j(i.isLoading()?40:41),d(4),R(_(45,26,"dontHaveAccount")),d(3),x(" ",_(48,28,"createAccount")," "))},dependencies:[me,ut,di,pi,fi,Lt,Gt,ui,Ii,$t,Zn,Ae],encapsulation:2,changeDetection:0});var Cg=Pp;var aoe=(n,e)=>e.id;function loe(n,e){n&1&&(De(0,"p",5),h(1),g(2,"i18n"),ke()),n&2&&(d(),R(_(2,1,"noNewNotifications")))}function coe(n,e){if(n&1){let t=H();De(0,"li",8),Wi("click",function(){let r=E(t).$implicit,o=b(2);return S(!r.read&&o.notificationService.markAsRead(r.id))}),De(1,"div",9),Di(2,"div",10),De(3,"div",11)(4,"p",12),h(5),ke(),De(6,"p",13),h(7),g(8,"date"),ke()()()()}if(n&2){let t=e.$implicit,i=b(2);gt("bg-blue-50",!t.read)("hover:bg-blue-100",!t.read)("bg-white",t.read)("hover:bg-gray-50",t.read)("notification-enter",i.isNew(t)),d(2),gt("bg-blue-500",!t.read)("bg-transparent",t.read),d(2),gt("font-medium",!t.read)("text-gray-800",!t.read)("text-gray-500",t.read),d(),x(" ",t.message," "),d(),gt("text-gray-500",!t.read)("text-gray-400",t.read),d(),x(" ",Ye(8,26,t.timestamp,"short")," ")}}function uoe(n,e){if(n&1&&(De(0,"ul"),ce(1,coe,9,29,"li",7,aoe),ke()),n&2){let t=b();d(),ue(t.notificationService.notifications())}}function doe(n,e){if(n&1){let t=H();De(0,"button",16),Wi("click",function(){E(t);let r=b(2);return S(r.notificationService.markAllAsRead())}),h(1),g(2,"i18n"),ke()}n&2&&(d(),x(" ",_(2,1,"markAllAsRead")," "))}function poe(n,e){if(n&1){let t=H();De(0,"div",6),V(1,doe,3,3,"button",14),De(2,"button",15),Wi("click",function(){E(t);let r=b();return S(r.notificationService.clearAll())}),h(3),g(4,"i18n"),ke()()}if(n&2){let t=b();d(),j(t.hasUnreadNotifications()?1:-1),d(2),x(" ",_(4,2,"clearAll")," ")}}var Op=class Op{constructor(){this.close=ae();this.notificationService=$(Ft);this.hasUnreadNotifications=J(()=>this.notificationService.notifications().some(e=>!e.read));this.initialNotificationIds=new Set(this.notificationService.notifications().map(e=>e.id))}isNew(e){return!this.initialNotificationIds.has(e.id)}};Op.\u0275fac=function(t){return new(t||Op)},Op.\u0275cmp=pe({type:Op,selectors:[["app-notification-center"]],outputs:{close:"close"},decls:11,vars:5,consts:[[1,"absolute","top-16","right-4","w-80","bg-white","rounded-lg","shadow-xl","border","border-gray-200","z-50"],[1,"p-3","border-b","flex","justify-between","items-center"],[1,"font-semibold","text-gray-800"],[1,"text-gray-400","hover:text-gray-600","text-2xl","leading-none",3,"click"],[1,"max-h-96","overflow-y-auto"],[1,"text-center","text-gray-500","p-6"],[1,"p-2","bg-gray-50","border-t","text-center","flex","justify-around","items-center"],[1,"border-b","last:border-b-0","transition-colors","duration-150","cursor-pointer",3,"bg-blue-50","hover:bg-blue-100","bg-white","hover:bg-gray-50","notification-enter"],[1,"border-b","last:border-b-0","transition-colors","duration-150","cursor-pointer",3,"click"],[1,"flex","items-start","space-x-3","p-3"],[1,"w-2","h-2","mt-[5px]","rounded-full","flex-shrink-0"],[1,"flex-1"],[1,"text-sm"],[1,"text-xs","mt-1"],[1,"text-sm","text-blue-600","hover:underline"],[1,"text-sm","text-gray-600","hover:underline",3,"click"],[1,"text-sm","text-blue-600","hover:underline",3,"click"]],template:function(t,i){t&1&&(De(0,"div",0)(1,"div",1)(2,"h3",2),h(3),g(4,"i18n"),ke(),De(5,"button",3),Wi("click",function(){return i.close.emit()}),h(6,"\xD7"),ke()(),De(7,"div",4),V(8,loe,3,3,"p",5)(9,uoe,3,0,"ul"),ke(),V(10,poe,5,4,"div",6),ke()),t&2&&(d(3),R(_(4,3,"notifications")),d(5),j(i.notificationService.notifications().length===0?8:9),d(2),j(i.notificationService.notifications().length>0?10:-1))},dependencies:[me,Ai,Ae],encapsulation:2,changeDetection:0});var xb=Op;var Jc=class Jc{constructor(e){this.http=e}generateCode(){return Math.floor(1e5+Math.random()*9e5).toString()}sendVerification(e){let t=null,i=e;if(e.includes("|")){let a=e.split("|");t=a[0],i=a[1]}if(!t)return Vr({sent:!1,error:"missing_id"});let r=this.generateCode(),o=new Date(Date.now()+300*1e3).toISOString(),s=`${li.supabaseRestUrl}/users?id=eq.${encodeURIComponent(t)}`;return this.http.patch(s,{sms_code:r,sms_code_expires_at:o},{headers:{apikey:li.supabaseAnonKey,Authorization:`Bearer ${li.supabaseAnonKey}`,"Content-Type":"application/json",Prefer:"return=representation"}}).pipe(Gn(()=>({sent:!0,code:r,expiresAt:o})))}validateCode(e,t){let i=null,r=e;if(e.includes("|")){let s=e.split("|");i=s[0],r=s[1]}if(!i)return Vr({valid:!1,update:!1,error:"missing_id"});let o=`${li.supabaseRestUrl}/users?id=eq.${encodeURIComponent(i)}`;return this.http.get(o,{headers:{apikey:li.supabaseAnonKey,Authorization:`Bearer ${li.supabaseAnonKey}`,"Content-Type":"application/json"}}).pipe(ac(s=>{if(!Array.isArray(s)||s.length===0)return Vr({valid:!1,update:!1,error:"user_not_found"});let a=s[0],l=(a.phone||"").replace(/\s+/g,""),c=r.replace(/\s+/g,"");if(!(l===c))return Vr({valid:!1,update:!1,error:"phone_mismatch"});if(!a.sms_code||!a.sms_code_expires_at)return Vr({valid:!1,update:!1,error:"no_code"});let m=new Date,y=new Date(a.sms_code_expires_at);if(m>y)return Vr({valid:!1,update:!1,error:"expired"});if(t!==a.sms_code)return Vr({valid:!1,update:!1,error:"invalid_code"});let v=`${li.supabaseRestUrl}/users?id=eq.${encodeURIComponent(i)}`;return this.http.patch(v,{phone_verified:!0,sms_code:null,sms_code_expires_at:null},{headers:{apikey:li.supabaseAnonKey,Authorization:`Bearer ${li.supabaseAnonKey}`,"Content-Type":"application/json",Prefer:"return=representation"}}).pipe(Gn(()=>({valid:!0,update:!0})))}))}};Jc.\u0275fac=function(t){return new(t||Jc)(ze(m1))},Jc.\u0275prov=Se({token:Jc,factory:Jc.\u0275fac,providedIn:"root"});var Cb=Jc;var foe=["fileInput"],hoe=["videoElement"];function moe(n,e){if(n&1){let t=H();We(0),p(1,"div",39)(2,"button",40),A("click",function(){E(t);let r=b();return S(r.sendSmsVerification())}),h(3),g(4,"i18n"),f()(),Ge()}n&2&&(d(3),x(" ",_(4,1,"sendVerificationCode")," "))}function goe(n,e){n&1&&(p(0,"div",41),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"phoneFormatError")," "))}function voe(n,e){n&1&&(p(0,"span",42),h(1),g(2,"i18n"),f()),n&2&&(d(),R(_(2,1,"smsSentInfo")))}function _oe(n,e){n&1&&(p(0,"span",49),h(1),g(2,"i18n"),f()),n&2&&(d(),R(_(2,1,"smsCodeValid")))}function yoe(n,e){if(n&1&&(p(0,"div",50),h(1),f()),n&2){let t=b(2);d(),x(" ",t.lastNotification()," ")}}function boe(n,e){if(n&1){let t=H();p(0,"div",43)(1,"label",44),h(2),g(3,"i18n"),f(),p(4,"input",45),g(5,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.smsCode,r)||(o.smsCode=r),S(r)}),f(),p(6,"button",46),A("click",function(){E(t);let r=b();return S(r.validateSmsCode())}),h(7),g(8,"i18n"),f(),de(9,_oe,3,3,"span",47)(10,yoe,2,1,"div",48),f()}if(n&2){let t=b();d(2),R(_(3,6,"smsCodeLabel")),d(2),xt("ngModel",t.smsCode),T("placeholder",_(5,8,"smsCodePlaceholder")),d(3),x(" ",_(8,10,"validateCode")," "),d(2),T("ngIf",t.smsValid===!0),d(),T("ngIf",t.lastNotification())}}function xoe(n,e){if(n&1){let t=H();We(0),p(1,"div",54)(2,"div",55)(3,"input",56),A("change",function(r){let o=E(t).$implicit,s=b(2);return S(s.onSpecialtyChange(o,r))}),f()(),p(4,"div",57)(5,"label",58),h(6),g(7,"i18n"),f()()(),Ge()}if(n&2){let t=e.$implicit,i=b(2);d(3),T("id","specialty-"+t)("checked",i.isSpecialtyChecked(t)),d(2),T("for","specialty-"+t),d(),R(_(7,4,t))}}function Coe(n,e){if(n&1&&(We(0),p(1,"div",51)(2,"h3",14),h(3),g(4,"i18n"),f(),p(5,"fieldset")(6,"div",52),de(7,xoe,8,6,"ng-container",53),f()()(),Ge()),n&2){let t=b();d(3),x(" ",_(4,2,"mySpecialties")," "),d(4),T("ngForOf",t.allCategories())}}function woe(n,e){if(n&1){let t=H();p(0,"app-sms-verification-modal",59),A("close",function(){E(t);let r=b();return S(r.showSmsModal.set(!1))})("validate",function(){E(t);let r=b();return S(r.validateSmsCode())}),f()}if(n&2){let t=b();T("phone",t.phone())("smsCode",t.smsCode)}}var Fp=class Fp{constructor(){this.lastNotification=F("");this.user=ge.required();this.receiveSmsNotifications=F(!1);this.authService=$(ci);this.notificationService=$(Ft);this.dataService=$(kt);this.smsVerificationService=$(Cb);this.i18n=$($e);this.appComponent=$(Lp);this.fileInput=Pc("fileInput");this.videoElement=Pc("videoElement");this.name=F("");this.phone=F("");this.address=F({street:"",city:"",state:"",zip_code:""});this.specialties=F([]);this.email=F("");this.isEditing=F(!1);this.isCameraOpen=F(!1);this.initialUserState=null;this.showSaveToast=F(!1);this.saveToastMessage=F("");this.saveToastType=F("success");this.smsSent=!1;this.smsCode="";this.smsValid=null;this.showSmsModal=F(!1);this.allCategories=this.dataService.categories;this.cameraStream=null;qt(()=>{let e=this.user();e&&(this.initialUserState||(this.initialUserState=B({},e)),this.name.set(e.name),this.phone.set(e.phone||""),this.address.set(e.address||{street:"",city:"",state:"",zip_code:""}),this.specialties.set(e.specialties||[]),this.email.set(e.email||""),this.receiveSmsNotifications.set(e.receive_sms_notifications??!1))})}goToDashboard(){this.appComponent.currentNav.set("dashboard")}ngOnDestroy(){this.closeCamera()}toggleSpecialty(e){this.specialties.update(t=>t.includes(e)?t.filter(i=>i!==e):[...t,e])}isSpecialtyChecked(e){return this.specialties().includes(e)}onSpecialtyChange(e,t){let i=t.target.checked;this.specialties.update(r=>i?[...r,e]:r.filter(o=>o!==e))}async saveChanges(){console.log("\u{1F4BE} saveChanges() called");let e=this.user(),t={},i=!1;if(this.name()!==e.name&&(t.name=this.name(),i=!0),this.phone()!==(e.phone||"")&&(t.phone=this.phone(),i=!0),this.receiveSmsNotifications()!==(e.receive_sms_notifications??!1)&&(t.receive_sms_notifications=this.receiveSmsNotifications(),i=!0),this.user().role==="professional"&&JSON.stringify(this.specialties())!==JSON.stringify(e.specialties||[])&&(t.specialties=this.specialties(),i=!0),i){console.log("\u{1F4DD} Saving profile changes:",t);try{await this.authService.updateUserProfile(t),this.initialUserState=B({},this.user()),this.isEditing.set(!1),this.showToast(this.i18n.translate("profileUpdatedSuccessfully"),"success"),this.notificationService.addNotification(this.i18n.translate("profileUpdatedSuccessfully")),console.log("\u2705 Profile saved successfully")}catch(r){console.error("\u274C Error saving profile:",r);let o="Error updating profile: "+(r?.message||"Unknown error");this.showToast(o,"error"),this.notificationService.addNotification(o)}}else console.log("\u2139\uFE0F No changes detected"),this.showToast(this.i18n.translate("noChangesDetected"),"error"),this.notificationService.addNotification(this.i18n.translate("noChangesDetected"))}async onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let i=t.files[0];if(!["image/jpeg","image/png","image/gif"].includes(i.type)){this.notificationService.addNotification(this.i18n.translate("errorInvalidFileFormat"));return}if(i.size>2*1024*1024){this.notificationService.addNotification(this.i18n.translate("errorImageTooLarge"));return}await this.authService.uploadAvatar(i)}}async openCamera(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){this.notificationService.addNotification(this.i18n.translate("errorCameraNotSupported")),console.error("getUserMedia not supported");return}try{if((await navigator.permissions.query({name:"camera"})).state==="denied"){this.notificationService.addNotification(this.i18n.translate("errorCameraPermissionDenied"));return}this.cameraStream=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1}),this.isCameraOpen.set(!0),setTimeout(()=>{let t=this.videoElement();if(t){let i=t.nativeElement;i.srcObject=this.cameraStream,i.onloadedmetadata=()=>{console.log("\u2705 Metadata do v\xEDdeo carregada"),i.play().catch(r=>{console.error("Erro ao reproduzir v\xEDdeo:",r)})},i.onloadstart=()=>console.log("\u{1F4F9} Iniciando carregamento do v\xEDdeo"),i.oncanplay=()=>console.log("\u2705 V\xEDdeo pronto para reprodu\xE7\xE3o"),i.onplay=()=>console.log("\u25B6\uFE0F V\xEDdeo come\xE7ou a reproduzir"),i.onerror=r=>{console.error("Erro na reprodu\xE7\xE3o do v\xEDdeo:",r),this.notificationService.addNotification(this.i18n.translate("errorVideoPlayback")),this.closeCamera()},setTimeout(()=>{i.paused&&i.play().catch(r=>{console.error("Erro ao for\xE7ar reprodu\xE7\xE3o:",r)})},500)}else console.error("\u274C Elemento de v\xEDdeo n\xE3o encontrado"),this.closeCamera()},100)}catch(e){console.error("Erro ao acessar a c\xE2mera:",e);let t=this.i18n.translate("errorAccessingCamera"),i="";e.name==="NotAllowedError"?(t=this.i18n.translate("errorCameraPermissionDenied"),i=this.i18n.translate("solutionPermissionDenied")):e.name==="NotFoundError"?(t=this.i18n.translate("errorNoCameraFound"),i=this.i18n.translate("solutionNoCameraFound")):e.name==="NotReadableError"?(t=this.i18n.translate("errorCameraInUse"),i=this.i18n.translate("solutionCameraInUse")):e.name==="OverconstrainedError"?(t=this.i18n.translate("errorCameraConstraints"),i=this.i18n.translate("solutionCameraConstraints")):e.name==="AbortError"?(t=this.i18n.translate("errorCameraAborted"),i=this.i18n.translate("solutionCameraAborted")):e.name==="TypeError"&&(t=this.i18n.translate("errorCameraTypeError"),i=this.i18n.translate("solutionCameraTypeError")),this.notificationService.addNotification(t),i&&setTimeout(()=>{this.notificationService.addNotification(i)},2e3),console.group("\u{1F527} Informa\xE7\xF5es para Debugging:"),console.log("Tipo do erro:",e.name),console.log("Mensagem:",e.message),console.log("URL atual:",window.location.href),console.log("Protocolo:",window.location.protocol),console.log("Navegador:",navigator.userAgent),console.groupEnd()}}capturePhoto(){let e=this.videoElement()?.nativeElement;if(!e){this.notificationService.addNotification(this.i18n.translate("errorVideoNotAvailable"));return}if(e.videoWidth===0||e.videoHeight===0){this.notificationService.addNotification(this.i18n.translate("errorVideoNotReady"));return}try{let t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;let i=t.getContext("2d");if(!i){this.notificationService.addNotification(this.i18n.translate("errorCanvasNotSupported"));return}i.drawImage(e,0,0),t.toBlob(async r=>{if(r){let o=new File([r],`profile-photo-${Date.now()}.jpg`,{type:"image/jpeg"});try{await this.authService.uploadAvatar(o),this.notificationService.addNotification(this.i18n.translate("photoUploadedSuccessfully"))}catch(s){console.error("Erro ao fazer upload da foto:",s),this.notificationService.addNotification(this.i18n.translate("errorUploadingPhoto"))}}else this.notificationService.addNotification(this.i18n.translate("errorCapturingPhoto"));this.closeCamera()},"image/jpeg",.9)}catch(t){console.error("Erro ao capturar foto:",t),this.notificationService.addNotification(this.i18n.translate("errorCapturingPhoto")),this.closeCamera()}}closeCamera(){try{this.cameraStream&&(this.cameraStream.getTracks().forEach(t=>{t.stop()}),this.cameraStream=null);let e=this.videoElement();if(e){let t=e.nativeElement;t.srcObject=null}this.isCameraOpen.set(!1)}catch(e){console.error("Erro ao fechar a c\xE2mera:",e),this.isCameraOpen.set(!1)}}showCameraModal(){return this.isCameraOpen()}openCameraModal(){console.log("\u{1F3AC} Abrindo modal da c\xE2mera..."),this.openCamera()}closeCameraModal(){console.log("\u{1F51A} Fechando modal da c\xE2mera..."),this.closeCamera()}debugCameraState(){console.group("\u{1F50D} Estado da C\xE2mera - Debug"),console.log("Modal aberto:",this.isCameraOpen()),console.log("Stream ativa:",!!this.cameraStream),console.log("Elemento de v\xEDdeo:",this.videoElement());let e=this.videoElement();if(e){let t=e.nativeElement;console.log("Video srcObject:",t.srcObject),console.log("Video readyState:",t.readyState),console.log("Video paused:",t.paused),console.log("Video muted:",t.muted),console.log("Video autoplay:",t.autoplay),console.log("Video dimensions:",t.videoWidth+"x"+t.videoHeight)}console.groupEnd()}checkIfChanged(){return this.isChanged()}isChanged(){let e=this.user(),t=this.initialUserState,i=this.name()!==e.name,r=this.phone()!==(e.phone||""),o=this.email()!==(e.email||""),s=t&&this.user().avatar_url!==t.avatar_url,a=this.user().role==="professional"&&JSON.stringify(this.specialties())!==JSON.stringify(e.specialties||[]),l=this.receiveSmsNotifications()!==(e.receive_sms_notifications??!1);return i||r||o||s||a||l}resetForm(){}resetProfile(){let e=this.user();e&&(this.name.set(e.name),this.phone.set(e.phone||""),this.email.set(e.email||""),this.address.set(e.address||{street:"",city:"",state:"",zip_code:""}),this.specialties.set(e.specialties||[]),this.receiveSmsNotifications.set(e.receive_sms_notifications??!1),this.isEditing.set(!1),this.showSmsModal.set(!1),this.lastNotification.set(""))}saveProfile(){console.log("\u{1F4BE} saveProfile() called - calling saveChanges()"),this.saveChanges()}async sendSmsVerification(){try{let t=`${this.user().id}|${this.phone()}`;(await this.smsVerificationService.sendVerification(t).toPromise()).sent?(this.smsSent=!0,this.smsValid=null,this.showSmsModal.set(!0),this.notificationService.addNotification(this.i18n.translate("smsSentInfo"))):this.notificationService.addNotification(this.i18n.translate("smsSendError"))}catch{this.notificationService.addNotification(this.i18n.translate("smsSendError"))}}async validateSmsCode(){this.lastNotification.set("");try{console.log("Validating SMS code:",this.smsCode);let t=`${this.user().id}|${this.phone()}`;console.log("Telefone (id|telefone):",t);let i=await this.smsVerificationService.validateCode(t,this.smsCode).toPromise();if(console.log("SMS verification response:",i),i.valid&&i.update){this.smsValid=!0,this.lastNotification.set(""),this.notificationService.addNotification(this.i18n.translate("smsCodeValid"));let r=this.user().auth_id;r&&await this.authService.refreshAppUser(r)}else if(i.error==="expired"){this.smsValid=null;let r=this.i18n.translate("smsCodeExpired");this.lastNotification.set(r),this.notificationService.addNotification(r)}else{this.smsValid=null;let r=this.i18n.translate("smsCodeInvalid");this.lastNotification.set(r),this.notificationService.addNotification(r)}}catch(e){console.error("Error validating SMS code:",e),this.smsValid=null;let t=this.i18n.translate("smsCodeInvalid");this.lastNotification.set(t),this.notificationService.addNotification(t)}}showToast(e,t="success"){this.saveToastMessage.set(e),this.saveToastType.set(t),this.showSaveToast.set(!0),setTimeout(()=>{this.showSaveToast.set(!1)},3e3)}};Fp.\u0275fac=function(t){return new(t||Fp)},Fp.\u0275cmp=pe({type:Fp,selectors:[["app-profile"]],viewQuery:function(t,i){t&1&&(Ya(i.fileInput,foe,5),Ya(i.videoElement,hoe,5)),t&2&&Rc(2)},inputs:{user:[1,"user"]},decls:67,vars:49,consts:[["fileInput",""],["profileForm","ngForm"],[1,"flex","flex-col","items-center","justify-center","relative","group","h-24","w-full","md:h-32","md:w-full","mb-2","mobile-safe"],[1,"h-24","w-24","md:h-32","md:w-32","rounded-full","object-cover","shadow-lg",3,"src","alt"],[1,"absolute","inset-0","bg-black","bg-opacity-50","rounded-full","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition-opacity","cursor-pointer"],[1,"flex","space-x-6"],[1,"text-white","text-2xl","md:text-3xl","hover:text-gray-300",3,"click","title"],[1,"fas","fa-upload"],[1,"fas","fa-camera"],["type","file","hidden","","accept","image/png, image/jpeg, image/gif",3,"change"],[1,"text-2xl","md:text-3xl","font-extrabold","text-indigo-700","drop-shadow-sm","mt-2","text-center","whitespace-nowrap"],[1,"text-base","text-indigo-400","font-medium","mb-2","capitalize","text-center"],[1,"space-y-7","bg-white/95","shadow-xl","rounded-2xl","px-0","md:px-12","py-8","background-color='bg-red'",3,"ngSubmit"],[1,"rounded-xl","border","border-indigo-100","bg-white/80","shadow-sm","p-4","md:p-6","mb-4","flex","flex-col","gap-4","w-full","mobile-safe"],[1,"text-lg","font-bold","text-indigo-700","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","md:gap-8"],[1,"w-full"],["for","name",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["type","text","id","name","name","name","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["type","email","id","email","name","email","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel"],[1,"text-lg","font-bold","text-indigo-700","mb-4"],[1,"flex","flex-col","gap-6"],[1,"flex","flex-col","md:flex-row","items-center","gap-4","w-full"],[1,"flex","flex-row","items-center","w-full","gap-1"],[1,"flex-1","w-full"],["for","phone",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["type","tel","id","phone","name","phone","pattern","^\\+[1-9]{1}[0-9]{1,2} ?[0-9]{3,}([ \\-]?[0-9]{2,}){1,}$",1,"w-full","md:w-48","max-w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"flex","items-center","gap-3"],["type","checkbox","name","receiveSmsNotifications",1,"form-checkbox","h-4","w-4","text-indigo-600",3,"ngModelChange","ngModel"],[1,"text-sm","text-indigo-700","font-semibold"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["class","text-green-600 text-xs mt-1",4,"ngIf"],["class","flex flex-col md:flex-row md:items-center gap-3 mt-2",4,"ngIf"],[1,"flex","flex-col","md:flex-row","justify-end","gap-4","mt-8","w-full"],["type","button",1,"w-full","md:w-auto","px-4","py-2","bg-gray-300","text-gray-700","rounded-lg","font-semibold","hover:bg-gray-400","transition",3,"click"],["type","submit",1,"w-full","md:w-auto","px-4","py-2","bg-indigo-600","text-white","rounded-lg","font-semibold","hover:bg-indigo-700","transition"],[3,"phone","smsCode","close","validate",4,"ngIf"],[1,"flex","justify-end","w-full","md:w-64"],["type","button",1,"w-full","px-6","py-2","bg-indigo-500","text-white","rounded-lg","font-semibold","hover:bg-indigo-600","transition","whitespace-nowrap",3,"click"],[1,"text-red-500","text-xs","mt-1"],[1,"text-green-600","text-xs","mt-1"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-3","mt-2"],["for","smsCode",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["type","text","id","smsCode","name","smsCode","maxlength","6",1,"w-full","md:w-32","px-2","py-1","border","border-indigo-200","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"w-full","md:w-40","px-4","py-2","bg-green-500","text-white","rounded-lg","font-semibold","hover:bg-green-600","transition",3,"click"],["class","text-green-600 text-xs ml-2",4,"ngIf"],["class","text-red-500 text-xs mt-2",4,"ngIf"],[1,"text-green-600","text-xs","ml-2"],[1,"text-red-500","text-xs","mt-2"],[1,"rounded-xl","border","border-indigo-100","bg-white/80","shadow-sm","p-4","md:p-6","mb-4","flex","flex-col","gap-4","w-full"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3"],[4,"ngFor","ngForOf"],[1,"flex","items-start","w-full"],[1,"flex","items-center","h-5"],["type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded",3,"change","id","checked"],[1,"ml-2","text-sm","w-full"],[1,"font-medium","text-gray-700",3,"for"],[3,"close","validate","phone","smsCode"]],template:function(t,i){if(t&1){let r=H();p(0,"div",2),k(1,"img",3),p(2,"div",4)(3,"div",5)(4,"button",6),g(5,"i18n"),A("click",function(){E(r);let s=cs(11);return S(s.click())}),k(6,"i",7),f(),p(7,"button",6),g(8,"i18n"),A("click",function(){return E(r),S(i.openCameraModal())}),k(9,"i",8),f()()(),p(10,"input",9,0),A("change",function(s){return E(r),S(i.onFileSelected(s))}),f(),p(12,"h2",10),h(13),f(),p(14,"p",11),h(15),g(16,"i18n"),f()(),p(17,"form",12,1),A("ngSubmit",function(){return E(r),S(i.saveProfile())}),p(19,"div",13)(20,"h3",14),h(21),g(22,"i18n"),f(),p(23,"div",15)(24,"div",16)(25,"label",17),h(26),g(27,"i18n"),f(),p(28,"input",18),A("ngModelChange",function(s){return E(r),i.name.set(s),S(i.checkIfChanged())}),f()()(),p(29,"div",15)(30,"div",16)(31,"label",19),h(32),g(33,"i18n"),f(),p(34,"input",20),A("ngModelChange",function(s){return E(r),i.email.set(s),S(i.checkIfChanged())}),f()()()(),p(35,"div",13)(36,"h3",21),h(37),g(38,"i18n"),f(),p(39,"div",22)(40,"div",23)(41,"div",24)(42,"div",25)(43,"label",26),h(44),g(45,"i18n"),f(),p(46,"input",27),g(47,"i18n"),A("ngModelChange",function(s){return E(r),i.phone.set(s),S(i.checkIfChanged())}),f()(),p(48,"div",25),de(49,moe,5,3,"ng-container",28),f()()(),p(50,"div",29)(51,"input",30),Ct("ngModelChange",function(s){return E(r),At(i.receiveSmsNotifications,s)||(i.receiveSmsNotifications=s),S(s)}),f(),p(52,"span",31),h(53),g(54,"i18n"),f()(),de(55,goe,3,3,"div",32)(56,voe,3,3,"span",33)(57,boe,11,12,"div",34),f()(),de(58,Coe,8,4,"ng-container",28),p(59,"div",35)(60,"button",36),A("click",function(){return E(r),S(i.goToDashboard())}),h(61),g(62,"i18n"),f(),p(63,"button",37),h(64),g(65,"i18n"),f()()(),de(66,woe,1,2,"app-sms-verification-modal",38)}if(t&2){let r=cs(18);d(),T("src",i.user().avatar_url,Hi)("alt",i.user().name),d(3),T("title",_(5,25,"uploadPhoto")),d(3),T("title",_(8,27,"useCamera")),d(6),x(" ",i.user().name," "),d(2),x(" ",_(16,29,i.user().role)," "),d(6),x(" ",_(22,31,"personalData")," "),d(5),R(_(27,33,"fullName")),d(2),T("ngModel",i.name()),d(4),R(_(33,35,"emailAddress")),d(2),T("ngModel",i.email()),d(3),x(" ",_(38,37,"contactPreferences")," "),d(7),R(_(45,39,"phoneNumber")),d(2),T("ngModel",i.phone())("placeholder",_(47,41,"phonePlaceholder")),d(3),T("ngIf",i.user().phone!=null&&i.user().phone.trim()!==""&&!i.user().phone_verified),d(2),xt("ngModel",i.receiveSmsNotifications),d(2),R(_(54,43,"receiveSmsNotifications")),d(2),T("ngIf",(r.controls.phone==null?null:r.controls.phone.invalid)&&(r.controls.phone==null?null:r.controls.phone.dirty)),d(),T("ngIf",i.smsSent),d(),T("ngIf",!i.user().phone_verified&&i.user().sms_code),d(),T("ngIf",i.user().role==="professional"),d(3),x(" ",_(62,45,"cancel")," "),d(3),x(" ",_(65,47,"saveChanges")," "),d(2),T("ngIf",i.showSmsModal())}},dependencies:[me,Pn,bn,ut,di,Lt,hA,Gt,ui,Ii,wA,bg,$t,Zn,Ae],encapsulation:2,changeDetection:0});var wb=Fp;var Bp=class Bp{constructor(){this.registered=ae();this.switchToLogin=ae();this.switchToLanding=ae();this.name=F("");this.email=F("");this.password=F("");this.role=F("client");this.i18n=$($e);this.notificationService=$(Ft)}register(){let e=this.email().trim(),t=this.name().trim(),i=this.password();if(!t||!e||!i){this.notificationService.addNotification("Por favor, preencha todos os campos obrigat\xF3rios.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){this.notificationService.addNotification("Por favor, insira um e-mail v\xE1lido (exemplo: usuario@email.com)");return}if(i.length<6){this.notificationService.addNotification("A senha deve ter pelo menos 6 caracteres.");return}this.registered.emit({name:t,email:e,password:i,role:this.role()})}};Bp.\u0275fac=function(t){return new(t||Bp)},Bp.\u0275cmp=pe({type:Bp,selectors:[["app-register"]],outputs:{registered:"registered",switchToLogin:"switchToLogin",switchToLanding:"switchToLanding"},decls:68,vars:51,consts:[["registerForm","ngForm"],[1,"flex","items-center","justify-center","min-h-screen","bg-gradient-to-br","from-indigo-100","via-white","to-indigo-300","mobile-safe"],[1,"w-full","max-w-md","md:max-w-lg","lg:max-w-xl","p-4","md:p-8","space-y-8","bg-white/90","backdrop-blur-md","rounded-3xl","shadow-2xl","relative","border","border-indigo-100","transition-all","duration-300"],[1,"absolute","top-3","right-3","flex","items-center","gap-2","z-10"],[1,"fas","fa-globe","text-indigo-500","text-lg"],["aria-label","Selecionar idioma",1,"px-2","py-1","rounded-lg","border","border-indigo-200","bg-indigo-50","text-indigo-700","text-sm","focus:outline-none","focus:ring-2","focus:ring-indigo-400",3,"change","value"],["value","pt"],["value","en"],[1,"flex","flex-col","items-center","pt-10","pb-2","gap-2"],["src","src/assets/logo_dasad.png","alt","Logo HomeService",1,"h-16","w-16","md:h-20","md:w-20","rounded-full","shadow-lg","mb-2"],[1,"text-3xl","md:text-4xl","font-extrabold","text-indigo-700","drop-shadow-sm"],[1,"text-base","text-indigo-400","font-medium"],[1,"mt-4","text-2xl","md:text-3xl","font-bold","tracking-tight","text-gray-900"],[1,"mt-2","text-base","text-gray-600"],["href","#",1,"font-semibold","text-indigo-600","hover:text-indigo-500","transition-colors","duration-200",3,"click"],[1,"space-y-7","bg-white/95","shadow-xl","rounded-2xl","px-8","py-10",3,"ngSubmit"],[1,"space-y-6"],["for","name",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","name","name","name","type","text","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","placeholder","ngModel"],["for","email-address",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","email-address","name","email","type","email","autocomplete","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$","title","Por favor, insira um e-mail v\xE1lido (exemplo: usuario@email.com)",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","placeholder","ngModel"],["for","password",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","password","name","password","type","password","autocomplete","new-password","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","placeholder","ngModel"],[1,"space-y-4"],[1,"border-t","border-gray-200","pt-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"relative"],["id","role-client","name","role","type","radio",1,"sr-only","peer",3,"ngModelChange","value","ngModel"],["for","role-client",1,"flex","items-center","justify-center","w-full","p-4","text-sm","font-medium","text-gray-900","bg-white","border-2","border-gray-200","rounded-lg","cursor-pointer","peer-checked:border-indigo-600","peer-checked:bg-indigo-50","peer-checked:text-indigo-900","hover:bg-gray-50","transition-all","duration-200"],["id","role-professional","name","role","type","radio",1,"sr-only","peer",3,"ngModelChange","value","ngModel"],["for","role-professional",1,"flex","items-center","justify-center","w-full","p-4","text-sm","font-medium","text-gray-900","bg-white","border-2","border-gray-200","rounded-lg","cursor-pointer","peer-checked:border-indigo-600","peer-checked:bg-indigo-50","peer-checked:text-indigo-900","hover:bg-gray-50","transition-all","duration-200"],[1,"flex","flex-col","sm:flex-row","sm:justify-end","gap-4","pt-6","border-t","border-gray-200"],["type","button",1,"w-full","sm:w-auto","inline-flex","justify-center","items-center","px-6","py-3","border","border-gray-300","text-base","font-medium","rounded-lg","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","transition-colors","duration-200",3,"click"],["type","submit",1,"w-full","sm:w-auto","inline-flex","justify-center","items-center","px-6","py-3","border","border-transparent","text-base","font-bold","rounded-lg","text-white","bg-gradient-to-r","from-indigo-500","via-indigo-600","to-indigo-700","hover:from-indigo-600","hover:to-indigo-800","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-indigo-300","disabled:cursor-not-allowed","transition-colors","duration-200","shadow-md",3,"disabled"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div",2)(2,"div",3),k(3,"i",4),p(4,"select",5),A("change",function(s){return E(r),S(i.i18n.setLanguage(s.target.value))}),p(5,"option",6),h(6,"Portugu\xEAs"),f(),p(7,"option",7),h(8,"English"),f()()(),p(9,"div",8),k(10,"img",9),p(11,"h1",10),h(12," HomeService "),f(),p(13,"p",11),h(14," Servi\xE7os para o seu lar "),f(),p(15,"h2",12),h(16),g(17,"i18n"),f(),p(18,"p",13),h(19),g(20,"i18n"),p(21,"a",14),A("click",function(s){return E(r),s.preventDefault(),S(i.switchToLogin.emit())}),h(22),g(23,"i18n"),f()()(),p(24,"form",15,0),A("ngSubmit",function(){return E(r),S(i.register())}),p(26,"div",16)(27,"div")(28,"label",17),h(29),g(30,"i18n"),f(),p(31,"input",18),g(32,"i18n"),A("ngModelChange",function(s){return E(r),S(i.name.set(s))}),f()(),p(33,"div")(34,"label",19),h(35),g(36,"i18n"),f(),p(37,"input",20),g(38,"i18n"),A("ngModelChange",function(s){return E(r),S(i.email.set(s))}),f()(),p(39,"div")(40,"label",21),h(41),g(42,"i18n"),f(),p(43,"input",22),g(44,"i18n"),A("ngModelChange",function(s){return E(r),S(i.password.set(s))}),f()()(),p(45,"div",23)(46,"div",24)(47,"h3",25),h(48),g(49,"i18n"),f(),p(50,"div",26)(51,"div",27)(52,"input",28),A("ngModelChange",function(s){return E(r),S(i.role.set(s))}),f(),p(53,"label",29),h(54),g(55,"i18n"),f()(),p(56,"div",27)(57,"input",30),A("ngModelChange",function(s){return E(r),S(i.role.set(s))}),f(),p(58,"label",31),h(59),g(60,"i18n"),f()()()()(),p(61,"div",32)(62,"button",33),A("click",function(){return E(r),S(i.switchToLanding.emit())}),h(63),g(64,"i18n"),f(),p(65,"button",34),h(66),g(67,"i18n"),f()()()()()}if(t&2){let r=cs(25);d(4),T("value",i.i18n.language()),d(12),x(" ",_(17,23,"registerTitle")," "),d(3),x(" ",_(20,25,"or")," "),d(3),x(" ",_(23,27,"registerLoginLink")," "),d(7),x(" ",_(30,29,"fullName")," "),d(2),T("placeholder",_(32,31,"fullName"))("ngModel",i.name()),d(4),x(" ",_(36,33,"emailAddress")," "),d(2),T("placeholder",_(38,35,"emailAddress"))("ngModel",i.email()),d(4),x(" ",_(42,37,"password")," "),d(2),T("placeholder",_(44,39,"password"))("ngModel",i.password()),d(5),x(" ",_(49,41,"iAmA"),": "),d(4),T("value","client")("ngModel",i.role()),d(2),x(" ",_(55,43,"client")," "),d(3),T("value","professional")("ngModel",i.role()),d(2),x(" ",_(60,45,"professional")," "),d(4),x(" ",_(64,47,"cancel")," "),d(2),T("disabled",!r.valid),d(),x(" ",_(67,49,"register")," ")}},dependencies:[me,ut,di,pi,fi,Lt,yA,Gt,ui,Ii,bg,$t,Zn,Ae],encapsulation:2,changeDetection:0});var Eb=Bp;var Eoe=()=>[1,2,3,4];function Soe(n,e){n&1&&k(0,"i",6)}function Doe(n,e){n&1&&k(0,"i",7)}function Aoe(n,e){if(n&1&&(p(0,"h1",10),h(1),g(2,"i18n"),f(),p(3,"p",11),h(4),g(5,"i18n"),f(),p(6,"p",12),h(7),f()),n&2){let t=b();d(),x(" ",_(2,3,"verifyCode")," "),d(3),x(" ",_(5,5,"verifyCodeDescription")," "),d(3),R(t.email())}}function Toe(n,e){n&1&&(p(0,"h1",10),h(1),g(2,"i18n"),f(),p(3,"p",11),h(4),g(5,"i18n"),f()),n&2&&(d(),x(" ",_(2,2,"newPassword")," "),d(3),x(" ",_(5,4,"newPasswordDescription")," "))}function Ioe(n,e){if(n&1&&(p(0,"div",8)(1,"div",13),k(2,"i",14),p(3,"span"),h(4),f()()()),n&2){let t=b();d(4),R(t.errorMessage())}}function koe(n,e){n&1&&(k(0,"i",22),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"verifying")," "))}function Moe(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&x(" ",_(1,1,"verifyCode")," ")}function Noe(n,e){if(n&1){let t=H();p(0,"form",15),A("ngSubmit",function(){E(t);let r=b();return S(r.verifyCode())}),p(1,"div")(2,"label",16),h(3),g(4,"i18n"),f(),p(5,"input",17),A("input",function(r){E(t);let o=b();return S(o.onCodeInput(r))}),f(),p(6,"p",18),h(7),g(8,"i18n"),f()(),p(9,"div",19)(10,"button",20),V(11,koe,3,3)(12,Moe,2,3),f(),p(13,"button",21),A("click",function(){E(t);let r=b();return S(r.resendCode())}),h(14),g(15,"i18n"),f()()()}if(n&2){let t=b();d(3),x(" ",_(4,7,"verificationCode")," "),d(2),T("value",t.resetCode()),d(2),x(" ",_(8,9,"codeFromEmail")," "),d(3),T("disabled",!t.resetCode()||t.resetCode().length!==6||t.isLoading()),d(),j(t.isLoading()?11:12),d(2),T("disabled",t.isLoading()),d(),x(" ",_(15,11,"resendCode")," ")}}function Roe(n,e){if(n&1&&k(0,"div",32),n&2){let t=e.$implicit,i=b(3);se(i.newPassword().length>=t*2?"bg-green-400":"bg-gray-200")}}function Poe(n,e){n&1&&(p(0,"div",27)(1,"div",29),h(2),g(3,"i18n"),f(),p(4,"div",30),ce(5,Roe,1,2,"div",31,Nn),f()()),n&2&&(d(2),x(" ",_(3,1,"passwordStrength"),": "),d(3),ue(Om(3,Eoe)))}function Ooe(n,e){n&1&&(k(0,"i",22),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"updatingPassword")," "))}function Foe(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&x(" ",_(1,1,"updatePassword")," ")}function Loe(n,e){if(n&1){let t=H();p(0,"form",15),A("ngSubmit",function(){E(t);let r=b();return S(r.resetPassword())}),p(1,"div")(2,"label",23),h(3),g(4,"i18n"),f(),p(5,"input",24),g(6,"i18n"),A("ngModelChange",function(r){E(t);let o=b();return S(o.newPassword.set(r))}),f(),p(7,"p",18),h(8),g(9,"i18n"),f()(),p(10,"div")(11,"label",25),h(12),g(13,"i18n"),f(),p(14,"input",26),g(15,"i18n"),A("ngModelChange",function(r){E(t);let o=b();return S(o.confirmPassword.set(r))}),f()(),V(16,Poe,7,4,"div",27),p(17,"div",19)(18,"button",20),V(19,Ooe,3,3)(20,Foe,2,3),f(),p(21,"button",28),A("click",function(){E(t);let r=b();return S(r.goBackToCodeVerification())}),h(22),g(23,"i18n"),f()()()}if(n&2){let t=b();d(3),x(" ",_(4,11,"newPassword")," "),d(2),T("placeholder",_(6,13,"newPasswordPlaceholder"))("ngModel",t.newPassword()),d(3),x(" ",_(9,15,"passwordRequirements")," "),d(4),x(" ",_(13,17,"confirmPassword")," "),d(2),T("placeholder",_(15,19,"confirmPasswordPlaceholder"))("ngModel",t.confirmPassword()),d(2),j(t.newPassword()?16:-1),d(2),T("disabled",!t.newPassword()||!t.confirmPassword()||t.newPassword()!==t.confirmPassword()||t.isLoading()),d(),j(t.isLoading()?19:20),d(3),x(" ",_(23,21,"backToCodeVerification")," ")}}var Vp=class Vp{constructor(){this.backToLogin=ae();this.passwordResetComplete=ae();this.initialEmail=ge("");this.authService=$(ci);this.notificationService=$(Ft);this.email=F("");this.resetCode=F("");this.newPassword=F("");this.confirmPassword=F("");this.isLoading=F(!1);this.isCodeVerified=F(!1);this.errorMessage=F(null);this.step=F("verify-code");qt(()=>{let e=this.initialEmail();e&&this.email.set(e)})}async ngOnInit(){this.step.set("verify-code")}async verifyCode(){if(!this.resetCode()){this.errorMessage.set("Por favor, informe o c\xF3digo recebido");return}if(this.resetCode().length!==6){this.errorMessage.set("O c\xF3digo deve ter 6 d\xEDgitos");return}this.isLoading.set(!0),this.errorMessage.set(null);try{await this.authService.verifyPasswordResetCode(this.email(),this.resetCode())?(this.isCodeVerified.set(!0),this.step.set("new-password"),this.notificationService.addNotification("C\xF3digo verificado com sucesso!")):this.errorMessage.set("C\xF3digo inv\xE1lido ou expirado")}catch(e){console.error("Erro ao verificar c\xF3digo:",e),this.errorMessage.set(e.message||"Erro ao verificar c\xF3digo. Tente novamente.")}finally{this.isLoading.set(!1)}}async resetPassword(){if(!this.newPassword()){this.errorMessage.set("Por favor, informe a nova senha");return}if(this.newPassword().length<6){this.errorMessage.set("A senha deve ter pelo menos 6 caracteres");return}if(this.newPassword()!==this.confirmPassword()){this.errorMessage.set("As senhas n\xE3o coincidem");return}this.isLoading.set(!0),this.errorMessage.set(null);try{await this.authService.updatePasswordWithCode(this.email(),this.resetCode(),this.newPassword()),localStorage.removeItem("resetPasswordEmail"),this.notificationService.addNotification("Senha alterada com sucesso! Fa\xE7a login com sua nova senha."),this.passwordResetComplete.emit()}catch(e){console.error("Erro ao redefinir senha:",e),this.errorMessage.set(e.message||"Erro ao redefinir senha. Tente novamente.")}finally{this.isLoading.set(!1)}}async resendCode(){this.isLoading.set(!0);try{await this.authService.sendPasswordResetCode(this.email()),this.notificationService.addNotification("Um novo c\xF3digo foi enviado para seu e-mail")}catch(e){console.error("Erro ao reenviar c\xF3digo:",e),this.errorMessage.set(e.message||"Erro ao reenviar c\xF3digo. Tente novamente.")}finally{this.isLoading.set(!1)}}goBackToCodeVerification(){this.step.set("verify-code"),this.isCodeVerified.set(!1),this.newPassword.set(""),this.confirmPassword.set(""),this.errorMessage.set(null)}onCodeInput(e){let t=e.target.value.replace(/\D/g,"").slice(0,6);this.resetCode.set(t)}};Vp.\u0275fac=function(t){return new(t||Vp)},Vp.\u0275cmp=pe({type:Vp,selectors:[["app-reset-password"]],inputs:{initialEmail:[1,"initialEmail"]},outputs:{backToLogin:"backToLogin",passwordResetComplete:"passwordResetComplete"},decls:16,vars:7,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gray-100"],[1,"w-full","max-w-md","p-8","space-y-6","bg-white","rounded-lg","shadow-md","relative"],[1,"absolute","top-4","left-4","text-gray-600","hover:text-indigo-600","flex","items-center",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"text-center","pt-10"],[1,"mx-auto","w-16","h-16","bg-indigo-100","rounded-full","flex","items-center","justify-center","mb-4"],[1,"fas","fa-shield-alt","text-indigo-600","text-2xl"],[1,"fas","fa-lock","text-indigo-600","text-2xl"],[1,"p-3","bg-red-100","border","border-red-400","text-red-700","rounded-md"],[1,"space-y-6"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"mt-1","text-sm","font-medium","text-indigo-600"],[1,"flex","items-center"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"space-y-6",3,"ngSubmit"],["for","resetCode",1,"block","text-sm","font-medium","text-gray-700"],["id","resetCode","name","resetCode","type","text","inputmode","numeric","pattern","[0-9]*","maxlength","6","required","","placeholder","000000",1,"w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","text-center","text-2xl","tracking-widest",3,"input","value"],[1,"mt-1","text-xs","text-gray-500"],[1,"space-y-3"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-indigo-400","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-spinner","fa-spin","mr-2"],["for","newPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","newPassword","name","newPassword","type","password","autocomplete","new-password","required","","minlength","6",1,"w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","placeholder","ngModel"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","name","confirmPassword","type","password","autocomplete","new-password","required","",1,"w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","placeholder","ngModel"],[1,"space-y-2"],["type","button",1,"w-full","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"text-xs","text-gray-600"],[1,"flex","space-x-1"],[1,"flex-1","h-2","rounded-full",3,"class"],[1,"flex-1","h-2","rounded-full"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),A("click",function(){return i.backToLogin.emit()}),k(3,"i",3),p(4,"span"),h(5),g(6,"i18n"),f()(),p(7,"div",4)(8,"div",5),V(9,Soe,1,0,"i",6)(10,Doe,1,0,"i",7),f(),V(11,Aoe,8,7)(12,Toe,6,6),f(),V(13,Ioe,5,1,"div",8),V(14,Noe,16,13,"form",9)(15,Loe,24,23,"form",9),f()()),t&2&&(d(5),R(_(6,5,"backToLogin")),d(4),j(i.step()==="verify-code"?9:10),d(2),j(i.step()==="verify-code"?11:12),d(2),j(i.errorMessage()?13:-1),d(),j(i.step()==="verify-code"?14:15))},dependencies:[me,ut,di,Lt,Gt,ui,Ii,CA,$t,Zn,Ae],encapsulation:2,changeDetection:0});var Sb=Vp;var kb,xe,X8,DA,jp,Kc,G8,J8,K8,Ab={},e4=[],Boe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function il(n,e){for(var t in e)n[t]=e[t];return n}function t4(n){var e=n.parentNode;e&&e.removeChild(n)}function O(n,e,t){var i,r,o,s={};for(o in e)o=="key"?i=e[o]:o=="ref"?r=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?kb.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)s[o]===void 0&&(s[o]=n.defaultProps[o]);return Db(n,s,i,r,null)}function Db(n,e,t,i,r){var o={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++X8};return r==null&&xe.vnode!=null&&xe.vnode(o),o}function dn(){return{current:null}}function ot(n){return n.children}function Voe(n,e,t,i,r){var o;for(o in t)o==="children"||o==="key"||o in e||Tb(n,o,null,t[o],i);for(o in e)r&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||Tb(n,o,e[o],t[o],i)}function Q8(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||Boe.test(e)?t:t+"px"}function Tb(n,e,t,i,r){var o;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||Q8(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||Q8(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?i||n.addEventListener(e,o?Z8:Y8,o):n.removeEventListener(e,o?Z8:Y8,o);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function Y8(n){jp=!0;try{return this.l[n.type+!1](xe.event?xe.event(n):n)}finally{jp=!1}}function Z8(n){jp=!0;try{return this.l[n.type+!0](xe.event?xe.event(n):n)}finally{jp=!1}}function Xn(n,e){this.props=n,this.context=e}function wg(n,e){if(e==null)return n.__?wg(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?wg(n):null}function n4(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return n4(n)}}function joe(n){jp?setTimeout(n):J8(n)}function SA(n){(!n.__d&&(n.__d=!0)&&Kc.push(n)&&!Ib.__r++||G8!==xe.debounceRendering)&&((G8=xe.debounceRendering)||joe)(Ib)}function Ib(){var n,e,t,i,r,o,s,a;for(Kc.sort(function(l,c){return l.__v.__b-c.__v.__b});n=Kc.shift();)n.__d&&(e=Kc.length,i=void 0,r=void 0,s=(o=(t=n).__v).__e,(a=t.__P)&&(i=[],(r=il({},o)).__v=o.__v+1,AA(a,o,r,t.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,i,s??wg(o),o.__h),a4(i,o),o.__e!=s&&n4(o)),Kc.length>e&&Kc.sort(function(l,c){return l.__v.__b-c.__v.__b}));Ib.__r=0}function i4(n,e,t,i,r,o,s,a,l,c){var u,m,y,v,w,D,I,M=i&&i.__k||e4,q=M.length;for(t.__k=[],u=0;u<e.length;u++)if((v=t.__k[u]=(v=e[u])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?Db(null,v,null,null,v):Array.isArray(v)?Db(ot,{children:v},null,null,null):v.__b>0?Db(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=t,v.__b=t.__b+1,(y=M[u])===null||y&&v.key==y.key&&v.type===y.type)M[u]=void 0;else for(m=0;m<q;m++){if((y=M[m])&&v.key==y.key&&v.type===y.type){M[m]=void 0;break}y=null}AA(n,v,y=y||Ab,r,o,s,a,l,c),w=v.__e,(m=v.ref)&&y.ref!=m&&(I||(I=[]),y.ref&&I.push(y.ref,null,v),I.push(m,v.__c||w,v)),w!=null?(D==null&&(D=w),typeof v.type=="function"&&v.__k===y.__k?v.__d=l=r4(v,l,n):l=o4(n,v,y,M,w,l),typeof t.type=="function"&&(t.__d=l)):l&&y.__e==l&&l.parentNode!=n&&(l=wg(y))}for(t.__e=D,u=q;u--;)M[u]!=null&&(typeof t.type=="function"&&M[u].__e!=null&&M[u].__e==t.__d&&(t.__d=s4(i).nextSibling),c4(M[u],M[u]));if(I)for(u=0;u<I.length;u++)l4(I[u],I[++u],I[++u])}function r4(n,e,t){for(var i,r=n.__k,o=0;r&&o<r.length;o++)(i=r[o])&&(i.__=n,e=typeof i.type=="function"?r4(i,e,t):o4(t,i,i,r,i.__e,e));return e}function Eg(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Eg(t,e)}):e.push(n)),e}function o4(n,e,t,i,r,o){var s,a,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(t==null||r!=o||r.parentNode==null)e:if(o==null||o.parentNode!==n)n.appendChild(r),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<i.length;l+=1)if(a==r)break e;n.insertBefore(r,o),s=o}return s!==void 0?s:r.nextSibling}function s4(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=s4(t)))return i}return null}function AA(n,e,t,i,r,o,s,a,l){var c,u,m,y,v,w,D,I,M,q,G,N,X,Y,fe,ve=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,a=e.__e=t.__e,e.__h=null,o=[a]),(c=xe.__b)&&c(e);try{e:if(typeof ve=="function"){if(I=e.props,M=(c=ve.contextType)&&i[c.__c],q=c?M?M.props.value:c.__:i,t.__c?D=(u=e.__c=t.__c).__=u.__E:("prototype"in ve&&ve.prototype.render?e.__c=u=new ve(I,q):(e.__c=u=new Xn(I,q),u.constructor=ve,u.render=Uoe),M&&M.sub(u),u.props=I,u.state||(u.state={}),u.context=q,u.__n=i,m=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),ve.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=il({},u.__s)),il(u.__s,ve.getDerivedStateFromProps(I,u.__s))),y=u.props,v=u.state,u.__v=e,m)ve.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(ve.getDerivedStateFromProps==null&&I!==y&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(I,q),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(I,u.__s,q)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(u.props=I,u.state=u.__s,u.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(lt){lt&&(lt.__=e)}),G=0;G<u._sb.length;G++)u.__h.push(u._sb[G]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(I,u.__s,q),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(y,v,w)})}if(u.context=q,u.props=I,u.__P=n,N=xe.__r,X=0,"prototype"in ve&&ve.prototype.render){for(u.state=u.__s,u.__d=!1,N&&N(e),c=u.render(u.props,u.state,u.context),Y=0;Y<u._sb.length;Y++)u.__h.push(u._sb[Y]);u._sb=[]}else do u.__d=!1,N&&N(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++X<25);u.state=u.__s,u.getChildContext!=null&&(i=il(il({},i),u.getChildContext())),m||u.getSnapshotBeforeUpdate==null||(w=u.getSnapshotBeforeUpdate(y,v)),fe=c!=null&&c.type===ot&&c.key==null?c.props.children:c,i4(n,Array.isArray(fe)?fe:[fe],e,t,i,r,o,s,a,l),u.base=e.__e,e.__h=null,u.__h.length&&s.push(u),D&&(u.__E=u.__=null),u.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=qoe(t.__e,e,t,i,r,o,s,l);(c=xe.diffed)&&c(e)}catch(lt){e.__v=null,(l||o!=null)&&(e.__e=a,e.__h=!!l,o[o.indexOf(a)]=null),xe.__e(lt,e,t)}}function a4(n,e){xe.__c&&xe.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){xe.__e(i,t.__v)}})}function qoe(n,e,t,i,r,o,s,a){var l,c,u,m=t.props,y=e.props,v=e.type,w=0;if(v==="svg"&&(r=!0),o!=null){for(;w<o.length;w++)if((l=o[w])&&"setAttribute"in l==!!v&&(v?l.localName===v:l.nodeType===3)){n=l,o[w]=null;break}}if(n==null){if(v===null)return document.createTextNode(y);n=r?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),o=null,a=!1}if(v===null)m===y||a&&n.data===y||(n.data=y);else{if(o=o&&kb.call(n.childNodes),c=(m=t.props||Ab).dangerouslySetInnerHTML,u=y.dangerouslySetInnerHTML,!a){if(o!=null)for(m={},w=0;w<n.attributes.length;w++)m[n.attributes[w].name]=n.attributes[w].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===n.innerHTML)||(n.innerHTML=u&&u.__html||""))}if(Voe(n,y,m,r,a),u)e.__k=[];else if(w=e.props.children,i4(n,Array.isArray(w)?w:[w],e,t,i,r&&v!=="foreignObject",o,s,o?o[0]:t.__k&&wg(t,0),a),o!=null)for(w=o.length;w--;)o[w]!=null&&t4(o[w]);a||("value"in y&&(w=y.value)!==void 0&&(w!==n.value||v==="progress"&&!w||v==="option"&&w!==m.value)&&Tb(n,"value",w,m.value,!1),"checked"in y&&(w=y.checked)!==void 0&&w!==n.checked&&Tb(n,"checked",w,m.checked,!1))}return n}function l4(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){xe.__e(i,t)}}function c4(n,e,t){var i,r;if(xe.unmount&&xe.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||l4(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){xe.__e(o,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&c4(i[r],e,t||typeof n.type!="function");t||n.__e==null||t4(n.__e),n.__=n.__e=n.__d=void 0}function Uoe(n,e,t){return this.constructor(n,t)}function rl(n,e,t){var i,r,o;xe.__&&xe.__(n,e),r=(i=typeof t=="function")?null:t&&t.__k||e.__k,o=[],AA(e,n=(!i&&t||e).__k=O(ot,null,[n]),r||Ab,Ab,e.ownerSVGElement!==void 0,!i&&t?[t]:r?null:e.firstChild?kb.call(e.childNodes):null,o,!i&&t?t:r?r.__e:e.firstChild,i),a4(o,n)}function Mb(n,e){var t={__c:e="__cC"+K8++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,o;return this.getChildContext||(r=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(function(a){a.__e=!0,SA(a)})},this.sub=function(s){r.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),a&&a.call(s)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}kb=e4.slice,xe={__e:function(n,e,t,i){for(var r,o,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(n)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),s=r.__d),s)return r.__E=r}catch(a){n=a}throw n}},X8=0,DA=function(n){return n!=null&&n.constructor===void 0},jp=!1,Xn.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=il({},this.state),typeof n=="function"&&(n=n(il({},t),this.props)),n&&il(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),SA(this))},Xn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),SA(this))},Xn.prototype.render=ot,Kc=[],J8=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ib.__r=0,K8=0;var Hoe,bs,TA,u4;var v4=[],IA=[],d4=xe.__b,p4=xe.__r,f4=xe.diffed,h4=xe.__c,m4=xe.unmount;function zoe(){for(var n;n=v4.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Nb),n.__H.__h.forEach(kA),n.__H.__h=[]}catch(e){n.__H.__h=[],xe.__e(e,n.__v)}}xe.__b=function(n){bs=null,d4&&d4(n)},xe.__r=function(n){p4&&p4(n),Hoe=0;var e=(bs=n.__c).__H;e&&(TA===bs?(e.__h=[],bs.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=IA,t.__N=t.i=void 0})):(e.__h.forEach(Nb),e.__h.forEach(kA),e.__h=[])),TA=bs},xe.diffed=function(n){f4&&f4(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(v4.push(e)!==1&&u4===xe.requestAnimationFrame||((u4=xe.requestAnimationFrame)||Woe)(zoe)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==IA&&(t.__=t.__V),t.i=void 0,t.__V=IA})),TA=bs=null},xe.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Nb),t.__h=t.__h.filter(function(i){return!i.__||kA(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],xe.__e(i,t.__v)}}),h4&&h4(n,e)},xe.unmount=function(n){m4&&m4(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Nb(i)}catch(r){e=r}}),t.__H=void 0,e&&xe.__e(e,t.__v))};var g4=typeof requestAnimationFrame=="function";function Woe(n){var e,t=function(){clearTimeout(i),g4&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);g4&&(e=requestAnimationFrame(t))}function Nb(n){var e=bs,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),bs=e}function kA(n){var e=bs;n.__c=n.__(),bs=e}function Goe(n,e){for(var t in e)n[t]=e[t];return n}function _4(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function y4(n){this.props=n}(y4.prototype=new Xn).isPureReactComponent=!0,y4.prototype.shouldComponentUpdate=function(n,e){return _4(this.props,n)||_4(this.state,e)};var b4=xe.__b;xe.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),b4&&b4(n)};var iRe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var Qoe=xe.__e;xe.__e=function(n,e,t,i){if(n.then){for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}Qoe(n,e,t,i)};var x4=xe.unmount;function A4(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=Goe({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return A4(i,e,t)})),n}function T4(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return T4(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function MA(){this.__u=0,this.t=null,this.__b=null}function I4(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Rb(){this.u=null,this.o=null}xe.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),x4&&x4(n)},(MA.prototype=new Xn).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=I4(i.__v),o=!1,s=function(){o||(o=!0,t.__R=null,r?r(a):a())};t.__R=s;var a=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=T4(c,c.__c.__P,c.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}},l=e.__h===!0;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(s,s)},MA.prototype.componentWillUnmount=function(){this.t=[]},MA.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=A4(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&O(ot,null,n.fallback);return r&&(r.__h=null),[O(ot,null,e.__a?null:n.children),r]};var C4=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Yoe(n){return this.getChildContext=function(){return n.context},n.children}function Zoe(n){var e=this,t=n.i;e.componentWillUnmount=function(){rl(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),rl(O(Yoe,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function k4(n,e){var t=O(Zoe,{__v:n,i:e});return t.containerInfo=e,t}(Rb.prototype=new Xn).__a=function(n){var e=this,t=I4(e.__v),i=e.o.get(n);return i[0]++,function(r){var o=function(){e.props.revealOrder?(i.push(r),C4(e,n,i)):r()};t?t(o):o()}},Rb.prototype.render=function(n){this.u=null,this.o=new Map;var e=Eg(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Rb.prototype.componentDidUpdate=Rb.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){C4(n,t,e)})};var Xoe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Joe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Koe=typeof document<"u",ese=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Xn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Xn.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var w4=xe.event;function tse(){}function nse(){return this.cancelBubble}function ise(){return this.defaultPrevented}xe.event=function(n){return w4&&(n=w4(n)),n.persist=tse,n.isPropagationStopped=nse,n.isDefaultPrevented=ise,n.nativeEvent=n};var rse,E4={configurable:!0,get:function(){return this.class}},S4=xe.vnode;xe.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var o in i={},t){var s=t[o];Koe&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in t&&s==null||(o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!ese(t.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():r&&Joe.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),i[o]&&(o="oninputCapture")),i[o]=s)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Eg(t.children).forEach(function(a){a.props.selected=i.value.indexOf(a.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=Eg(t.children).forEach(function(a){a.props.selected=i.multiple?i.defaultValue.indexOf(a.props.value)!=-1:i.defaultValue==a.props.value})),n.props=i,t.class!=t.className&&(E4.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",E4))}n.$$typeof=Xoe,S4&&S4(n)};var D4=xe.__r;xe.__r=function(n){D4&&D4(n),rse=n.__c};var H4=[],UA=new Map;function pl(n){H4.push(n),UA.forEach(e=>{G4(e,n)})}function z4(n){n.isConnected&&n.getRootNode&&W4(n.getRootNode())}function W4(n){let e=UA.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let t=sse();t&&(e.nonce=t);let i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}UA.set(n,e),ose(e)}}function ose(n){for(let e of H4)G4(n,e)}function G4(n,e){let{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,o)=>{r=r.trim(),r&&t.insertRule(r+"}",i+o)})}var NA;function sse(){return NA===void 0&&(NA=ase()),NA}function ase(){let n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&W4(document);var lse=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';pl(lse);var nu=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function Ug(n){n.parentNode&&n.parentNode.removeChild(n)}function xn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(KA(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function KA(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function Q4(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let o=t[r].querySelectorAll(e);for(let s=0;s<o.length;s+=1)i.push(o[s])}return i}var cse=/(top|left|right|bottom|width|height)$/i;function fu(n,e){for(let t in e)eT(n,t,e[t])}function eT(n,e,t){t==null?n.style[e]="":typeof t=="number"&&cse.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function Xb(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}var M4=0;function eo(){return M4+=1,"fc-dom-"+M4}function $g(n){n.preventDefault()}function use(n,e){return t=>{let i=xn(t.target,n);i&&e.call(i,t,i)}}function tT(n,e,t,i){let r=use(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function Y4(n,e,t,i){let r;return tT(n,"mouseover",e,(o,s)=>{if(s!==r){r=s,t(o,s);let a=l=>{r=null,i(l,s),s.removeEventListener("mouseleave",a)};s.addEventListener("mouseleave",a)}})}var N4=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function nT(n,e){let t=i=>{e(i),N4.forEach(r=>{n.removeEventListener(r,t)})};N4.forEach(i=>{n.addEventListener(i,t)})}function Z4(n){return Object.assign({onClick:n},X4(n))}function X4(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}var R4=0;function da(){return R4+=1,String(R4)}function Hg(){document.body.classList.add("fc-not-allowed")}function zg(){document.body.classList.remove("fc-not-allowed")}function iT(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",$g)}function rT(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",$g)}function oT(n){n.addEventListener("contextmenu",$g)}function sT(n){n.removeEventListener("contextmenu",$g)}function J4(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function K4(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=dse(n,e,t[i]),r)return r;return 0}function dse(n,e,t){return t.func?t.func(n,e):eB(n[t.field],e[t.field])*(t.order||1)}function eB(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function tu(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function zp(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,o)=>i.replace("$"+o,r||""),n):t}function aT(n,e){return n-e}function Sg(n){return n%1===0}function pse(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var P4=["years","months","days","milliseconds"],fse=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ze(n,e){return typeof n=="string"?hse(n):typeof n=="object"&&n?O4(n):typeof n=="number"?O4({[e||"milliseconds"]:n}):null}function hse(n){let e=fse.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function O4(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function mse(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function Wg(n,e){return{years:n.years+e.years,months:n.months+e.months,days:n.days+e.days,milliseconds:n.milliseconds+e.milliseconds}}function tB(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function lT(n,e){return{years:n.years*e,months:n.months*e,days:n.days*e,milliseconds:n.milliseconds*e}}function gse(n){return qp(n)/365}function vse(n){return qp(n)/30}function qp(n){return br(n)/864e5}function br(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Gg(n,e){let t=null;for(let i=0;i<P4.length;i+=1){let r=P4[i];if(e[r]){let o=n[r]/e[r];if(!Sg(o)||t!==null&&t!==o)return null;t=o}else if(n[r])return null}return t}function Dg(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function ws(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}var _se=["sun","mon","tue","wed","thu","fri","sat"];function Jb(n,e){let t=sl(n);return t[2]+=e*7,Xi(t)}function Qt(n,e){let t=sl(n);return t[2]+=e,Xi(t)}function xs(n,e){let t=sl(n);return t[6]+=e,Xi(t)}function cT(n,e){return Es(n,e)/7}function Es(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function yse(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function bse(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function xse(n,e){return(e.valueOf()-n.valueOf())/1e3}function nB(n,e){let t=dt(n),i=dt(e);return{years:0,months:0,days:Math.round(Es(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function iB(n,e){let t=Up(n,e);return t!==null&&t%7===0?t/7:null}function Up(n,e){return al(n)===al(e)?Math.round(Es(n,e)):null}function dt(n){return Xi([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function Cse(n){return Xi([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function wse(n){return Xi([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function Ese(n){return Xi([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function Sse(n,e,t){let i=n.getUTCFullYear(),r=RA(n,i,e,t);if(r<1)return RA(n,i-1,e,t);let o=RA(n,i+1,e,t);return o>=1?Math.min(r,o):r}function RA(n,e,t,i){let r=Xi([e,0,1+Dse(e,t,i)]),o=dt(n),s=Math.round(Es(r,o));return Math.floor(s/7)+1}function Dse(n,e,t){let i=7+e-t;return-((7+Xi([n,0,i]).getUTCDay()-e)%7)+i-1}function F4(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function L4(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function sl(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Xi(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function uT(n){return!isNaN(n.valueOf())}function al(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function Kb(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",fT(e,!0)))),i}function fl(n){return n.toISOString().replace(/T.*$/,"")}function dT(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function pT(n){return tu(n.getUTCHours(),2)+":"+tu(n.getUTCMinutes(),2)+":"+tu(n.getUTCSeconds(),2)}function fT(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),o=Math.round(i%60);return e?`${t+tu(r,2)}:${tu(o,2)}`:`GMT${t}${r}${o?`:${tu(o,2)}`:""}`}function _e(n,e,t){let i,r;return function(...o){if(!i)r=n.apply(this,o);else if(!ws(i,o)){t&&t(r);let s=n.apply(this,o);(!e||!e(s,r))&&(r=s)}return i=o,r}}function Wp(n,e,t){let i,r;return o=>{if(!i)r=n.call(this,o);else if(!Ji(i,o)){t&&t(r);let s=n.call(this,o);(!e||!e(s,r))&&(r=s)}return i=o,r}}var PA={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},qb={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Pb=/\s*([ap])\.?m\.?/i,Ase=/,/g,Tse=/\s+/g,Ise=/\u200e/g,kse=/UTC|GMT/,$A=class{constructor(e){let t={},i={},r=9;for(let o in e)o in PA?(i[o]=e[o],PA[o]<9&&(r=Math.min(PA[o],r))):(t[o]=e[o],o in qb&&(r=Math.min(qb[o],r)));this.standardDateProps=t,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=_e(B4)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:o,extendedSettings:s}=this,a=Fse(e.marker,t.marker,i.calendarSystem);if(!a)return this.format(e,i);let l=a;l>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(l=1);let c=this.format(e,i),u=this.format(t,i);if(c===u)return c;let m=Lse(o,l),y=B4(m,s,i),v=y(e),w=y(t),D=Bse(c,v,u,w),I=s.separator||r||i.defaultSeparator||"";return D?D.before+v+I+w+D.after:c+I+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function B4(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>fT(r.timeZoneOffset):i===0&&e.week?r=>Ose(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):Mse(n,e,t)}function Mse(n,e,t){n=Object.assign({},n),e=Object.assign({},e),Nse(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let o=Object.assign({},n);delete o.minute,r=new Intl.DateTimeFormat(t.locale.codes,o)}return o=>{let{marker:s}=o,a;r&&!s.getUTCMinutes()?a=r:a=i;let l=a.format(s);return Rse(l,o,n,e,t)}}function Nse(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function Rse(n,e,t,i,r){return n=n.replace(Ise,""),t.timeZoneName==="short"&&(n=Pse(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":fT(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(Ase,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(Pb,"").trim():i.meridiem==="narrow"?n=n.replace(Pb,(o,s)=>s.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(Pb,(o,s)=>`${s.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(Pb,o=>o.toLocaleLowerCase())),n=n.replace(Tse," "),n=n.trim(),n}function Pse(n,e){let t=!1;return n=n.replace(kse,()=>(t=!0,e)),t||(n+=` ${e}`),n}function Ose(n,e,t,i,r){let o=[];return r==="long"?o.push(t):(r==="short"||r==="narrow")&&o.push(e),(r==="long"||r==="short")&&o.push(" "),o.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&o.reverse(),o.join("")}function Fse(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:al(n)!==al(e)?1:0}function Lse(n,e){let t={};for(let i in n)(!(i in qb)||qb[i]<=e)&&(t[i]=n[i]);return t}function Bse(n,e,t,i){let r=0;for(;r<n.length;){let o=n.indexOf(e,r);if(o===-1)break;let s=n.substr(0,o);r=o+e.length;let a=n.substr(r),l=0;for(;l<t.length;){let c=t.indexOf(i,l);if(c===-1)break;let u=t.substr(0,c);l=c+i.length;let m=t.substr(l);if(s===u&&a===m)return{before:s,after:a}}}return null}function V4(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Ub(n,e,t,i){let r=V4(n,t.calendarSystem),o=e?V4(e,t.calendarSystem):null;return{date:r,start:r,end:o,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}var HA=class{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,Ub(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,Ub(e,t,i,r))}},zA=class{constructor(e){this.func=e}format(e,t,i){return this.func(Ub(e,null,t,i))}formatRange(e,t,i,r){return this.func(Ub(e,t,i,r))}};function ft(n){return typeof n=="object"&&n?new $A(n):typeof n=="string"?new HA(n):typeof n=="function"?new zA(n):null}var hT={navLinkDayClick:z,navLinkWeekClick:z,duration:Ze,bootstrapFontAwesome:z,buttonIcons:z,customButtons:z,defaultAllDayEventDuration:Ze,defaultTimedEventDuration:Ze,nextDayThreshold:Ze,scrollTime:Ze,scrollTimeReset:Boolean,slotMinTime:Ze,slotMaxTime:Ze,dayPopoverFormat:ft,slotDuration:Ze,snapDuration:Ze,headerToolbar:z,footerToolbar:z,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:ft,dayHeaderClassNames:z,dayHeaderContent:z,dayHeaderDidMount:z,dayHeaderWillUnmount:z,dayCellClassNames:z,dayCellContent:z,dayCellDidMount:z,dayCellWillUnmount:z,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:z,weekNumbers:Boolean,weekNumberClassNames:z,weekNumberContent:z,weekNumberDidMount:z,weekNumberWillUnmount:z,editable:Boolean,viewClassNames:z,viewDidMount:z,viewWillUnmount:z,nowIndicator:Boolean,nowIndicatorSnap:z,nowIndicatorClassNames:z,nowIndicatorContent:z,nowIndicatorDidMount:z,nowIndicatorWillUnmount:z,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:z,locale:z,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:z,eventOrder:J4,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:z,contentHeight:z,direction:String,weekNumberFormat:ft,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:z,initialDate:z,now:z,eventDataTransform:z,stickyHeaderDates:z,stickyFooterScrollbar:z,viewHeight:z,defaultAllDay:Boolean,eventSourceFailure:z,eventSourceSuccess:z,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:z,eventConstraint:z,eventAllow:z,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:z,eventContent:z,eventDidMount:z,eventWillUnmount:z,selectConstraint:z,selectOverlap:z,selectAllow:z,droppable:Boolean,unselectCancel:String,slotLabelFormat:z,slotLaneClassNames:z,slotLaneContent:z,slotLaneDidMount:z,slotLaneWillUnmount:z,slotLabelClassNames:z,slotLabelContent:z,slotLabelDidMount:z,slotLabelWillUnmount:z,dayMaxEvents:z,dayMaxEventRows:z,dayMinWidth:Number,slotLabelInterval:Ze,allDayText:String,allDayClassNames:z,allDayContent:z,allDayDidMount:z,allDayWillUnmount:z,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:ft,rerenderDelay:Number,moreLinkText:z,moreLinkHint:z,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:z,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ze,hiddenDays:z,fixedWeekCount:Boolean,validRange:z,visibleRange:z,titleFormat:z,eventInteractive:Boolean,noEventsText:String,viewHint:z,navLinkHint:z,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:z,moreLinkClassNames:z,moreLinkContent:z,moreLinkDidMount:z,moreLinkWillUnmount:z,monthStartFormat:ft,handleCustomRendering:z,customRenderingMetaMap:z,customRenderingReplaces:Boolean},hl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},mT={datesSet:z,eventsSet:z,eventAdd:z,eventChange:z,eventRemove:z,windowResize:z,eventClick:z,eventMouseEnter:z,eventMouseLeave:z,select:z,unselect:z,loading:z,_unmount:z,_beforeprint:z,_afterprint:z,_noEventDrop:z,_noEventResize:z,_resize:z,_scrollRequest:z},gT={buttonText:z,buttonHints:z,views:z,plugins:z,initialEvents:z,events:z,eventSources:z},ml={headerToolbar:eu,footerToolbar:eu,buttonText:eu,buttonHints:eu,buttonIcons:eu,dateIncrement:eu,plugins:Ob,events:Ob,eventSources:Ob,resources:Ob};function eu(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?Ji(n,e):n===e}function Ob(n,e){return Array.isArray(n)&&Array.isArray(e)?ws(n,e):n===e}var rB={type:String,component:z,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:z,usesMinMaxTime:Boolean,classNames:z,content:z,didMount:z,willUnmount:z};function ex(n){return nx(n,ml)}function tx(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function z(n){return n}var{hasOwnProperty:$b}=Object.prototype;function nx(n,e){let t={};if(e){for(let i in e)if(e[i]===eu){let r=[];for(let o=n.length-1;o>=0;o-=1){let s=n[o][i];if(typeof s=="object"&&s)r.unshift(s);else if(s!==void 0){t[i]=s;break}}r.length&&(t[i]=nx(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let o in r)o in t||(t[o]=r[o])}return t}function aa(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Kr(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function vT(n){let e={};for(let t of n)e[t]=!0;return e}function ix(n){let e=[];for(let t in n)e.push(n[t]);return e}function Ji(n,e){if(n===e)return!0;for(let t in n)if($b.call(n,t)&&!(t in e))return!1;for(let t in e)if($b.call(e,t)&&n[t]!==e[t])return!1;return!0}var Vse=/^on[A-Z]/;function jse(n,e){let t=qse(n,e);for(let i of t)if(!Vse.test(i))return!1;return!0}function qse(n,e){let t=[];for(let i in n)$b.call(n,i)&&(i in e||t.push(i));for(let i in e)$b.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function Vb(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&Use(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function Use(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function oB(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let o=e;o<t;o+=i){let s=n[o];s!==void 0&&r.push(s)}return r}var sB={};function $se(n,e){sB[n]=e}function Hse(n){return new sB[n]}var WA=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Xi(e)}markerToArray(e){return sl(e)}};$se("gregory",WA);var zse=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function aB(n){let e=zse.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(uT(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}var Ag=class{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=Hse(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Xi(F4(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Xi(e)),t===null||!uT(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=aB(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return al(e)===al(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return al(e)===al(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=iB(e,t),i!==null?{unit:"week",value:i}:(i=Up(e,t),i!==null?{unit:"day",value:i}:(i=yse(e,t),Sg(i)?{unit:"hour",value:i}:(i=bse(e,t),Sg(i)?{unit:"minute",value:i}:(i=xse(e,t),Sg(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/gse(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/vse(i):i.days&&(r=Up(e,t),r!==null)?r/qp(i):(t.valueOf()-e.valueOf())/br(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?dt(e):t==="hour"?Cse(e):t==="minute"?wse(e):t==="second"?Ese(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Sse(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=xs(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),Kb(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Xi(F4(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Xi(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-L4(sl(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(sl(e)):null}toDate(e,t){return this.timeZone==="local"?L4(sl(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(sl(e))*1e3*60):new Date(e.valueOf()-(t||0))}},la=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}};la.prototype.classes={};la.prototype.iconClasses={};la.prototype.baseIconClass="";la.prototype.iconOverridePrefix="";function Tg(n){n();let e=xe.debounceRendering,t=[];function i(r){t.push(r)}for(xe.debounceRendering=i,rl(O(GA,{}),document.createElement("div"));t.length;)t.shift()();xe.debounceRendering=e}var GA=class extends Xn{render(){return O("div",{})}componentDidMount(){this.setState({})}};function lB(n){let e=Mb(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let o=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&o.forEach(a=>{a.context=s.value,a.forceUpdate()})},this.sub=s=>{o.push(s);let a=s.componentWillUnmount;s.componentWillUnmount=()=>{o.splice(o.indexOf(s),1),a&&a.call(s)}}}return r},e}var Hb=class{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},to=lB({});function cB(n,e,t,i,r,o,s,a,l,c,u,m,y,v){return{dateEnv:r,nowManager:o,options:t,pluginHooks:a,emitter:u,dispatch:l,getCurrentData:c,calendarApi:m,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:s,isRtl:t.direction==="rtl",addResizeHandler(w){u.on("_resize",w)},removeResizeHandler(w){u.off("_resize",w)},createScrollResponder(w){return new Hb(w,u,Ze(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:y,unregisterInteractiveComponent:v}}var Qg=(()=>{class n extends Xn{shouldComponentUpdate(t,i){return!Vb(this.props,t,this.propEquality)||!Vb(this.state,i,this.stateEquality)}safeSetState(t){Vb(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=Wse,n.addStateEquality=Gse,n.contextType=to,n})();Qg.prototype.propEquality={};Qg.prototype.stateEquality={};var nt=(()=>{class n extends Qg{}return n.contextType=to,n})();function Wse(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function Gse(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function Cr(n,e){typeof n=="function"?n(e):n&&(n.current=e)}var Ig=class extends nt{constructor(){super(...arguments),this.id=da(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!QA(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Cr(this.props.elRef,e)}}render(){let{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:o,renderProps:s}=e,a=_T(e,[],this.handleEl),l=!1,c,u=[],m;if(r!=null){let y=typeof r=="function"?r(s,O):r;if(y===!0)l=!0;else{let v=y&&typeof y=="object";v&&"html"in y?a.dangerouslySetInnerHTML={__html:y.html}:v&&"domNodes"in y?u=Array.prototype.slice.call(y.domNodes):(v?DA(y):typeof y!="function")?c=y:m=y}}else l=!QA(e.generatorName,i);return l&&o&&(c=o(s)),this.queuedDomNodes=u,this.currentGeneratorMeta=m,O(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:i,context:r}=this,{handleCustomRendering:o,customRenderingMetaMap:s}=r.options;if(o){let a=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:s?.[i.generatorName];a&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},i),{elClasses:(i.elClasses||[]).filter(Qse)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!ws(e,t)){t.forEach(Ug);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}};Ig.addPropsEquality({elClasses:ws,elStyle:Ji,elAttrs:jse,renderProps:Ji});function QA(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function _T(n,e,t){let i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function Qse(n){return!!n}var yT=lB(0),Cn=(()=>{class n extends Xn{constructor(){super(...arguments),this.InnerContent=Yse.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(Cr(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:t}=this,i=Zse(t.classNameGenerator,t.renderProps);if(t.children){let r=_T(t,i,this.handleEl),o=t.children(this.InnerContent,t.renderProps,r);return t.elTag?O(t.elTag,r,o):o}else return O(Ig,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;this.el?(i=(t=this.props).didMount)===null||i===void 0||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,i;(i=(t=this.props).willUnmount)===null||i===void 0||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return n.contextType=yT,n})();function Yse(n,e){let t=n.props;return O(Ig,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function Zse(n,e){let t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}var Io=class extends nt{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return O(Cn,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...bT(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}};function bT(n){return[`fc-${n.type}-view`,"fc-view"]}function Xse(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function j4(n,e){let t=[],{start:i}=e,r,o;for(n.sort(Jse),r=0;r<n.length;r+=1)o=n[r],o.start>i&&t.push({start:i,end:o.start}),o.end>i&&(i=o.end);return i<e.end&&t.push({start:i,end:e.end}),t}function Jse(n,e){return n.start.valueOf()-e.start.valueOf()}function xr(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function uB(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function rx(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function Gp(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Jr(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function Kse(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function dB(n){let e=Math.floor(Es(n.start,n.end))||1,t=dt(n.start),i=Qt(t,e);return{start:t,end:i}}function ox(n,e=Ze(0)){let t=null,i=null;if(n.end){i=dt(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=br(e)&&(i=Qt(i,1))}return n.start&&(t=dt(n.start),i&&i<=t&&(i=Qt(t,1))),{start:t,end:i}}function xT(n){let e=ox(n);return Es(e.start,e.end)>1}function ll(n,e,t,i){return i==="year"?Ze(t.diffWholeYears(n,e),"year"):i==="month"?Ze(t.diffWholeMonths(n,e),"month"):nB(n,e)}var iu=class{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,o=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,o=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,i)}build(e,t,i=!0){let{props:r}=this,o,s,a,l,c,u;return o=this.buildValidRange(),o=this.trimHiddenDays(o),i&&(e=Kse(e,o)),s=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,a),l=this.trimHiddenDays(l),c=l,r.showNonCurrentDates||(c=xr(c,s.range)),c=this.adjustActiveRange(c),c=xr(c,o),u=rx(s.range,o),Jr(l,e)||(e=l.start),{currentDate:e,validRange:o,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,o=null,s=null,a;return i.duration?(r=i.duration,o=i.durationUnit,s=this.buildRangeFromDuration(e,t,r,o)):(a=this.props.dayCount)?(o="day",s=this.buildRangeFromDayCount(e,t,a)):(s=this.buildCustomVisibleRange(e))?o=i.dateEnv.greatestWholeUnit(s.start,s.end).unit:(r=this.getFallbackDuration(),o=Dg(r).unit,s=this.buildRangeFromDuration(e,t,r,o)),{duration:r,unit:o,range:s}}getFallbackDuration(){return Ze({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:o}=this.props,{start:s,end:a}=e;return i&&(qp(r)<0&&(s=dt(s),s=t.add(s,r)),qp(o)>1&&(a=dt(a),a=Qt(a,-1),a=t.add(a,o))),{start:s,end:a}}buildRangeFromDuration(e,t,i,r){let{dateEnv:o,dateAlignment:s}=this.props,a,l,c;if(!s){let{dateIncrement:m}=this.props;m&&br(m)<br(i)?s=Dg(m).unit:s=r}qp(i)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=dt(a));function u(){a=o.startOf(e,s),l=o.add(a,i),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),u()),c}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:o}=this.props,s=0,a=e,l;o&&(a=r.startOf(a,o)),a=dt(a),a=this.skipHiddenDays(a,t),l=a;do l=Qt(l,1),this.isHiddenDay(l)||(s+=1);while(s<i);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,o=this.refineRange(r);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?Ze(1,i):e||Ze({days:1}))}refineRange(e){if(e){let t=Xse(e,this.props.dateEnv);return t&&(t=ox(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=Qt(e,t);return e}};function Yg(n,e,t,i){return{instanceId:da(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function eae(n,e,t,i){for(let r=0;r<i.length;r+=1){let o=i[r].parse(n,t);if(o){let{allDay:s}=n;return s==null&&(s=e,s==null&&(s=o.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:o.duration,typeData:o.typeData,typeId:r}}}return null}function ru(n,e,t){let{dateEnv:i,pluginHooks:r,options:o}=t,{defs:s,instances:a}=n;a=aa(a,l=>!s[l.defId].recurringDef);for(let l in s){let c=s[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let m=tae(c,u,e,i,r.recurringTypes);for(let y of m){let v=Yg(l,{start:y,end:i.add(y,u)});a[v.instanceId]=v}}}return{defs:s,instances:a}}function tae(n,e,t,i,r){let s=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(s=s.map(dt)),s}var jb={id:String,groupId:String,title:String,url:String,interactive:Boolean},pB={start:z,end:z,date:z,allDay:Boolean},nae=Object.assign(Object.assign(Object.assign({},jb),pB),{extendedProps:z});function fB(n,e,t,i,r=CT(t),o,s){let{refined:a,extra:l}=sx(n,t,r),c=rae(e,t),u=eae(a,c,t.dateEnv,t.pluginHooks.recurringTypes);if(u){let y=kg(a,l,e?e.sourceId:"",u.allDay,!!u.duration,t,o);return y.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:y,instance:null}}let m=iae(a,c,t,i);if(m){let y=kg(a,l,e?e.sourceId:"",m.allDay,m.hasEnd,t,o),v=Yg(y.defId,m.range,m.forcedStartTzo,m.forcedEndTzo);return s&&y.publicId&&s[y.publicId]&&(v.instanceId=s[y.publicId]),{def:y,instance:v}}return null}function sx(n,e,t=CT(e)){return tx(n,t)}function CT(n){return Object.assign(Object.assign(Object.assign({},zb),nae),n.pluginHooks.eventRefiners)}function kg(n,e,t,i,r,o,s){let a={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(s&&n.id?s[n.id]:"")||da(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:Qp(n,o),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let l of o.pluginHooks.eventDefMemberAdders)Object.assign(a,l(n));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function iae(n,e,t,i){let{allDay:r}=n,o,s=null,a=!1,l,c=null,u=n.start!=null?n.start:n.date;if(o=t.dateEnv.createMarkerMeta(u),o)s=o.marker;else if(!i)return null;return n.end!=null&&(l=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!o||o.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),r&&s&&(s=dt(s)),l&&(c=l.marker,r&&(c=dt(c)),s&&c<=s&&(c=null)),c?a=!0:i||(a=t.options.forceEventDuration||!1,c=t.dateEnv.add(s,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:a,range:{start:s,end:c},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function rae(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Mg(n,e,t,i,r,o){let s=hi(),a=CT(t);for(let l of n){let c=fB(l,e,t,i,a,r,o);c&&Ng(c,s)}return s}function Ng(n,e=hi()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Zg(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=lx(n,o=>oae(i,o));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return hi()}function oae(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function hi(){return{defs:{},instances:{}}}function ax(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function lx(n,e){let t=aa(n.defs,e),i=aa(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function sae(n,e){let{defs:t,instances:i}=n,r={},o={};for(let s in t)e.defs[s]||(r[s]=t[s]);for(let s in i)!e.instances[s]&&r[i[s].defId]&&(o[s]=i[s]);return{defs:r,instances:o}}function aae(n,e){return Array.isArray(n)?Mg(n,null,e,!0):typeof n=="object"&&n?Mg([n],null,e,!0):n!=null?String(n):null}function YA(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}var zb={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:z,overlap:z,allow:z,className:YA,classNames:YA,color:String,backgroundColor:String,borderColor:String,textColor:String},lae={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Qp(n,e){let t=aae(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function wT(n){return n.reduce(cae,lae)}function cae(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}var uae={id:String,defaultAllDay:Boolean,url:String,format:String,events:z,eventDataTransform:z,success:z,failure:z};function ET(n,e,t=ST(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:o}=tx(i,t),s=dae(r,e);if(s)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:da(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Qp(r,e),extendedProps:o}}return null}function ST(n){return Object.assign(Object.assign(Object.assign({},zb),uae),n.pluginHooks.eventSourceRefiners)}function dae(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let o=t[i].parseMeta(n);if(o)return{sourceDefId:i,meta:o}}return null}function hB(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return pae(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return fae(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return hae(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return ax(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?ru(n,i.activeRange,r):n;case"REMOVE_EVENTS":return sae(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return gB(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return lx(n,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return hi();default:return n}}function pae(n,e,t,i,r,o){if(e&&t===e.latestFetchId){let s=Mg(mB(r,e,o),e,o);return i&&(s=ru(s,i,o)),ax(gB(n,e.sourceId),s)}return n}function fae(n,e,t,i,r){let{defIdMap:o,instanceIdMap:s}=gae(n),a=Mg(mB(t,e,r),e,r,!1,o,s);return ru(a,i,r)}function mB(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=q4(n,r)),i&&(n=q4(n,i)),n}function q4(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function hae(n,e,t,i){return t&&(e=ru(e,t,i)),ax(n,e)}function DT(n,e,t){let{defs:i}=n,r=Kr(n.instances,o=>i[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:t.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:t.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:o.forcedEndTzo}));return{defs:i,instances:r}}function gB(n,e){return lx(n,t=>t.sourceId!==e)}function mae(n,e){return{defs:n.defs,instances:aa(n.instances,t=>!e[t.instanceId])}}function gae(n){let{defs:e,instances:t}=n,i={},r={};for(let o in e){let s=e[o],{publicId:a}=s;a&&(i[a]=o)}for(let o in t){let s=t[o],a=e[s.defId],{publicId:l}=a;l&&(r[l]=o)}return{defIdMap:i,instanceIdMap:r}}var ca=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){vae(this.handlers,e,t)}off(e,t){_ae(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],o=[].concat(r||[],i);for(let s of o)s.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function vae(n,e,t){(n[e]||(n[e]=[])).push(t)}function _ae(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}var yae={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function AT(n,e){return Mg(bae(n),null,e)}function bae(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},yae),t)),e}function cx(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},TT(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function xae(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function TT(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,Rae(n,e.dateEnv)),t}function Wb(n,e,t){let{dateEnv:i,options:r}=t,o=e;return n?(o=dt(o),o=i.add(o,r.defaultAllDayEventDuration)):o=i.add(o,r.defaultTimedEventDuration),o}function Xg(n,e,t,i){let r=Gb(n.defs,e),o=hi();for(let s in n.defs){let a=n.defs[s];o.defs[s]=Cae(a,r[s],t,i)}for(let s in n.instances){let a=n.instances[s],l=o.defs[a.defId];o.instances[s]=wae(a,l,r[a.defId],t,i)}return o}function Cae(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),t.extendedProps));for(let s of i.pluginHooks.eventDefMutationAppliers)s(o,t,i);return!o.hasEnd&&i.options.forceEventDuration&&(o.hasEnd=!0),o}function wae(n,e,t,i,r){let{dateEnv:o}=r,s=i.standardProps&&i.standardProps.allDay===!0,a=i.standardProps&&i.standardProps.hasEnd===!1,l=Object.assign({},n);return s&&(l.range=dB(l.range)),i.datesDelta&&t.startEditable&&(l.range={start:o.add(l.range.start,i.datesDelta),end:o.add(l.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(l.range={start:o.add(l.range.start,i.startDelta),end:l.range.end}),i.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:o.add(l.range.end,i.endDelta)}),a&&(l.range={start:l.range.start,end:Wb(e.allDay,l.range.start,r)}),e.allDay&&(l.range={start:dt(l.range.start),end:dt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=Wb(e.allDay,l.range.start,r)),l}var ol=class{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},Nt=class n{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in pB)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=jb[e](t),this.mutate({standardProps:{publicId:t}});else if(e in jb)t=jb[e](t),this.mutate({standardProps:{[e]:t}});else if(e in zb){let i=zb[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let o=this._instance.range,s=ll(o.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let o=ll(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,o={allDay:i.allDay},s=r.createMarker(e),a;if(s&&!(t!=null&&(a=r.createMarker(t),!a))&&this._instance){let l=this._instance.range;i.allDay===!0&&(l=dB(l));let c=ll(l.start,s,r,i.granularity);if(a){let u=ll(l.end,a,r,i.granularity);mse(c,u)?this.mutate({datesDelta:c,standardProps:o}):this.mutate({startDelta:c,endDelta:u,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:c,standardProps:o})}}moveStart(e){let t=Ze(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Ze(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Ze(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=ft(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:o}=r.getCurrentData(),s=Zg(o,t.instanceId);s=Xg(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let l=new n(r,i,t);this._def=s.defs[i.defId],this._instance=s.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:s}),r.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Ss(s,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,t=vB(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new ol(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:o}=this,s={allDay:t.allDay};return t.title&&(s.title=t.title),r&&(s.start=r),o&&(s.end=o),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),i.display&&i.display!=="auto"&&(s.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?s.color=i.backgroundColor:(i.backgroundColor&&(s.backgroundColor=i.backgroundColor),i.borderColor&&(s.borderColor=i.borderColor)),i.textColor&&(s.textColor=i.textColor),i.classNames.length&&(s.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,t.extendedProps):s.extendedProps=t.extendedProps),s}toJSON(){return this.toPlainObject()}};function vB(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Ss(n,e,t){let{defs:i,instances:r}=n,o=[],s=t?t.instanceId:"";for(let a in r){let l=r[a],c=i[l.defId];l.instanceId!==s&&o.push(new Nt(e,c,l))}return o}function $p(n,e,t,i){let r={},o={},s={},a=[],l=[],c=Gb(n.defs,e);for(let u in n.defs){let m=n.defs[u];c[m.defId].display==="inverse-background"&&(m.groupId?(r[m.groupId]=[],s[m.groupId]||(s[m.groupId]=m)):o[u]=[])}for(let u in n.instances){let m=n.instances[u],y=n.defs[m.defId],v=c[y.defId],w=m.range,D=!y.allDay&&i?ox(w,i):w,I=xr(D,t);I&&(v.display==="inverse-background"?y.groupId?r[y.groupId].push(I):o[m.defId].push(I):v.display!=="none"&&(v.display==="background"?a:l).push({def:y,ui:v,instance:m,range:I,isStart:D.start&&D.start.valueOf()===I.start.valueOf(),isEnd:D.end&&D.end.valueOf()===I.end.valueOf()}))}for(let u in r){let m=r[u],y=j4(m,t);for(let v of y){let w=s[u],D=c[w.defId];a.push({def:w,ui:D,instance:null,range:v,isStart:!1,isEnd:!1})}}for(let u in o){let m=o[u],y=j4(m,t);for(let v of y)a.push({def:n.defs[u],ui:c[u],instance:null,range:v,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function IT(n){return n.ui.display==="background"||n.ui.display==="inverse-background"}function U4(n,e){n.fcSeg=e}function pa(n){return n.fcSeg||n.parentNode.fcSeg||null}function Gb(n,e){return Kr(n,t=>_B(t,e))}function _B(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),wT(t)}function hu(n,e){let t=n.map(Eae);return t.sort((i,r)=>K4(i,r,e)),t.map(i=>i._seg)}function Eae(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,o=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:o,duration:o-r,allDay:Number(t.allDay),_seg:n})}function Sae(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:o}=n.eventRange,s=o.startEditable;for(let a of i)s=a(s,r,o,e);return s}function Dae(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Aae(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function gl(n,e,t,i,r,o,s){let{dateEnv:a,options:l}=t,{displayEventTime:c,displayEventEnd:u}=l,m=n.eventRange.def,y=n.eventRange.instance;c==null&&(c=i!==!1),u==null&&(u=r!==!1);let v=y.range.start,w=y.range.end,D=o||n.start||n.eventRange.range.start,I=s||n.end||n.eventRange.range.end,M=dt(v).valueOf()===dt(D).valueOf(),q=dt(xs(w,-1)).valueOf()===dt(xs(I,-1)).valueOf();return c&&!m.allDay&&(M||q)?(D=M?v:D,I=q?w:I,u&&m.hasEnd?a.formatRange(D,I,e,{forcedStartTzo:o?null:y.forcedStartTzo,forcedEndTzo:s?null:y.forcedEndTzo}):a.format(D,e,{forcedTzo:o?null:y.forcedStartTzo})):""}function wr(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=(t||e.start),isFuture:i.start>=(t||e.end),isToday:e&&Jr(e,i.start)}}function Tae(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function Jg(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function Yp(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:o,options:s}=e,{eventInteractive:a}=s;return a==null&&(a=t.interactive,a==null&&(a=!!o.hasHandlers("eventClick"))),a?X4(l=>{o.trigger("eventClick",{el:l.target,event:new Nt(e,t,i),jsEvent:l,view:e.viewApi})}):{}}var Iae={start:z,end:z,allDay:Boolean};function kae(n,e,t){let i=Mae(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function Mae(n,e){let{refined:t,extra:i}=tx(n,Iae),r=t.start?e.createMarkerMeta(t.start):null,o=t.end?e.createMarkerMeta(t.end):null,{allDay:s}=t;return s==null&&(s=r&&r.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:o?o.marker:null},allDay:s},i)}function kT(n,e){return uB(n.range,e.range)&&n.allDay===e.allDay&&Nae(n,e)}function Nae(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function Rae(n,e){return Object.assign(Object.assign({},yB(n.range,e,n.allDay)),{allDay:n.allDay})}function MT(n,e,t){return Object.assign(Object.assign({},yB(n,e,t)),{timeZone:e.timeZone})}function yB(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function Pae(n,e,t){let i=sx({editable:!1},t),r=kg(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:_B(r,e),instance:Yg(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function NT(n,e,t){let i=!1,r=function(a){i||(i=!0,e(a))},o=function(a){i||(i=!0,t(a))},s=n(r,o);s&&typeof s.then=="function"&&s.then(r,o)}var Qb=class extends Error{constructor(e,t){super(e),this.response=t}};function RT(n,e,t){n=n.toUpperCase();let i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(o=>[o,r],()=>{throw new Qb("Failure parsing JSON",r)});throw new Qb("Request failed",r)})}var OA;function PT(){return OA==null&&(OA=Oae()),OA}function Oae(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}var Rg=class extends nt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Tg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Tg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",o=!r&&t.height!=null?t.height:"",s=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return PT()||s.push("fc-liquid-hack"),e.children(s,o,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},ko=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function bB(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Kg(n){return{[n.component.uid]:n}}var Zp={},No=(()=>{class n extends Xn{constructor(t,i){super(t,i),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:i}=this,r=i.nowManager.getDateMarker(),{nowIndicatorSnap:o}=i.options;o==="auto"&&(o=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let s,a;return o?(s=i.dateEnv.startOf(r,t.unit),a=i.dateEnv.add(s,Ze(1,t.unit)).valueOf()-r.valueOf()):(s=r,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:Fae(s)},waitMs:a}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let i=this.computeTiming();this.setState(i.state,()=>{this.setTimeout(i.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=to,n})();function Fae(n){let e=dt(n),t=Qt(e,1);return{start:e,end:t}}var Pg=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),o,s;for(let a in t)r.push(a);for(o=0;o<r.length;o+=1)if(s=t[r[o]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=Ze(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),ft(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),ft(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),o=kae(i,r.dateEnv,Ze({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),cx(o,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),xae(e,t))}addEvent(e,t){if(e instanceof Nt){let s=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ng({def:s,instance:a})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof ol)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=ix(i.eventSources));else if(t!=null){let s=this.getEventSourceById(t);if(!s)return console.warn(`Could not find an event source with ID "${t}"`),null;r=s.internalEventSource}let o=fB(e,r,i,!1);if(o){let s=new Nt(i,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ng(o)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:vB(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let o in i){let s=i[o];if(s.publicId===e){if(s.recurringDef)return new Nt(t,s,null);for(let a in r){let l=r[a];if(l.defId===s.defId)return new Nt(t,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Ss(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new ol(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new ol(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof ol)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=ET(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new ol(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Ze(e);t&&this.trigger("_scrollRequest",{time:t})}};function OT(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function ux(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function FT(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function LT(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function BT(n,e){return{left:n.left-e.left,top:n.top-e.top}}var FA=hi(),Og=class{constructor(){this.getKeysForEventDefs=_e(this._getKeysForEventDefs),this.splitDateSelection=_e(this._splitDateSpan),this.splitEventStore=_e(this._splitEventStore),this.splitIndividualUi=_e(this._splitIndividualUi),this.splitEventDrag=_e(this._splitInteraction),this.splitEventResize=_e(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,i),s=this.splitEventStore(e.eventStore,i),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=Kr(t,(u,m)=>this.eventUiBuilders[m]||_e(Lae));for(let u in t){let m=t[u],y=s[u]||FA,v=this.eventUiBuilders[u];c[u]={businessHours:m.businessHours||e.businessHours,dateSelection:r[u]||null,eventStore:y,eventUiBases:v(e.eventUiBases[""],m.ui,o[u]),eventSelection:y.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[u]||null,eventResize:l[u]||null}}return c}_splitDateSpan(e){let t={};if(e){let i=this.getKeysForDateSpan(e);for(let r of i)t[r]=e}return t}_getKeysForEventDefs(e){return Kr(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:i,instances:r}=e,o={};for(let s in i)for(let a of t[s])o[a]||(o[a]=hi()),o[a].defs[s]=i[s];for(let s in r){let a=r[s];for(let l of t[a.defId])o[l]&&(o[l].instances[s]=a)}return o}_splitIndividualUi(e,t){let i={};for(let r in e)if(r)for(let o of t[r])i[o]||(i[o]={}),i[o][r]=e[r];return i}_splitInteraction(e){let t={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,r),s=a=>{t[a]||(t[a]={affectedEvents:i[a]||FA,mutatedEvents:o[a]||FA,isEvent:e.isEvent})};for(let a in i)s(a);for(let a in o)s(a)}return t}};function Lae(n,e,t){let i=[];n&&i.push(n),e&&i.push(e);let r={"":wT(i)};return t&&Object.assign(r,t),r}function e0(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!Jr(i.activeRange,n))),isOther:!!(i&&!Jr(i.currentRange,n)),isToday:!!(e&&Jr(e,n)),isPast:!!(t?n<t:e&&n<e.start),isFuture:!!(t?n>t:e&&n>=e.end)}}function Xp(n,e){let t=["fc-day",`fc-day-${_se[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}var Bae=ft({year:"numeric",month:"long",day:"numeric"}),Vae=ft({week:"long"});function Ds(n,e,t="day",i=!0){let{dateEnv:r,options:o,calendarApi:s}=n,a=r.format(e,t==="week"?Vae:Bae);if(o.navLinks){let l=r.toDate(e),c=u=>{let m=t==="day"?o.navLinkDayClick:t==="week"?o.navLinkWeekClick:null;typeof m=="function"?m.call(s,r.toDate(e),u):(typeof m=="string"&&(t=m),s.zoomTo(e,t))};return Object.assign({title:zp(o.navLinkHint,[a,l],a),"data-navlink":""},i?Z4(c):{onClick:c})}return{"aria-label":a}}var LA=null;function xB(){return LA===null&&(LA=jae()),LA}function jae(){let n=document.createElement("div");fu(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Ug(n),t}var BA;function CB(){return BA||(BA=qae()),BA}function qae(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=wB(n);return document.body.removeChild(n),e}function wB(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function EB(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,o=parseInt(t.borderTopWidth,10)||0,s=parseInt(t.borderBottomWidth,10)||0,a=wB(n),l=a.y-i-r,c=a.x-o-s,u={borderLeft:i,borderRight:r,borderTop:o,borderBottom:s,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return xB()&&t.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(t.paddingLeft,10)||0,u.paddingRight=parseInt(t.paddingRight,10)||0,u.paddingTop=parseInt(t.paddingTop,10)||0,u.paddingBottom=parseInt(t.paddingBottom,10)||0),u}function VT(n,e=!1,t){let i=t?n.getBoundingClientRect():t0(n),r=EB(n,e),o={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(o.left+=r.paddingLeft,o.right-=r.paddingRight,o.top+=r.paddingTop,o.bottom-=r.paddingBottom),o}function t0(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Uae(n){let e=dx(n),t=n.getBoundingClientRect();for(let i of e){let r=ux(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function dx(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}var Mo=class{constructor(e,t,i,r){this.els=t;let o=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(o.left),r&&this.buildElVerticals(o.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let o=r.getBoundingClientRect();t.push(o.left-e),i.push(o.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let o=r.getBoundingClientRect();t.push(o.top-e),i.push(o.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,o;for(o=0;o<r;o+=1)if(e>=t[o]&&e<i[o])return o}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,o;for(o=0;o<r;o+=1)if(e>=t[o]&&e<i[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Fb(this.tops||[],e.tops||[])&&Fb(this.bottoms||[],e.bottoms||[])&&Fb(this.lefts||[],e.lefts||[])&&Fb(this.rights||[],e.rights||[])}};function Fb(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}var ou=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},Fg=class extends ou{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},Lg=class extends ou{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},Jn=class extends nt{constructor(){super(...arguments),this.uid=da()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!xn(e,".fc-event-mirror")}isValidDateDownEl(e){return!xn(e,".fc-event:not(.fc-bg-event)")&&!xn(e,".fc-more-link")&&!xn(e,"a[data-navlink]")&&!xn(e,".fc-popover")}};var su=class{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){let r=Object.assign(Object.assign({},t),{span:n0(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,o=t.span;r.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:o.start}},i),r.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(VA(r,t.level,t.levelCoord),VA(i,t.level,[e])):VA(i[t.level],t.lateral,e),this.stackCnts[Cs(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:o}=this,s=t.length,a=0,l=-1,c=-1,u=null,m=0;for(let w=0;w<s;w+=1){let D=t[w];if(!r&&D>=a+this.getEntryThickness(e))break;let I=i[w],M,q=Vg(I,e.span.start,Bg),G=q[0]+q[1];for(;(M=I[G])&&M.span.start<e.span.end;){let N=D+this.getEntryThickness(M);N>a&&(a=N,u=M,l=w,c=G),N===a&&(m=Math.max(m,o[Cs(M)]+1)),G+=1}}let y=0;if(u)for(y=l+1;y<s&&t[y]<a;)y+=1;let v=-1;return y<s&&t[y]===a&&(v=Vg(i[y],e.span.end,Bg)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:m,levelCoord:a,level:y,lateral:v}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let o=0;o<i;o+=1){let s=e[o],a=t[o];for(let l of s)r.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return r}};function Bg(n){return n.span.end}function Cs(n){return n.index+":"+n.span.start}function jT(n){let e=[];for(let t of n){let i=[],r={span:t.span,entries:[t]};for(let o of e)n0(o.span,r.span)?r={entries:o.entries.concat(r.entries),span:$ae(o.span,r.span)}:i.push(o);i.push(r),e=i}return e}function $ae(n,e){return{start:Math.min(n.start,e.start),end:Math.max(n.end,e.end)}}function n0(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function VA(n,e,t){n.splice(e,0,t)}function Vg(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let o=Math.floor(i+(r-i)/2),s=t(n[o]);if(e<s)r=o;else if(e>s)i=o+1;else return[o,1]}return[i,0]}var jg=class{constructor(e,t){this.emitter=new ca}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},i0={};function SB(n,e){return!n||e>10?ft({weekday:"short"}):e>1?ft({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):ft({weekday:"long"})}var DB="fc-col-header-cell";function AB(n){return n.text}var Yb=class extends nt{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:o}=this,{date:s,dateProfile:a}=o,l=e0(s,o.todayRange,null,a),c=[DB].concat(Xp(l,i)),u=e.format(s,o.dayHeaderFormat),m=!l.isDisabled&&o.colCnt>1?Ds(this.context,s):{},y=e.toDate(s);e.namedTimeZoneImpl&&(y=xs(y,36e5));let v=Object.assign(Object.assign(Object.assign({date:y,view:r},o.extraRenderProps),{text:u}),l);return O(Cn,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":l.isDisabled?void 0:fl(s)},o.extraDataAttrs),renderProps:v,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:AB,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},w=>O("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&O(w,{elTag:"a",elAttrs:m,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}},Hae=ft({weekday:"long"}),Zb=class extends nt{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:o}=this.context,s=Qt(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(s,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:s},a),{view:r}),e.extraRenderProps),{text:l});return O(Cn,{elTag:"th",elClasses:[DB,...Xp(a,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:AB,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},u=>O("div",{className:"fc-scrollgrid-sync-inner"},O(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,Hae)}})))}},au=class extends nt{constructor(){super(...arguments),this.createDayHeaderFormatter=_e(zae)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:o}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return O(No,{unit:"day"},(a,l)=>O("tr",{role:"row"},o&&o("day"),t.map(c=>r?O(Yb,{key:c.toISOString(),date:c,dateProfile:i,todayRange:l,colCnt:t.length,dayHeaderFormat:s}):O(Zb,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:s}))))}};function zae(n,e,t){return n||SB(e,t)}var lu=class{constructor(e,t){let i=e.start,{end:r}=e,o=[],s=[],a=-1;for(;i<r;)t.isHiddenDay(i)?o.push(a+.5):(a+=1,o.push(a),s.push(i)),i=Qt(i,1);this.dates=s,this.indices=o,this.cnt=s.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(Qt(e.end,-1)),r=Math.max(0,t),o=Math.min(this.cnt-1,i);return r=Math.ceil(r),o=Math.floor(o),r<=o?{firstIndex:r,lastIndex:o,isStart:t===r,isEnd:i===o}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(Es(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}},cu=class{constructor(e,t){let{dates:i}=e,r,o,s;if(t){for(o=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==o;r+=1);s=Math.ceil(i.length/r)}else s=1,r=i.length;this.rowCnt=s,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:o,lastIndex:s}=i,a=o;for(;a<=s;){let l=Math.floor(a/t),c=Math.min((l+1)*t,s+1);r.push({row:l,firstCol:a%t,lastCol:(c-1)%t,isStart:i.isStart&&a===o,isEnd:i.isEnd&&c-1===s}),a=c}}return r}},uu=class{constructor(){this.sliceBusinessHours=_e(this._sliceBusinessHours),this.sliceDateSelection=_e(this._sliceDateSpan),this.sliceEventStore=_e(this._sliceEventStore),this.sliceEventDrag=_e(this._sliceInteraction),this.sliceEventResize=_e(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...o){let{eventUiBases:s}=e,a=this.sliceEventStore(e.eventStore,s,t,i,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,s,r,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...o),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,t,i,...o),eventResize:this.sliceEventResize(e.eventResize,s,t,i,...o),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...o){return this._sliceDateSpan({range:{start:e,end:xs(e,1)},allDay:!1},t,i,{},r,...o)}_sliceBusinessHours(e,t,i,r,...o){return e?this._sliceEventStore(ru(e,Lb(t,!!i),r),{},t,i,...o).bg:[]}_sliceEventStore(e,t,i,r,...o){if(e){let s=$p(e,t,Lb(i,!!r),r);return{bg:this.sliceEventRanges(s.bg,o),fg:this.sliceEventRanges(s.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...o){if(!e)return null;let s=$p(e.mutatedEvents,t,Lb(i,!!r),r);return{segs:this.sliceEventRanges(s.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,o,...s){if(!e)return[];let a=Lb(t,!!i),l=xr(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=Pae(e,r,o),u=this.sliceRange(e.range,...s);for(let m of u)m.eventRange=c;return u}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:Qt(i.start,1)});let r=this.sliceRange(i,...t);for(let o of r)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return r}};function Lb(n,e){let t=n.activeRange;return e?t:{start:xs(t.start,n.slotMinTime.milliseconds),end:xs(t.end,n.slotMaxTime.milliseconds-864e5)}}function px(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!Gp(e.validRange,i[r].range))return!1;return TB({eventDrag:n},t)}function qT(n,e,t){return Gp(e.validRange,n.range)?TB({dateSelection:n},t):!1}function TB(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||IB)(i,e)}function IB(n,e,t={},i){return!(n.eventDrag&&!Wae(n,e,t,i)||n.dateSelection&&!Gae(n,e,t,i))}function Wae(n,e,t,i){let r=e.getCurrentData(),o=n.eventDrag,s=o.mutatedEvents,a=s.defs,l=s.instances,c=Gb(a,o.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(c=Kr(c,i));let u=mae(n.eventStore,o.affectedEvents.instances),m=u.defs,y=u.instances,v=Gb(m,n.eventUiBases);for(let w in l){let D=l[w],I=D.range,M=c[D.defId],q=a[D.defId];if(!kB(M.constraints,I,u,n.businessHours,e))return!1;let{eventOverlap:G}=e.options,N=typeof G=="function"?G:null;for(let Y in y){let fe=y[Y];if(rx(I,fe.range)&&(v[fe.defId].overlap===!1&&o.isEvent||M.overlap===!1||N&&!N(new Nt(e,m[fe.defId],fe),new Nt(e,q,D))))return!1}let X=r.eventStore;for(let Y of M.allows){let fe=Object.assign(Object.assign({},t),{range:D.range,allDay:q.allDay}),ve=X.defs[q.defId],lt=X.instances[w],wt;if(ve?wt=new Nt(e,ve,lt):wt=new Nt(e,q),!Y(TT(fe,e),wt))return!1}}return!0}function Gae(n,e,t,i){let r=n.eventStore,o=r.defs,s=r.instances,a=n.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(i&&(c=i(c)),!kB(c.constraints,l,r,n.businessHours,e))return!1;let{selectOverlap:u}=e.options,m=typeof u=="function"?u:null;for(let y in s){let v=s[y];if(rx(l,v.range)&&(c.overlap===!1||m&&!m(new Nt(e,o[v.defId],v),null)))return!1}for(let y of c.allows){let v=Object.assign(Object.assign({},t),a);if(!y(TT(v,e),null))return!1}return!0}function kB(n,e,t,i,r){for(let o of n)if(!Yae(Qae(o,e,t,i,r),e))return!1;return!0}function Qae(n,e,t,i,r){return n==="businessHours"?jA(ru(i,e,r)):typeof n=="string"?jA(lx(t,o=>o.groupId===n)):typeof n=="object"&&n?jA(ru(n,e,r)):[]}function jA(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function Yae(n,e){for(let t of n)if(Gp(t,e))return!0;return!1}var Bb=/^(visible|hidden)$/,Hp=class extends nt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Cr(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,o=["fc-scroller"];return t&&(i?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),O("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Bb.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Bb.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Bb.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Bb.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},Ki=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:o}=this,s=!1,a=!1;t!==null?(s=i in o,o[i]=t,r[i]=(r[i]||0)+1,a=!0):(r[i]-=1,r[i]||(delete o[i],delete this.callbackMap[i],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(i)),a&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return oB(this.currentMap,e,t,i)}getAll(){return ix(this.currentMap)}};function MB(n){let e=Q4(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,pse(i));return Math.ceil(t)}function UT(n,e){return n.liquid&&e.liquid}function NB(n,e){return e.maxHeight!=null||UT(n,e)}function RB(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):O("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,O(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function PB(n,e){return ws(n,e,Ji)}function OB(n,e){let t=[];for(let i of n){let r=i.span||1;for(let o=0;o<r;o+=1)t.push(O("col",{style:{width:i.width==="shrink"?FB(e):i.width||"",minWidth:i.minWidth||""}}))}return O("colgroup",{},...t)}function FB(n){return n??4}function LB(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function BB(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function VB(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Jp(n){return O("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function mu(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function r0(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}var cl=class extends nt{constructor(){super(...arguments),this.processCols=_e(e=>e,PB),this.renderMicroColGroup=_e(OB),this.scrollerRefs=new Ki,this.scrollerElRefs=new Ki(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],o=this.processCols(e.cols),s=this.renderMicroColGroup(o,t.shrinkWidth),a=BB(e.liquid,i);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=r.length,c=0,u,m=[],y=[],v=[];for(;c<l&&(u=r[c]).type==="header";)m.push(this.renderSection(u,s,!0)),c+=1;for(;c<l&&(u=r[c]).type==="body";)y.push(this.renderSection(u,s,!1)),c+=1;for(;c<l&&(u=r[c]).type==="footer";)v.push(this.renderSection(u,s,!0)),c+=1;let w=!PT(),D={role:"rowgroup"};return O("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!w&&m.length)&&O("thead",D,...m),!!(!w&&y.length)&&O("tbody",D,...y),!!(!w&&v.length)&&O("tfoot",D,...v),w&&O("tbody",D,...m,...y,...v))}renderSection(e,t,i){return"outerContent"in e?O(ot,{key:e.key},e.outerContent):O("tr",{key:e.key,role:"presentation",className:VB(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:o}=this,{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=NB(o,e),u=UT(o,e),m=o.liquid?s?"scroll":c?"auto":"hidden":"visible",y=e.key,v=RB(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&a[y]!==void 0?a[y]:null,clientHeight:l[y]!==void 0?l[y]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return O(r?"th":"td",{ref:i.elRef,role:"presentation"},O("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},O(Hp,{ref:this.scrollerRefs.createRef(y),elRef:this.scrollerElRefs.createRef(y),overflowY:m,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},v)))}_handleScrollerEl(e,t){let i=Zae(this.props.sections,t);i&&Cr(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return LB(this.props.cols)?MB(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=CB(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,o={},s={};for(let a in t.currentMap){let l=t.currentMap[a];if(l&&l.needsYScrolling()){r=!0;break}}for(let a of this.props.sections){let l=a.key,c=i.currentMap[l];if(c){let u=c.parentNode;o[l]=Math.floor(u.getBoundingClientRect().width-(r?e.y:0)),s[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:o,scrollerClientHeights:s}}};cl.addStateEquality({scrollerClientWidths:Ji,scrollerClientHeights:Ji});function Zae(n,e){for(let t of n)if(t.key===e)return t;return null}var ua=class extends nt{constructor(){super(...arguments),this.buildPublicEvent=_e((e,t,i)=>new Nt(e,t,i)),this.handleEl=e=>{this.el=e,Cr(this.props.elRef,e),e&&U4(e,this.props.seg)}}render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:o}=r,{ui:s}=o,a={event:this.buildPublicEvent(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&Sae(r,t),isStartResizable:!e.disableResizing&&Dae(r,t),isEndResizable:!e.disableResizing&&Aae(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return O(Cn,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Tae(a),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&U4(this.el,this.props.seg)}},ul=class extends nt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:o}=r.eventRange,s=i.eventTimeFormat||e.defaultTimeFormat,a=gl(r,s,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return O(ua,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:Yp(r,t),defaultGenerator:Xae,timeText:a}),(l,c)=>O(ot,null,O(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&O("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&O("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};ul.addPropsEquality({seg:Ji});function Xae(n){return O("div",{className:"fc-event-main-frame"},n.timeText&&O("div",{className:"fc-event-time"},n.timeText),O("div",{className:"fc-event-title-container"},O("div",{className:"fc-event-title fc-sticky"},n.event.title||O(ot,null,"\xA0"))))}var o0=n=>O(to.Consumer,null,e=>{let{options:t}=e,i={isAxis:n.isAxis,date:e.dateEnv.toDate(n.date),view:e.viewApi};return O(Cn,{elRef:n.elRef,elTag:n.elTag||"div",elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount},n.children)}),Jae=ft({day:"numeric"}),dl=class extends nt{constructor(){super(...arguments),this.refineRenderProps=Wp(Kae)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return O(Cn,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":fl(e.date)}),elClasses:[...Xp(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}};function Kp(n){return!!(n.dayCellContent||QA("dayCellContent",n))}function Kae(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,o=e0(e,n.todayRange,null,i),s=n.showDayNumber?t.format(e,r?n.monthStartFormat:Jae):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},o),{isMonthStart:r,dayNumberText:s}),n.extraRenderProps)}var du=class extends nt{render(){let{props:e}=this,{seg:t}=e;return O(ua,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:ele,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function ele(n){let{title:e}=n.event;return e&&O("div",{className:"fc-event-title"},n.event.title)}function s0(n){return O("div",{className:`fc-${n}`})}var a0=n=>O(to.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,o=i.weekNumberFormat||n.defaultFormat,s=t.computeWeekNumber(r),a=t.format(r,o),l={num:s,text:a,date:r};return O(Cn,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:tle,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},n.children)});function tle(n){return n.text}var qA=10,ZA=class extends nt{constructor(){super(...arguments),this.state={titleId:eo()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Cr(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=Xb(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,o=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return k4(O("div",Object.assign({},i.extraAttrs,{id:i.id,className:o.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),O("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},O("span",{className:"fc-popover-title",id:r.titleId},i.title),O("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),O("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,o=Uae(t);if(o){let s=r.getBoundingClientRect(),a=i?xn(t,".fc-scrollgrid").getBoundingClientRect().top:o.top,l=e?o.right-s.width:o.left;a=Math.max(a,qA),l=Math.min(l,document.documentElement.clientWidth-qA-s.width),l=Math.max(l,qA);let c=r.offsetParent.getBoundingClientRect();fu(r,{top:a-c.top,left:l-c.left})}}},XA=class extends Jn{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:o,dateProfile:s}=i,a=t.format(r,e.dayPopoverFormat);return O(dl,{elRef:this.handleRootEl,date:r,dateProfile:s,todayRange:o},(l,c,u)=>O(ZA,{elRef:u.ref,id:i.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},Kp(e)&&O(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:o,props:s}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}},pu=class extends nt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:eo()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Cr(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,o=$4(t).start;function s(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new Nt(i,l,c),start:i.dateEnv.toDate(u.start),end:i.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof r=="function"&&(r=r({date:o,allDay:!!t.allDayDate,allSegs:t.allSegs.map(s),hiddenSegs:t.hiddenSegs.map(s),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(o,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return O(to.Consumer,null,i=>{let{viewApi:r,options:o,calendarApi:s}=i,{moreLinkText:a}=o,{moreCnt:l}=e,c=$4(e),u=typeof a=="function"?a.call(s,l):`+${l} ${a}`,m=zp(o.moreLinkHint,[l],u),y={num:l,shortText:`+${l}`,text:u,view:r};return O(ot,null,!!e.moreCnt&&O(Cn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Z4(this.handleClick)),{title:m,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:y,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||nle,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),t.isPopoverOpen&&O(XA,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=xn(this.linkEl,".fc-view-harness"))}};function nle(n){return n.text}function $4(n){if(n.allDayDate)return{start:n.allDayDate,end:Qt(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:fx(e),end:rle(e)}}function fx(n){return n.reduce(ile).eventRange.range.start}function ile(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function rle(n){return n.reduce(ole).eventRange.range.end}function ole(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}var JA=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},qg=class extends JA{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}};var sle=[],WB={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},GB=Object.assign(Object.assign({},WB),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function ale(n){let e=n.length>0?n[0].code:"en",t=sle.concat(n),i={en:GB};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function QB(n,e){return typeof n=="object"&&!Array.isArray(n)?YB(n.code,[n.code],n):lle(n,e)}function lle(n,e){let t=[].concat(n||[]),i=cle(t,e)||GB;return YB(n,t,i)}function cle(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let o=i.slice(0,r).join("-");if(e[o])return e[o]}}return null}function YB(n,e,t){let i=nx([WB,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function er(n){return{id:da(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function ule(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(o){for(let s of o){let a=s.name,l=t[a];l===void 0?(t[a]=s.id,r(s.deps),i=ple(i,s)):l!==s.id&&console.warn(`Duplicate plugin '${a}'`)}}return n&&r(n),r(e),i}function dle(){let n=[],e=[],t;return(i,r)=>((!t||!ws(i,n)||!ws(r,e))&&(t=ule(i,r)),n=i,e=r,t)}function ple(n,e){return{premiumReleaseDate:fle(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function fle(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}var As=class extends la{};As.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};As.prototype.baseIconClass="fc-icon";As.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};As.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};As.prototype.iconOverrideOption="buttonIcons";As.prototype.iconOverrideCustomButtonOption="icon";As.prototype.iconOverridePrefix="fc-icon-";function hle(n,e){let t={},i;for(i in n)HT(i,t,n,e);for(i in e)HT(i,t,n,e);return t}function HT(n,e,t,i){if(e[n])return e[n];let r=mle(n,e,t,i);return r&&(e[n]=r),r}function mle(n,e,t,i){let r=t[n],o=i[n],s=u=>r&&r[u]!==null?r[u]:o&&o[u]!==null?o[u]:null,a=s("component"),l=s("superType"),c=null;if(l){if(l===n)throw new Error("Can't have a custom view type that references itself");c=HT(l,e,t,i)}return!a&&c&&(a=c.component),a?{type:n,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),o?o.rawOptions:{})}:null}function jB(n){return Kr(n,gle)}function gle(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=qB(e):t&&!(t.prototype instanceof nt)&&(t=qB(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function qB(n){return e=>O(to.Consumer,null,t=>O(Cn,{elTag:"div",elClasses:bT(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function vle(n,e,t,i){let r=jB(n),o=jB(e.views),s=hle(r,o);return Kr(s,a=>_le(a,o,e,t,i))}function _le(n,e,t,i,r){let o=n.overrides.duration||n.defaults.duration||i.duration||t.duration,s=null,a="",l="",c={};if(o&&(s=yle(o),s)){let y=Dg(s);a=y.unit,y.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=y=>{let v=y.buttonText||{},w=n.defaults.buttonTextKey;return w!=null&&v[w]!=null?v[w]:v[n.type]!=null?v[n.type]:v[l]!=null?v[l]:null},m=y=>{let v=y.buttonHints||{},w=n.defaults.buttonTextKey;return w!=null&&v[w]!=null?v[w]:v[n.type]!=null?v[n.type]:v[l]!=null?v[l]:null};return{type:n.type,component:n.component,duration:s,durationUnit:a,singleUnit:l,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},c),n.overrides),buttonTextOverride:u(i)||u(t)||n.overrides.buttonText,buttonTextDefault:u(r)||n.defaults.buttonText||u(hl)||n.type,buttonTitleOverride:m(i)||m(t)||n.overrides.buttonHint,buttonTitleDefault:m(r)||n.defaults.buttonHint||m(hl)}}var UB={};function yle(n){let e=JSON.stringify(n),t=UB[e];return t===void 0&&(t=Ze(n),UB[e]=t),t}function ble(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function xle(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function Cle(n,e,t){let i=n.initialDate;return i!=null?e.createMarker(i):t.getDateMarker()}function wle(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function Ele(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function Sle(n,e,t){let i=e?e.activeRange:null;return XB({},Nle(n,t),i,t)}function Dle(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return XB(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return Tle(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?JB(n,r,i):n;case"FETCH_EVENT_SOURCES":return KT(n,e.sourceIds?vT(e.sourceIds):KB(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Mle(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function Ale(n,e,t){let i=e?e.activeRange:null;return KT(n,KB(n,t),i,!0,t)}function ZB(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function XB(n,e,t,i){let r={};for(let o of e)r[o.sourceId]=o;return t&&(r=JB(r,t,i)),Object.assign(Object.assign({},n),r)}function Tle(n,e){return aa(n,t=>t.sourceId!==e)}function JB(n,e,t){return KT(n,aa(n,i=>Ile(i,e,t)),e,!1,t)}function Ile(n,e,t){return eV(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function KT(n,e,t,i,r){let o={};for(let s in n){let a=n[s];e[s]?o[s]=kle(a,t,i,r):o[s]=a}return o}function kle(n,e,t,i){let{options:r,calendarApi:o}=i,s=i.pluginHooks.eventSourceDefs[n.sourceDefId],a=da();return s.fetch({eventSource:n,range:e,isRefetch:t,context:i},l=>{let{rawEvents:c}=l;r.eventSourceSuccess&&(c=r.eventSourceSuccess.call(o,c,l.response)||c),n.success&&(c=n.success.call(o,c,l.response)||c),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(o,l),c=!0),n.failure&&(n.failure(l),c=!0),c||console.warn(l.message,l),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:a})}function Mle(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function KB(n,e){return aa(n,t=>eV(t,e))}function Nle(n,e){let t=ST(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let o of i){let s=ET(o,e,t);s&&r.push(s)}return r}function eV(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function Rle(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function Ple(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function Ole(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Fle(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Lle(n,e,t,i,r){let o=n.headerToolbar?$B(n.headerToolbar,n,e,t,i,r):null,s=n.footerToolbar?$B(n.footerToolbar,n,e,t,i,r):null;return{header:o,footer:s}}function $B(n,e,t,i,r,o){let s={},a=[],l=!1;for(let c in n){let u=n[c],m=Ble(u,e,t,i,r,o);s[c]=m.widgets,a.push(...m.viewsWithButtons),l=l||m.hasTitle}return{sectionWidgets:s,viewsWithButtons:a,hasTitle:l}}function Ble(n,e,t,i,r,o){let s=e.direction==="rtl",a=e.customButtons||{},l=t.buttonText||{},c=e.buttonText||{},u=t.buttonHints||{},m=e.buttonHints||{},y=n?n.split(" "):[],v=[],w=!1;return{widgets:y.map(I=>I.split(",").map(M=>{if(M==="title")return w=!0,{buttonName:M};let q,G,N,X,Y,fe;if(q=a[M])N=ve=>{q.click&&q.click.call(ve.target,ve,ve.target)},(X=i.getCustomButtonIconClass(q))||(X=i.getIconClass(M,s))||(Y=q.text),fe=q.hint||q.text;else if(G=r[M]){v.push(M),N=()=>{o.changeView(M)},(Y=G.buttonTextOverride)||(X=i.getIconClass(M,s))||(Y=G.buttonTextDefault);let ve=G.buttonTextOverride||G.buttonTextDefault;fe=zp(G.buttonTitleOverride||G.buttonTitleDefault||e.viewHint,[ve,M],ve)}else if(o[M])if(N=()=>{o[M]()},(Y=l[M])||(X=i.getIconClass(M,s))||(Y=c[M]),M==="prevYear"||M==="nextYear"){let ve=M==="prevYear"?"prev":"next";fe=zp(u[ve]||m[ve],[c.year||"year","year"],c[M])}else fe=ve=>zp(u[M]||m[M],[c[ve]||ve,ve],c[M]);return{buttonName:M,buttonClick:N,buttonIcon:X,buttonText:Y,buttonHint:fe}})),viewsWithButtons:v,hasTitle:w}}var zT=class{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},Vle={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}},jle=er({name:"array-event-source",eventSourceDefs:[Vle]}),qle={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){let{dateEnv:i}=n.context,r=n.eventSource.meta;NT(r.bind(null,MT(n.range,i)),o=>e({rawEvents:o}),t)}},Ule=er({name:"func-event-source",eventSourceDefs:[qle]}),$le={method:String,extraParams:z,startParam:String,endParam:String,timeZoneParam:String},Hle={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){let{meta:i}=n.eventSource,r=Wle(i,n.range,n.context);RT(i.method,i.url,r).then(([o,s])=>{e({rawEvents:o,response:s})},t)}},zle=er({name:"json-event-source",eventSourceRefiners:$le,eventSourceDefs:[Hle]});function Wle(n,e,t){let{dateEnv:i,options:r}=t,o,s,a,l,c={};return o=n.startParam,o==null&&(o=r.startParam),s=n.endParam,s==null&&(s=r.endParam),a=n.timeZoneParam,a==null&&(a=r.timeZoneParam),typeof n.extraParams=="function"?l=n.extraParams():l=n.extraParams||{},Object.assign(c,l),c[o]=i.formatIso(e.start),c[s]=i.formatIso(e.end),i.timeZone!=="local"&&(c[a]=i.timeZone),c}var Gle={daysOfWeek:z,startTime:Ze,endTime:Ze,duration:Ze,startRecur:z,endRecur:z},Qle={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=tB(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=xr(e,{start:n.startRecur,end:n.endRecur});return i?Zle(n.daysOfWeek,n.startTime,n.dateEnv,t,i):[]}},Yle=er({name:"simple-recurring-event",recurringTypes:[Qle],eventRefiners:Gle});function Zle(n,e,t,i,r){let o=n?vT(n):null,s=dt(r.start),a=r.end,l=[];for(e&&(e.milliseconds<0?a=Qt(a,1):e.milliseconds>=1e3*60*60*24&&(s=Qt(s,-1)));s<a;){let c;(!o||o[s.getUTCDay()])&&(e?c=i.add(s,e):c=s,l.push(i.createMarker(t.toDate(c)))),s=Qt(s,1)}return l}var Xle=er({name:"change-handler",optionChangeHandlers:{events(n,e){HB([n],e)},eventSources:HB}});function HB(n,e){let t=ix(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let o=!1;for(let s=0;s<t.length;s+=1)if(t[s]._raw===r){t.splice(s,1),o=!0;break}o||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function Jle(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},MT(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function Kle(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Ss(n,e))}var ece=[jle,Ule,zle,Yle,Xle,er({name:"misc",isLoadingFuncs:[n=>ZB(n.eventSources)],propSetHandlers:{dateProfile:Jle,eventStore:Kle}})],WT=class{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new nu(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function tce(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,ft(e.titleFormat||nce(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function nce(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Up(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var hx=class{constructor(){this.resetListeners=new Set}handleInput(e,t){let i=this.dateEnv;if(e!==i&&(typeof t=="function"?this.nowFn=t:i||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(let r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}},GT=class{constructor(e){this.computeCurrentViewData=_e(this._computeCurrentViewData),this.organizeRawLocales=_e(ale),this.buildLocale=_e(QB),this.buildPluginHooks=dle(),this.buildDateEnv=_e(ice),this.buildTheme=_e(rce),this.parseToolbars=_e(Lle),this.buildViewSpecs=_e(vle),this.buildDateProfileGenerator=Wp(oce),this.buildViewApi=_e(sce),this.buildViewUiProps=Wp(cce),this.buildEventUiBySource=_e(ace,Ji),this.buildEventUiBases=_e(lce),this.parseContextBusinessHours=Wp(uce),this.buildTitle=_e(tce),this.nowManager=new hx,this.emitter=new ca,this.actionRunner=new WT(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=y=>{this.actionRunner.request(y)},this.props=e,this.actionRunner.pause(),this.nowManager=new hx;let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,o=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let s={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=Cle(i.calendarOptions,i.dateEnv,this.nowManager),l=o.dateProfileGenerator.build(a);Jr(l.activeRange,a)||(a=l.currentRange.start);for(let y of i.pluginHooks.contextInit)y(s);let c=Sle(i.calendarOptions,l,s),u={dynamicOptionOverrides:t,currentViewType:r,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:c,eventUiBases:{},eventStore:hi(),renderableEventStore:hi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},m=Object.assign(Object.assign({},s),u);for(let y of i.pluginHooks.reducers)Object.assign(u,y(null,null,m));$T(u,s)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,o=wle(i.dynamicOptionOverrides,e),s=this.computeOptionsData(t.optionOverrides,o,t.calendarApi),a=ble(i.currentViewType,e),l=this.computeCurrentViewData(a,s,t.optionOverrides,o);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:m}=i;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(m=l.dateProfileGenerator.build(u)),u=xle(u,e),m=Ele(m,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Jr(m.currentRange,u))&&(u=m.currentRange.start);let y=Dle(i.eventSources,e,m,c),v=hB(i.eventStore,e,y,m,c),D=ZB(y)&&!l.options.progressiveEventRendering&&i.renderableEventStore||v,{eventUiSingleBase:I,selectionConfig:M}=this.buildViewUiProps(c),q=this.buildEventUiBySource(y),G=this.buildEventUiBases(D.defs,I,q),N={dynamicOptionOverrides:o,currentViewType:a,currentDate:u,dateProfile:m,eventSources:y,eventStore:v,renderableEventStore:D,selectionConfig:M,eventUiBases:G,businessHours:this.parseContextBusinessHours(c),dateSelection:Rle(i.dateSelection,e),eventSelection:Ple(i.eventSelection,e),eventDrag:Ole(i.eventDrag,e),eventResize:Fle(i.eventResize,e)},X=Object.assign(Object.assign({},c),N);for(let ve of s.pluginHooks.reducers)Object.assign(N,ve(i,e,X));let Y=$T(i,c),fe=$T(N,c);!Y&&fe?r.trigger("loading",!0):Y&&!fe&&r.trigger("loading",!1),this.state=N,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,o.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),o),t),a=r.pluginHooks.optionChangeHandlers,l=i&&i.calendarOptions,c=r.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(t.eventSources=s.eventSources=Ale(s.eventSources,t.dateProfile,s),t.eventStore=s.eventStore=DT(s.eventStore,i.dateEnv,s.dateEnv),t.renderableEventStore=s.renderableEventStore=DT(s.renderableEventStore,i.dateEnv,s.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:o,localeDefaults:s,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,t);zB(l);let c=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,o,a,r.defaultRangeSeparator),u=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),m=this.buildTheme(r,o),y=this.parseToolbars(r,this.stableOptionOverrides,m,u,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:o,dateEnv:c,viewSpecs:u,theme:m,toolbarConfig:y,localeDefaults:s,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=ex([hl,e,t]),o=this.organizeRawLocales(i),s=o.map,a=this.buildLocale(r||o.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],ece),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hT),mT),gT),l.listenerRefiners),l.optionRefiners),u={},m=ex([hl,a,e,t]),y={},v=this.currentCalendarOptionsInput,w=this.currentCalendarOptionsRefined,D=!1;for(let I in m)this.optionsForRefining.indexOf(I)===-1&&(m[I]===v[I]||ml[I]&&I in v&&ml[I](v[I],m[I]))?y[I]=w[I]:c[I]?(y[I]=c[I](m[I]),D=!0):u[I]=v[I];return D&&(this.currentCalendarOptionsInput=m,this.currentCalendarOptionsRefined=y,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:o,localeDefaults:a,extra:u}}_computeCurrentViewData(e,t,i,r){let o=t.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:a}=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,i,r);zB(a),this.nowManager.handleInput(t.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:o,options:s,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,t,i,r,o){let s=ex([hl,e.optionDefaults,i,r,e.optionOverrides,o]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hT),mT),gT),rB),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,m=!1,y={};for(let v in s)s[v]===c[v]||ml[v]&&ml[v](s[v],c[v])?l[v]=u[v]:(s[v]===this.currentCalendarOptionsInput[v]||ml[v]&&ml[v](s[v],this.currentCalendarOptionsInput[v])?v in this.currentCalendarOptionsRefined&&(l[v]=this.currentCalendarOptionsRefined[v]):a[v]?l[v]=a[v](s[v]):y[v]=s[v],m=!0);return m&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:y}}};function ice(n,e,t,i,r,o,s,a){let l=QB(e||s.defaultCode,s.map);return new Ag({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:o.cmdFormatter,defaultSeparator:a})}function rce(n,e){let t=e.themeClasses[n.themeSystem]||As;return new t(n)}function oce(n){let e=n.dateProfileGeneratorClass||iu;return new e(n)}function sce(n,e,t){return new zT(n,e,t)}function ace(n){return Kr(n,e=>e.ui)}function lce(n,e,t){let i={"":e};for(let r in n){let o=n[r];o.sourceId&&t[o.sourceId]&&(i[r]=t[o.sourceId])}return i}function cce(n){let{options:e}=n;return{eventUiSingleBase:Qp({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Qp({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function $T(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function uce(n){return AT(n.options.businessHours,n)}function zB(n,e){for(let t in n)console.warn(`Unknown option '${t}'`+(e?` for view '${e}'`:""))}var QT=class extends nt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return O("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],o=!0;for(let s of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:m}=s;if(a==="title")o=!1,r.push(O("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let y=a===t.activeButton,v=!t.isTodayEnabled&&a==="today"||!t.isPrevEnabled&&a==="prev"||!t.isNextEnabled&&a==="next",w=[`fc-${a}-button`,i.getClass("button")];y&&w.push(i.getClass("buttonActive")),r.push(O("button",{type:"button",title:typeof m=="function"?m(t.navUnit):m,disabled:v,"aria-pressed":y,className:w.join(" "),onClick:l},c||(u?O("span",{className:u,role:"img"}):"")))}}if(r.length>1){let s=o&&i.getClass("buttonGroup")||"";return O("div",{className:s},...r)}return r[0]}},mx=class extends nt{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,o,s=e.sectionWidgets,a=s.center;return s.left?(i=!0,r=s.left):r=s.start,s.right?(i=!0,o=s.right):o=s.end,O("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",a||[]),this.renderSection("end",o||[]))}renderSection(e,t){let{props:i}=this;return O(QT,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}},YT=class extends nt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Cr(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",s="";return i?t.availableWidth!==null?o=t.availableWidth/i:s=`${1/i*100}%`:o=e.height||"",O("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:o,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},ZT=class extends ko{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:o}=r,s=pa(i);if(s&&r.isValidSegDownEl(t.target)){let a=xn(t.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:i,event:new Nt(r.context,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=tT(e.el,"click",".fc-event",this.handleSegClick)}},XT=class extends ko{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{pa(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=Y4(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:o}=r,s=pa(i);(!t||r.isValidSegDownEl(t.target))&&o.emitter.trigger(e,{el:i,event:new Nt(o,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi})}},JT=class extends Qg{constructor(){super(...arguments),this.buildViewContext=_e(cB),this.buildViewPropTransformers=_e(pce),this.buildToolbarProps=_e(dce),this.headerRef=dn(),this.footerRef=dn(),this.interactionsStore={},this.state={viewLabelId:eo()},this.registerInteractiveComponent=(e,t)=>{let i=bB(e,t),s=[ZT,XT].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(i));this.interactionsStore[e.uid]=s,Zp[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete Zp[e.uid]},this.resizeRunner=new nu(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=!1,o="",s;e.isHeightAuto||e.forPrint?o="":i.height!=null?r=!0:i.contentHeight!=null?o=i.contentHeight:s=Math.max(i.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return O(to.Provider,{value:a},O(No,{unit:"day"},c=>{let u=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return O(ot,null,t.header&&O(mx,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:l},u)),O(YT,{liquid:r,height:o,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),t.footer&&O(mx,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},u)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return O(ot,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(t.viewPropsTransformers);for(let a of o)Object.assign(r,a.transform(r,e));let s=i.component;return O(s,Object.assign({},r))}};function dce(n,e,t,i,r,o){let s=t.build(r,void 0,!1),a=t.buildPrev(e,i,!1),l=t.buildNext(e,i,!1);return{title:o,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:s.isValid&&!Jr(e.currentRange,r),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function pce(n){return n.map(e=>new e)}var gx=class extends Pg{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Tg(()=>{rl(O(Rg,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,o,s,a)=>(this.setClassNames(r),this.setHeight(o),O(yT.Provider,{value:this.customContentRenderId},O(JT,Object.assign({isHeightAuto:s,forPrint:a},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,rl(null,this.el),this.setClassNames([]),this.setHeight(""))},z4(e),this.el=e,this.renderRunner=new nu(this.handleRenderRequest),new GT({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Tg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!ws(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){eT(this.el,"height",e)}};var hce=["*"],mce=["rootEl"],tf=n=>({$implicit:n});function gce(n,e){if(n&1&&(p(0,"div",2,0),ta(2,3),f()),n&2){let t=b();T("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),d(2),T("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Rn(4,tf,t.renderProps))}}function vce(n,e){if(n&1&&(p(0,"span",2,0),ta(2,3),f()),n&2){let t=b();T("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),d(2),T("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Rn(4,tf,t.renderProps))}}function _ce(n,e){if(n&1&&(p(0,"a",2,0),ta(2,3),f()),n&2){let t=b();T("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),d(2),T("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Rn(4,tf,t.renderProps))}}function yce(n,e){if(n&1&&(p(0,"tr",2,0),ta(2,3),f()),n&2){let t=b();T("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),d(2),T("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Rn(4,tf,t.renderProps))}}function bce(n,e){if(n&1&&(p(0,"th",2,0),ta(2,3),f()),n&2){let t=b();T("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),d(2),T("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Rn(4,tf,t.renderProps))}}function xce(n,e){if(n&1&&(p(0,"td",2,0),ta(2,3),f()),n&2){let t=b();T("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),d(2),T("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Rn(4,tf,t.renderProps))}}var Cce=["dayHeaderContent"],wce=["dayCellContent"],Ece=["weekNumberContent"],Sce=["nowIndicatorContent"],Dce=["eventContent"],Ace=["slotLaneContent"],Tce=["slotLabelContent"],Ice=["allDayContent"],kce=["moreLinkContent"],Mce=["noEventsContent"],Nce=["resourceAreaHeaderContent"],Rce=["resourceGroupLabelContent"],Pce=["resourceLabelContent"],Oce=["resourceLaneContent"],Fce=["resourceGroupLaneContent"];function Lce(n,e){if(n&1&&k(0,"transport-container",1),n&2){let t=e.$implicit;T("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",t.generatorMeta)("renderProps",t.renderProps)}}var tV={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},Bce=["events","eventSources","resources"],Vce=Object.prototype.hasOwnProperty;function _x(n){return Array.isArray(n)?n.map(_x):n instanceof Date?new Date(n.valueOf()):typeof n=="object"&&n?iV(n,_x):n}function iV(n,e){let t={};for(let i in n)Vce.call(n,i)&&(t[i]=e(n[i],i));return t}function tI(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,i,r;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!tI(n[i],e[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){var o=r[i];if(!tI(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}var vx=typeof document<"u"?document.createDocumentFragment():null,jce=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){vx&&vx.appendChild(this.element.nativeElement)}ngOnDestroy(){vx&&vx.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(be(kn))},n.\u0275cmp=pe({type:n,selectors:[["offscreen-fragment"]],standalone:!1,ngContentSelectors:hce,decls:1,vars:0,template:function(t,i){t&1&&(Nm(),Rm(0))},encapsulation:2}),n})(),ef=typeof document<"u"?document.createDocumentFragment():null,qce=(()=>{class n{ngAfterViewInit(){let t=this.rootElRef?.nativeElement;nV(t,this.inPlaceOf),eI(t,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(t)}ngOnChanges(t){let i=this.rootElRef?.nativeElement;if(i)if(this.inPlaceOf.parentNode!==ef)nV(i,this.inPlaceOf),eI(i,void 0,this.elAttrs),this.reportEl(i);else{let r=t.elAttrs;r&&eI(i,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===ef&&ef&&ef.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pe({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(t&1&&Nc(mce,5),t&2){let r;Jt(r=Kt())&&(i.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},standalone:!1,features:[Qa],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&de(0,gce,3,6,"ng-template",1)(1,vce,3,6,"ng-template",1)(2,_ce,3,6,"ng-template",1)(3,yce,3,6,"ng-template",1)(4,bce,3,6,"ng-template",1)(5,xce,3,6,"ng-template",1),t&2&&(T("ngIf",i.elTag=="div"),d(),T("ngIf",i.elTag=="span"),d(),T("ngIf",i.elTag=="a"),d(),T("ngIf",i.elTag=="tr"),d(),T("ngIf",i.elTag=="th"),d(),T("ngIf",i.elTag=="td"))},dependencies:[bn,Ao,UD,$D],encapsulation:2}),n})();function nV(n,e){e.parentNode?.insertBefore(n,e.nextSibling),ef&&ef.appendChild(e)}function eI(n,e={},t={}){for(let i in e)i in t||(n[i]=null);for(let i in t)n[i]=t[i]}var rV=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map;let r=new qg;r.subscribe(o=>{this.customRenderingMap=o,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=r.handle.bind(r)}ngAfterViewInit(){let{deepChangeDetection:t}=this,i=B(B({},this.options),this.buildInputOptions());this.optionSnapshot=iV(i,(a,l)=>t&&tV[l]?_x(a):a);let r=this.element.nativeElement,o=this.calendar=new gx(r,B(B({},i),this.buildExtraOptions())),s=r.closest("ion-content");s&&s.componentOnReady?s.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{o.render()})}):o.render(),setTimeout(()=>o.updateSize())}ngDoCheck(){if(this.calendar){let{deepChangeDetection:t,optionSnapshot:i}=this,r=B(B({},this.options),this.buildInputOptions()),o={},s=[];for(let l in r)if(r.hasOwnProperty(l)){let c=r[l];t&&tV[l]?tI(i[l],c)||(i[l]=_x(c),s.push(l)):i[l]!==c&&(i[l]=c,s.push(l)),o[l]=c}let a=Object.keys(i);for(let l of a)l in r||(delete i[l],s.push(l));s.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(B(B({},o),this.buildExtraOptions()),s))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let t={};for(let i of Bce){let r=this[i];r!=null&&(t[i]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this,customRenderingReplaces:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(be(kn),be(Oc))},n.\u0275cmp=pe({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,r){if(t&1&&(Yn(r,Cce,7),Yn(r,wce,7),Yn(r,Ece,7),Yn(r,Sce,7),Yn(r,Dce,7),Yn(r,Ace,7),Yn(r,Tce,7),Yn(r,Ice,7),Yn(r,kce,7),Yn(r,Mce,7),Yn(r,Nce,7),Yn(r,Rce,7),Yn(r,Pce,7),Yn(r,Oce,7),Yn(r,Fce,7)),t&2){let o;Jt(o=Kt())&&(i.dayHeaderContent=o.first),Jt(o=Kt())&&(i.dayCellContent=o.first),Jt(o=Kt())&&(i.weekNumberContent=o.first),Jt(o=Kt())&&(i.nowIndicatorContent=o.first),Jt(o=Kt())&&(i.eventContent=o.first),Jt(o=Kt())&&(i.slotLaneContent=o.first),Jt(o=Kt())&&(i.slotLabelContent=o.first),Jt(o=Kt())&&(i.allDayContent=o.first),Jt(o=Kt())&&(i.moreLinkContent=o.first),Jt(o=Kt())&&(i.noEventsContent=o.first),Jt(o=Kt())&&(i.resourceAreaHeaderContent=o.first),Jt(o=Kt())&&(i.resourceGroupLabelContent=o.first),Jt(o=Kt())&&(i.resourceLabelContent=o.first),Jt(o=Kt())&&(i.resourceLaneContent=o.first),Jt(o=Kt())&&(i.resourceGroupLaneContent=o.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},standalone:!1,decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){t&1&&(p(0,"offscreen-fragment"),de(1,Lce,1,8,"transport-container",0),f()),t&2&&(d(),T("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[jce,qce,Pn],encapsulation:2}),n})(),oV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ls({type:n}),n.\u0275inj=vo({imports:[[me]]}),n})();var nI=class extends Jn{constructor(){super(...arguments),this.headerElRef=dn()}renderSimpleLayout(e,t){let{props:i,context:r}=this,o=[],s=mu(r.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),O(Io,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},O(cl,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,i,r){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:s,context:a}=this,l=!s.forPrint&&mu(a.options),c=!s.forPrint&&r0(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Jp}]}),O(Io,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},O(o,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:u}))}};function bx(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function yx(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function sV(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}var aV=ft({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function lV(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var xx=class extends nt{render(){let{props:e}=this;return O(ul,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:aV,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},Cx=class extends nt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,o=i.eventTimeFormat||aV,s=gl(r,o,t,!0,e.defaultDisplayEventEnd);return O(ua,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Yp(e.seg,t),defaultGenerator:$ce,timeText:s,isResizing:!1,isDateSelecting:!1}))}};function $ce(n){return O(ot,null,O("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&O("div",{className:"fc-event-time"},n.timeText),O("div",{className:"fc-event-title"},n.event.title||O(ot,null,"\xA0")))}var iI=class extends nt{constructor(){super(...arguments),this.compileSegs=_e(Hce)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return O(pu,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return O(ot,null,t.map(o=>{let s=o.eventRange.instance.instanceId;return O("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:r[s]?"hidden":""}},lV(o)?O(Cx,Object.assign({seg:o,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},wr(o,e.todayRange))):O(xx,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},wr(o,e.todayRange))))}))}})}};function Hce(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}var zce=ft({week:"narrow"}),rI=class extends Jn{constructor(){super(...arguments),this.rootElRef=dn(),this.state={dayNumberId:eo()},this.handleRootEl=e=>{Cr(this.rootElRef,e),Cr(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:o,dateEnv:s}=e,{date:a,dateProfile:l}=t,c=t.showDayNumber&&Gce(a,l.currentRange,s);return O(dl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Wce,date:a,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},(u,m)=>O("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&O(a0,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Ds(e,a,"week"),date:a,defaultFormat:zce}),!m.isDisabled&&(t.showDayNumber||Kp(o)||t.forceDayTop)?O("div",{className:"fc-daygrid-day-top"},O(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Ds(e,a)),{id:i.dayNumberId})})):t.showDayNumber?O("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},O("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,O("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,O("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},O(iI,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),O("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function Wce(n){return n.dayNumberText||O(ot,null,"\xA0")}function Gce(n,e,t){let{start:i,end:r}=e,o=xs(r,-1),s=t.getYear(i),a=t.getMonth(i),l=t.getYear(o),c=t.getMonth(o);return!(s===l&&a===c)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function cV(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function uV(n){return cV(n)+":"+n.lastCol}function Qce(n,e,t,i,r,o,s){let a=new oI(M=>{let q=n[M.index].eventRange.instance.instanceId+":"+M.span.start+":"+(M.span.end-1);return r[q]||1});a.allowReslicing=!0,a.strictOrder=i,e===!0||t===!0?(a.maxCoord=o,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof t=="number"&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let l=[],c=[];for(let M=0;M<n.length;M+=1){let q=n[M],G=uV(q);r[G]!=null?l.push({index:M,span:{start:q.firstCol,end:q.lastCol+1}}):c.push(q)}let u=a.addSegs(l),m=a.toRects(),{singleColPlacements:y,multiColPlacements:v,leftoverMargins:w}=Yce(m,n,s),D=[],I=[];for(let M of c){v[M.firstCol].push({seg:M,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let q=M.firstCol;q<=M.lastCol;q+=1)y[q].push({seg:nf(M,q,q+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<s.length;M+=1)D.push(0);for(let M of u){let q=n[M.index],G=M.span;v[G.start].push({seg:nf(q,G.start,G.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let N=G.start;N<G.end;N+=1)D[N]+=1,y[N].push({seg:nf(q,N,N+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<s.length;M+=1)I.push(w[M]);return{singleColPlacements:y,multiColPlacements:v,moreCnts:D,moreMarginTops:I}}function Yce(n,e,t){let i=Zce(n,t.length),r=[],o=[],s=[];for(let a=0;a<t.length;a+=1){let l=i[a],c=[],u=0,m=0;for(let v of l){let w=e[v.index];c.push({seg:nf(w,a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-u}),u=v.levelCoord+v.thickness}let y=[];u=0,m=0;for(let v of l){let w=e[v.index],D=v.span.end-v.span.start>1,I=v.span.start===a;m+=v.levelCoord-u,u=v.levelCoord+v.thickness,D?(m+=v.thickness,I&&y.push({seg:nf(w,v.span.start,v.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):I&&(y.push({seg:nf(w,v.span.start,v.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:m}),m=0)}r.push(c),o.push(y),s.push(m)}return{singleColPlacements:r,multiColPlacements:o,leftoverMargins:s}}function Zce(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function nf(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,o=r.range,s=xr(o,{start:i[e].date,end:Qt(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:s},isStart:n.isStart&&s.start.valueOf()===o.start.valueOf(),isEnd:n.isEnd&&s.end.valueOf()===o.end.valueOf()})}var oI=class extends su{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:i}=this,r=o=>!this.forceHidden[Cs(o)];for(let o=0;o<i.length;o+=1)i[o]=i[o].filter(r);return t}handleInvalidInsertion(e,t,i){let{entriesByLevel:r,forceHidden:o}=this,{touchingEntry:s,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&s){let c=Cs(s);if(!o[c])if(this.allowReslicing){let u=Object.assign(Object.assign({},s),{span:n0(s.span,t.span)}),m=Cs(u);o[m]=!0,r[a][l]=u,i.push(u),this.splitEntry(s,t,i)}else o[c]=!0,i.push(s)}super.handleInvalidInsertion(e,t,i)}},wx=class extends Jn{constructor(){super(...arguments),this.cellElRefs=new Ki,this.frameElRefs=new Ki,this.fgElRefs=new Ki,this.segHarnessRefs=new Ki,this.rootElRef=dn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,o=e.cells.length,s=yx(e.businessHourSegs,o),a=yx(e.bgEventSegs,o),l=yx(this.getHighlightSegs(),o),c=yx(this.getMirrorSegs(),o),{singleColPlacements:u,multiColPlacements:m,moreCnts:y,moreMarginTops:v}=Qce(hu(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),w=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return O("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((D,I)=>{let M=this.renderFgSegs(I,e.forPrint?u[I]:m[I],e.todayRange,w),q=this.renderFgSegs(I,Xce(c[I],m),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return O(rI,{key:D.key,elRef:this.cellElRefs.createRef(D.key),innerElRef:this.frameElRefs.createRef(D.key),dateProfile:e.dateProfile,date:D.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&I===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:D.extraRenderProps,extraDataAttrs:D.extraDataAttrs,extraClassNames:D.extraClassNames,extraDateSpan:D.extraDateSpan,moreCnt:y[I],moreMarginTop:v[I],singlePlacements:u[I],fgContentElRef:this.fgElRefs.createRef(D.key),fgContent:O(ot,null,O(ot,null,M),O(ot,null,q)),bgContent:O(ot,null,this.renderFillSegs(l[I],"highlight"),this.renderFillSegs(s[I],"non-business"),this.renderFillSegs(a[I],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!Ji(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,o,s,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,m=this.props.cells.length===1,y=o||s||a,v=[];if(u)for(let w of t){let{seg:D}=w,{instanceId:I}=D.eventRange.instance,M=w.isVisible&&!r[I],q=w.isAbsolute,G="",N="";q&&(l.isRtl?(N=0,G=u.lefts[D.lastCol]-u.lefts[D.firstCol]):(G=0,N=u.rights[D.firstCol]-u.rights[D.lastCol])),v.push(O("div",{className:"fc-daygrid-event-harness"+(q?" fc-daygrid-event-harness-abs":""),key:cV(D),ref:y?null:this.segHarnessRefs.createRef(uV(D)),style:{visibility:M?"":"hidden",marginTop:q?"":w.marginTop,top:q?w.absoluteTop:"",left:G,right:N}},lV(D)?O(Cx,Object.assign({seg:D,isDragging:o,isSelected:I===c,defaultDisplayEventEnd:m},wr(D,i))):O(xx,Object.assign({seg:D,isDragging:o,isResizing:s,isDateSelecting:a,isSelected:I===c,defaultDisplayEventEnd:m},wr(D,i)))))}return v}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:o}=this.state,s=[];if(o)for(let a of e){let l=i?{right:0,left:o.lefts[a.lastCol]-o.lefts[a.firstCol]}:{left:0,right:o.rights[a.firstCol]-o.rights[a.lastCol]};s.push(O("div",{key:Jg(a.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?O(du,Object.assign({seg:a},wr(a,r))):s0(t)))}return O(ot,{},...s)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(c=>r.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new Mo(c,l,!0,!1);(!i.framePositions||!i.framePositions.similarTo(u))&&this.setState({framePositions:new Mo(c,l,!0,!1)})}}let o=this.state.segHeights,s=this.querySegHeights(),a=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),s),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};wx.addStateEquality({segHeights:Ji});function Xce(n,e){if(!n.length)return[];let t=Jce(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function Jce(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}var sI=class extends Jn{constructor(){super(...arguments),this.splitBusinessHourSegs=_e(bx),this.splitBgEventSegs=_e(Kce),this.splitFgEventSegs=_e(bx),this.splitDateSelectionSegs=_e(bx),this.splitEventDrag=_e(sV),this.splitEventResize=_e(sV),this.rowRefs=new Ki}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),s=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitDateSelectionSegs(e.dateSelectionSegs,i),l=this.splitEventDrag(e.eventDrag,i),c=this.splitEventResize(e.eventResize,i),u=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return O(No,{unit:"day"},(m,y)=>O(ot,null,e.cells.map((v,w)=>O(wx,{ref:this.rowRefs.createRef(w),key:v.length?v[0].date.toISOString():w,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:y,dateProfile:e.dateProfile,cells:v,renderIntro:e.renderRowIntro,businessHourSegs:r[w],eventSelection:e.eventSelection,bgEventSegs:o[w],fgEventSegs:s[w],dateSelectionSegs:a[w],eventDrag:l[w],eventResize:c[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Mo(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Mo(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,o=i.leftToIndex(e),s=r.topToIndex(t);if(s!=null&&o!=null){let a=this.props.cells[s][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,o),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(s,o),rect:{left:i.lefts[o],right:i.rights[o],top:r.tops[s],bottom:r.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=Qt(i,1);return{start:i,end:r}}};function Kce(n,e){return bx(n.filter(eue),e)}function eue(n){return n.eventRange.def.allDay}var aI=class extends Jn{constructor(){super(...arguments),this.elRef=dn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,o=i===!0||t===!0;o&&!r&&(o=!1,t=null,i=null);let s=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return O("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},O("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,O("tbody",{role:"presentation"},O(sI,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=tue(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function tue(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${dT(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${fl(e.currentDate)}"]`)),t}var lI=class extends uu{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},l0=class extends Jn{constructor(){super(...arguments),this.slicer=new lI,this.tableRef=dn()}render(){let{props:e,context:t}=this;return O(aI,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},Ex=class extends nI{constructor(){super(...arguments),this.buildDayTableModel=_e(nue),this.headerRef=dn(),this.tableRef=dn()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),o=e.dayHeaders&&O(au,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),s=a=>O(l0,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,s,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,s)}};function nue(n,e){let t=new lu(n.renderRange,e);return new cu(t,/year|month|week/.test(n.currentRangeUnit))}var Sx=class extends iu{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:o}=this;return iue({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}};function iue(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,o;if(n.snapToWeek&&(i=e.startOfWeek(i),o=e.startOfWeek(r),o.valueOf()!==r.valueOf()&&(r=Jb(o,1))),n.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(Qt(t.end,-1))),a=Math.ceil(cT(s,r));r=Jb(r,6-a)}return{start:i,end:r}}var rue=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';pl(rue);var dV=er({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Ex,dateProfileGeneratorClass:Sx},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});var uI=class extends Og{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?IT(e)?["timed","allDay"]:["allDay"]:["timed"]}},oue=ft({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function gV(n){let e=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return O(to.Consumer,null,t=>{if(!n.isLabeled)return O("td",{className:e.join(" "),"data-time":n.isoTimeStr});let{dateEnv:i,options:r,viewApi:o}=t,s=r.slotLabelFormat==null?oue:Array.isArray(r.slotLabelFormat)?ft(r.slotLabelFormat[0]):ft(r.slotLabelFormat),a={level:0,time:n.time,date:i.toDate(n.date),view:o,text:i.format(n.date,s)};return O(Cn,{elTag:"td",elClasses:e,elAttrs:{"data-time":n.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:sue,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},l=>O("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},O(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function sue(n){return n.text}var dI=class extends nt{render(){return this.props.slatMetas.map(e=>O("tr",{key:e.key},O(gV,Object.assign({},e))))}},aue=ft({week:"short"}),lue=5,pI=class extends Jn{constructor(){super(...arguments),this.allDaySplitter=new uI,this.headerElRef=dn(),this.rootElRef=dn(),this.scrollerElRef=dn(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,o=r.renderRange,a=Es(o.start,o.end)===1?Ds(this.context,o.start,"week"):{};return i.weekNumbers&&e==="day"?O(a0,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:o.start,defaultFormat:aue},l=>O("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},O(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):O("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},O("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:i}=this.context,r={text:t.allDayText,view:i};return O(Cn,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:cue,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},o=>O("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},O(o,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,i){let{context:r,props:o}=this,s=[],a=mu(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(s.push({type:"body",key:"all-day",chunk:{content:t}}),s.push({type:"body",key:"all-day-divider",outerContent:O("tr",{role:"presentation",className:"fc-scrollgrid-section"},O("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),O(Io,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},O(cl,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,t,i,r,o,s,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,m=!u.forPrint&&mu(c.options),y=!u.forPrint&&r0(c.options),v=[];e&&v.push({type:"header",key:"header",isSticky:m,syncRowHeights:!0,chunks:[{key:"axis",rowContent:D=>O("tr",{role:"presentation"},this.renderHeadAxis("day",D.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(v.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:D=>O("tr",{role:"presentation"},this.renderTableRowAxis(D.rowSyncHeights[0]))},{key:"cols",content:t}]}),v.push({key:"all-day-divider",type:"body",outerContent:O("tr",{role:"presentation",className:"fc-scrollgrid-section"},O("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let w=c.options.nowIndicator;return v.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:D=>O("div",{className:"fc-timegrid-axis-chunk"},O("table",{"aria-hidden":!0,style:{height:D.expandRows?D.clientHeight:""}},D.tableColGroupNode,O("tbody",null,O(dI,{slatMetas:s}))),O("div",{className:"fc-timegrid-now-indicator-container"},O(No,{unit:w?"minute":"day"},I=>{let M=w&&a&&a.safeComputeTop(I);return typeof M=="number"?O(o0,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:M},isAxis:!0,date:I}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),y&&v.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Jp},{key:"cols",content:Jp}]}),O(Io,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},O(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:o}]}],sections:v}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=lue),{dayMaxEvents:e,dayMaxEventRows:t}}};function cue(n){return n.text}var fI=class{constructor(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}safeComputeTop(e){let{dateProfile:t}=this;if(Jr(t.currentRange,e)){let i=dt(e),r=e.valueOf()-i.valueOf();if(r>=br(t.slotMinTime)&&r<br(t.slotMaxTime))return this.computeTimeTop(Ze(r))}return null}computeDateTop(e,t){return t||(t=dt(e)),this.computeTimeTop(Ze(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:i}=this,r=t.els.length,o=(e.milliseconds-br(i.slotMinTime))/br(this.slotDuration),s,a;return o=Math.max(0,o),o=Math.min(r,o),s=Math.floor(o),s=Math.min(s,r-1),a=o-s,t.tops[s]+t.getHeight(s)*a}},hI=class extends nt{render(){let{props:e,context:t}=this,{options:i}=t,{slatElRefs:r}=e;return O("tbody",null,e.slatMetas.map((o,s)=>{let a={time:o.time,date:t.dateEnv.toDate(o.date),view:t.viewApi};return O("tr",{key:o.key,ref:r.createRef(o.key)},e.axis&&O(gV,Object.assign({},o)),O(Cn,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!o.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":o.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}},mI=class extends nt{constructor(){super(...arguments),this.rootElRef=dn(),this.slatElRefs=new Ki}render(){let{props:e,context:t}=this;return O("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},O("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,O(hI,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new fI(new Mo(this.rootElRef.current,uue(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};function uue(n,e){return e.map(t=>n[t.key])}function c0(n,e){let t=[],i;for(i=0;i<e;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function pV(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}var gI=class extends nt{render(){let{props:e}=this;return O(pu,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>vV(e.hiddenSegs,e),defaultGenerator:due,forceTimed:!0},t=>O(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};function due(n){return n.shortText}function pue(n,e,t){let i=new su;e!=null&&(i.strictOrder=e),t!=null&&(i.maxStackCnt=t);let r=i.addSegs(n),o=jT(r),s=fue(i);return s=vue(s,1),{segRects:_ue(s),hiddenGroups:o}}function fue(n){let{entriesByLevel:e}=n,t=CI((i,r)=>i+":"+r,(i,r)=>{let o=gue(n,i,r),s=fV(o,t),a=e[i][r];return[Object.assign(Object.assign({},a),{nextLevelNodes:s[0]}),a.thickness+s[1]]});return fV(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function fV(n,e){if(!n)return[[],0];let{level:t,lateralStart:i,lateralEnd:r}=n,o=i,s=[];for(;o<r;)s.push(e(t,o)),o+=1;return s.sort(hue),[s.map(mue),s[0][1]]}function hue(n,e){return e[1]-n[1]}function mue(n){return n[0]}function gue(n,e,t){let{levelCoords:i,entriesByLevel:r}=n,o=r[e][t],s=i[e]+o.thickness,a=i.length,l=e;for(;l<a&&i[l]<s;l+=1);for(;l<a;l+=1){let c=r[l],u,m=Vg(c,o.span.start,Bg),y=m[0]+m[1],v=y;for(;(u=c[v])&&u.span.start<o.span.end;)v+=1;if(y<v)return{level:l,lateralStart:y,lateralEnd:v}}return null}function vue(n,e){let t=CI((i,r,o)=>Cs(i),(i,r,o)=>{let{nextLevelNodes:s,thickness:a}=i,l=a+o,c=a/l,u,m=[];if(!s.length)u=e;else for(let v of s)if(u===void 0){let w=t(v,r,l);u=w[0],m.push(w[1])}else{let w=t(v,u,0);m.push(w[1])}let y=(u-r)*c;return[u-y,Object.assign(Object.assign({},i),{thickness:y,nextLevelNodes:m})]});return n.map(i=>t(i,0,0)[1])}function _ue(n){let e=[],t=CI((r,o,s)=>Cs(r),(r,o,s)=>{let a=Object.assign(Object.assign({},r),{levelCoord:o,stackDepth:s,stackForward:0});return e.push(a),a.stackForward=i(r.nextLevelNodes,o+r.thickness,s+1)+1});function i(r,o,s){let a=0;for(let l of r)a=Math.max(t(l,o,s),a);return a}return i(n,0,0),e}function CI(n,e){let t={};return(...i)=>{let r=n(...i);return r in t?t[r]:t[r]=e(...i)}}function hV(n,e,t=null,i=0){let r=[];if(t)for(let o=0;o<n.length;o+=1){let s=n[o],a=t.computeDateTop(s.start,e),l=Math.max(a+(i||0),t.computeDateTop(s.end,e));r.push({start:Math.round(a),end:Math.round(l)})}return r}function yue(n,e,t,i){let r=[],o=[];for(let c=0;c<n.length;c+=1){let u=e[c];u?r.push({index:c,thickness:1,span:u}):o.push(n[c])}let{segRects:s,hiddenGroups:a}=pue(r,t,i),l=[];for(let c of s)l.push({seg:n[c.index],rect:c});for(let c of o)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:a}}var bue=ft({hour:"numeric",minute:"2-digit",meridiem:!1}),Dx=class extends nt{render(){return O(ul,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:bue}))}},vI=class extends nt{constructor(){super(...arguments),this.sortEventSegs=_e(hu)}render(){let{props:e,context:t}=this,{options:i}=t,r=i.selectMirror,o=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return O(dl,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>O("div",{className:"fc-timegrid-col-frame"},O("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),O("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,s,!1,!1,!1)),O("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),O("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Kp(i)&&O(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,i,r,o,s){let{props:a}=this;return a.forPrint?vV(e,a):this.renderPositionedFgSegs(e,t,i,r,o,s)}renderPositionedFgSegs(e,t,i,r,o,s){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:m,slatCoords:y,eventSelection:v,todayRange:w,nowDate:D}=this.props,I=i||r||o,M=hV(e,m,y,u),{segPlacements:q,hiddenGroups:G}=yue(e,M,c,a);return O(ot,null,this.renderHiddenGroups(G,e),q.map(N=>{let{seg:X,rect:Y}=N,fe=X.eventRange.instance.instanceId,ve=I||!!(!t[fe]&&Y),lt=cI(Y&&Y.span),wt=!I&&Y?this.computeSegHStyle(Y):{left:0,right:0},tn=!!Y&&Y.stackForward>0,Ht=!!Y&&Y.span.end-Y.span.start<l;return O("div",{className:"fc-timegrid-event-harness"+(tn?" fc-timegrid-event-harness-inset":""),key:s||fe,style:Object.assign(Object.assign({visibility:ve?"":"hidden"},lt),wt)},O(Dx,Object.assign({seg:X,isDragging:i,isResizing:r,isDateSelecting:o,isSelected:fe===v,isShort:Ht},wr(X,w,D))))}))}renderHiddenGroups(e,t){let{extraDateSpan:i,dateProfile:r,todayRange:o,nowDate:s,eventSelection:a,eventDrag:l,eventResize:c}=this.props;return O(ot,null,e.map(u=>{let m=cI(u.span),y=xue(u.entries,t);return O(gI,{key:Kb(fx(y)),hiddenSegs:y,top:m.top,bottom:m.bottom,extraDateSpan:i,dateProfile:r,todayRange:o,nowDate:s,eventSelection:a,eventDrag:l,eventResize:c})}))}renderFillSegs(e,t){let{props:i,context:r}=this,s=hV(e,i.date,i.slatCoords,r.options.eventMinHeight).map((a,l)=>{let c=e[l];return O("div",{key:Jg(c.eventRange),className:"fc-timegrid-bg-harness",style:cI(a)},t==="bg-event"?O(du,Object.assign({seg:c},wr(c,i.todayRange,i.nowDate))):s0(t))});return O(ot,null,s)}renderNowIndicator(e){let{slatCoords:t,date:i}=this.props;return t?e.map((r,o)=>O(o0,{key:o,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:t,options:i}=this.context,r=i.slotEventOverlap,o=e.levelCoord,s=e.levelCoord+e.thickness,a,l;r&&(s=Math.min(1,o+(s-o)*2)),t?(a=1-s,l=o):(a=o,l=1-s);let c={zIndex:e.stackDepth+1,left:a*100+"%",right:l*100+"%"};return r&&!e.stackForward&&(c[t?"marginLeft":"marginRight"]=20),c}};function vV(n,{todayRange:e,nowDate:t,eventSelection:i,eventDrag:r,eventResize:o}){let s=(r?r.affectedInstances:null)||(o?o.affectedInstances:null)||{};return O(ot,null,n.map(a=>{let l=a.eventRange.instance.instanceId;return O("div",{key:l,style:{visibility:s[l]?"hidden":""}},O(Dx,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===i,isShort:!1},wr(a,e,t))))}))}function cI(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}function xue(n,e){return n.map(t=>e[t.index])}var _I=class extends nt{constructor(){super(...arguments),this.splitFgEventSegs=_e(c0),this.splitBgEventSegs=_e(c0),this.splitBusinessHourSegs=_e(c0),this.splitNowIndicatorSegs=_e(c0),this.splitDateSelectionSegs=_e(c0),this.splitEventDrag=_e(pV),this.splitEventResize=_e(pV),this.rootElRef=dn(),this.cellElRefs=new Ki}render(){let{props:e,context:t}=this,i=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,o=this.splitFgEventSegs(e.fgEventSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitBusinessHourSegs(e.businessHourSegs,r),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),c=this.splitDateSelectionSegs(e.dateSelectionSegs,r),u=this.splitEventDrag(e.eventDrag,r),m=this.splitEventResize(e.eventResize,r);return O("div",{className:"fc-timegrid-cols",ref:this.rootElRef},O("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,O("tbody",{role:"presentation"},O("tr",{role:"row"},e.axis&&O("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},O("div",{className:"fc-timegrid-col-frame"},O("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&O(o0,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((y,v)=>O(vI,{key:y.key,elRef:this.cellElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,fgEventSegs:o[v],bgEventSegs:s[v],businessHourSegs:a[v],nowIndicatorSegs:l[v],dateSelectionSegs:c[v],eventDrag:u[v],eventResize:m[v],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Mo(this.rootElRef.current,Cue(this.cellElRefs.currentMap,e.cells),!0,!1))}};function Cue(n,e){return e.map(t=>n[t.key])}var yI=class extends Jn{constructor(){super(...arguments),this.processSlotOptions=_e(wue),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(e.time){let r=i.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return O("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},O(mI,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),O(_I,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:i,options:r}=this.context,{colCoords:o}=this,{dateProfile:s}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),u=o.leftToIndex(e),m=a.positions.topToIndex(t);if(u!=null&&m!=null){let y=this.props.cells[u],v=a.positions.tops[m],w=a.positions.getHeight(m),D=(t-v)/w,I=Math.floor(D*c),M=m*c+I,q=this.props.cells[u].date,G=Wg(s.slotMinTime,lT(l,M)),N=i.add(q,G),X=i.add(N,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:N,end:X},allDay:!1},y.extraDateSpan),dayEl:o.els[u],rect:{left:o.lefts[u],right:o.rights[u],top:v,bottom:v+w},layer:0}}return null}};function wue(n,e){let t=e||n,i=Gg(n,t);return i===null&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}var bI=class extends uu{sliceRange(e,t){let i=[];for(let r=0;r<t.length;r+=1){let o=xr(e,t[r]);o&&i.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:r})}return i}},xI=class extends Jn{constructor(){super(...arguments),this.buildDayRanges=_e(Eue),this.slicer=new bI,this.timeColsRef=dn()}render(){let{props:e,context:t}=this,{dateProfile:i,dayTableModel:r}=e,{nowIndicator:o,nextDayThreshold:s}=t.options,a=this.buildDayRanges(r,i,t.dateEnv);return O(No,{unit:o?"minute":"day"},(l,c)=>O(yI,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:o&&this.slicer.sliceNowDate(l,i,s,t,a),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};function Eue(n,e,t){let i=[];for(let r of n.headerDates)i.push({start:t.add(r,e.slotMinTime),end:t.add(r,e.slotMaxTime)});return i}var mV=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Sue(n,e,t,i,r){let o=new Date(0),s=n,a=Ze(0),l=t||Due(i),c=[];for(;br(s)<br(e);){let u=r.add(o,s),m=Gg(a,l)!==null;c.push({date:u,time:s,key:u.toISOString(),isoTimeStr:pT(u),isLabeled:m}),s=Wg(s,i),a=Wg(a,i)}return c}function Due(n){let e,t,i;for(e=mV.length-1;e>=0;e-=1)if(t=Ze(mV[e]),i=Gg(t,n),i!==null&&i>1)return t;return n}var Ax=class extends pI{constructor(){super(...arguments),this.buildTimeColsModel=_e(Aue),this.buildSlatMetas=_e(Sue)}render(){let{options:e,dateEnv:t,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:o}=r,s=this.buildTimeColsModel(o,i),a=this.allDaySplitter.splitProps(r),l=this.buildSlatMetas(o.slotMinTime,o.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,u=!c,m=c,y=e.dayHeaders&&O(au,{dates:s.headerDates,dateProfile:o,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),v=e.allDaySlot!==!1&&(D=>O(l0,Object.assign({},a.allDay,{dateProfile:o,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:D.tableMinWidth,colGroupNode:D.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:D.clientWidth,clientHeight:D.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),w=D=>O(xI,Object.assign({},a.timed,{dayTableModel:s,dateProfile:o,axis:u,slotDuration:e.slotDuration,slatMetas:l,forPrint:r.forPrint,tableColGroupNode:D.tableColGroupNode,tableMinWidth:D.tableMinWidth,clientWidth:D.clientWidth,clientHeight:D.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:D.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return m?this.renderHScrollLayout(y,v,w,s.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(y,v,w)}};function Aue(n,e){let t=new lu(n.renderRange,e);return new cu(t,!1)}var Tue='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';pl(Tue);var Iue={allDaySlot:Boolean},_V=er({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Iue,views:{timeGrid:{component:Ax,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});i0.touchMouseIgnoreWait=500;var wI=0,Tx=0,EI=!1,Ix=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&kue(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,Mue()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new ca,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Nue()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Rue()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||xn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){EI=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?xn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return wI||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(EI=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,o,s=0,a=0;return i&&i.length?(r=i[0].pageX,o=i[0].pageY):(r=e.pageX,o=e.pageY),t?(this.origPageX=r,this.origPageY=o):(s=r-this.origPageX,a=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:o,deltaX:s,deltaY:a}}};function kue(n){return n.button===0&&!n.ctrlKey}function Mue(){wI+=1,setTimeout(()=>{wI-=1},i0.touchMouseIgnoreWait)}function Nue(){Tx+=1,Tx===1&&window.addEventListener("touchmove",bV,{passive:!1})}function Rue(){Tx-=1,Tx||window.removeEventListener("touchmove",bV,{passive:!1})}function bV(n){EI&&n.preventDefault()}var SI=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",fu(i,{left:r.left,top:r.top}),nT(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(Ug(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&fu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),fu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}},kx=class extends ou{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},Mx=class extends kx{constructor(e,t){super(new Fg(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return VT(this.scrollController.el)}},DI=class extends kx{constructor(e){super(new Lg,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},yV=typeof performance=="function"?performance.now:Date.now,AI=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=yV();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,o=this.pointerScreenY===null?0:r-this.pointerScreenY,s=this.pointerScreenX===null?0:i-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(yV()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,o=r-e.distance,s=o*o/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":i.setScrollLeft(i.getScrollLeft()+s*a);break;case"top":a=-1;case"bottom":i.setScrollTop(i.getScrollTop()+s*a);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,o=this.scrollCaches||[];for(let s of o){let a=s.clientRect,l=e-a.left,c=a.right-e,u=t-a.top,m=a.bottom-t;l>=0&&c>=0&&u>=0&&m>=0&&(u<=i&&this.everMovedUp&&s.canScrollUp()&&(!r||r.distance>u)&&(r={scrollCache:s,name:"top",distance:u}),m<=i&&this.everMovedDown&&s.canScrollDown()&&(!r||r.distance>m)&&(r={scrollCache:s,name:"bottom",distance:m}),l<=i&&this.everMovedLeft&&s.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:s,name:"left",distance:l}),c<=i&&this.everMovedRight&&s.canScrollRight()&&(!r||r.distance>c)&&(r={scrollCache:s,name:"right",distance:c}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new DI(!1):new Mx(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}},gu=class extends jg{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,iT(document.body),oT(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let o=this.minDistance,s,{deltaX:a,deltaY:l}=r;s=a*a+l*l,s>=o*o&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,rT(document.body),sT(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new Ix(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new SI,this.autoScroller=new AI}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},TI=class{constructor(e){this.el=e,this.origRect=t0(e),this.scrollCaches=dx(e).map(t=>new Mx(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!Pue(r.getEventTarget())&&!OT(i,r.clientRect))return!1;return!0}};function Pue(n){let e=n.tagName;return e==="HTML"||e==="BODY"}var rf=class{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ca}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,o;r instanceof HTMLElement&&(o=t0(r),i=FT(i,o));let s=this.initialHit=this.queryHitForOffset(i.left,i.top);if(s){if(this.useSubjectCenter&&o){let a=ux(o,s.rect);a&&(i=LT(a))}this.coordAdjust=BT(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Nx(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Kr(this.droppableStore,e=>(e.component.prepareHits(),new TI(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,o=null;for(let s in i){let a=i[s].component,l=r[s];if(l&&l.isWithinClipping(e,t)){let c=l.computeLeft(),u=l.computeTop(),m=e-c,y=t-u,{origRect:v}=l,w=v.right-v.left,D=v.bottom-v.top;if(m>=0&&m<w&&y>=0&&y<D){let I=a.queryHit(m,y,w,D);I&&Gp(I.dateProfile.activeRange,I.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(m+c-window.scrollX,y+u-window.scrollY)))&&(!o||I.layer>o.layer)&&(I.componentId=s,I.context=a.context,I.rect.left+=c,I.rect.right+=c,I.rect.top+=u,I.rect.bottom+=u,o=I)}}}return o}};function Nx(n,e){return!n&&!e?!0:!!n!=!!e?!1:kT(n.dateSpan,e.dateSpan)}function xV(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,Oue(n,e.dateEnv)),t}function Oue(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}var II=class extends ko{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,o=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:s,finalHit:a}=this.hitDragging;if(s&&a&&Nx(s,a)){let{context:l}=r,c=Object.assign(Object.assign({},xV(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:i.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new gu(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new rf(this.dragging,Kg(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},kI=class extends ko{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!u),l.delay=s.isTouch?Fue(a):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,a)=>{let{context:l}=this.component,c=null,u=!1;if(s){let m=this.hitDragging.initialHit;s.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,s)||(c=Lue(m,s,l.pluginHooks.dateSelectionTransformers)),(!c||!qT(c,s.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?Hg():zg(),a||(this.dragSelection=c)},this.handlePointerUp=s=>{this.dragSelection&&(cx(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new gu(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let o=this.hitDragging=new rf(this.dragging,Kg(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function Fue(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function Lue(n,e,t){let i=n.dateSpan,r=e.dateSpan,o=[i.range.start,i.range.end,r.range.start,r.range.end];o.sort(aT);let s={};for(let a of t){let l=a(n,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:o[0],end:o[3]},s.allDay=i.allDay,s}var CV=(()=>{class n extends ko{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:c,dragging:u}=this,{mirror:m}=u,{options:y}=c.context,v=c.context;this.subjectEl=a.subjectEl;let w=this.subjectSeg=pa(a.subjectEl),I=(this.eventRange=w.eventRange).instance.instanceId;this.relevantEvents=Zg(v.getCurrentData().eventStore,I),u.minDistance=a.isTouch?0:y.eventDragMinDistance,u.delay=a.isTouch&&I!==c.props.eventSelection?Vue(c):null,y.fixedMirrorParent?m.parentNode=y.fixedMirrorParent:m.parentNode=xn(l,".fc"),m.revertDuration=y.dragRevertDuration;let M=c.isValidSegDownEl(l)&&!xn(l,".fc-event-resizer");u.setIgnoreMove(!M),this.isDragging=M&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,c=this.eventRange,u=c.instance.instanceId;a.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Nt(l,c.def,c.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,m=this.component.context,y=null,v=null,w=null,D=!1,I={affectedEvents:c,mutatedEvents:hi(),isEvent:!0};if(a){y=a.context;let M=y.options;m===y||M.editable&&M.droppable?(v=Bue(u,a,this.eventRange.instance.range.start,y.getCurrentData().pluginHooks.eventDragMutationMassagers),v&&(w=Xg(c,y.getCurrentData().eventUiBases,v,y),I.mutatedEvents=w,px(I,a.dateProfile,y)||(D=!0,v=null,w=null,I.mutatedEvents=hi()))):y=null}this.displayDrag(y,I),D?Hg():zg(),l||(m===y&&Nx(u,a)&&(v=null),this.dragging.setMirrorNeedsRevert(!v),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=y,this.validMutation=v,this.mutatedRelevantEvents=w)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:u,validMutation:m}=this,y=this.eventRange.def,v=this.eventRange.instance,w=new Nt(l,y,v),D=this.relevantEvents,I=this.mutatedRelevantEvents,{finalHit:M}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:w,jsEvent:a.origEvent,view:c}),m){if(u===l){let q=new Nt(l,I.defs[y.defId],v?I.instances[v.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:I});let G={oldEvent:w,event:q,relatedEvents:Ss(I,l,v),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:D})}},N={};for(let X of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(N,X(m,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},G),N),{el:a.subjectEl,delta:m.datesDelta,jsEvent:a.origEvent,view:c})),l.emitter.trigger("eventChange",G)}else if(u){let q={event:w,relatedEvents:Ss(D,l,v),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:D})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},q),{draggedEl:a.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:D}),l.emitter.trigger("eventRemove",q);let G=I.defs[y.defId],N=I.instances[v.instanceId],X=new Nt(u,G,N);u.dispatch({type:"MERGE_EVENTS",eventStore:I});let Y={event:X,relatedEvents:Ss(I,u,N),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:I})}};u.emitter.trigger("eventAdd",Y),a.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:v.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},xV(M.dateSpan,u)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:M.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},Y),{draggedEl:a.subjectEl,view:M.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:r}=i.context,o=this.dragging=new gu(t.el);o.pointer.selector=n.SELECTOR,o.touchScrollAllowed=!1,o.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new rf(this.dragging,Zp);s.useSubjectCenter=t.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let r=this.component.context,o=this.receivingContext;o&&o!==t&&(o===r?o.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:hi(),isEvent:!0}}):o.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();function Bue(n,e,t,i){let r=n.dateSpan,o=e.dateSpan,s=r.range.start,a=o.range.start,l={};r.allDay!==o.allDay&&(l.allDay=o.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,o.allDay?s=dt(t):s=t);let c=ll(s,a,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let m of i)m(u,n,e);return u}function Vue(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}var MI=class extends ko{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:s}=this,a=this.querySegEl(o),l=pa(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=o=>{let{context:s}=this.component,a=this.eventRange;this.relevantEvents=Zg(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(o);this.draggingSegEl=l,this.draggingSeg=pa(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new Nt(s,a.def,a.instance),jsEvent:o.origEvent,view:s.viewApi})},this.handleHitUpdate=(o,s,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,m=this.eventRange.instance,y=null,v=null,w=!1,D={affectedEvents:c,mutatedEvents:hi(),isEvent:!0};o&&(o.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,o)||(y=jue(u,o,a.subjectEl.classList.contains("fc-event-resizer-start"),m.range))),y&&(v=Xg(c,l.getCurrentData().eventUiBases,y,l),D.mutatedEvents=v,px(D,o.dateProfile,l)||(w=!0,y=null,v=null,D.mutatedEvents=null)),v?l.dispatch({type:"SET_EVENT_RESIZE",state:D}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),w?Hg():zg(),s||(y&&Nx(u,o)&&(y=null),this.validMutation=y,this.mutatedRelevantEvents=v)},this.handleDragEnd=o=>{let{context:s}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new Nt(s,a,l),u=this.relevantEvents,m=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:o.origEvent,view:s.viewApi}),this.validMutation){let y=new Nt(s,m.defs[a.defId],l?m.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:m});let v={oldEvent:c,event:y,relatedEvents:Ss(m,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:u})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},v),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Ze(0),endDelta:this.validMutation.endDelta||Ze(0),jsEvent:o.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",v)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new gu(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new rf(this.dragging,Kg(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return xn(e.subjectEl,".fc-event")}};function jue(n,e,t,i){let r=n.context.dateEnv,o=n.dateSpan.range.start,s=e.dateSpan.range.start,a=ll(o,s,r,n.largeUnit);if(t){if(r.add(i.start,a)<i.end)return{startDelta:a}}else if(r.add(i.end,a)>i.start)return{endDelta:a};return null}var NI=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,o=Xb(i.origEvent);this.matchesCancel=!!xn(o,r),this.matchesEvent=!!xn(o,CV.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:o}=this,s=r.getCurrentData();if(!o.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let a=r.options.unselectAuto;a&&(!a||!this.matchesCancel)&&r.calendarApi.unselect(i)}s.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Ix(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},que={fixedMirrorParent:z},Uue={dateClick:z,eventDragStart:z,eventDragStop:z,eventDrop:z,eventResizeStart:z,eventResizeStop:z,eventResize:z,drop:z,eventReceive:z,eventLeave:z};i0.dataAttrPrefix="";var wV=er({name:"@fullcalendar/interaction",componentInteractions:[II,kI,CV,MI],calendarInteractions:[NI],elementDraggingImpl:gu,optionRefiners:que,listenerRefiners:Uue});var RI=class extends nt{constructor(){super(...arguments),this.state={textId:eo()}}render(){let{theme:e,dateEnv:t,options:i,viewApi:r}=this.context,{cellId:o,dayDate:s,todayRange:a}=this.props,{textId:l}=this.state,c=e0(s,a),u=i.listDayFormat?t.format(s,i.listDayFormat):"",m=i.listDaySideFormat?t.format(s,i.listDaySideFormat):"",y=Object.assign({date:t.toDate(s),view:r,textId:l,text:u,sideText:m,navLinkAttrs:Ds(this.context,s),sideNavLinkAttrs:Ds(this.context,s,"day",!1)},c);return O(Cn,{elTag:"tr",elClasses:["fc-list-day",...Xp(c,e)],elAttrs:{"data-date":fl(s)},renderProps:y,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:$ue,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},v=>O("th",{scope:"colgroup",colSpan:3,id:o,"aria-labelledby":l},O(v,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}};function $ue(n){return O(ot,null,n.text&&O("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&O("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}var Hue=ft({hour:"numeric",minute:"2-digit",meridiem:"short"}),PI=class extends nt{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r,timeHeaderId:o,eventHeaderId:s,dateHeaderId:a}=e,l=i.eventTimeFormat||Hue;return O(ua,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>zue(r,t),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(c,u)=>O(ot,null,Wue(r,l,t,o,a),O("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},O("span",{className:"fc-list-event-dot",style:{borderColor:u.borderColor||u.backgroundColor}})),O(c,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${s} ${a}`}})))}};function zue(n,e){let t=Yp(n,e);return O("a",Object.assign({},t),n.eventRange.def.title)}function Wue(n,e,t,i,r){let{options:o}=t;if(o.displayEventTime!==!1){let s=n.eventRange.def,a=n.eventRange.instance,l=!1,c;if(s.allDay?l=!0:xT(n.eventRange.range)?n.isStart?c=gl(n,e,t,null,null,a.range.start,n.end):n.isEnd?c=gl(n,e,t,null,null,n.start,a.range.end):l=!0:c=gl(n,e,t),l){let u={text:t.options.allDayText,view:t.viewApi};return O(Cn,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:u,generatorName:"allDayContent",customGenerator:o.allDayContent,defaultGenerator:Gue,classNameGenerator:o.allDayClassNames,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount})}return O("td",{className:"fc-list-event-time"},c)}return null}function Gue(n){return n.text}var Rx=class extends Jn{constructor(){super(...arguments),this.computeDateVars=_e(Yue),this.eventStoreToSegs=_e(this._eventStoreToSegs),this.state={timeHeaderId:eo(),eventHeaderId:eo(),dateHeaderIdRoot:eo()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(e.dateProfile),o=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return O(Io,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),t.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:t.viewSpec},O(Hp,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},o.length>0?this.renderSegList(o,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,i={text:e.noEventsText,view:t};return O(Cn,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Que,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>O(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:i,options:r}=this.context,{timeHeaderId:o,eventHeaderId:s,dateHeaderIdRoot:a}=this.state,l=Zue(e);return O(No,{unit:"day"},(c,u)=>{let m=[];for(let y=0;y<l.length;y+=1){let v=l[y];if(v){let w=fl(t[y]),D=a+"-"+w;m.push(O(RI,{key:w,cellId:D,dayDate:t[y],todayRange:u})),v=hu(v,r.eventOrder);for(let I of v)m.push(O(PI,Object.assign({key:w+":"+I.eventRange.instance.instanceId,seg:I,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:o,eventHeaderId:s,dateHeaderId:D},wr(I,u,c))))}}return O("table",{className:"fc-list-table "+i.getClass("table")},O("thead",null,O("tr",null,O("th",{scope:"col",id:o},r.timeHint),O("th",{scope:"col","aria-hidden":!0}),O("th",{scope:"col",id:s},r.eventHint))),O("tbody",null,m))})}_eventStoreToSegs(e,t,i){return this.eventRangesToSegs($p(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,t){let i=[];for(let r of e)i.push(...this.eventRangeToSegs(r,t));return i}eventRangeToSegs(e,t){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,o=e.range,s=e.def.allDay,a,l,c,u=[];for(a=0;a<t.length;a+=1)if(l=xr(o,t[a]),l&&(c={component:this,eventRange:e,start:l.start,end:l.end,isStart:e.isStart&&l.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===o.end.valueOf(),dayIndex:a},u.push(c),!c.isEnd&&!s&&a+1<t.length&&o.end<i.add(t[a+1].start,r))){c.end=o.end,c.isEnd=!0;break}return u}};function Que(n){return n.text}function Yue(n){let e=dt(n.renderRange.start),t=n.renderRange.end,i=[],r=[];for(;e<t;)i.push(e),r.push({start:e,end:Qt(e,1)}),e=Qt(e,1);return{dayDates:i,dayRanges:r}}function Zue(n){let e=[],t,i;for(t=0;t<n.length;t+=1)i=n[t],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var Xue=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';pl(Xue);var Jue={listDayFormat:EV,listDaySideFormat:EV,noEventsClassNames:z,noEventsContent:z,noEventsDidMount:z,noEventsWillUnmount:z};function EV(n){return n===!1?null:ft(n)}var SV=er({name:"@fullcalendar/list",optionRefiners:Jue,views:{list:{component:Rx,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});var DV={code:"pt-br",buttonText:{prev:"Anterior",next:"Pr\xF3ximo",prevYear:"Ano anterior",nextYear:"Pr\xF3ximo ano",year:"Ano",today:"Hoje",month:"M\xEAs",week:"Semana",day:"Dia",list:"Lista"},buttonHints:{prev:"$0 Anterior",next:"Pr\xF3ximo $0",today(n){return n==="Dia"?"Hoje":(n==="Semana"?"Esta":"Este")+" "+n.toLocaleLowerCase()}},viewHint(n){return"Visualizar "+(n==="Semana"?"a":"o")+" "+n.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"dia inteiro",moreLinkText(n){return"mais +"+n},moreLinkHint(n){return`Mostrar mais ${n} eventos`},noEventsText:"N\xE3o h\xE1 eventos para mostrar",navLinkHint:"Ir para $0",closeHint:"Fechar",timeHint:"A hora",eventHint:"Evento"};var en="top",wn="bottom",pn="right",on="left",Px="auto",vl=[en,wn,pn,on],fa="start",vu="end",AV="clippingParents",Ox="viewport",of="popper",TV="reference",OI=vl.reduce(function(n,e){return n.concat([e+"-"+fa,e+"-"+vu])},[]),Fx=[].concat(vl,[Px]).reduce(function(n,e){return n.concat([e,e+"-"+fa,e+"-"+vu])},[]),Kue="beforeRead",ede="read",tde="afterRead",nde="beforeMain",ide="main",rde="afterMain",ode="beforeWrite",sde="write",ade="afterWrite",IV=[Kue,ede,tde,nde,ide,rde,ode,sde,ade];function Ln(n){return n?(n.nodeName||"").toLowerCase():null}function Yt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function no(n){var e=Yt(n).Element;return n instanceof e||n instanceof Element}function En(n){var e=Yt(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function sf(n){if(typeof ShadowRoot>"u")return!1;var e=Yt(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function lde(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!En(o)||!Ln(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function cde(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!En(r)||!Ln(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var u0={name:"applyStyles",enabled:!0,phase:"write",fn:lde,effect:cde,requires:["computeStyles"]};function Bn(n){return n.split("-")[0]}var Ro=Math.max,_u=Math.min,ha=Math.round;function af(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function d0(){return!/^((?!chrome|android).)*safari/i.test(af())}function io(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,o=1;e&&En(n)&&(r=n.offsetWidth>0&&ha(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&ha(i.height)/n.offsetHeight||1);var s=no(n)?Yt(n):window,a=s.visualViewport,l=!d0()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,m=i.width/r,y=i.height/o;return{width:m,height:y,top:u,right:c+m,bottom:u+y,left:c,x:c,y:u}}function yu(n){var e=io(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function p0(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&sf(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ki(n){return Yt(n).getComputedStyle(n)}function FI(n){return["table","td","th"].indexOf(Ln(n))>=0}function Kn(n){return((no(n)?n.ownerDocument:n.document)||window.document).documentElement}function ma(n){return Ln(n)==="html"?n:n.assignedSlot||n.parentNode||(sf(n)?n.host:null)||Kn(n)}function kV(n){return!En(n)||ki(n).position==="fixed"?null:n.offsetParent}function ude(n){var e=/firefox/i.test(af()),t=/Trident/i.test(af());if(t&&En(n)){var i=ki(n);if(i.position==="fixed")return null}var r=ma(n);for(sf(r)&&(r=r.host);En(r)&&["html","body"].indexOf(Ln(r))<0;){var o=ki(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Po(n){for(var e=Yt(n),t=kV(n);t&&FI(t)&&ki(t).position==="static";)t=kV(t);return t&&(Ln(t)==="html"||Ln(t)==="body"&&ki(t).position==="static")?e:t||ude(n)||e}function bu(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function xu(n,e,t){return Ro(n,_u(e,t))}function MV(n,e,t){var i=xu(n,e,t);return i>t?t:i}function f0(){return{top:0,right:0,bottom:0,left:0}}function h0(n){return Object.assign({},f0(),n)}function m0(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var dde=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,h0(typeof e!="number"?e:m0(e,vl))};function pde(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Bn(t.placement),l=bu(a),c=[on,pn].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var m=dde(r.padding,t),y=yu(o),v=l==="y"?en:on,w=l==="y"?wn:pn,D=t.rects.reference[u]+t.rects.reference[l]-s[l]-t.rects.popper[u],I=s[l]-t.rects.reference[l],M=Po(o),q=M?l==="y"?M.clientHeight||0:M.clientWidth||0:0,G=D/2-I/2,N=m[v],X=q-y[u]-m[w],Y=q/2-y[u]/2+G,fe=xu(N,Y,X),ve=l;t.modifiersData[i]=(e={},e[ve]=fe,e.centerOffset=fe-Y,e)}}function fde(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||p0(e.elements.popper,r)&&(e.elements.arrow=r))}var NV={name:"arrow",enabled:!0,phase:"main",fn:pde,effect:fde,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ro(n){return n.split("-")[1]}var hde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mde(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:ha(t*r)/r||0,y:ha(i*r)/r||0}}function RV(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,m=n.isFixed,y=s.x,v=y===void 0?0:y,w=s.y,D=w===void 0?0:w,I=typeof u=="function"?u({x:v,y:D}):{x:v,y:D};v=I.x,D=I.y;var M=s.hasOwnProperty("x"),q=s.hasOwnProperty("y"),G=on,N=en,X=window;if(c){var Y=Po(t),fe="clientHeight",ve="clientWidth";if(Y===Yt(t)&&(Y=Kn(t),ki(Y).position!=="static"&&a==="absolute"&&(fe="scrollHeight",ve="scrollWidth")),Y=Y,r===en||(r===on||r===pn)&&o===vu){N=wn;var lt=m&&Y===X&&X.visualViewport?X.visualViewport.height:Y[fe];D-=lt-i.height,D*=l?1:-1}if(r===on||(r===en||r===wn)&&o===vu){G=pn;var wt=m&&Y===X&&X.visualViewport?X.visualViewport.width:Y[ve];v-=wt-i.width,v*=l?1:-1}}var tn=Object.assign({position:a},c&&hde),Ht=u===!0?mde({x:v,y:D},Yt(t)):{x:v,y:D};if(v=Ht.x,D=Ht.y,l){var Zt;return Object.assign({},tn,(Zt={},Zt[N]=q?"0":"",Zt[G]=M?"0":"",Zt.transform=(X.devicePixelRatio||1)<=1?"translate("+v+"px, "+D+"px)":"translate3d("+v+"px, "+D+"px, 0)",Zt))}return Object.assign({},tn,(e={},e[N]=q?D+"px":"",e[G]=M?v+"px":"",e.transform="",e))}function gde(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:Bn(e.placement),variation:ro(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,RV(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,RV(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var PV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gde,data:{}};var Lx={passive:!0};function vde(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=Yt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",t.update,Lx)}),a&&l.addEventListener("resize",t.update,Lx),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",t.update,Lx)}),a&&l.removeEventListener("resize",t.update,Lx)}}var OV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vde,data:{}};var _de={left:"right",right:"left",bottom:"top",top:"bottom"};function lf(n){return n.replace(/left|right|bottom|top/g,function(e){return _de[e]})}var yde={start:"end",end:"start"};function Bx(n){return n.replace(/start|end/g,function(e){return yde[e]})}function Cu(n){var e=Yt(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function wu(n){return io(Kn(n)).left+Cu(n).scrollLeft}function LI(n,e){var t=Yt(n),i=Kn(n),r=t.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=d0();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+wu(n),y:l}}function BI(n){var e,t=Kn(n),i=Cu(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=Ro(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Ro(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+wu(n),l=-i.scrollTop;return ki(r||t).direction==="rtl"&&(a+=Ro(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Eu(n){var e=ki(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function Vx(n){return["html","body","#document"].indexOf(Ln(n))>=0?n.ownerDocument.body:En(n)&&Eu(n)?n:Vx(ma(n))}function _l(n,e){var t;e===void 0&&(e=[]);var i=Vx(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=Yt(i),s=r?[o].concat(o.visualViewport||[],Eu(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(_l(ma(s)))}function cf(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function bde(n,e){var t=io(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function FV(n,e,t){return e===Ox?cf(LI(n,t)):no(e)?bde(e,t):cf(BI(Kn(n)))}function xde(n){var e=_l(ma(n)),t=["absolute","fixed"].indexOf(ki(n).position)>=0,i=t&&En(n)?Po(n):n;return no(i)?e.filter(function(r){return no(r)&&p0(r,i)&&Ln(r)!=="body"}):[]}function VI(n,e,t,i){var r=e==="clippingParents"?xde(n):[].concat(e),o=[].concat(r,[t]),s=o[0],a=o.reduce(function(l,c){var u=FV(n,c,i);return l.top=Ro(u.top,l.top),l.right=_u(u.right,l.right),l.bottom=_u(u.bottom,l.bottom),l.left=Ro(u.left,l.left),l},FV(n,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function g0(n){var e=n.reference,t=n.element,i=n.placement,r=i?Bn(i):null,o=i?ro(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case en:l={x:s,y:e.y-t.height};break;case wn:l={x:s,y:e.y+e.height};break;case pn:l={x:e.x+e.width,y:a};break;case on:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?bu(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case fa:l[c]=l[c]-(e[u]/2-t[u]/2);break;case vu:l[c]=l[c]+(e[u]/2-t[u]/2);break;default:}}return l}function Oo(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.strategy,s=o===void 0?n.strategy:o,a=t.boundary,l=a===void 0?AV:a,c=t.rootBoundary,u=c===void 0?Ox:c,m=t.elementContext,y=m===void 0?of:m,v=t.altBoundary,w=v===void 0?!1:v,D=t.padding,I=D===void 0?0:D,M=h0(typeof I!="number"?I:m0(I,vl)),q=y===of?TV:of,G=n.rects.popper,N=n.elements[w?q:y],X=VI(no(N)?N:N.contextElement||Kn(n.elements.popper),l,u,s),Y=io(n.elements.reference),fe=g0({reference:Y,element:G,strategy:"absolute",placement:r}),ve=cf(Object.assign({},G,fe)),lt=y===of?ve:Y,wt={top:X.top-lt.top+M.top,bottom:lt.bottom-X.bottom+M.bottom,left:X.left-lt.left+M.left,right:lt.right-X.right+M.right},tn=n.modifiersData.offset;if(y===of&&tn){var Ht=tn[r];Object.keys(wt).forEach(function(Zt){var tr=[pn,wn].indexOf(Zt)>=0?1:-1,nr=[en,wn].indexOf(Zt)>=0?"y":"x";wt[Zt]+=Ht[nr]*tr})}return wt}function jI(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Fx:l,u=ro(i),m=u?a?OI:OI.filter(function(w){return ro(w)===u}):vl,y=m.filter(function(w){return c.indexOf(w)>=0});y.length===0&&(y=m);var v=y.reduce(function(w,D){return w[D]=Oo(n,{placement:D,boundary:r,rootBoundary:o,padding:s})[Bn(D)],w},{});return Object.keys(v).sort(function(w,D){return v[w]-v[D]})}function Cde(n){if(Bn(n)===Px)return[];var e=lf(n);return[Bx(n),e,Bx(e)]}function wde(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,c=t.padding,u=t.boundary,m=t.rootBoundary,y=t.altBoundary,v=t.flipVariations,w=v===void 0?!0:v,D=t.allowedAutoPlacements,I=e.options.placement,M=Bn(I),q=M===I,G=l||(q||!w?[lf(I)]:Cde(I)),N=[I].concat(G).reduce(function(Is,oo){return Is.concat(Bn(oo)===Px?jI(e,{placement:oo,boundary:u,rootBoundary:m,padding:c,flipVariations:w,allowedAutoPlacements:D}):oo)},[]),X=e.rects.reference,Y=e.rects.popper,fe=new Map,ve=!0,lt=N[0],wt=0;wt<N.length;wt++){var tn=N[wt],Ht=Bn(tn),Zt=ro(tn)===fa,tr=[en,wn].indexOf(Ht)>=0,nr=tr?"width":"height",ei=Oo(e,{placement:tn,boundary:u,rootBoundary:m,altBoundary:y,padding:c}),ti=tr?Zt?pn:on:Zt?wn:en;X[nr]>Y[nr]&&(ti=lf(ti));var Vn=lf(ti),Lo=[];if(o&&Lo.push(ei[Ht]<=0),a&&Lo.push(ei[ti]<=0,ei[Vn]<=0),Lo.every(function(Is){return Is})){lt=tn,ve=!1;break}fe.set(tn,Lo)}if(ve)for(var Bo=w?3:1,yl=function(oo){var ks=N.find(function(Du){var Ms=fe.get(Du);if(Ms)return Ms.slice(0,oo).every(function(Au){return Au})});if(ks)return lt=ks,"break"},Vo=Bo;Vo>0;Vo--){var bl=yl(Vo);if(bl==="break")break}e.placement!==lt&&(e.modifiersData[i]._skip=!0,e.placement=lt,e.reset=!0)}}var LV={name:"flip",enabled:!0,phase:"main",fn:wde,requiresIfExists:["offset"],data:{_skip:!1}};function BV(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function VV(n){return[en,pn,wn,on].some(function(e){return n[e]>=0})}function Ede(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=Oo(e,{elementContext:"reference"}),a=Oo(e,{altBoundary:!0}),l=BV(s,i),c=BV(a,r,o),u=VV(l),m=VV(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":m})}var jV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ede};function Sde(n,e,t){var i=Bn(n),r=[on,en].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[on,pn].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function Dde(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,s=Fx.reduce(function(u,m){return u[m]=Sde(m,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}var qV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Dde};function Ade(n){var e=n.state,t=n.name;e.modifiersData[t]=g0({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var UV={name:"popperOffsets",enabled:!0,phase:"read",fn:Ade,data:{}};function qI(n){return n==="x"?"y":"x"}function Tde(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,m=t.padding,y=t.tether,v=y===void 0?!0:y,w=t.tetherOffset,D=w===void 0?0:w,I=Oo(e,{boundary:l,rootBoundary:c,padding:m,altBoundary:u}),M=Bn(e.placement),q=ro(e.placement),G=!q,N=bu(M),X=qI(N),Y=e.modifiersData.popperOffsets,fe=e.rects.reference,ve=e.rects.popper,lt=typeof D=="function"?D(Object.assign({},e.rects,{placement:e.placement})):D,wt=typeof lt=="number"?{mainAxis:lt,altAxis:lt}:Object.assign({mainAxis:0,altAxis:0},lt),tn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Ht={x:0,y:0};if(Y){if(o){var Zt,tr=N==="y"?en:on,nr=N==="y"?wn:pn,ei=N==="y"?"height":"width",ti=Y[N],Vn=ti+I[tr],Lo=ti-I[nr],Bo=v?-ve[ei]/2:0,yl=q===fa?fe[ei]:ve[ei],Vo=q===fa?-ve[ei]:-fe[ei],bl=e.elements.arrow,Is=v&&bl?yu(bl):{width:0,height:0},oo=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:f0(),ks=oo[tr],Du=oo[nr],Ms=xu(0,fe[ei],Is[ei]),Au=G?fe[ei]/2-Bo-Ms-ks-wt.mainAxis:yl-Ms-ks-wt.mainAxis,ga=G?-fe[ei]/2+Bo+Ms+Du+wt.mainAxis:Vo+Ms+Du+wt.mainAxis,Tu=e.elements.arrow&&Po(e.elements.arrow),y0=Tu?N==="y"?Tu.clientTop||0:Tu.clientLeft||0:0,Cf=(Zt=tn?.[N])!=null?Zt:0,b0=ti+Au-Cf-y0,x0=ti+ga-Cf,wf=xu(v?_u(Vn,b0):Vn,ti,v?Ro(Lo,x0):Lo);Y[N]=wf,Ht[N]=wf-ti}if(a){var Ef,C0=N==="x"?en:on,w0=N==="x"?wn:pn,Ns=Y[X],va=X==="y"?"height":"width",Sf=Ns+I[C0],xl=Ns-I[w0],Df=[en,on].indexOf(M)!==-1,E0=(Ef=tn?.[X])!=null?Ef:0,S0=Df?Sf:Ns-fe[va]-ve[va]-E0+wt.altAxis,D0=Df?Ns+fe[va]+ve[va]-E0-wt.altAxis:xl,A0=v&&Df?MV(S0,Ns,D0):xu(v?S0:Sf,Ns,v?D0:xl);Y[X]=A0,Ht[X]=A0-Ns}e.modifiersData[i]=Ht}}var $V={name:"preventOverflow",enabled:!0,phase:"main",fn:Tde,requiresIfExists:["offset"]};function UI(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function $I(n){return n===Yt(n)||!En(n)?Cu(n):UI(n)}function Ide(n){var e=n.getBoundingClientRect(),t=ha(e.width)/n.offsetWidth||1,i=ha(e.height)/n.offsetHeight||1;return t!==1||i!==1}function HI(n,e,t){t===void 0&&(t=!1);var i=En(e),r=En(e)&&Ide(e),o=Kn(e),s=io(n,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Ln(e)!=="body"||Eu(o))&&(a=$I(e)),En(e)?(l=io(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=wu(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function kde(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function zI(n){var e=kde(n);return IV.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function WI(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function GI(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var HV={placement:"bottom",modifiers:[],strategy:"absolute"};function zV(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function WV(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?HV:r;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},HV,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},m=[],y=!1,v={state:u,setOptions:function(M){var q=typeof M=="function"?M(u.options):M;D(),u.options=Object.assign({},o,u.options,q),u.scrollParents={reference:no(a)?_l(a):a.contextElement?_l(a.contextElement):[],popper:_l(l)};var G=zI(GI([].concat(i,u.options.modifiers)));return u.orderedModifiers=G.filter(function(N){return N.enabled}),w(),v.update()},forceUpdate:function(){if(!y){var M=u.elements,q=M.reference,G=M.popper;if(zV(q,G)){u.rects={reference:HI(q,Po(G),u.options.strategy==="fixed"),popper:yu(G)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(wt){return u.modifiersData[wt.name]=Object.assign({},wt.data)});for(var N=0;N<u.orderedModifiers.length;N++){if(u.reset===!0){u.reset=!1,N=-1;continue}var X=u.orderedModifiers[N],Y=X.fn,fe=X.options,ve=fe===void 0?{}:fe,lt=X.name;typeof Y=="function"&&(u=Y({state:u,options:ve,name:lt,instance:v})||u)}}}},update:WI(function(){return new Promise(function(I){v.forceUpdate(),I(u)})}),destroy:function(){D(),y=!0}};if(!zV(a,l))return v;v.setOptions(c).then(function(I){!y&&c.onFirstUpdate&&c.onFirstUpdate(I)});function w(){u.orderedModifiers.forEach(function(I){var M=I.name,q=I.options,G=q===void 0?{}:q,N=I.effect;if(typeof N=="function"){var X=N({state:u,name:M,instance:v,options:G}),Y=function(){};m.push(X||Y)}})}function D(){m.forEach(function(I){return I()}),m=[]}return v}}var Mde=[OV,UV,PV,u0,qV,LV,$V,NV,jV],QI=WV({defaultModifiers:Mde});var Nde="tippy-box",n5="tippy-content",Rde="tippy-backdrop",i5="tippy-arrow",r5="tippy-svg-arrow",Su={passive:!0,capture:!0},o5=function(){return document.body};function YI(n,e,t){if(Array.isArray(n)){var i=n[e];return i??(Array.isArray(t)?t[e]:t)}return n}function tk(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function s5(n,e){return typeof n=="function"?n.apply(void 0,e):n}function GV(n,e){if(e===0)return n;var t;return function(i){clearTimeout(t),t=setTimeout(function(){n(i)},e)}}function Pde(n){return n.split(/\s+/).filter(Boolean)}function uf(n){return[].concat(n)}function QV(n,e){n.indexOf(e)===-1&&n.push(e)}function Ode(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function Fde(n){return n.split("-")[0]}function qx(n){return[].slice.call(n)}function YV(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function v0(){return document.createElement("div")}function Ux(n){return["Element","Fragment"].some(function(e){return tk(n,e)})}function Lde(n){return tk(n,"NodeList")}function Bde(n){return tk(n,"MouseEvent")}function Vde(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function jde(n){return Ux(n)?[n]:Lde(n)?qx(n):Array.isArray(n)?n:qx(document.querySelectorAll(n))}function ZI(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function ZV(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function qde(n){var e,t=uf(n),i=t[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Ude(n,e){var t=e.clientX,i=e.clientY;return n.every(function(r){var o=r.popperRect,s=r.popperState,a=r.props,l=a.interactiveBorder,c=Fde(s.placement),u=s.modifiersData.offset;if(!u)return!0;var m=c==="bottom"?u.top.y:0,y=c==="top"?u.bottom.y:0,v=c==="right"?u.left.x:0,w=c==="left"?u.right.x:0,D=o.top-i+m>l,I=i-o.bottom-y>l,M=o.left-t+v>l,q=t-o.right-w>l;return D||I||M||q})}function XI(n,e,t){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[i](r,t)})}function XV(n,e){for(var t=e;t;){var i;if(n.contains(t))return!0;t=t.getRootNode==null||(i=t.getRootNode())==null?void 0:i.host}return!1}var Ts={isTouch:!1},JV=0;function $de(){Ts.isTouch||(Ts.isTouch=!0,window.performance&&document.addEventListener("mousemove",a5))}function a5(){var n=performance.now();n-JV<20&&(Ts.isTouch=!1,document.removeEventListener("mousemove",a5)),JV=n}function Hde(){var n=document.activeElement;if(Vde(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function zde(){document.addEventListener("touchstart",$de,Su),window.addEventListener("blur",Hde)}var Wde=typeof window<"u"&&typeof document<"u",Gde=Wde?!!window.msCrypto:!1;var Qde={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Yde={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Fo=Object.assign({appendTo:o5,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Qde,Yde),Zde=Object.keys(Fo),Xde=function(e){var t=Object.keys(e);t.forEach(function(i){Fo[i]=e[i]})};function l5(n){var e=n.plugins||[],t=e.reduce(function(i,r){var o=r.name,s=r.defaultValue;if(o){var a;i[o]=n[o]!==void 0?n[o]:(a=Fo[o])!=null?a:s}return i},{});return Object.assign({},n,t)}function Jde(n,e){var t=e?Object.keys(l5(Object.assign({},Fo,{plugins:e}))):Zde,i=t.reduce(function(r,o){var s=(n.getAttribute("data-tippy-"+o)||"").trim();if(!s)return r;if(o==="content")r[o]=s;else try{r[o]=JSON.parse(s)}catch{r[o]=s}return r},{});return i}function KV(n,e){var t=Object.assign({},e,{content:s5(e.content,[n])},e.ignoreAttributes?{}:Jde(n,e.plugins));return t.aria=Object.assign({},Fo.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var Kde=function(){return"innerHTML"};function KI(n,e){n[Kde()]=e}function e5(n){var e=v0();return n===!0?e.className=i5:(e.className=r5,Ux(n)?e.appendChild(n):KI(e,n)),e}function t5(n,e){Ux(e.content)?(KI(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?KI(n,e.content):n.textContent=e.content)}function ek(n){var e=n.firstElementChild,t=qx(e.children);return{box:e,content:t.find(function(i){return i.classList.contains(n5)}),arrow:t.find(function(i){return i.classList.contains(i5)||i.classList.contains(r5)}),backdrop:t.find(function(i){return i.classList.contains(Rde)})}}function c5(n){var e=v0(),t=v0();t.className=Nde,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var i=v0();i.className=n5,i.setAttribute("data-state","hidden"),t5(i,n.props),e.appendChild(t),t.appendChild(i),r(n.props,n.props);function r(o,s){var a=ek(e),l=a.box,c=a.content,u=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&t5(c,n.props),s.arrow?u?o.arrow!==s.arrow&&(l.removeChild(u),l.appendChild(e5(s.arrow))):l.appendChild(e5(s.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:r}}c5.$$tippy=!0;var epe=1,jx=[],JI=[];function tpe(n,e){var t=KV(n,Object.assign({},Fo,l5(YV(e)))),i,r,o,s=!1,a=!1,l=!1,c=!1,u,m,y,v=[],w=GV(b0,t.interactiveDebounce),D,I=epe++,M=null,q=Ode(t.plugins),G={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},N={id:I,reference:n,popper:v0(),popperInstance:M,props:t,state:G,plugins:q,clearDelayTimeouts:S0,setProps:D0,setContent:A0,show:f5,hide:h5,hideWithInteractivity:m5,enable:Df,disable:E0,unmount:g5,destroy:v5};if(!t.render)return N;var X=t.render(N),Y=X.popper,fe=X.onUpdate;Y.setAttribute("data-tippy-root",""),Y.id="tippy-"+N.id,N.popper=Y,n._tippy=N,Y._tippy=N;var ve=q.map(function(Q){return Q.fn(N)}),lt=n.hasAttribute("aria-expanded");return Tu(),Bo(),ti(),Vn("onCreate",[N]),t.showOnCreate&&Sf(),Y.addEventListener("mouseenter",function(){N.props.interactive&&N.state.isVisible&&N.clearDelayTimeouts()}),Y.addEventListener("mouseleave",function(){N.props.interactive&&N.props.trigger.indexOf("mouseenter")>=0&&tr().addEventListener("mousemove",w)}),N;function wt(){var Q=N.props.touch;return Array.isArray(Q)?Q:[Q,0]}function tn(){return wt()[0]==="hold"}function Ht(){var Q;return!!((Q=N.props.render)!=null&&Q.$$tippy)}function Zt(){return D||n}function tr(){var Q=Zt().parentNode;return Q?qde(Q):document}function nr(){return ek(Y)}function ei(Q){return N.state.isMounted&&!N.state.isVisible||Ts.isTouch||u&&u.type==="focus"?0:YI(N.props.delay,Q?0:1,Fo.delay)}function ti(Q){Q===void 0&&(Q=!1),Y.style.pointerEvents=N.props.interactive&&!Q?"":"none",Y.style.zIndex=""+N.props.zIndex}function Vn(Q,he,Oe){if(Oe===void 0&&(Oe=!0),ve.forEach(function(st){st[Q]&&st[Q].apply(st,he)}),Oe){var vt;(vt=N.props)[Q].apply(vt,he)}}function Lo(){var Q=N.props.aria;if(Q.content){var he="aria-"+Q.content,Oe=Y.id,vt=uf(N.props.triggerTarget||n);vt.forEach(function(st){var mi=st.getAttribute(he);if(N.state.isVisible)st.setAttribute(he,mi?mi+" "+Oe:Oe);else{var Er=mi&&mi.replace(Oe,"").trim();Er?st.setAttribute(he,Er):st.removeAttribute(he)}})}}function Bo(){if(!(lt||!N.props.aria.expanded)){var Q=uf(N.props.triggerTarget||n);Q.forEach(function(he){N.props.interactive?he.setAttribute("aria-expanded",N.state.isVisible&&he===Zt()?"true":"false"):he.removeAttribute("aria-expanded")})}}function yl(){tr().removeEventListener("mousemove",w),jx=jx.filter(function(Q){return Q!==w})}function Vo(Q){if(!(Ts.isTouch&&(l||Q.type==="mousedown"))){var he=Q.composedPath&&Q.composedPath()[0]||Q.target;if(!(N.props.interactive&&XV(Y,he))){if(uf(N.props.triggerTarget||n).some(function(Oe){return XV(Oe,he)})){if(Ts.isTouch||N.state.isVisible&&N.props.trigger.indexOf("click")>=0)return}else Vn("onClickOutside",[N,Q]);N.props.hideOnClick===!0&&(N.clearDelayTimeouts(),N.hide(),a=!0,setTimeout(function(){a=!1}),N.state.isMounted||ks())}}}function bl(){l=!0}function Is(){l=!1}function oo(){var Q=tr();Q.addEventListener("mousedown",Vo,!0),Q.addEventListener("touchend",Vo,Su),Q.addEventListener("touchstart",Is,Su),Q.addEventListener("touchmove",bl,Su)}function ks(){var Q=tr();Q.removeEventListener("mousedown",Vo,!0),Q.removeEventListener("touchend",Vo,Su),Q.removeEventListener("touchstart",Is,Su),Q.removeEventListener("touchmove",bl,Su)}function Du(Q,he){Au(Q,function(){!N.state.isVisible&&Y.parentNode&&Y.parentNode.contains(Y)&&he()})}function Ms(Q,he){Au(Q,he)}function Au(Q,he){var Oe=nr().box;function vt(st){st.target===Oe&&(XI(Oe,"remove",vt),he())}if(Q===0)return he();XI(Oe,"remove",m),XI(Oe,"add",vt),m=vt}function ga(Q,he,Oe){Oe===void 0&&(Oe=!1);var vt=uf(N.props.triggerTarget||n);vt.forEach(function(st){st.addEventListener(Q,he,Oe),v.push({node:st,eventType:Q,handler:he,options:Oe})})}function Tu(){tn()&&(ga("touchstart",Cf,{passive:!0}),ga("touchend",x0,{passive:!0})),Pde(N.props.trigger).forEach(function(Q){if(Q!=="manual")switch(ga(Q,Cf),Q){case"mouseenter":ga("mouseleave",x0);break;case"focus":ga(Gde?"focusout":"blur",wf);break;case"focusin":ga("focusout",wf);break}})}function y0(){v.forEach(function(Q){var he=Q.node,Oe=Q.eventType,vt=Q.handler,st=Q.options;he.removeEventListener(Oe,vt,st)}),v=[]}function Cf(Q){var he,Oe=!1;if(!(!N.state.isEnabled||Ef(Q)||a)){var vt=((he=u)==null?void 0:he.type)==="focus";u=Q,D=Q.currentTarget,Bo(),!N.state.isVisible&&Bde(Q)&&jx.forEach(function(st){return st(Q)}),Q.type==="click"&&(N.props.trigger.indexOf("mouseenter")<0||s)&&N.props.hideOnClick!==!1&&N.state.isVisible?Oe=!0:Sf(Q),Q.type==="click"&&(s=!Oe),Oe&&!vt&&xl(Q)}}function b0(Q){var he=Q.target,Oe=Zt().contains(he)||Y.contains(he);if(!(Q.type==="mousemove"&&Oe)){var vt=va().concat(Y).map(function(st){var mi,Er=st._tippy,Iu=(mi=Er.popperInstance)==null?void 0:mi.state;return Iu?{popperRect:st.getBoundingClientRect(),popperState:Iu,props:t}:null}).filter(Boolean);Ude(vt,Q)&&(yl(),xl(Q))}}function x0(Q){var he=Ef(Q)||N.props.trigger.indexOf("click")>=0&&s;if(!he){if(N.props.interactive){N.hideWithInteractivity(Q);return}xl(Q)}}function wf(Q){N.props.trigger.indexOf("focusin")<0&&Q.target!==Zt()||N.props.interactive&&Q.relatedTarget&&Y.contains(Q.relatedTarget)||xl(Q)}function Ef(Q){return Ts.isTouch?tn()!==Q.type.indexOf("touch")>=0:!1}function C0(){w0();var Q=N.props,he=Q.popperOptions,Oe=Q.placement,vt=Q.offset,st=Q.getReferenceClientRect,mi=Q.moveTransition,Er=Ht()?ek(Y).arrow:null,Iu=st?{getBoundingClientRect:st,contextElement:st.contextElement||Zt()}:n,nk={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(T0){var ku=T0.state;if(Ht()){var _5=nr(),eC=_5.box;["placement","reference-hidden","escaped"].forEach(function(I0){I0==="placement"?eC.setAttribute("data-placement",ku.placement):ku.attributes.popper["data-popper-"+I0]?eC.setAttribute("data-"+I0,""):eC.removeAttribute("data-"+I0)}),ku.attributes.popper={}}}},Cl=[{name:"offset",options:{offset:vt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!mi}},nk];Ht()&&Er&&Cl.push({name:"arrow",options:{element:Er,padding:3}}),Cl.push.apply(Cl,he?.modifiers||[]),N.popperInstance=QI(Iu,Y,Object.assign({},he,{placement:Oe,onFirstUpdate:y,modifiers:Cl}))}function w0(){N.popperInstance&&(N.popperInstance.destroy(),N.popperInstance=null)}function Ns(){var Q=N.props.appendTo,he,Oe=Zt();N.props.interactive&&Q===o5||Q==="parent"?he=Oe.parentNode:he=s5(Q,[Oe]),he.contains(Y)||he.appendChild(Y),N.state.isMounted=!0,C0()}function va(){return qx(Y.querySelectorAll("[data-tippy-root]"))}function Sf(Q){N.clearDelayTimeouts(),Q&&Vn("onTrigger",[N,Q]),oo();var he=ei(!0),Oe=wt(),vt=Oe[0],st=Oe[1];Ts.isTouch&&vt==="hold"&&st&&(he=st),he?i=setTimeout(function(){N.show()},he):N.show()}function xl(Q){if(N.clearDelayTimeouts(),Vn("onUntrigger",[N,Q]),!N.state.isVisible){ks();return}if(!(N.props.trigger.indexOf("mouseenter")>=0&&N.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Q.type)>=0&&s)){var he=ei(!1);he?r=setTimeout(function(){N.state.isVisible&&N.hide()},he):o=requestAnimationFrame(function(){N.hide()})}}function Df(){N.state.isEnabled=!0}function E0(){N.hide(),N.state.isEnabled=!1}function S0(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function D0(Q){if(!N.state.isDestroyed){Vn("onBeforeUpdate",[N,Q]),y0();var he=N.props,Oe=KV(n,Object.assign({},he,YV(Q),{ignoreAttributes:!0}));N.props=Oe,Tu(),he.interactiveDebounce!==Oe.interactiveDebounce&&(yl(),w=GV(b0,Oe.interactiveDebounce)),he.triggerTarget&&!Oe.triggerTarget?uf(he.triggerTarget).forEach(function(vt){vt.removeAttribute("aria-expanded")}):Oe.triggerTarget&&n.removeAttribute("aria-expanded"),Bo(),ti(),fe&&fe(he,Oe),N.popperInstance&&(C0(),va().forEach(function(vt){requestAnimationFrame(vt._tippy.popperInstance.forceUpdate)})),Vn("onAfterUpdate",[N,Q])}}function A0(Q){N.setProps({content:Q})}function f5(){var Q=N.state.isVisible,he=N.state.isDestroyed,Oe=!N.state.isEnabled,vt=Ts.isTouch&&!N.props.touch,st=YI(N.props.duration,0,Fo.duration);if(!(Q||he||Oe||vt)&&!Zt().hasAttribute("disabled")&&(Vn("onShow",[N],!1),N.props.onShow(N)!==!1)){if(N.state.isVisible=!0,Ht()&&(Y.style.visibility="visible"),ti(),oo(),N.state.isMounted||(Y.style.transition="none"),Ht()){var mi=nr(),Er=mi.box,Iu=mi.content;ZI([Er,Iu],0)}y=function(){var Cl;if(!(!N.state.isVisible||c)){if(c=!0,Y.offsetHeight,Y.style.transition=N.props.moveTransition,Ht()&&N.props.animation){var Kx=nr(),T0=Kx.box,ku=Kx.content;ZI([T0,ku],st),ZV([T0,ku],"visible")}Lo(),Bo(),QV(JI,N),(Cl=N.popperInstance)==null||Cl.forceUpdate(),Vn("onMount",[N]),N.props.animation&&Ht()&&Ms(st,function(){N.state.isShown=!0,Vn("onShown",[N])})}},Ns()}}function h5(){var Q=!N.state.isVisible,he=N.state.isDestroyed,Oe=!N.state.isEnabled,vt=YI(N.props.duration,1,Fo.duration);if(!(Q||he||Oe)&&(Vn("onHide",[N],!1),N.props.onHide(N)!==!1)){if(N.state.isVisible=!1,N.state.isShown=!1,c=!1,s=!1,Ht()&&(Y.style.visibility="hidden"),yl(),ks(),ti(!0),Ht()){var st=nr(),mi=st.box,Er=st.content;N.props.animation&&(ZI([mi,Er],vt),ZV([mi,Er],"hidden"))}Lo(),Bo(),N.props.animation?Ht()&&Du(vt,N.unmount):N.unmount()}}function m5(Q){tr().addEventListener("mousemove",w),QV(jx,w),w(Q)}function g5(){N.state.isVisible&&N.hide(),N.state.isMounted&&(w0(),va().forEach(function(Q){Q._tippy.unmount()}),Y.parentNode&&Y.parentNode.removeChild(Y),JI=JI.filter(function(Q){return Q!==N}),N.state.isMounted=!1,Vn("onHidden",[N]))}function v5(){N.state.isDestroyed||(N.clearDelayTimeouts(),N.unmount(),y0(),delete n._tippy,N.state.isDestroyed=!0,Vn("onDestroy",[N]))}}function _0(n,e){e===void 0&&(e={});var t=Fo.plugins.concat(e.plugins||[]);zde();var i=Object.assign({},e,{plugins:t}),r=jde(n);if(0)var o,s;var a=r.reduce(function(l,c){var u=c&&tpe(c,i);return u&&l.push(u),l},[]);return Ux(n)?a[0]:a}_0.defaultProps=Fo;_0.setDefaultProps=Xde;_0.currentInput=Ts;var JFe=Object.assign({},u0,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}});_0.setDefaultProps({render:c5});var u5=_0;var npe=["calendar"],ipe=(n,e)=>e.name;function rpe(n,e){if(n&1&&(p(0,"span",7),h(1),f()),n&2){let t=b();d(),R(t.activeFilterCount())}}function ope(n,e){if(n&1&&h(0),n&2){let t=b(2);x(" ",t.selectedStatuses().length," selecionados ")}}function spe(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&x(" ",_(1,1,"selectStatus")," ")}function ape(n,e){if(n&1){let t=H();p(0,"label",17)(1,"input",18),A("change",function(){let r=E(t).$implicit,o=b(3);return S(o.toggleStatusFilter(r.name))}),f(),k(2,"span",19),p(3,"span",20),h(4),f()()}if(n&2){let t=e.$implicit,i=b(3);bt("aria-label",ne(i.getStatusTranslation(t.name))),d(),bt("aria-checked",ne(i.isStatusVisible(t.name)?"true":"false"))("aria-labelledby",Xd("status-",t.name)),T("checked",i.isStatusVisible(t.name)),d(),us("background-color",t.color),d(),T("id",Xd("status-",t.name))("ngClass",i.fontText),d(),R(i.getStatusTranslation(t.name))}}function lpe(n,e){if(n&1&&(p(0,"div",15),g(1,"i18n"),ce(2,ape,5,13,"label",17,ipe),f()),n&2){let t=b(2);bt("aria-label",ne(_(1,2,"statusOptions"))),d(2),ue(t.statusLegend())}}function cpe(n,e){if(n&1){let t=H();p(0,"div",8)(1,"label",11),h(2),g(3,"i18n"),f(),p(4,"div",12)(5,"button",13),g(6,"i18n"),A("click",function(){E(t);let r=b();return S(r.toggleStatusDropdown())}),p(7,"span"),V(8,ope,1,1)(9,spe,2,3),f(),k(10,"i",14),f(),V(11,lpe,4,4,"div",15),f(),p(12,"button",16),g(13,"i18n"),A("click",function(){E(t);let r=b();return S(r.clearAllFilters())}),h(14),g(15,"i18n"),f()()}if(n&2){let t=b();d(2),x(" ",_(3,10,"filterByStatus")," "),d(3),bt("aria-expanded",ne(t.showStatusDropdown()?"true":"false"))("aria-label",ne(_(6,12,"selectStatus"))),d(3),j(t.selectedStatuses().length>0?8:9),d(3),j(t.showStatusDropdown()?11:-1),d(),bt("aria-label",ne(_(13,14,"clearFilters"))),d(2),x(" ",_(15,16,"clearFilters")," ")}}var df=class df{constructor(){this.showStatusDropdown=F(!1);this.user=ge.required();this.viewDetails=ae();this.dataService=$(kt);this.i18n=$($e);this.injector=$(wi);this.calendarComponent=Pc.required("calendar");this.calendarApi=F(void 0);this.visibleStatuses=F(new Set);this.isFilterVisible=F(!1);this.fontHeading="font-heading text-2xl font-bold text-gray-900 dark:text-gray-100";this.fontSubheading="font-heading text-lg font-semibold text-gray-800 dark:text-gray-200";this.fontText="font-sans text-base text-gray-700 dark:text-gray-300";this.fontSmall="font-sans text-sm text-gray-500 dark:text-gray-400";this.activeFilterCount=J(()=>{let e=this.statusLegend().length,t=this.visibleStatuses().size;return t>0&&t<e?t:0});this.statusLegend=J(()=>Object.keys(un.colorMap).map(e=>({name:e,color:un.getColor(e)})));this.handleEventClick=e=>{Gs(this.injector,()=>{let t=this.dataService.getServiceRequestById(Number(e.event.id));t&&this.viewDetails.emit(t)})};this.handleEventDidMount=e=>{Gs(this.injector,()=>{let t=this.dataService.getServiceRequestById(Number(e.event.id));if(!t)return;let i=this.getProfessionalName(t.professional_id),r=this.getClientName(t.client_id),o=this.formatTime(t.scheduled_start_datetime),s=`
        <div class="p-2 text-left font-sans text-sm">
          <div class="font-heading text-base font-bold mb-1">${t.title}</div>
          <div class="mb-1"><i class="fas fa-clock w-4 mr-1 text-gray-400"></i><strong class="font-semibold">${this.i18n.translate("time")}:</strong> <span class="font-sans">${o}</span></div>
          <div class="mb-1"><i class="fas fa-info-circle w-4 mr-1 text-gray-400"></i><strong class="font-semibold">${this.i18n.translate("status")}:</strong> <span class="font-sans">${this.getStatusTranslation(t.status)}</span></div>
          ${this.user().role!=="client"?`<div class="mb-1"><i class="fas fa-user w-4 mr-1 text-gray-400"></i><strong class="font-semibold">${this.i18n.translate("client")}:</strong> <span class="font-sans">${r}</span></div>`:""}
          ${this.user().role!=="professional"?`<div class="mb-1"><i class="fas fa-hard-hat w-4 mr-1 text-gray-400"></i><strong class="font-semibold">${this.i18n.translate("professional")}:</strong> <span class="font-sans">${i}</span></div>`:""}
        </div>
      `;u5(e.el,{content:s,allowHTML:!0,theme:"light-border",placement:"top",animation:"shift-away"})})};this.calendarOptions={plugins:[dV,_V,wV,SV],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},weekends:!0,moreLinkClick:"popover",eventClick:this.handleEventClick,eventDidMount:this.handleEventDidMount,events:[],eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},customButtons:{},buttonText:{today:this.i18n.translate("today"),month:this.i18n.translate("month"),week:this.i18n.translate("week"),day:this.i18n.translate("day"),list:this.i18n.translate("agenda")},themeSystem:"standard"};this.selectAllStatuses(),this.setupEffects()}toggleStatusDropdown(){this.showStatusDropdown.update(e=>!e)}onStatusMultiSelectChange(e){let t=e.target,i=[];for(let r of Array.from(t.options))r.selected&&i.push(r.value);this.visibleStatuses.set(new Set(i))}selectedStatuses(){return Array.from(this.visibleStatuses())}getSelectedStatusLabel(){let e=this.selectedStatuses();return this.i18n.translate("selectStatus")}ngAfterViewInit(){this.calendarApi.set(this.calendarComponent().getApi()),this.setupResizeListener()}ngOnDestroy(){this.resizeHandler&&typeof window<"u"&&window.removeEventListener("resize",this.resizeHandler)}toggleStatusFilter(e){this.visibleStatuses.update(t=>{let i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i})}isStatusVisible(e){return this.visibleStatuses().has(e)}selectAllStatuses(){this.visibleStatuses.set(new Set(this.statusLegend().map(e=>e.name)))}toggleFilterVisibility(){this.isFilterVisible.update(e=>!e)}clearAllFilters(){this.visibleStatuses.set(new Set)}setupEffects(){qt(()=>{let e=this.dataService.serviceRequests(),t=this.user(),i=this.visibleStatuses(),r;t.role==="client"?r=e.filter(l=>l.client_id===t.id):t.role==="professional"?r=e.filter(l=>l.professional_id===t.id):r=e;let o=["Finalizado","Pago","Cancelado","Conclu\xEDdo - Aguardando aprova\xE7\xE3o"],s=r.filter(l=>l.scheduled_date||l.scheduled_start_datetime).map(l=>{let c=o.includes(l.status);return!c&&!i.has(l.status)?null:{id:String(l.id),title:`${l.title} (${this.getStatusTranslation(l.status)})`,start:l.scheduled_start_datetime||l.scheduled_date,backgroundColor:c?un.getColor(l.status)+"80":un.getColor(l.status),borderColor:c?un.getColor(l.status)+"80":un.getColor(l.status),textColor:c?"#e5e7eb":"#ffffff",classNames:c?["past-event"]:[]}}).filter(l=>l!==null),a=this.calendarApi();a&&a.setOption("events",s)}),qt(()=>{let e=this.i18n.language(),t=this.calendarApi();t&&this.updateCalendarLocale(t)})}setupResizeListener(){typeof window<"u"&&(this.resizeHandler=()=>this.updateCalendarForResize(),window.addEventListener("resize",this.resizeHandler),this.updateCalendarForResize())}updateCalendarForResize(){let e=this.calendarApi();if(!e)return;let t=window.innerWidth<768;e.setOption("aspectRatio",t?1:1.35),e.setOption("height",t?500:"100%"),e.setOption("contentHeight",t?400:"auto"),e.setOption("dayMaxEvents",t?2:5),e.setOption("eventDisplay",t?"block":"auto")}updateCalendarLocale(e){let t=this.i18n.language()==="pt"?DV:"en";e.setOption("locale",t),e.setOption("buttonText",{today:this.i18n.translate("today"),month:this.i18n.translate("month"),week:this.i18n.translate("week"),day:this.i18n.translate("day"),list:this.i18n.translate("agenda")})}getClientName(e){return this.dataService.users().find(t=>t.id===e)?.name||this.i18n.translate("unknownClient")}getProfessionalName(e){return e?this.dataService.users().find(t=>t.id===e)?.name||this.i18n.translate("unassigned"):this.i18n.translate("unassigned")}formatTime(e){return e?new Date(e).toLocaleTimeString(this.i18n.language()==="pt"?"pt-PT":"en-US",{hour:"2-digit",minute:"2-digit"}):""}getStatusTranslation(e){return un.getLabel(e,this.i18n)}};df.\u0275fac=function(t){return new(t||df)},df.\u0275cmp=pe({type:df,selectors:[["app-schedule"]],viewQuery:function(t,i){t&1&&Ya(i.calendarComponent,npe,5),t&2&&Rc()},hostAttrs:[1,"block","h-full","font-sans"],inputs:{user:[1,"user"]},outputs:{viewDetails:"viewDetails"},decls:14,vars:13,consts:[["calendar",""],["aria-label","Agenda de Servi\xE7os",1,"schedule-container","h-full","flex","flex-col","bg-gray-50","rounded-lg","shadow-sm"],[1,"p-4","border-b","border-gray-200","bg-white"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mt-2"],[1,"relative","flex","items-center","px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click","aria-label","aria-pressed"],[1,"fas","fa-filter","w-4","h-4","mr-2"],[3,"ngClass"],[1,"absolute","-top-2","-right-2","inline-flex","items-center","justify-center","px-2","py-1","text-xs","font-bold","leading-none","text-red-100","bg-red-600","rounded-full"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"flex-1","p-6","bg-white","rounded-b-lg","mt-6","border-t","border-gray-200"],["aria-label","Calend\xE1rio de servi\xE7os","tabindex","0",1,"h-full",3,"options"],["for","status-filter-dropdown",1,"block","mb-2","font-semibold","text-gray-800","text-base"],[1,"relative","w-full"],["id","status-filter-dropdown","type","button","aria-haspopup","listbox",1,"w-full","flex","justify-between","items-center","px-3","py-2","bg-white","border","border-gray-300","rounded-lg","shadow-sm","text-gray-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500",3,"click","aria-expanded","aria-label"],["aria-hidden","true",1,"fas","fa-chevron-down","ml-2"],["role","listbox",1,"absolute","z-10","mt-2","w-full","bg-white","border","border-gray-300","rounded-lg","shadow-lg","max-h-64","overflow-auto","animate-fade-in",3,"aria-label"],[1,"mt-4","px-4","py-2","text-xs","bg-red-100","text-red-700","rounded","hover:bg-red-200","transition-colors","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click","aria-label"],[1,"flex","items-center","px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"aria-label"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500","mr-2",3,"change","checked","aria-checked","aria-labelledby"],["aria-hidden","true",1,"w-4","h-4","rounded-full","ml-2","border","border-gray-300"],[1,"ml-3","text-sm","font-medium","text-gray-700",3,"ngClass","id"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),g(4,"i18n"),A("click",function(){return E(r),S(i.toggleFilterVisibility())}),k(5,"i",5),p(6,"span",6),h(7),g(8,"i18n"),f(),V(9,rpe,2,1,"span",7),f()(),V(10,cpe,16,18,"div",8),f(),p(11,"div",9),k(12,"full-calendar",10,0),f()()}t&2&&(d(3),bt("aria-label",ne(_(4,9,"filter")))("aria-pressed",ne(i.isFilterVisible()?"true":"false")),d(3),T("ngClass",i.fontText),d(),R(_(8,11,"filter")),d(2),j(i.activeFilterCount()>0?9:-1),d(),j(i.isFilterVisible()?10:-1),d(2),T("options",i.calendarOptions))},dependencies:[me,Ao,oV,rV,Ae],encapsulation:2,changeDetection:0});var $x=df;var upe=(n,e)=>e.id,dpe=(n,e)=>e.value;function ppe(n,e){if(n&1&&(p(0,"span",32),h(1),f()),n&2){let t=b().$implicit;d(),x(" (",t.specialties.join(", "),")")}}function fpe(n,e){if(n&1&&(p(0,"option",14),h(1),V(2,ppe,2,1,"span",32),f()),n&2){let t=e.$implicit;T("ngValue",t.id),d(),x(" ",t.name," "),d(),j(t.specialties&&t.specialties.length>0?2:-1)}}function hpe(n,e){if(n&1&&(p(0,"option",21),h(1),f()),n&2){let t=e.$implicit;T("value",t.value),d(),R(t.label)}}var pf=class pf{constructor(){this.serviceRequest=ge.required();this.close=ae();this.appointmentConfirmed=ae();this.dataService=$(kt);this.availableProfessionals=J(()=>this.dataService.getProfessionalsByCategory(this.serviceRequest().category));this.selectedProfessionalId=F(null);this.selectedDate=F("");this.selectedTime=F("");this.availableTimeSlots=[{value:"08:00",label:"08:00"},{value:"09:00",label:"09:00"},{value:"10:00",label:"10:00"},{value:"11:00",label:"11:00"},{value:"14:00",label:"14:00"},{value:"15:00",label:"15:00"},{value:"16:00",label:"16:00"},{value:"17:00",label:"17:00"}];this.canConfirm=J(()=>this.selectedProfessionalId()&&this.selectedDate()&&this.selectedTime())}getTomorrowDate(){let e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}confirmAppointment(){if(!this.canConfirm())return;let e=this.selectedProfessionalId(),t=new Date(`${this.selectedDate()}T${this.selectedTime()}`);this.appointmentConfirmed.emit({requestId:this.serviceRequest().id,professionalId:e,date:t})}};pf.\u0275fac=function(t){return new(t||pf)},pf.\u0275cmp=pe({type:pf,selectors:[["app-scheduler"]],inputs:{serviceRequest:[1,"serviceRequest"]},outputs:{close:"close",appointmentConfirmed:"appointmentConfirmed"},decls:72,vars:69,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-lg","max-h-[90vh]","overflow-y-auto"],[1,"sticky","top-0","bg-white","border-b","border-gray-200","px-4","py-4","sm:px-6"],[1,"flex","items-center","justify-between"],[1,"text-lg","sm:text-xl","font-bold","text-gray-900","pr-4"],[1,"flex-shrink-0","text-gray-400","hover:text-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-xl","p-2","shadow-sm","transition-all","duration-200",3,"click","aria-label"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-sm","text-gray-600","mt-2","line-clamp-2"],[1,"px-4","py-4","sm:px-6","space-y-6"],[1,"space-y-2"],["for","professional",1,"block","text-sm","font-semibold","text-gray-700"],["id","professional","name","professional",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-xl","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200",3,"ngModelChange","ngModel","aria-label"],["disabled","",3,"ngValue"],[3,"ngValue"],[1,"space-y-4","sm:space-y-0","sm:grid","sm:grid-cols-2","sm:gap-4"],["for","date",1,"block","text-sm","font-semibold","text-gray-700"],["type","date","id","date","name","date",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-xl","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200",3,"ngModelChange","ngModel","min","aria-label"],["for","time",1,"block","text-sm","font-semibold","text-gray-700"],["id","time","name","time",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-xl","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200",3,"ngModelChange","ngModel","aria-label"],["value","","disabled",""],[3,"value"],[1,"bg-gray-50","rounded-xl","p-4","border","border-gray-200","shadow-sm"],[1,"text-sm","font-semibold","text-gray-700","mb-2"],[1,"space-y-2","text-sm","text-gray-600"],[1,"font-medium"],[1,"ml-1"],[1,"ml-1","text-xs"],[1,"sticky","bottom-0","bg-gray-50","border-t","border-gray-200","px-4","py-4","sm:px-6"],[1,"flex","flex-col","sm:flex-row","sm:justify-end","gap-3"],[1,"w-full","sm:w-auto","px-6","py-3","text-base","font-semibold","text-gray-700","bg-white","border","border-gray-300","rounded-xl","hover:bg-indigo-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","shadow-sm","transition-all","duration-200",3,"click","aria-label"],[1,"w-full","sm:w-auto","px-6","py-3","text-base","font-semibold","text-white","bg-blue-600","rounded-xl","hover:bg-blue-700","disabled:bg-gray-300","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-blue-500","shadow-lg","transition-all","duration-200",3,"click","disabled","aria-label"],[1,"hidden","sm:inline"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),h(5),g(6,"i18n"),f(),p(7,"button",5),g(8,"i18n"),A("click",function(){return i.close.emit()}),Ne(),p(9,"svg",6),k(10,"path",7),f()()(),Le(),p(11,"p",8),h(12),f()(),p(13,"div",9)(14,"div",10)(15,"label",11),h(16),g(17,"i18n"),f(),p(18,"select",12),g(19,"i18n"),Ct("ngModelChange",function(o){return At(i.selectedProfessionalId,o)||(i.selectedProfessionalId=o),o}),p(20,"option",13),h(21),g(22,"i18n"),f(),ce(23,fpe,3,3,"option",14,upe),f()(),p(25,"div",15)(26,"div",10)(27,"label",16),h(28),g(29,"i18n"),f(),p(30,"input",17),g(31,"i18n"),Ct("ngModelChange",function(o){return At(i.selectedDate,o)||(i.selectedDate=o),o}),f()(),p(32,"div",10)(33,"label",18),h(34),g(35,"i18n"),f(),p(36,"select",19),g(37,"i18n"),Ct("ngModelChange",function(o){return At(i.selectedTime,o)||(i.selectedTime=o),o}),p(38,"option",20),h(39),g(40,"i18n"),f(),ce(41,hpe,2,2,"option",21,dpe),f()()(),p(43,"div",22)(44,"h4",23),h(45),g(46,"i18n"),f(),p(47,"div",24)(48,"div")(49,"span",25),h(50),g(51,"i18n"),f(),p(52,"span",26),h(53),f()(),p(54,"div")(55,"span",25),h(56),g(57,"i18n"),f(),p(58,"div",27),h(59),k(60,"br"),h(61),f()()()()(),p(62,"div",28)(63,"div",29)(64,"button",30),g(65,"i18n"),A("click",function(){return i.close.emit()}),h(66),g(67,"i18n"),f(),p(68,"button",31),g(69,"i18n"),A("click",function(){return i.confirmAppointment()}),h(70),g(71,"i18n"),f()()()()()),t&2&&(d(5),x(" ",_(6,35,"scheduleAppointmentFor")," "),d(2),bt("aria-label",ne(_(8,37,"close"))),d(5),x(' "',i.serviceRequest().title,'" '),d(4),x(" ",_(17,39,"selectProfessional")," "),d(2),bt("aria-label",ne(_(19,41,"selectProfessional"))),xt("ngModel",i.selectedProfessionalId),d(2),T("ngValue",null),d(),x(" ",_(22,43,"selectAProfessional")," "),d(2),ue(i.availableProfessionals()),d(5),x(" ",_(29,45,"selectDate")," "),d(2),bt("aria-label",ne(_(31,47,"selectDate"))),xt("ngModel",i.selectedDate),T("min",i.getTomorrowDate()),d(4),x(" ",_(35,49,"selectTime")," "),d(2),bt("aria-label",ne(_(37,51,"selectTime"))),xt("ngModel",i.selectedTime),d(3),R(_(40,53,"selectTime")),d(2),ue(i.availableTimeSlots),d(4),x(" ",_(46,55,"serviceDetails")," "),d(5),x("",_(51,57,"category"),":"),d(3),R(i.serviceRequest().category),d(3),x("",_(57,59,"address"),":"),d(3),Qe(" ",i.serviceRequest().street,", ",i.serviceRequest().city," "),d(2),Qe("",i.serviceRequest().state," - ",i.serviceRequest().zip_code," "),d(3),bt("aria-label",ne(_(65,61,"cancel"))),d(2),x(" ",_(67,63,"cancel")," "),d(2),bt("aria-label",ne(_(69,65,"confirmSchedule"))),T("disabled",!i.canConfirm()),d(2),x(" ",_(71,67,"confirmSchedule")," "))},dependencies:[me,ut,pi,fi,Lt,_s,Gt,$t,Ae],encapsulation:2,changeDetection:0});var Hx=pf;function mpe(n,e){if(n&1&&(p(0,"option",9),h(1),f()),n&2){let t=e.$implicit;T("value",t),d(),R(t)}}function gpe(n,e){if(n&1&&(p(0,"option",9),h(1),f()),n&2){let t=e.$implicit;T("value",t),d(),R(t)}}function vpe(n,e){if(n&1&&k(0,"app-service-list",13),n&2){let t=b();T("serviceRequests",t.filteredRequests())("currentUser",t.user())}}function _pe(n,e){n&1&&(p(0,"div",14)(1,"p",15),h(2),g(3,"i18n"),f()()),n&2&&(d(2),R(_(3,1,"noResultsFound")))}var ff=class ff{constructor(){this.user=ge.required();this.dataService=$(kt);this.allRequests=this.dataService.serviceRequests;this.categories=this.dataService.categories;this.statuses=["Pending","Assigned","In Progress","Completed","Cancelled"];this.searchTerm=F("");this.categoryFilter=F(null);this.statusFilter=F("");this.filteredRequests=J(()=>{let e=this.searchTerm().toLowerCase(),t=this.categoryFilter(),i=this.statusFilter();return this.allRequests().filter(r=>{let o=e?r.title.toLowerCase().includes(e)||r.description.toLowerCase().includes(e):!0,s=t!==null?r.category_id===t:!0,a=i?r.status===i:!0;return o&&s&&a})})}};ff.\u0275fac=function(t){return new(t||ff)},ff.\u0275cmp=pe({type:ff,selectors:[["app-search"]],inputs:{user:[1,"user"]},decls:37,vars:29,consts:[[1,"container","mx-auto","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-md","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["for","searchTerm",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","searchTerm",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["for","category",1,"block","text-sm","font-medium","text-gray-700"],["id","category",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"text-2xl","font-semibold","mb-4"],[3,"serviceRequests","currentUser"],[1,"text-center","py-12","bg-white","rounded-lg","shadow-md"],[1,"text-gray-500"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"h1",1),h(2),g(3,"i18n"),f(),p(4,"div",2)(5,"div",3)(6,"div")(7,"label",4),h(8),g(9,"i18n"),f(),p(10,"input",5),g(11,"i18n"),A("ngModelChange",function(o){return i.searchTerm.set(o)}),f()(),p(12,"div")(13,"label",6),h(14),g(15,"i18n"),f(),p(16,"select",7),A("ngModelChange",function(o){return i.categoryFilter.set(o)}),p(17,"option",8),h(18),g(19,"i18n"),f(),ce(20,mpe,2,2,"option",9,Nn),f()(),p(22,"div")(23,"label",10),h(24),g(25,"i18n"),f(),p(26,"select",11),A("ngModelChange",function(o){return i.statusFilter.set(o)}),p(27,"option",8),h(28),g(29,"i18n"),f(),ce(30,gpe,2,2,"option",9,Nn),f()()()(),p(32,"h2",12),h(33),g(34,"i18n"),f(),V(35,vpe,1,2,"app-service-list",13)(36,_pe,4,3,"div",14),f()),t&2&&(d(2),R(_(3,13,"searchServiceRequests")),d(6),R(_(9,15,"searchTerm")),d(2),T("ngModel",i.searchTerm())("placeholder",_(11,17,"searchTermPlaceholder")),d(4),R(_(15,19,"category")),d(2),T("ngModel",i.categoryFilter()),d(2),R(_(19,21,"allCategories")),d(2),ue(i.categories()),d(4),R(_(25,23,"status")),d(2),T("ngModel",i.statusFilter()),d(2),R(_(29,25,"allStatuses")),d(2),ue(i.statuses),d(3),Qe("",_(34,27,"results")," (",i.filteredRequests().length,")"),d(2),j(i.filteredRequests().length>0?35:36))},dependencies:[me,ut,pi,fi,Lt,_s,Gt,$t,kp,Ae],encapsulation:2,changeDetection:0});var zx=ff;function ype(n,e){if(n&1&&(De(0,"span",11),h(1),ke()),n&2){let t=b();se(t.getDurationVarianceClass(t.durationVariance())),d(),Qe(" (",t.durationVariance()>0?"+":"","",t.durationVariance(),"min) ")}}function bpe(n,e){if(n&1&&(De(0,"div",4)(1,"div",12)(2,"label",13),h(3),g(4,"i18n"),ke(),De(5,"p",14),h(6),ke()(),De(7,"div",15)(8,"label",16),h(9),g(10,"i18n"),ke(),De(11,"p",17),h(12),ke()()()),n&2){let t=b();d(3),x(" ",_(4,4,"actualStartDateTime")," "),d(3),x(" ",t.formatDateTime(t.request().actual_start_datetime)," "),d(3),x(" ",_(10,6,"actualEndDateTime")," "),d(3),x(" ",t.formatDateTime(t.request().actual_end_datetime)," ")}}function xpe(n,e){if(n&1){let t=H();De(0,"button",21),Wi("click",function(){E(t);let r=b(2);return S(r.startWork())}),Di(1,"i",22),h(2),g(3,"i18n"),ke()}n&2&&(d(2),x(" ",_(3,1,"startWork")," "))}function Cpe(n,e){if(n&1){let t=H();De(0,"button",23),Wi("click",function(){E(t);let r=b(2);return S(r.finishWork())}),Di(1,"i",24),h(2),g(3,"i18n"),ke()}n&2&&(d(2),x(" ",_(3,1,"finishWork")," "))}function wpe(n,e){n&1&&(Di(0,"i",25),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"serviceCompleted")," "))}function Epe(n,e){n&1&&(Di(0,"i",26),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"serviceInProgress")," "))}function Spe(n,e){n&1&&(Di(0,"i",27),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"awaitingSchedule")," "))}function Dpe(n,e){n&1&&(Di(0,"i",28),h(1),g(2,"i18n")),n&2&&(d(),x(" ",_(2,1,"noActionAvailable")," "))}function Ape(n,e){if(n&1&&(De(0,"div",20),V(1,wpe,3,3)(2,Epe,3,3)(3,Spe,3,3)(4,Dpe,3,3),ke()),n&2){let t,i=b(2);d(),j((t=i.schedulingStatus())==="Completed"?1:t==="In Progress"?2:t==="Awaiting Schedule"?3:4)}}function Tpe(n,e){if(n&1&&(De(0,"div",9),V(1,xpe,4,3,"button",18),V(2,Cpe,4,3,"button",19),V(3,Ape,5,1,"div",20),ke()),n&2){let t=b();d(),j(t.canStartWork()?1:-1),d(),j(t.canFinishWork()?2:-1),d(),j(!t.canStartWork()&&!t.canFinishWork()?3:-1)}}function Ipe(n,e){n&1&&(De(0,"div",10)(1,"h4",29),h(2),g(3,"i18n"),ke(),De(4,"p",30),h(5),g(6,"i18n"),ke()()),n&2&&(d(2),x(" ",_(3,2,"adminActions")," "),d(3),x(" ",_(6,4,"useSchedulerToManage")," "))}var hf=class hf{constructor(){this.request=ge.required();this.onStartWork=ae();this.onFinishWork=ae();this.onUpdateDuration=ae();this.dataService=$(kt);this.authService=$(ci);this.i18n=$($e);this.currentUser=this.authService.appUser;this.canStartWork=J(()=>{let e=this.currentUser(),t=this.request();return e?.role==="professional"&&t.professional_id===e.id&&!t.actual_start_datetime&&t.status==="Agendado"});this.canFinishWork=J(()=>{let e=this.currentUser(),t=this.request();return e?.role==="professional"&&t.professional_id===e.id&&t.actual_start_datetime&&!t.actual_end_datetime&&t.status==="Em execu\xE7\xE3o"});this.canManageSchedule=J(()=>this.currentUser()?.role==="admin");this.schedulingStatus=J(()=>this.dataService.getSchedulingStatus(this.request()));this.actualDuration=J(()=>this.dataService.calculateActualDuration(this.request()));this.durationVariance=J(()=>this.dataService.calculateDurationVariance(this.request()))}formatDuration(e){if(!e)return"--";let t=Math.floor(e/60),i=e%60;return t>0?`${t}h ${i}min`:`${i}min`}formatDateTime(e){if(!e)return"--";let t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"})}getStatusClass(e){switch(e){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Delayed":return"bg-red-100 text-red-800";case"Scheduled Today":return"bg-orange-100 text-orange-800";case"Scheduled":return"bg-purple-100 text-purple-800";case"Awaiting Schedule":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}getDurationVarianceClass(e){return e?e>0?"text-red-600":e<0?"text-green-600":"text-gray-600":"text-gray-600"}async startWork(){try{await this.dataService.startServiceWork(this.request().id),this.onStartWork.emit(this.request().id)}catch(e){console.error("Erro ao iniciar trabalho:",e)}}async finishWork(){try{await this.dataService.finishServiceWork(this.request().id),this.onFinishWork.emit(this.request().id)}catch(e){console.error("Erro ao finalizar trabalho:",e)}}};hf.\u0275fac=function(t){return new(t||hf)},hf.\u0275cmp=pe({type:hf,selectors:[["app-time-control"]],inputs:{request:[1,"request"]},outputs:{onStartWork:"onStartWork",onFinishWork:"onFinishWork",onUpdateDuration:"onUpdateDuration"},decls:36,vars:26,consts:[[1,"bg-white","rounded-lg","border","border-gray-200","p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-3","py-1","rounded-full","text-sm","font-medium"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"block","text-sm","font-medium","text-gray-600","mb-1"],[1,"text-sm","text-gray-900"],[1,"ml-2","text-xs",3,"class"],[1,"flex","flex-col","sm:flex-row","gap-3"],[1,"mt-4","p-4","bg-yellow-50","rounded-lg","border","border-yellow-200"],[1,"ml-2","text-xs"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"block","text-sm","font-medium","text-blue-600","mb-1"],[1,"text-sm","text-blue-900"],[1,"bg-green-50","rounded-lg","p-4"],[1,"block","text-sm","font-medium","text-green-600","mb-1"],[1,"text-sm","text-green-900"],[1,"flex-1","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","gap-2"],[1,"flex-1","bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","gap-2"],[1,"flex-1","bg-gray-100","text-gray-600","px-4","py-2","rounded-lg","text-center"],[1,"flex-1","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","gap-2",3,"click"],[1,"fas","fa-play"],[1,"flex-1","bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","gap-2",3,"click"],[1,"fas","fa-stop"],[1,"fas","fa-check-circle","mr-2","text-green-600"],[1,"fas","fa-clock","mr-2","text-blue-600"],[1,"fas","fa-calendar-times","mr-2","text-yellow-600"],[1,"fas","fa-hourglass-half","mr-2"],[1,"text-sm","font-medium","text-yellow-800","mb-2"],[1,"text-sm","text-yellow-700"]],template:function(t,i){if(t&1&&(De(0,"div",0)(1,"div",1)(2,"h3",2),h(3),g(4,"i18n"),ke(),De(5,"span",3),h(6),ke()(),De(7,"div",4)(8,"div",5)(9,"label",6),h(10),g(11,"i18n"),ke(),De(12,"p",7),h(13),ke()(),De(14,"div",5)(15,"label",6),h(16),g(17,"i18n"),ke(),De(18,"p",7),h(19),ke()(),De(20,"div",5)(21,"label",6),h(22),g(23,"i18n"),ke(),De(24,"p",7),h(25),ke()(),De(26,"div",5)(27,"label",6),h(28),g(29,"i18n"),ke(),De(30,"p",7),h(31),V(32,ype,2,4,"span",8),ke()()(),V(33,bpe,13,8,"div",4),V(34,Tpe,4,3,"div",9),V(35,Ipe,7,6,"div",10),ke()),t&2){let r;d(3),x(" ",_(4,16,"timeControl")," "),d(2),se(i.getStatusClass(i.schedulingStatus())),d(),x(" ",i.schedulingStatus()," "),d(4),x(" ",_(11,18,"requestedDateTime")," "),d(3),x(" ",i.formatDateTime(i.request().requested_datetime||i.request().requested_date)," "),d(3),x(" ",_(17,20,"scheduledStartDateTime")," "),d(3),x(" ",i.formatDateTime(i.request().scheduled_start_datetime||i.request().scheduled_date)," "),d(3),x(" ",_(23,22,"estimatedDuration")," "),d(3),x(" ",i.formatDuration(i.request().estimated_duration_minutes)," "),d(3),x(" ",_(29,24,"actualDuration")," "),d(3),x(" ",i.formatDuration(i.actualDuration())," "),d(),j(i.durationVariance()!==null?32:-1),d(),j(i.request().actual_start_datetime||i.request().actual_end_datetime?33:-1),d(),j(((r=i.currentUser())==null?null:r.role)==="professional"?34:-1),d(),j(i.canManageSchedule()?35:-1)}},dependencies:[me,ut,Ae],encapsulation:2,changeDetection:0});var Wx=hf;var kpe=(n,e,t)=>({"bg-blue-500 border-blue-500 text-white":n,"bg-green-500 border-green-500 text-white":e,"bg-gray-100 border-gray-300 text-gray-400":t}),Mpe=(n,e,t)=>({"text-blue-600":n,"text-green-600":e,"text-gray-500":t}),Npe=n=>({"bg-blue-500":n}),Rpe=(n,e)=>e.id;function Ppe(n,e){if(n&1&&k(0,"div",16),n&2){let t=b().$implicit;T("ngClass",Rn(1,Npe,t.completed))}}function Ope(n,e){n&1&&(p(0,"span",22),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" \u2713 ",_(2,1,"completed")," "))}function Fpe(n,e){n&1&&(p(0,"span",23),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" \u23F3 ",_(2,1,"in_progress")," "))}function Lpe(n,e){n&1&&(p(0,"span",24),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" \u23F8\uFE0F ",_(2,1,"pending")," "))}function Bpe(n,e){n&1&&k(0,"span",30)}function Vpe(n,e){if(n&1&&(p(0,"span",29),V(1,Bpe,1,0,"span",30),h(2),f()),n&2){let t=e.$implicit,i=b(3);T("ngClass",t===i.serviceRequest().status?"bg-blue-100 text-blue-800 font-medium ring-2 ring-blue-200":"bg-gray-100 text-gray-600"),d(),j(t===i.serviceRequest().status?1:-1),d(),x(" ",t," ")}}function jpe(n,e){if(n&1&&(p(0,"div",26)(1,"h5",27),h(2),g(3,"i18n"),f(),p(4,"div",28),ce(5,Vpe,3,3,"span",29,Nn),f()()),n&2){let t=b().$implicit;d(2),x(" ",_(3,1,"possible_states"),": "),d(3),ue(t.statuses)}}function qpe(n,e){if(n&1&&(p(0,"div",14),V(1,Ppe,1,3,"div",16),p(2,"div",17)(3,"div",18),h(4),f(),p(5,"div",19)(6,"div",20)(7,"h4",21),h(8),g(9,"i18n"),f(),V(10,Ope,3,3,"span",22)(11,Fpe,3,3,"span",23)(12,Lpe,3,3,"span",24),f(),p(13,"p",25),h(14),f(),V(15,jpe,7,3,"div",26),f()()()),n&2){let t=e.$implicit,i=b();d(),j(t.id<4?1:-1),d(2),T("ngClass",r1(12,kpe,t.current,t.completed,!t.current&&!t.completed)),d(),x(" ",i.getPhaseIcon(t.icon)," "),d(3),T("ngClass",r1(16,Mpe,t.current,t.completed,!t.current&&!t.completed)),d(),Pm(" ",_(9,10,"phase")," ",t.id,": ",t.title," "),d(2),j(t.completed?10:t.current?11:12),d(4),R(t.description),d(),j(t.current?15:-1)}}function Upe(n,e){if(n&1&&(p(0,"div")(1,"span",33),h(2),g(3,"i18n"),f(),p(4,"span",34),h(5),g(6,"date"),f()()),n&2){let t=b(2);d(2),x("",_(3,2,"requested_at"),":"),d(3),x(" ",Ye(6,4,t.serviceRequest().requested_datetime,"dd/MM/yyyy HH:mm")," ")}}function $pe(n,e){if(n&1&&(p(0,"div")(1,"span",33),h(2),g(3,"i18n"),f(),p(4,"span",34),h(5),g(6,"date"),f()()),n&2){let t=b(2);d(2),x("",_(3,2,"scheduled_for"),":"),d(3),x(" ",Ye(6,4,t.serviceRequest().scheduled_start_datetime,"dd/MM/yyyy HH:mm")," ")}}function Hpe(n,e){if(n&1&&(p(0,"div")(1,"span",33),h(2),g(3,"i18n"),f(),p(4,"span",34),h(5),g(6,"date"),f()()),n&2){let t=b(2);d(2),x("",_(3,2,"started_at"),":"),d(3),x(" ",Ye(6,4,t.serviceRequest().actual_start_datetime,"dd/MM/yyyy HH:mm")," ")}}function zpe(n,e){if(n&1&&(p(0,"div")(1,"span",33),h(2),g(3,"i18n"),f(),p(4,"span",34),h(5),g(6,"date"),f()()),n&2){let t=b(2);d(2),x("",_(3,2,"completed_at"),":"),d(3),x(" ",Ye(6,4,t.serviceRequest().actual_end_datetime,"dd/MM/yyyy HH:mm")," ")}}function Wpe(n,e){if(n&1&&(p(0,"div",15)(1,"h4",31),h(2),g(3,"i18n"),f(),p(4,"div",32),V(5,Upe,7,7,"div"),V(6,$pe,7,7,"div"),V(7,Hpe,7,7,"div"),V(8,zpe,7,7,"div"),f()()),n&2){let t=b();d(2),x(" ",_(3,5,"timing_information")," "),d(3),j(t.serviceRequest().requested_datetime?5:-1),d(),j(t.serviceRequest().scheduled_start_datetime?6:-1),d(),j(t.serviceRequest().actual_start_datetime?7:-1),d(),j(t.serviceRequest().actual_end_datetime?8:-1)}}var mf=class mf{constructor(){this.serviceRequest=ge.required();this.i18n=$($e);this.phases=J(()=>{let t=this.serviceRequest().status;return[{id:1,title:this.i18n.translate("requestAndQuote"),description:this.i18n.translate("requestAndQuoteDescription"),statuses:["Solicitado","Em an\xE1lise","Aguardando esclarecimentos","Or\xE7amento enviado","Aguardando aprova\xE7\xE3o do or\xE7amento","Or\xE7amento rejeitado"],completed:this.isPhaseCompleted(1,t),current:this.isCurrentPhase(1,t),icon:"document-text",color:"blue"},{id:2,title:this.i18n.translate("selectionAndScheduling"),description:this.i18n.translate("selectionAndSchedulingDescription"),statuses:["Or\xE7amento aprovado","Buscando profissional","Profissional selecionado","Aguardando confirma\xE7\xE3o do profissional","Agendado"],completed:this.isPhaseCompleted(2,t),current:this.isCurrentPhase(2,t),icon:"calendar",color:"green"},{id:3,title:this.i18n.translate("execution"),description:this.i18n.translate("executionDescription"),statuses:["Em execu\xE7\xE3o"],completed:this.isPhaseCompleted(3,t),current:this.isCurrentPhase(3,t),icon:"cog",color:"orange"},{id:4,title:this.i18n.translate("approvalAndPayment"),description:this.i18n.translate("approvalAndPaymentDescription"),statuses:["Conclu\xEDdo - Aguardando aprova\xE7\xE3o","Aprovado pelo cliente","Rejeitado pelo cliente","Pago","Finalizado","Cancelado"],completed:this.isPhaseCompleted(4,t),current:this.isCurrentPhase(4,t),icon:"check-circle",color:"purple"}]});this.currentPhaseNumber=J(()=>this.phases().find(i=>i.current)?.id||1);this.progressPercentage=J(()=>{let e=this.phases(),t=e.filter(o=>o.completed).length,r=e.find(o=>o.current)?.5:0;return(t+r)/e.length*100})}isPhaseCompleted(e,t){return this.getPhaseStatuses(e).indexOf(t)===-1?this.isInLaterPhase(e,t):!1}isCurrentPhase(e,t){return this.getPhaseStatuses(e).includes(t)}isInLaterPhase(e,t){for(let i=e+1;i<=4;i++)if(this.getPhaseStatuses(i).includes(t))return!0;return!1}getPhaseStatuses(e){switch(e){case 1:return["Solicitado","Em an\xE1lise","Aguardando esclarecimentos","Or\xE7amento enviado","Aguardando aprova\xE7\xE3o do or\xE7amento","Or\xE7amento rejeitado"];case 2:return["Or\xE7amento aprovado","Buscando profissional","Profissional selecionado","Aguardando confirma\xE7\xE3o do profissional","Agendado"];case 3:return["Em execu\xE7\xE3o"];case 4:return["Conclu\xEDdo - Aguardando aprova\xE7\xE3o","Aprovado pelo cliente","Rejeitado pelo cliente","Pago","Finalizado","Cancelado"];default:return[]}}getPhaseIcon(e){return{"document-text":"\u{1F4C4}",calendar:"\u{1F4C5}",cog:"\u2699\uFE0F","check-circle":"\u2705"}[e]||"\u{1F4C4}"}getStatusColor(e){return un.getColor(e)}};mf.\u0275fac=function(t){return new(t||mf)},mf.\u0275cmp=pe({type:mf,selectors:[["app-workflow-timeline"]],inputs:{serviceRequest:[1,"serviceRequest"]},decls:27,vars:22,consts:[[1,"workflow-timeline","bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"mb-6"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-blue-500","h-2","rounded-full","transition-all","duration-500"],[1,"text-right","mt-1"],[1,"text-xs","text-gray-500"],[1,"mb-6","p-4","rounded-lg",3,"ngClass"],[1,"flex","items-center","space-x-2"],[1,"font-medium"],[1,"font-semibold"],[1,"space-y-6"],[1,"relative"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"absolute","left-6","top-12","w-0.5","h-16","bg-gray-200",3,"ngClass"],[1,"flex","items-start","space-x-4"],[1,"flex-shrink-0","w-12","h-12","rounded-full","flex","items-center","justify-center","text-lg","border-2",3,"ngClass"],[1,"flex-1","min-w-0"],[1,"flex","items-center","space-x-2","mb-1"],[1,"text-sm","font-semibold",3,"ngClass"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-600"],[1,"text-sm","text-gray-600","mb-2"],[1,"mt-3","p-3","bg-gray-50","rounded-md"],[1,"text-xs","font-medium","text-gray-700","mb-2","uppercase","tracking-wide"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs",3,"ngClass"],[1,"w-2","h-2","bg-blue-500","rounded-full","mr-1"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm"],[1,"text-gray-500"],[1,"ml-2","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),h(4),g(5,"i18n"),f(),p(6,"span",4),h(7),g(8,"i18n"),g(9,"i18n"),f()(),p(10,"div",5),k(11,"div",6),f(),p(12,"div",7)(13,"span",8),h(14),g(15,"number"),f()()(),p(16,"div",9)(17,"div",10)(18,"span",11),h(19),g(20,"i18n"),f(),p(21,"span",12),h(22),f()()(),p(23,"div",13),ce(24,qpe,16,20,"div",14,Rpe),f(),V(26,Wpe,9,7,"div",15),f()),t&2&&(d(4),x(" ",_(5,11,"workflow_progress")," "),d(3),Pm(" ",_(8,13,"phase")," ",i.currentPhaseNumber()," ",_(9,15,"of")," 4 "),d(4),us("width",i.progressPercentage()+"%"),d(3),x("",Ye(15,17,i.progressPercentage(),"1.0-0"),"%"),d(2),T("ngClass",i.getStatusColor(i.serviceRequest().status)),d(3),x("",_(20,20,"current_status"),":"),d(3),R(i.serviceRequest().status),d(2),ue(i.phases()),d(2),j(i.serviceRequest().requested_datetime||i.serviceRequest().scheduled_start_datetime?26:-1))},dependencies:[me,Ao,Ti,Ai,Ae],encapsulation:2,changeDetection:0});var Gx=mf;var Gpe=(n,e)=>e.question.id,Qpe=(n,e)=>e.id;function Ype(n,e){if(n&1&&(p(0,"span",4),h(1),g(2,"i18n"),f()),n&2){let t=b();d(),Qe(" ",t.unreadCount()," ",_(2,2,"unread")," ")}}function Zpe(n,e){n&1&&k(0,"span",18)}function Xpe(n,e){if(n&1){let t=H();p(0,"div",6)(1,"h4",9),h(2),g(3,"i18n"),f(),p(4,"div",10)(5,"div")(6,"label",11),h(7),g(8,"i18n"),f(),p(9,"input",12),g(10,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.newQuestionTitle,r)||(o.newQuestionTitle=r),S(r)}),f()(),p(11,"div")(12,"label",13),h(13),g(14,"i18n"),f(),p(15,"textarea",14),g(16,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b();return At(o.newQuestionContent,r)||(o.newQuestionContent=r),S(r)}),f()(),p(17,"div",15)(18,"button",16),A("click",function(){E(t);let r=b();return S(r.clearQuestionForm())}),h(19),g(20,"i18n"),f(),p(21,"button",17),A("click",function(){E(t);let r=b();return S(r.addQuestion())}),V(22,Zpe,1,0,"span",18),h(23),g(24,"i18n"),f()()()()}if(n&2){let t=b();d(2),x(" ",_(3,11,"addNewQuestion")," "),d(5),x(" ",_(8,13,"questionTitle")," "),d(2),xt("ngModel",t.newQuestionTitle),T("placeholder",_(10,15,"questionTitlePlaceholder")),d(4),x(" ",_(14,17,"questionContent")," "),d(2),xt("ngModel",t.newQuestionContent),T("placeholder",_(16,19,"questionContentPlaceholder")),d(4),x(" ",_(20,21,"cancel")," "),d(2),T("disabled",!t.newQuestionTitle()||!t.newQuestionContent()||t.isSubmitting()),d(),j(t.isSubmitting()?22:-1),d(),x(" ",_(24,23,"addQuestion")," ")}}function Jpe(n,e){n&1&&(p(0,"span",4),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"new")," "))}function Kpe(n,e){if(n&1&&(p(0,"span",28),h(1,"\u2022"),f(),p(2,"span",32),h(3),f()),n&2){let t=b().$implicit;d(3),R(t.question.user_role)}}function efe(n,e){if(n&1){let t=H();p(0,"button",33),g(1,"i18n"),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.deleteClarification(r.question.id))}),k(2,"i",34),f()}n&2&&T("title",ne(_(1,2,"delete")))}function tfe(n,e){n&1&&(p(0,"span",4),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"new")," "))}function nfe(n,e){if(n&1&&(p(0,"span",28),h(1,"\u2022"),f(),p(2,"span",32),h(3),f()),n&2){let t=b().$implicit;d(3),R(t.user_role)}}function ife(n,e){if(n&1){let t=H();p(0,"button",33),g(1,"i18n"),A("click",function(){E(t);let r=b().$implicit,o=b(4);return S(o.deleteClarification(r.id))}),k(2,"i",34),f()}n&2&&T("title",ne(_(1,2,"delete")))}function rfe(n,e){if(n&1&&(p(0,"div",35)(1,"div",21)(2,"div",22)(3,"div",23)(4,"span",36),h(5),g(6,"i18n"),f(),V(7,tfe,3,3,"span",4),f(),p(8,"h5",37),h(9),f(),p(10,"p",26),h(11),f(),p(12,"div",27)(13,"span"),h(14),g(15,"i18n"),f(),p(16,"span",28),h(17,"\u2022"),f(),p(18,"span"),h(19),g(20,"date"),f(),V(21,nfe,4,1),f()(),V(22,ife,3,4,"button",29),f()()),n&2){let t=e.$implicit,i=b(4);d(5),x(" ",_(6,9,"answer")," "),d(2),j(!t.is_read&&t.user_id!==i.currentUser().id?7:-1),d(2),x(" ",t.title," "),d(2),x(" ",t.content," "),d(3),Qe("",_(15,11,"by")," ",t.user_name||"Unknown"),d(5),R(Ye(20,13,t.created_at,"medium")),d(2),j(t.user_role?21:-1),d(),j(t.user_id===i.currentUser().id?22:-1)}}function ofe(n,e){if(n&1&&(p(0,"div",30),ce(1,rfe,23,16,"div",35,Qpe),f()),n&2){let t=b().$implicit;d(),ue(t.answers)}}function sfe(n,e){if(n&1){let t=H();p(0,"div",31)(1,"button",38),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.toggleAnswerForm(r.question.id))}),h(2),g(3,"i18n"),f()()}n&2&&(d(2),x(" ",_(3,1,"addAnswer")," "))}function afe(n,e){n&1&&k(0,"span",18)}function lfe(n,e){if(n&1){let t=H();p(0,"div",31)(1,"div",10)(2,"div")(3,"label",39),h(4),g(5,"i18n"),f(),p(6,"input",40),g(7,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b(3);return At(o.newAnswerTitle,r)||(o.newAnswerTitle=r),S(r)}),f()(),p(8,"div")(9,"label",39),h(10),g(11,"i18n"),f(),p(12,"textarea",41),g(13,"i18n"),Ct("ngModelChange",function(r){E(t);let o=b(3);return At(o.newAnswerContent,r)||(o.newAnswerContent=r),S(r)}),f()(),p(14,"div",15)(15,"button",16),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.cancelAnswer(r.question.id))}),h(16),g(17,"i18n"),f(),p(18,"button",42),A("click",function(){E(t);let r=b().$implicit,o=b(2);return S(o.addAnswer(r.question.id))}),V(19,afe,1,0,"span",18),h(20),g(21,"i18n"),f()()()()}if(n&2){let t=b(3);d(4),x(" ",_(5,10,"answerTitle")," "),d(2),xt("ngModel",t.newAnswerTitle),T("placeholder",_(7,12,"answerTitlePlaceholder")),d(4),x(" ",_(11,14,"answerContent")," "),d(2),xt("ngModel",t.newAnswerContent),T("placeholder",_(13,16,"answerContentPlaceholder")),d(4),x(" ",_(17,18,"cancel")," "),d(2),T("disabled",!t.newAnswerTitle()||!t.newAnswerContent()||t.isSubmitting()),d(),j(t.isSubmitting()?19:-1),d(),x(" ",_(21,20,"addAnswer")," ")}}function cfe(n,e){if(n&1&&(p(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"div",23)(5,"span",24),h(6),g(7,"i18n"),f(),V(8,Jpe,3,3,"span",4),f(),p(9,"h4",25),h(10),f(),p(11,"p",26),h(12),f(),p(13,"div",27)(14,"span"),h(15),g(16,"i18n"),f(),p(17,"span",28),h(18,"\u2022"),f(),p(19,"span"),h(20),g(21,"date"),f(),V(22,Kpe,4,1),f()(),V(23,efe,3,4,"button",29),f()(),V(24,ofe,3,0,"div",30),V(25,sfe,4,3,"div",31),V(26,lfe,22,22,"div",31),f()),n&2){let t=e.$implicit,i=b(2);d(6),x(" ",_(7,12,"question")," "),d(2),j(!t.question.is_read&&t.question.user_id!==i.currentUser().id?8:-1),d(2),x(" ",t.question.title," "),d(2),x(" ",t.question.content," "),d(3),Qe("",_(16,14,"by")," ",t.question.user_name||"Unknown"),d(5),R(Ye(21,16,t.question.created_at,"medium")),d(2),j(t.question.user_role?22:-1),d(),j(t.question.user_id===i.currentUser().id?23:-1),d(),j(t.answers.length>0?24:-1),d(),j(i.canAddAnswer()&&!i.showingAnswerForm().has(t.question.id)?25:-1),d(),j(i.showingAnswerForm().has(t.question.id)?26:-1)}}function ufe(n,e){if(n&1&&(p(0,"div",7),ce(1,cfe,27,19,"div",19,Gpe),f()),n&2){let t=b();d(),ue(t.clarificationThreads())}}function dfe(n,e){n&1&&(p(0,"p",45),h(1),g(2,"i18n"),f()),n&2&&(d(),R(_(2,1,"addFirstQuestion")))}function pfe(n,e){if(n&1&&(p(0,"div",8),k(1,"i",43),p(2,"p",44),h(3),g(4,"i18n"),f(),V(5,dfe,3,3,"p",45),f()),n&2){let t=b();d(3),R(_(4,2,"noClarificationsYet")),d(2),j(t.canAddQuestion()?5:-1)}}var gf=class gf{constructor(){this.serviceRequest=ge.required();this.currentUser=ge.required();this.clarificationAdded=ae();this.dataService=$(kt);this.i18n=$($e);this.newQuestionTitle=F("");this.newQuestionContent=F("");this.newAnswerTitle=F("");this.newAnswerContent=F("");this.isSubmitting=F(!1);this.showingAnswerForm=F(new Set);this.clarifications=J(()=>this.dataService.serviceClarifications());this.clarificationThreads=J(()=>this.dataService.getClarificationThreads(this.serviceRequest().id));this.unreadCount=J(()=>{let e=this.currentUser().id;return this.clarifications().filter(t=>t.service_request_id===this.serviceRequest().id&&t.user_id!==e&&!t.is_read).length});this.canAddQuestion=J(()=>{let e=this.currentUser(),t=this.serviceRequest();return e.id===t.client_id||e.id===t.professional_id||e.role==="admin"});this.canAddAnswer=J(()=>{let e=this.currentUser(),t=this.serviceRequest();return e.id===t.client_id||e.id===t.professional_id||e.role==="admin"});qt(async()=>{let e=this.serviceRequest();e?.id&&(await this.dataService.fetchServiceClarifications(e.id),await this.dataService.markClarificationsAsRead(e.id))})}async addQuestion(){if(!(!this.newQuestionTitle()||!this.newQuestionContent())){this.isSubmitting.set(!0);try{await this.dataService.addClarificationQuestion(this.serviceRequest().id,this.newQuestionTitle(),this.newQuestionContent()),this.clearQuestionForm(),this.clarificationAdded.emit()}catch(e){console.error("Error adding question:",e)}finally{this.isSubmitting.set(!1)}}}async addAnswer(e){if(!(!this.newAnswerTitle()||!this.newAnswerContent())){this.isSubmitting.set(!0);try{await this.dataService.addClarificationAnswer(this.serviceRequest().id,e,this.newAnswerTitle(),this.newAnswerContent()),this.clearAnswerForm(),this.hideAnswerForm(e),this.clarificationAdded.emit()}catch(t){console.error("Error adding answer:",t)}finally{this.isSubmitting.set(!1)}}}async deleteClarification(e){if(confirm(this.i18n.translate("confirmDeleteClarification")))try{await this.dataService.deleteClarification(e,this.serviceRequest().id),this.clarificationAdded.emit()}catch(t){console.error("Error deleting clarification:",t)}}toggleAnswerForm(e){let t=this.showingAnswerForm();t.has(e)?t.delete(e):t.add(e),this.showingAnswerForm.set(new Set(t))}hideAnswerForm(e){let t=this.showingAnswerForm();t.delete(e),this.showingAnswerForm.set(new Set(t))}cancelAnswer(e){this.clearAnswerForm(),this.hideAnswerForm(e)}clearQuestionForm(){this.newQuestionTitle.set(""),this.newQuestionContent.set("")}clearAnswerForm(){this.newAnswerTitle.set(""),this.newAnswerContent.set("")}};gf.\u0275fac=function(t){return new(t||gf)},gf.\u0275cmp=pe({type:gf,selectors:[["app-service-clarifications"]],inputs:{serviceRequest:[1,"serviceRequest"],currentUser:[1,"currentUser"]},outputs:{clarificationAdded:"clarificationAdded"},decls:11,vars:6,consts:[[1,"bg-white","rounded-lg","border","border-gray-200"],[1,"px-4","py-3","border-b","border-gray-200","bg-gray-50","rounded-t-lg"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],[1,"p-4","space-y-4"],[1,"border","border-gray-200","rounded-lg","p-4","bg-blue-50"],[1,"space-y-6"],[1,"text-center","py-8","text-gray-500"],[1,"text-sm","font-medium","text-gray-800","mb-3"],[1,"space-y-3"],["for","questionTitle",1,"block","text-sm","font-medium","text-gray-700"],["id","questionTitle","type","text","name","questionTitle",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["for","questionContent",1,"block","text-sm","font-medium","text-gray-700"],["id","questionContent","name","questionContent","rows","3",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],[1,"flex","justify-end","space-x-2"],["type","button",1,"px-3","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],["type","button",1,"px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","border","border-transparent","rounded-md","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"inline-block","w-4","h-4","border-2","border-white","border-t-transparent","rounded-full","animate-spin","mr-2"],[1,"border","border-gray-200","rounded-lg","overflow-hidden"],[1,"bg-yellow-50","p-4","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"flex","items-center","space-x-2","mb-2"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-yellow-100","text-yellow-800"],[1,"text-sm","font-semibold","text-gray-900","mb-1"],[1,"text-sm","text-gray-700","whitespace-pre-wrap","mb-2"],[1,"flex","items-center","text-xs","text-gray-500"],[1,"mx-2"],[1,"text-gray-400","hover:text-red-600","ml-2",3,"title"],[1,"bg-white"],[1,"p-4","bg-gray-50","border-t","border-gray-200"],[1,"capitalize"],[1,"text-gray-400","hover:text-red-600","ml-2",3,"click","title"],[1,"fas","fa-trash","text-sm"],[1,"p-4","border-b","border-gray-100","last:border-b-0"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-sm","text-blue-600","hover:text-blue-800","font-medium",3,"click"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["rows","3",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"px-3","py-2","text-sm","font-medium","text-white","bg-green-600","border","border-transparent","rounded-md","hover:bg-green-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-question-circle","text-4xl","mb-3"],[1,"text-sm"],[1,"text-xs","mt-1"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),h(4),g(5,"i18n"),f(),V(6,Ype,3,4,"span",4),f()(),p(7,"div",5),V(8,Xpe,25,25,"div",6),V(9,ufe,3,0,"div",7)(10,pfe,6,4,"div",8),f()()),t&2&&(d(4),x(" ",_(5,4,"clarifications")," "),d(2),j(i.unreadCount()>0?6:-1),d(2),j(i.canAddQuestion()?8:-1),d(),j(i.clarificationThreads().length>0?9:10))},dependencies:[me,ut,Lt,Gt,$t,Ai,Ae],encapsulation:2,changeDetection:0});var Qx=gf;var ffe=(n,e)=>e.professional_id,hfe=(n,e)=>e.type;function mfe(n,e){if(n&1&&(p(0,"div",0),h(1," Erro: Nenhuma solicita\xE7\xE3o selecionada ou dados inv\xE1lidos."),k(2,"br"),h(3," Volte e selecione uma solicita\xE7\xE3o v\xE1lida."),k(4,"br"),p(5,"span",5),h(6),g(7,"json"),f()()),n&2){let t=b();d(6),x("[DEBUG] request(): ",_(7,1,t.request()))}}function gfe(n,e){if(n&1){let t=H();p(0,"div",1)(1,"div",6)(2,"div",7)(3,"div",8)(4,"button",9),A("click",function(){E(t);let r=b();return S(r.close.emit())}),k(5,"i",10),f(),p(6,"div")(7,"h1",11),h(8),g(9,"i18n"),f(),p(10,"p",12),h(11),f()()()()()()}if(n&2){let t=b();d(8),x(" ",_(9,2,"serviceRequestDetails")," "),d(3),x(" ",t.request().title," ")}}function vfe(n,e){if(n&1&&(p(0,"p",25),h(1),g(2,"number"),f()),n&2){let t=b().$implicit;d(),x(" \u20AC",Ye(2,1,t.quote_amount,"1.2-2")," ")}}function _fe(n,e){if(n&1&&(p(0,"p",26),h(1),f()),n&2){let t=b().$implicit;d(),x(" ",t.quote_notes," ")}}function yfe(n,e){if(n&1&&(p(0,"p",27),h(1),g(2,"i18n"),f()),n&2){let t=b().$implicit;d(),Qe(" ",_(2,2,"estimatedDuration"),": ",t.estimated_duration_hours,"h ")}}function bfe(n,e){if(n&1){let t=H();p(0,"div",28)(1,"button",29),A("click",function(){E(t);let r=b(4);return S(r.approveQuote.emit(r.request()))}),h(2),g(3,"i18n"),f(),p(4,"button",30),A("click",function(){E(t);let r=b(4);return S(r.rejectQuote.emit(r.request()))}),h(5),g(6,"i18n"),f()()}n&2&&(d(2),x(" ",_(3,2,"approveQuote")," "),d(3),x(" ",_(6,4,"rejectQuote")," "))}function xfe(n,e){if(n&1&&(p(0,"div",22)(1,"div",23)(2,"h4",24),h(3),g(4,"i18n"),f(),p(5,"span"),h(6),g(7,"i18n"),f()(),V(8,vfe,3,4,"p",25),V(9,_fe,2,1,"p",26),V(10,yfe,3,4,"p",27),V(11,bfe,7,6,"div",28),f()),n&2){let t=e.$implicit,i=b(3);d(3),x(" ",t.professional_name||_(4,8,"professional")," "),d(2),se(i.getResponseStatusClass(t.response_status)),d(),x(" ",_(7,10,t.response_status||"pending")," "),d(2),j(t.quote_amount?8:-1),d(),j(t.quote_notes?9:-1),d(),j(t.estimated_duration_hours?10:-1),d(),j(i.currentUser().role==="client"&&i.request().client_id===i.currentUser().id&&t.response_status==="responded"&&i.request().status==="Or\xE7amento enviado"?11:-1)}}function Cfe(n,e){if(n&1&&(p(0,"div",13)(1,"h3",15),h(2),g(3,"i18n"),f(),p(4,"div",17),ce(5,xfe,12,12,"div",22,ffe),f()()),n&2){let t=b(2);d(2),x(" ",_(3,1,"professionalResponses")," "),d(3),ue(t.request().professional_responses)}}function wfe(n,e){if(n&1&&(p(0,"div")(1,"label",18),h(2),g(3,"i18n"),f(),p(4,"p",19),h(5),g(6,"i18n"),f()()),n&2){let t=b(2);d(2),x(" ",_(3,2,"professionalName")," "),d(3),x(" ",t.request().professional_name||_(6,4,"nameNotAvailable")," ")}}function Efe(n,e){if(n&1&&(p(0,"div")(1,"label",18),h(2),g(3,"i18n"),f(),p(4,"p",31),h(5),g(6,"number"),f()()),n&2){let t=b(2);d(2),x(" ",_(3,2,"cost")," "),d(3),x(" \u20AC",Ye(6,4,t.request().cost,"1.2-2")," ")}}function Sfe(n,e){if(n&1&&(p(0,"div")(1,"label",18),h(2),g(3,"i18n"),f(),p(4,"p",19),h(5),g(6,"date"),f()()),n&2){let t=b(2);d(2),x(" ",_(3,2,"scheduledDate")," "),d(3),x(" ",Ye(6,4,t.request().scheduled_date,"short")," ")}}function Dfe(n,e){if(n&1&&(p(0,"div",13)(1,"h3",15),h(2),g(3,"i18n"),f(),p(4,"div",32)(5,"div")(6,"label",18),h(7),g(8,"i18n"),f(),p(9,"p",33),h(10),f()(),p(11,"div")(12,"label",18),h(13),g(14,"i18n"),f(),p(15,"p",33),h(16),f()(),p(17,"div")(18,"label",18),h(19),g(20,"i18n"),f(),p(21,"p",33),h(22),f()(),p(23,"div")(24,"label",18),h(25),g(26,"i18n"),f(),p(27,"p",33),h(28),f()()()()),n&2){let t=b(2);d(2),x(" ",_(3,9,"address")," "),d(5),x(" ",_(8,11,"streetAddress")," "),d(3),R(t.addressParts().streetNumber||"\u2014"),d(3),x(" ",_(14,13,"postalCode")," "),d(3),R(t.addressParts().postalCode||"\u2014"),d(3),x(" ",_(20,15,"locality")," "),d(3),R(t.addressParts().locality||"\u2014"),d(3),x(" ",_(26,17,"district")," "),d(3),R(t.addressParts().district||"\u2014")}}function Afe(n,e){if(n&1&&(p(0,"div",13)(1,"h3",15),h(2),g(3,"i18n"),f(),k(4,"app-time-control",34),f()),n&2){let t=b(2);d(2),x(" ",_(3,3,"timeControl")," "),d(2),T("serviceRequest",t.request())("user",t.currentUser())}}function Tfe(n,e){n&1&&k(0,"span",40)}function Ife(n,e){if(n&1){let t=H();p(0,"button",39),A("click",function(){let r=E(t).$implicit,o=b(3);return S(o.executeAction(r))}),V(1,Tfe,1,0,"span",40),h(2),g(3,"i18n"),f()}if(n&2){let t=e.$implicit,i=b(3);se(i.getActionButtonClass(t)+" w-full justify-center"),T("disabled",t.loading),d(),j(t.loading?1:-1),d(),x(" ",_(3,5,t.label)," ")}}function kfe(n,e){if(n&1&&(p(0,"div",21)(1,"div",35)(2,"h3",36),h(3),g(4,"i18n"),f(),p(5,"div",37),ce(6,Ife,4,7,"button",38,hfe),f()()()),n&2){let t=b(2);d(3),x(" ",_(4,1,"availableActions")," "),d(3),ue(t.availableActions())}}function Mfe(n,e){if(n&1&&(p(0,"div",3)(1,"div",13),k(2,"app-workflow-timeline",14),f(),V(3,Cfe,7,3,"div",13),p(4,"div",13)(5,"h3",15),h(6),g(7,"i18n"),f(),p(8,"div",16)(9,"div",17)(10,"div")(11,"label",18),h(12),g(13,"i18n"),f(),p(14,"p",19),h(15),f()(),p(16,"div")(17,"label",18),h(18),g(19,"i18n"),f(),p(20,"p",19),h(21),f()(),p(22,"div")(23,"label",18),h(24),g(25,"i18n"),f(),p(26,"p",19),h(27),f()(),p(28,"div")(29,"label",18),h(30),g(31,"i18n"),f(),p(32,"span"),h(33),g(34,"i18n"),f()()(),p(35,"div",17)(36,"div")(37,"label",18),h(38),g(39,"i18n"),f(),p(40,"span"),h(41),f()(),V(42,wfe,7,6,"div"),V(43,Efe,7,7,"div"),p(44,"div")(45,"label",18),h(46),g(47,"i18n"),f(),p(48,"p",19),h(49),g(50,"date"),f()(),V(51,Sfe,7,7,"div"),f()()(),V(52,Dfe,29,19,"div",13),V(53,Afe,5,5,"div",13),p(54,"div",13),k(55,"app-service-clarifications",20),f(),V(56,kfe,8,3,"div",21),f()),n&2){let t=b();d(2),T("serviceRequest",t.request()),d(),j(t.request().professional_responses&&t.request().professional_responses.length>0?3:-1),d(3),x(" ",_(7,27,"requestInformation")," "),d(6),x(" ",_(13,29,"title")," "),d(3),R(t.request().title),d(3),x(" ",_(19,31,"description")," "),d(3),R(t.request().description),d(3),x(" ",_(25,33,"category")," "),d(3),R(t.request().category),d(3),x(" ",_(31,35,"priority")," "),d(2),se(t.getPriorityClass(t.request().priority)),d(),x(" ",_(34,37,t.request().priority)," "),d(5),x(" ",_(39,39,"status")," "),d(2),se(t.getStatusClass(t.request().status)),d(),x(" ",t.request().status," "),d(),j(t.request().professional_name?42:-1),d(),j(t.request().cost?43:-1),d(3),x(" ",_(47,41,"createdAt")," "),d(3),x(" ",Ye(50,43,t.request().created_at,"short")," "),d(2),j(t.request().scheduled_date?51:-1),d(),j(t.hasAddress()?52:-1),d(),j(t.currentUser().role==="professional"&&t.request().professional_id===t.currentUser().id&&(t.request().status==="Em execu\xE7\xE3o"||t.request().status==="Or\xE7amento aprovado")?53:-1),d(2),T("serviceRequest",t.request())("currentUser",t.currentUser()),d(),j(t.availableActions().length>0?56:-1)}}function Nfe(n,e){n&1&&(p(0,"div",4)(1,"p",41),h(2),g(3,"i18n"),f()()),n&2&&(d(2),R(_(3,1,"loadingServiceRequest")))}var vf=class vf{constructor(){this.businessRuleError=new Pt;this.request=ge.required();this.currentUser=ge.required();this.workflowService=$(ys);this.notificationService=$(Ft);this.showMobileActions=F(!1);this.hasAddress=J(()=>{let e=this.request(),t=e.address;return!!(t?.street||t?.postal_code||t?.locality||t?.district||e.street||e.city||e.state||e.zip_code)});this.addressParts=J(()=>xg(this.request()));this.addressLine1=J(()=>this.addressParts().streetNumber);this.addressLine2=J(()=>{let e=this.addressParts();return[e.postalCode,e.locality].filter(Boolean).join(" ")});this.addressLine3=J(()=>this.addressParts().district);this.close=new Pt;this.openChat=new Pt;this.approveQuote=new Pt;this.rejectQuote=new Pt;this.scheduleRequest=new Pt;this.payNow=new Pt;this.selectProfessional=new Pt;this.refreshRequest=new Pt;this.availableActions=J(()=>{let e=this.currentUser(),t=this.request(),i=[];return console.log("\u{1F50D} [Actions Debug] User role:",e.role),console.log("\u{1F50D} [Actions Debug] Request status:",t.status),e.role==="professional"&&t.status==="Solicitado"&&!t.professional_id&&i.push({type:"quote",label:"provideQuote",class:"primary",loading:!1}),e.role==="client"&&t.client_id===e.id&&t.status==="Or\xE7amento enviado"&&(i.push({type:"approve",label:"approveQuote",class:"primary",loading:!1}),i.push({type:"reject",label:"rejectQuote",class:"secondary",loading:!1})),e.role==="professional"&&t.professional_id===e.id&&t.status==="Or\xE7amento aprovado"&&!t.scheduled_date&&i.push({type:"schedule",label:"scheduleService",class:"primary",loading:!1}),e.role==="professional"&&t.professional_id===e.id&&t.status==="Agendado"&&i.push({type:"start",label:"startService",class:"primary",loading:!1}),e.role==="professional"&&t.professional_id===e.id&&t.status==="Em execu\xE7\xE3o"&&i.push({type:"complete",label:"completeService",class:"primary",loading:!1}),e.role==="client"&&t.client_id===e.id&&t.status==="Conclu\xEDdo - Aguardando aprova\xE7\xE3o"&&t.cost&&!t.payment_status&&i.push({type:"pay",label:"payNow",class:"primary",loading:!1}),(e.role==="client"&&t.client_id===e.id||e.role==="professional"&&t.professional_id===e.id)&&i.push({type:"chat",label:"chat",class:"secondary",loading:!1}),console.log("\u{1F50D} [Actions Debug] Available actions:",i),i})}toggleMobileActions(){this.showMobileActions.update(e=>!e)}getActionButtonClass(e){let t="inline-flex items-center font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed";switch(e.class){case"primary":return`${t} bg-blue-600 hover:bg-blue-700 text-white`;case"secondary":return`${t} bg-gray-600 hover:bg-gray-700 text-white`;case"success":return`${t} bg-green-600 hover:bg-green-700 text-white`;case"danger":return`${t} bg-red-600 hover:bg-red-700 text-white`;default:return`${t} bg-gray-300 hover:bg-gray-400 text-gray-700`}}getStatusClass(e){let t="px-2 py-1 text-xs font-medium rounded-full",i=un.getColor(e);return`${t} text-white`}getStatusLabel(e){return un.getLabel(e,$($e))}getPriorityClass(e){let t="px-2 py-1 text-xs font-medium rounded-full";switch(e){case"high":return`${t} bg-red-100 text-red-800`;case"medium":return`${t} bg-yellow-100 text-yellow-800`;case"low":return`${t} bg-green-100 text-green-800`;default:return`${t} bg-gray-100 text-gray-800`}}getResponseStatusClass(e){let t="px-2 py-1 text-xs font-medium rounded-full";switch(e){case"pending":return`${t} bg-yellow-100 text-yellow-800`;case"responded":return`${t} bg-blue-100 text-blue-800`;case"accepted":return`${t} bg-green-100 text-green-800`;case"rejected":return`${t} bg-red-100 text-red-800`;default:return`${t} bg-gray-100 text-gray-800`}}async executeAction(e){try{switch(e.loading=!0,e.type){case"quote":break;case"approve":this.approveQuote.emit(this.request());break;case"reject":this.rejectQuote.emit(this.request());break;case"schedule":this.scheduleRequest.emit(this.request());break;case"start":try{await this.workflowService.startWork(this.request().id),this.notificationService.addNotification("Servi\xE7o iniciado com sucesso!"),this.refreshRequest.emit()}catch(t){if(t instanceof Error&&t.message.includes("Tentativa de in\xEDcio antes da data agendada"))this.businessRuleError.emit("N\xE3o \xE9 permitido iniciar o servi\xE7o antes da data agendada!");else throw t}break;case"complete":try{await this.workflowService.completeWork(this.request().id),this.notificationService.addNotification("Servi\xE7o marcado como conclu\xEDdo!"),this.refreshRequest.emit()}catch(t){if(t instanceof Error&&t.message.includes("Tentativa de conclus\xE3o antes do tempo m\xEDnimo"))this.businessRuleError.emit("N\xE3o \xE9 permitido concluir o servi\xE7o antes do tempo m\xEDnimo!");else throw t}break;case"chat":this.openChat.emit(this.request());break}}catch(t){console.error(`Error executing action ${e.type}:`,t)}finally{e.loading=!1}}};vf.\u0275fac=function(t){return new(t||vf)},vf.\u0275cmp=pe({type:vf,selectors:[["app-service-request-details"]],inputs:{request:[1,"request"],currentUser:[1,"currentUser"]},outputs:{businessRuleError:"businessRuleError",close:"close",openChat:"openChat",approveQuote:"approveQuote",rejectQuote:"rejectQuote",scheduleRequest:"scheduleRequest",payNow:"payNow",selectProfessional:"selectProfessional",refreshRequest:"refreshRequest"},decls:5,vars:2,consts:[[1,"bg-red-100","text-red-700","p-4","rounded","text-center","font-semibold"],[1,"bg-white","border-b","border-gray-200","sticky","top-0","z-10"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"space-y-6"],[1,"flex","items-center","justify-center","h-64"],[2,"font-size","12px"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","items-center","justify-between","h-16"],[1,"flex","items-center","space-x-4"],[1,"inline-flex","items-center","p-2","text-gray-400","hover:text-gray-600","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-arrow-left","text-lg"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","truncate"],[1,"text-sm","text-gray-500","truncate"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[3,"serviceRequest"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-gray-900"],[3,"serviceRequest","currentUser"],[1,"block","sm:hidden"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-start","mb-3"],[1,"font-medium","text-gray-800","mb-2","sm:mb-0"],[1,"text-lg","font-semibold","text-green-600","mb-2"],[1,"text-sm","text-gray-600","mb-2"],[1,"text-sm","text-gray-500","mb-3"],[1,"flex","flex-col","sm:flex-row","gap-2","mt-3"],[1,"flex-1","bg-green-600","hover:bg-green-700","text-white","font-medium","py-2","px-4","rounded-md","transition-colors",3,"click"],[1,"flex-1","bg-red-600","hover:bg-red-700","text-white","font-medium","py-2","px-4","rounded-md","transition-colors",3,"click"],[1,"text-lg","font-semibold","text-green-600"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","text-gray-900"],[1,"break-words"],[3,"serviceRequest","user"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-4"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[1,"space-y-2"],[3,"disabled","class"],[3,"click","disabled"],[1,"inline-block","w-4","h-4","border-2","border-white","border-t-transparent","rounded-full","animate-spin","mr-2"],[1,"text-gray-500"]],template:function(t,i){t&1&&(V(0,mfe,8,3,"div",0)(1,gfe,12,4,"div",1),p(2,"div",2),V(3,Mfe,57,46,"div",3)(4,Nfe,4,3,"div",4),f()),t&2&&(j(i.request()?1:0),d(3),j(i.request()?3:4))},dependencies:[me,ut,Wx,Gx,Qx,HD,Ti,Ai,Ae],encapsulation:2,changeDetection:0});var Yx=vf;function Rfe(n,e){n&1&&(p(0,"div",44)(1,"div",45),Ne(),p(2,"svg",46),k(3,"circle",47)(4,"path",48),f(),Le(),p(5,"span",49),h(6),g(7,"i18n"),f()()()),n&2&&(d(6),R(_(7,1,"loading")))}function Pfe(n,e){if(n&1&&(We(0),p(1,"option",50),h(2),f(),Ge()),n&2){let t=e.$implicit;d(),T("value",t.id),d(),R(t.name)}}function Ofe(n,e){n&1&&(p(0,"span",51),h(1),g(2,"i18n"),f()),n&2&&(d(),R(_(2,1,"selectCategory")))}function Ffe(n,e){if(n&1&&(We(0),p(1,"option",50),h(2),f(),Ge()),n&2){let t=e.$implicit;d(),T("value",t.id),d(),R(t.name)}}function Lfe(n,e){n&1&&(p(0,"span",51),h(1),g(2,"i18n"),f()),n&2&&(d(),R(_(2,1,"selectSubcategory")))}function Bfe(n,e){n&1&&(p(0,"span",52),Ne(),p(1,"svg",53),k(2,"path",54),f()())}function Vfe(n,e){n&1&&(p(0,"span",55),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"titleMinLength")," "))}function jfe(n,e){n&1&&(p(0,"span",52),Ne(),p(1,"svg",53),k(2,"path",54),f()())}function qfe(n,e){n&1&&(p(0,"span",56),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"descriptionMinLength")," "))}function Ufe(n,e){n&1&&(p(0,"span",52),Ne(),p(1,"svg",53),k(2,"path",54),f()())}function $fe(n,e){n&1&&(p(0,"span",57),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"validFutureDateTime")," "))}function Hfe(n,e){n&1&&(p(0,"span",52),Ne(),p(1,"svg",53),k(2,"path",54),f()())}function zfe(n,e){if(n&1&&(p(0,"span",58),h(1),g(2,"i18n"),f()),n&2){let t=b();d(),x(" ",t.formError()?t.formError():_(2,1,"invalidPostalCode")," ")}}function Wfe(n,e){n&1&&(p(0,"span",59),Ne(),p(1,"svg",53),k(2,"path",54),f()())}function Gfe(n,e){n&1&&(p(0,"span",51),h(1),g(2,"i18n"),f()),n&2&&(d(),x(" ",_(2,1,"cityMinLength")," "))}function Qfe(n,e){if(n&1&&(p(0,"div",60),h(1),f()),n&2){let t=b();d(),x(" ",t.formError()," ")}}function Yfe(n,e){if(n&1&&(p(0,"div",61),h(1),f()),n&2){let t=b();d(),x(" ",t.formSuccess()," ")}}var _f=class _f{constructor(){this.touched={title:!1,description:!1,requestedDateTime:!1,zip_code:!1,number:!1};this.isSubmitting=F(!1);this.close=new Pt;this.dataService=$(kt);this.i18n=$($e);this.categories=F([]);this.subcategories=F([]);this.subcategory_id=F(null);this.filteredSubcategories=J(()=>this.subcategories().filter(e=>this.category_id()?e.category_id===this.category_id():[]));this.title=F("");this.description=F("");this.requestedDateTime=F("");this.category_id=F(null);this.street=F("");this.city=F("");this.state=F("");this.zip_code=F("");this.number=F("");this.complement=F("");this.locality=F("");this.district=F("");this.county=F("");this.formError=F(null);this.formSuccess=F(null);this.validFields=F({title:!1,description:!1,category_id:!1,subcategory_id:!1,requestedDateTime:!1,street:!1,city:!1,state:!1,zip_code:!1,number:!1})}onZipCodePaste(e){e.preventDefault();let i=(e.clipboardData?.getData("text")||"").replace(/\D/g,""),r=i;i.length>4&&(r=i.slice(0,4)+"-"+i.slice(4,7)),r.length>8&&(r=r.slice(0,8)),this.updateField("zip_code",r)}ngOnInit(){this.categories.set(this.dataService.categories()),this.subcategories.set(this.dataService.subcategories())}isFormValid(){let e=this.validFields();return e.title&&e.description&&e.category_id&&e.subcategory_id&&e.requestedDateTime&&e.street&&e.city&&e.state&&e.zip_code}async updateField(e,t){if(t!=null)switch(this.formError.set(null),e){case"title":this.title.set(t),this.validFields.update(s=>ee(B({},s),{title:t.length>=3}));break;case"description":this.description.set(t),this.validFields.update(s=>ee(B({},s),{description:t.length>=10}));break;case"category_id":this.category_id.set(t?Number(t):null),this.subcategory_id.set(null),this.validFields.update(s=>ee(B({},s),{category_id:!!t,subcategory_id:!1}));break;case"subcategory_id":this.subcategory_id.set(t?Number(t):null),this.validFields.update(s=>ee(B({},s),{subcategory_id:!!t}));break;case"requestedDateTime":this.requestedDateTime.set(t);let i=!!t&&new Date(t)>new Date;this.validFields.update(s=>ee(B({},s),{requestedDateTime:i}));break;case"zip_code":let r=t.replace(/\D/g,"");r.length>4&&(r=r.slice(0,4)+"-"+r.slice(4,7)),r.length>8&&(r=r.slice(0,8)),this.zip_code.set(r);let o=this.isValidPostalCode(r);if(this.validFields.update(s=>ee(B({},s),{zip_code:o})),o){let s=await this.dataService.getPostalCodeInfo(r);s?(this.locality.set(s.localidade||""),this.district.set(s.distrito||""),this.county.set(s.concelho||""),this.street.set(s.arteria_completa||""),this.validFields.update(a=>ee(B({},a),{street:!!s.arteria_completa,city:!!s.concelho,state:!!s.distrito}))):(this.locality.set(""),this.district.set(""),this.county.set(""),this.street.set(""),this.validFields.update(a=>ee(B({},a),{street:!1,city:!1,state:!1})),this.formError.set("C\xF3digo postal n\xE3o encontrado."))}else this.locality.set(""),this.district.set(""),this.county.set(""),this.street.set(""),this.validFields.update(s=>ee(B({},s),{street:!1,city:!1,state:!1}));break;case"number":this.number.set(t),this.validFields.update(s=>ee(B({},s),{number:!!t&&t.length>0}));break;case"complement":this.complement.set(t);break}}isValidPostalCode(e){let t=/^\d{4}-\d{3}$/,i=e.replace(/\D/g,"");return!!(t.test(e)||i.length===7)}showSuccessMessage(e,t=5e3){this.formSuccess.set(e),setTimeout(()=>{this.formSuccess.set(null)},t)}async onSubmit(){if(this.isSubmitting.set(!0),console.log("onSubmit chamado",{title:this.title(),description:this.description(),street:this.street(),number:this.number(),complement:this.complement(),zip_code:this.zip_code(),locality:this.locality(),district:this.district(),county:this.county()}),!this.isFormValid()){this.formError.set(this.i18n.translate("formErrorGeneric")),this.isSubmitting.set(!1);return}try{let e=this.zip_code(),t=e.replace(/\D/g,"");t.length===7&&(e=t.slice(0,4)+"-"+t.slice(4));let i={street:this.street(),city:this.locality(),state:this.district(),zip_code:e,concelho:this.county(),freguesia:void 0},r={title:this.title(),description:this.description(),category_id:this.category_id(),subcategory_id:this.subcategory_id(),address:i,requested_datetime:this.requestedDateTime()};await this.dataService.addServiceRequest(r),this.showSuccessMessage(this.i18n.translate("formSuccessGeneric")),this.close.emit(),this.isSubmitting.set(!1)}catch(e){console.error("Erro ao enviar solicita\xE7\xE3o de servi\xE7o:",e),this.formError.set(this.i18n.translate("formErrorGeneric")+(e?.message?` (${e.message})`:"")),this.isSubmitting.set(!1)}}};_f.\u0275fac=function(t){return new(t||_f)},_f.\u0275cmp=pe({type:_f,selectors:[["app-service-request-form"]],outputs:{close:"close"},decls:121,vars:160,consts:[["autocomplete","off",1,"w-full","px-0","mobile-safe","space-y-4","md:space-y-7","relative",3,"ngSubmit"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",4,"ngIf"],["for","category_id",1,"block","text-sm","font-medium","mb-1"],["id","category_id","required","",1,"w-full","border","rounded","px-3","py-2",3,"change","value"],["value","","disabled","","selected",""],[4,"ngFor","ngForOf"],["class","text-xs text-red-500",4,"ngIf"],["for","subcategory_id",1,"block","text-sm","font-medium","mb-1"],["id","subcategory_id","required","",1,"w-full","border","rounded","px-3","py-2",3,"change","value","disabled"],["for","title",1,"block","text-sm","font-medium","mb-1"],[1,"relative"],["id","title","type","text","required","","minlength","3","aria-describedby","title-error",1,"w-full","border","rounded","px-3","py-2",3,"input","ngClass","value","placeholder","aria-label"],["class","absolute right-2 top-2 text-red-500",4,"ngIf"],["id","title-error","class","text-xs text-red-500","role","alert",4,"ngIf"],["for","description",1,"block","text-sm","font-medium","mb-1"],["id","description","required","","minlength","10","aria-describedby","description-error",1,"w-full","border","rounded","px-3","py-2",3,"input","ngClass","value","placeholder","aria-label"],["id","description-error","class","text-xs text-red-500","role","alert",4,"ngIf"],["for","requestedDateTime",1,"block","text-sm","font-medium","mb-1"],["id","requestedDateTime","type","datetime-local","required","","aria-describedby","requestedDateTime-error",1,"w-full","border","rounded","px-3","py-2",3,"input","ngClass","value","placeholder","aria-label"],["id","requestedDateTime-error","class","text-xs text-red-500","role","alert",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","border","rounded","p-4","mt-2"],[1,"text-base","font-semibold","mb-2","px-2"],["for","zip_code",1,"block","text-sm","font-medium","mb-1"],["id","zip_code","type","text","required","","pattern","\\d{4}-\\d{3}","maxlength","8","inputmode","numeric","autocomplete","postal-code","aria-describedby","zip_code-error",1,"w-full","border","rounded","px-3","py-2",3,"input","paste","ngClass","value","placeholder","aria-label"],["id","zip_code-error","class","text-xs text-red-500","role","alert",4,"ngIf"],["for","street",1,"block","text-sm","font-medium","mb-1"],["id","street","type","text","readonly","","required","","minlength","5","tabindex","0","aria-readonly","true",1,"w-full","border","rounded","px-3","py-2","bg-gray-100",3,"value","placeholder","aria-label"],["for","number",1,"block","text-sm","font-medium","mb-1"],["id","number","type","text","required","","aria-describedby","number-error",1,"w-full","border","rounded","px-3","py-2",3,"input","ngClass","value","placeholder","aria-label"],["id","number-error","class","absolute right-2 top-2 text-red-500","role","alert",4,"ngIf"],["for","complement",1,"block","text-sm","font-medium","mb-1"],["id","complement","type","text",1,"w-full","border","rounded","px-3","py-2",3,"input","value","placeholder"],["for","locality",1,"block","text-sm","font-medium","mb-1"],["id","locality","type","text","readonly","","tabindex","0","aria-readonly","true",1,"w-full","border","rounded","px-3","py-2","bg-gray-100",3,"value","placeholder","aria-label"],["for","city",1,"block","text-sm","font-medium","mb-1"],["id","city","type","text","readonly","","tabindex","0","aria-readonly","true",1,"w-full","border","rounded","px-3","py-2","bg-gray-100",3,"value","placeholder","aria-label"],["for","district",1,"block","text-sm","font-medium","mb-1"],["id","district","type","text","readonly","","tabindex","0","aria-readonly","true",1,"w-full","border","rounded","px-3","py-2","bg-gray-100",3,"value","placeholder","aria-label"],["class","text-red-600 text-sm mt-2",4,"ngIf"],["class","text-green-600 text-sm mt-2",4,"ngIf"],[1,"flex","justify-end","gap-2","mt-6"],["type","button",1,"px-4","py-2","rounded","bg-gray-300","hover:bg-gray-400",3,"click"],["type","submit",1,"px-4","py-2","rounded","bg-indigo-600","text-white","font-semibold","hover:bg-indigo-700","flex","items-center","justify-center","min-w-[110px]",3,"disabled"],[1,"ml-4","text-xs",3,"ngClass"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-30"],[1,"flex","flex-col","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-12","w-12","text-indigo-600","mb-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"],[1,"text-white","text-lg","font-semibold","drop-shadow"],[3,"value"],[1,"text-xs","text-red-500"],[1,"absolute","right-2","top-2","text-red-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"],["id","title-error","role","alert",1,"text-xs","text-red-500"],["id","description-error","role","alert",1,"text-xs","text-red-500"],["id","requestedDateTime-error","role","alert",1,"text-xs","text-red-500"],["id","zip_code-error","role","alert",1,"text-xs","text-red-500"],["id","number-error","role","alert",1,"absolute","right-2","top-2","text-red-500"],[1,"text-red-600","text-sm","mt-2"],[1,"text-green-600","text-sm","mt-2"]],template:function(t,i){t&1&&(p(0,"form",0),A("ngSubmit",function(){return i.onSubmit()}),de(1,Rfe,8,3,"div",1),p(2,"div")(3,"label",2),h(4),g(5,"i18n"),f(),p(6,"select",3),A("change",function(o){return i.updateField("category_id",o.target.value)}),p(7,"option",4),h(8),g(9,"i18n"),f(),de(10,Pfe,3,2,"ng-container",5),f(),de(11,Ofe,3,3,"span",6),f(),p(12,"div")(13,"label",7),h(14),g(15,"i18n"),f(),p(16,"select",8),A("change",function(o){return i.updateField("subcategory_id",o.target.value)}),p(17,"option",4),h(18),g(19,"i18n"),f(),de(20,Ffe,3,2,"ng-container",5),f(),de(21,Lfe,3,3,"span",6),f(),p(22,"div")(23,"label",9),h(24),g(25,"i18n"),f(),p(26,"div",10)(27,"input",11),g(28,"i18n"),g(29,"i18n"),A("input",function(o){return i.updateField("title",o.target.value),i.touched.title=!0}),f(),de(30,Bfe,3,0,"span",12),f(),de(31,Vfe,3,3,"span",13),f(),p(32,"div")(33,"label",14),h(34),g(35,"i18n"),f(),p(36,"div",10)(37,"textarea",15),g(38,"i18n"),g(39,"i18n"),A("input",function(o){return i.updateField("description",o.target.value),i.touched.description=!0}),f(),de(40,jfe,3,0,"span",12),f(),de(41,qfe,3,3,"span",16),f(),p(42,"div")(43,"label",17),h(44),g(45,"i18n"),f(),p(46,"div",10)(47,"input",18),g(48,"i18n"),g(49,"i18n"),A("input",function(o){return i.updateField("requestedDateTime",o.target.value),i.touched.requestedDateTime=!0}),f(),de(50,Ufe,3,0,"span",12),f(),de(51,$fe,3,3,"span",19),f(),p(52,"fieldset",20)(53,"legend",21),h(54),g(55,"i18n"),f(),p(56,"div")(57,"label",22),h(58),g(59,"i18n"),f(),p(60,"div",10)(61,"input",23),g(62,"i18n"),g(63,"i18n"),A("input",function(o){return i.updateField("zip_code",o.target.value),i.touched.zip_code=!0})("paste",function(o){return i.onZipCodePaste(o)}),f(),de(64,Hfe,3,0,"span",12),f(),de(65,zfe,3,3,"span",24),f(),p(66,"div")(67,"label",25),h(68),g(69,"i18n"),f(),k(70,"input",26),g(71,"i18n"),g(72,"i18n"),f(),p(73,"div")(74,"label",27),h(75),g(76,"i18n"),f(),p(77,"div",10)(78,"input",28),g(79,"i18n"),g(80,"i18n"),A("input",function(o){return i.updateField("number",o.target.value),i.touched.number=!0}),f(),de(81,Wfe,3,0,"span",29),f()(),p(82,"div")(83,"label",30),h(84),g(85,"i18n"),f(),p(86,"input",31),g(87,"i18n"),A("input",function(o){return i.updateField("complement",o.target.value)}),f()(),p(88,"div")(89,"label",32),h(90),g(91,"i18n"),f(),k(92,"input",33),g(93,"i18n"),g(94,"i18n"),f(),p(95,"div")(96,"label",34),h(97),g(98,"i18n"),f(),k(99,"input",35),g(100,"i18n"),g(101,"i18n"),de(102,Gfe,3,3,"span",6),f(),p(103,"div")(104,"label",36),h(105),g(106,"i18n"),f(),k(107,"input",37),g(108,"i18n"),g(109,"i18n"),f()(),de(110,Qfe,2,1,"div",38)(111,Yfe,2,1,"div",39),p(112,"div",40)(113,"button",41),A("click",function(){return i.close.emit()}),h(114),g(115,"i18n"),f(),p(116,"button",42),h(117),g(118,"i18n"),f(),p(119,"span",43),h(120),f()()()),t&2&&(d(),T("ngIf",i.isSubmitting()),d(3),x(" ",_(5,88,"category")," "),d(2),T("value",i.category_id()||""),d(2),R(_(9,90,"select")),d(2),T("ngForOf",i.categories()),d(),T("ngIf",!i.validFields().category_id&&i.category_id()),d(3),x(" ",_(15,92,"subcategory")," "),d(2),T("value",i.subcategory_id()||"")("disabled",!i.category_id()),d(2),R(_(19,94,"select")),d(2),T("ngForOf",i.filteredSubcategories()),d(),T("ngIf",!i.validFields().subcategory_id&&i.subcategory_id()),d(3),R(_(25,96,"title")),d(3),bt("aria-label",ne(_(28,98,"title"))),T("ngClass",i.touched.title?!i.validFields().title&&i.title()?"border-red-500":i.validFields().title&&i.title()?"border-green-500":"":"")("value",i.title())("placeholder",_(29,100,"titlePlaceholder")),Ke("aria-invalid",i.touched.title&&!i.validFields().title?"true":null),d(3),T("ngIf",i.touched.title&&!i.validFields().title&&i.title()),d(),T("ngIf",i.touched.title&&!i.validFields().title&&i.title()),d(3),x(" ",_(35,102,"description")," "),d(3),bt("aria-label",ne(_(38,104,"description"))),T("ngClass",i.touched.description?!i.validFields().description&&i.description()?"border-red-500":i.validFields().description&&i.description()?"border-green-500":"":"")("value",i.description())("placeholder",_(39,106,"descriptionPlaceholder")),Ke("aria-invalid",i.touched.description&&!i.validFields().description?"true":null),d(3),T("ngIf",i.touched.description&&!i.validFields().description&&i.description()),d(),T("ngIf",i.touched.description&&!i.validFields().description&&i.description()),d(3),x(" ",_(45,108,"dateTime")," "),d(3),bt("aria-label",ne(_(48,110,"dateTime"))),T("ngClass",i.touched.requestedDateTime?!i.validFields().requestedDateTime&&i.requestedDateTime()?"border-red-500":i.validFields().requestedDateTime&&i.requestedDateTime()?"border-green-500":"":"")("value",i.requestedDateTime())("placeholder",_(49,112,"dateTimePlaceholder")),Ke("aria-invalid",i.touched.requestedDateTime&&!i.validFields().requestedDateTime?"true":null),d(3),T("ngIf",i.touched.requestedDateTime&&!i.validFields().requestedDateTime&&i.requestedDateTime()),d(),T("ngIf",i.touched.requestedDateTime&&!i.validFields().requestedDateTime&&i.requestedDateTime()),d(3),x(" ",_(55,114,"address")," "),d(4),x(" ",_(59,116,"postalCode")," "),d(3),bt("aria-label",ne(_(62,118,"postalCode"))),T("ngClass",i.touched.zip_code?!i.validFields().zip_code&&i.zip_code()?"border-red-500":i.validFields().zip_code&&i.zip_code()?"border-green-500":"":"")("value",i.zip_code())("placeholder",_(63,120,"postalCodePlaceholder")),Ke("aria-invalid",i.touched.zip_code&&!i.validFields().zip_code?"true":null),d(3),T("ngIf",i.touched.zip_code&&!i.validFields().zip_code&&i.zip_code()),d(),T("ngIf",i.touched.zip_code&&!i.validFields().zip_code&&i.zip_code()),d(3),x(" ",_(69,122,"logradouro")," "),d(2),bt("aria-label",ne(_(71,124,"logradouro"))),T("value",i.street())("placeholder",_(72,126,"streetPlaceholder")),d(5),x(" ",_(76,128,"number")," "),d(3),bt("aria-label",ne(_(79,130,"number"))),T("ngClass",i.touched.number?i.number()&&i.number().length>0&&!i.validFields().number?"border-red-500":i.validFields().number&&i.number()?"border-green-500":"":"")("value",i.number())("placeholder",_(80,132,"numberPlaceholder")),Ke("aria-invalid",i.touched.number&&i.number()&&!i.validFields().number?"true":null),d(3),T("ngIf",i.touched.number&&i.number()&&i.number().length>0&&!i.validFields().number),d(3),x(" ",_(85,134,"complement")," "),d(2),T("value",i.complement())("placeholder",_(87,136,"complementPlaceholder")),d(4),x(" ",_(91,138,"locality")," "),d(2),bt("aria-label",ne(_(93,140,"locality"))),T("value",i.locality())("placeholder",_(94,142,"localityPlaceholder")),d(5),x(" ",_(98,144,"concelho")," "),d(2),bt("aria-label",ne(_(100,146,"concelho"))),T("value",i.county())("placeholder",_(101,148,"cityPlaceholder")),d(3),T("ngIf",!i.validFields().city&&i.city()),d(3),x(" ",_(106,150,"district")," "),d(2),bt("aria-label",ne(_(108,152,"district"))),T("value",i.district())("placeholder",_(109,154,"districtPlaceholder")),d(3),T("ngIf",i.formError()),d(),T("ngIf",i.formSuccess()),d(3),x(" ",_(115,156,"cancel")," "),d(2),T("disabled",!i.isFormValid()||i.isSubmitting()),d(),x(" ",_(118,158,"submit")," "),d(2),T("ngClass",i.isFormValid()?"text-green-600":"text-red-600"),d(),x(" ",i.isFormValid()?"Formul\xE1rio v\xE1lido":"Formul\xE1rio inv\xE1lido"," "))},dependencies:[me,Ao,Pn,bn,ut,di,pi,fi,ui,Zn,Ae],encapsulation:2});var Zx=_f;var yf=class yf{constructor(){this.email=ge.required();this.verified=ae();this.resendCode=ae();this.backToLanding=ae();this.verificationCode=F("")}verify(){this.verificationCode()&&this.verified.emit(this.verificationCode())}goBackToLanding(){this.backToLanding.emit()}};yf.\u0275fac=function(t){return new(t||yf)},yf.\u0275cmp=pe({type:yf,selectors:[["app-verification"]],inputs:{email:[1,"email"]},outputs:{verified:"verified",resendCode:"resendCode",backToLanding:"backToLanding"},decls:37,vars:30,consts:[["verifyForm","ngForm"],[1,"flex","items-center","justify-center","min-h-full","p-4","text-center"],[1,"w-full","max-w-md","space-y-8"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-4","p-4","bg-green-100","border","border-green-300","rounded-lg"],[1,"text-sm","text-green-800","text-center"],[1,"text-sm","text-green-700","text-center","mt-2"],[1,"mt-8","space-y-6",3,"ngSubmit"],["for","verification-code",1,"sr-only"],["id","verification-code","name","code","type","text","required","",1,"appearance-none","rounded-md","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","placeholder","ngModel"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-indigo-300","disabled:cursor-not-allowed",3,"disabled"],[1,"space-y-3"],[1,"text-sm","text-center"],["href","#",1,"font-medium","text-indigo-600","hover:text-indigo-500",3,"click"],["type","button",1,"font-medium","text-gray-600","hover:text-gray-500","border","border-gray-300","px-4","py-2","rounded-md",3,"click"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div",2)(2,"div")(3,"h2",3),h(4),g(5,"i18n"),f(),p(6,"p",4),h(7),g(8,"i18n"),f(),p(9,"div",5)(10,"p",6),h(11),g(12,"i18n"),f(),p(13,"p",7),h(14),g(15,"i18n"),f()()(),p(16,"form",8,0),A("ngSubmit",function(){return E(r),S(i.verify())}),p(18,"div")(19,"label",9),h(20),g(21,"i18n"),f(),p(22,"input",10),g(23,"i18n"),A("ngModelChange",function(s){return E(r),S(i.verificationCode.set(s))}),f()(),p(24,"div")(25,"button",11),h(26),g(27,"i18n"),f()()(),p(28,"div",12)(29,"div",13)(30,"a",14),A("click",function(s){return E(r),s.preventDefault(),S(i.resendCode.emit())}),h(31),g(32,"i18n"),f()(),p(33,"div",13)(34,"button",15),A("click",function(){return E(r),S(i.goBackToLanding())}),h(35),g(36,"i18n"),f()()()()()}if(t&2){let r=cs(17);d(4),x(" ",_(5,12,"accountVerification")," "),d(3),Qe(" ",_(8,14,"verificationCodeSentTo")," ",i.email(),". "),d(4),x(" \u2705 ",_(12,16,"registrationSuccessful")," "),d(3),x(" ",_(15,18,"checkEmailBeforeAccess")," "),d(6),R(_(21,20,"verificationCode")),d(2),T("placeholder",_(23,22,"verificationCode"))("ngModel",i.verificationCode()),d(3),T("disabled",!r.valid),d(),x(" ",_(27,24,"verify")," "),d(5),x(" ",_(32,26,"resendCode")," "),d(4),x(" ",_(36,28,"backToHome")," ")}},dependencies:[me,ut,di,Lt,Gt,ui,Ii,$t,Zn,Ae],encapsulation:2,changeDetection:0});var Xx=yf;function Zfe(n,e){if(n&1){let t=H();De(0,"div",4)(1,"a",5),Wi("click",function(r){E(t);let o=b();return r.preventDefault(),S(o.setLanguage("pt"))}),h(2),g(3,"i18n"),ke(),De(4,"a",5),Wi("click",function(r){E(t);let o=b();return r.preventDefault(),S(o.setLanguage("en"))}),h(5),g(6,"i18n"),ke()()}n&2&&(d(2),R(_(3,2,"portuguese")),d(3),R(_(6,4,"english")))}var bf=class bf{constructor(){this.i18n=$($e);this.isOpen=F(!1);this.theme=ge("light")}setLanguage(e){this.i18n.setLanguage(e),this.isOpen.set(!1)}};bf.\u0275fac=function(t){return new(t||bf)},bf.\u0275cmp=pe({type:bf,selectors:[["app-language-switcher"]],inputs:{theme:[1,"theme"]},decls:6,vars:2,consts:[[1,"relative"],[1,"flex","items-center","space-x-2","p-2","rounded-full","transition-colors","duration-200","focus:outline-none","bg-white","shadow-sm","border","border-gray-300",3,"click"],[1,"fas","fa-globe","text-black",2,"font-size","1.5rem","filter","drop-shadow(0 1px 2px rgba(0, 0, 0, 0.15))"],[1,"uppercase","text-sm","font-semibold","tracking-wide","text-black",2,"text-shadow","0 1px 2px rgba(0, 0, 0, 0.1)"],[1,"absolute","right-0","mt-2","w-32","bg-white","rounded-md","shadow-lg","py-1","z-50","ring-1","ring-black","ring-opacity-5"],["href","#",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"]],template:function(t,i){t&1&&(De(0,"div",0)(1,"button",1),Wi("click",function(){return i.isOpen.set(!i.isOpen())}),Di(2,"i",2),De(3,"span",3),h(4),ke()(),V(5,Zfe,7,6,"div",4),ke()),t&2&&(d(4),x(" ",i.i18n.language()," "),d(),j(i.isOpen()?5:-1))},dependencies:[me,Ae],encapsulation:2,changeDetection:0});var Jx=bf;var d5=n=>({"justify-center":n}),Xfe=n=>({category:n});function Jfe(n,e){if(n&1){let t=H();We(0),p(1,"div",4)(2,"div",5),k(3,"app-language-switcher",6),f(),p(4,"app-landing",7),A("signIn",function(){E(t);let r=b();return S(r.showLogin())})("createAccount",function(){E(t);let r=b();return S(r.showRegister())}),f()(),Ge()}if(n&2){let t=b();d(3),T("theme",t.authTheme())}}function Kfe(n,e){if(n&1){let t=H();We(0),p(1,"div",8)(2,"div",5),k(3,"app-language-switcher",6),f(),p(4,"app-login",9,0),A("loggedIn",function(r){E(t);let o=b();return S(o.handleLogin(r))})("switchToRegister",function(){E(t);let r=b();return S(r.showRegister())})("switchToLanding",function(){E(t);let r=b();return S(r.showLanding())})("forgotPassword",function(r){E(t);let o=b();return S(o.handleForgotPassword(r))}),f()(),Ge()}if(n&2){let t=b();d(3),T("theme",t.authTheme())}}function ehe(n,e){if(n&1){let t=H();We(0),p(1,"div",8)(2,"div",5),k(3,"app-language-switcher",6),f(),p(4,"app-register",10),A("registered",function(r){E(t);let o=b();return S(o.handleRegister(r))})("switchToLogin",function(){E(t);let r=b();return S(r.showLogin())})("switchToLanding",function(){E(t);let r=b();return S(r.showLanding())}),f()(),Ge()}if(n&2){let t=b();d(3),T("theme",t.authTheme())}}function the(n,e){if(n&1){let t=H();We(0),p(1,"app-verification",11),A("verified",function(r){E(t);let o=b();return S(o.handleVerification(r))})("resendCode",function(){E(t);let r=b();return S(r.handleResendVerification())})("backToLanding",function(){E(t);let r=b();return S(r.handleBackToLanding())}),f(),Ge()}if(n&2){let t=b();d(),T("email",t.emailForVerification())}}function nhe(n,e){if(n&1){let t=H();We(0),p(1,"div",8)(2,"div",5),k(3,"app-language-switcher",6),f(),p(4,"app-forgot-password",12),A("codeRequested",function(r){E(t);let o=b();return S(o.handleForgotPasswordCodeRequested(r))})("backToLogin",function(){E(t);let r=b();return S(r.showLogin())}),f()(),Ge()}if(n&2){let t=b();d(3),T("theme",t.authTheme()),d(),T("initialEmail",t.emailForPasswordReset())}}function ihe(n,e){if(n&1){let t=H();We(0),p(1,"app-reset-password",13),A("passwordResetComplete",function(){E(t);let r=b();return S(r.handlePasswordResetComplete())}),f(),Ge()}if(n&2){let t=b();d(),T("initialEmail",t.emailForPasswordReset())}}function rhe(n,e){if(n&1){let t=H();p(0,"button",40),A("click",function(){let r=E(t).$implicit,o=b(2);return S(o.navigate(r.id))}),k(1,"i"),p(2,"span",41),h(3),g(4,"i18n"),f()()}if(n&2){let t=e.$implicit,i=b(2);se(i.currentNav()===t.id?"w-full flex items-center gap-3 px-3 py-2 rounded-md bg-gray-100 text-gray-900":"w-full flex items-center gap-3 px-3 py-2 rounded-md text-gray-600 hover:bg-gray-50"),T("ngClass",Rn(10,d5,i.isSidebarCollapsed())),d(),se(t.icon),d(),gt("hidden",i.isSidebarCollapsed()),d(),R(_(4,8,t.labelKey))}}function ohe(n,e){if(n&1){let t=H();p(0,"div",42)(1,"button",43),A("click",function(){E(t);let r=b(2);return S(r.openNewRequestForm())}),k(2,"i",44),p(3,"span"),h(4),g(5,"i18n"),f()()()}if(n&2){let t=b(2);d(),T("ngClass",Rn(6,d5,t.isSidebarCollapsed())),d(2),gt("hidden",t.isSidebarCollapsed()),d(),R(_(5,4,"newServiceRequest"))}}function she(n,e){if(n&1&&(p(0,"span",45),h(1),f()),n&2){let t,i=b(2);d(),R((t=i.currentUser())==null?null:t.name)}}function ahe(n,e){if(n&1&&(p(0,"span",46),h(1),g(2,"i18n"),f()),n&2){let t,i=b(2);d(),R(_(2,1,(t=i.currentUser())==null?null:t.role))}}function lhe(n,e){n&1&&k(0,"span",47)}function che(n,e){if(n&1){let t=H();We(0),p(1,"div",48)(2,"h2",49),h(3),g(4,"i18n"),f()(),p(5,"div",50)(6,"app-service-request-form",51),A("close",function(){E(t);let r=b(2);return S(r.closeModal())})("formSubmitted",function(r){E(t);let o=b(2);return S(o.handleFormSubmitted(r))}),f()(),Ge()}if(n&2){let t=b(2);d(3),x(" ",_(4,2,"newServiceRequest")," "),d(3),T("user",t.currentUser())}}function uhe(n,e){if(n&1){let t=H();We(0),p(1,"app-admin-dashboard",52),A("viewDetails",function(r){E(t);let o=b(4);return S(o.openDetails(r))})("openChat",function(r){E(t);let o=b(4);return S(o.openChat(r))}),f(),Ge()}}function dhe(n,e){if(n&1){let t=H();We(0),p(1,"app-dashboard",53),A("viewDetails",function(r){E(t);let o=b(4);return S(o.openDetails(r))})("openChat",function(r){E(t);let o=b(4);return S(o.openChat(r))})("payNow",function(r){E(t);let o=b(4);return S(o.handlePayment(r))})("scheduleRequest",function(r){E(t);let o=b(4);return S(o.openScheduler(r))})("provideClarification",function(r){E(t);let o=b(4);return S(o.openClarificationModal(r))}),f(),Ge()}if(n&2){let t=b(4);d(),T("user",t.currentUser())}}function phe(n,e){if(n&1&&(We(0),de(1,uhe,2,0,"ng-container",39)(2,dhe,2,1,"ng-container",39),Ge()),n&2){let t,i,r=b(3);d(),T("ngIf",((t=r.currentUser())==null?null:t.role)==="admin"),d(),T("ngIf",((i=r.currentUser())==null?null:i.role)!=="admin")}}function fhe(n,e){if(n&1){let t=H();We(0),p(1,"app-schedule",54),A("viewDetails",function(r){E(t);let o=b(3);return S(o.openDetails(r))}),f(),Ge()}if(n&2){let t=b(3);d(),T("user",t.currentUser())}}function hhe(n,e){if(n&1&&(We(0),k(1,"app-search",55),Ge()),n&2){let t=b(3);d(),T("user",t.currentUser())}}function mhe(n,e){if(n&1&&(We(0),k(1,"app-profile",55),Ge()),n&2){let t=b(3);d(),T("user",t.currentUser())}}function ghe(n,e){if(n&1){let t=H();We(0),p(1,"app-service-request-details",56),A("close",function(){E(t);let r=b(4);return S(r.goBackFromDetails())})("openChat",function(r){E(t);let o=b(4);return S(o.openChat(r))})("approveQuote",function(r){E(t);let o=b(4);return S(o.handleApproveQuote(r))})("rejectQuote",function(r){E(t);let o=b(4);return S(o.handleRejectQuote(r))})("scheduleRequest",function(r){E(t);let o=b(4);return S(o.openScheduler(r))})("payNow",function(r){E(t);let o=b(4);return S(o.handlePayment(r))})("refreshRequest",function(){E(t);let r=b(4);return S(r.handleRefreshRequest())}),f(),Ge()}if(n&2){let t=b(4);d(),T("request",t.selectedRequest())("currentUser",t.currentUser())}}function vhe(n,e){if(n&1&&(We(0),de(1,ghe,2,2,"ng-container",39),Ge()),n&2){let t=b(3);d(),T("ngIf",t.selectedRequest())}}function _he(n,e){if(n&1){let t=H();We(0),p(1,"app-modal",57),g(2,"i18n"),A("closed",function(){E(t);let r=b(3);return S(r.categoryManagement==null?null:r.categoryManagement.cancelDeleteCategory())}),p(3,"button",58),A("click",function(){E(t);let r=b(3);return S(r.categoryManagement==null?null:r.categoryManagement.confirmDeleteCategory())}),h(4),g(5,"i18n"),f(),p(6,"button",59),A("click",function(){E(t);let r=b(3);return S(r.categoryManagement==null?null:r.categoryManagement.cancelDeleteCategory())}),h(7),g(8,"i18n"),f()(),Ge()}if(n&2){let t,i=b(3);d(),T("isVisible",!0)("title",_(2,5,"delete"))("message",i.i18n.translate("confirmDeleteCategory",Rn(11,Xfe,(i.categoryManagement==null||(t=i.categoryManagement.categoryToDelete())==null?null:t.name)||""))),d(3),x(" ",_(5,7,"delete")," "),d(3),x(" ",_(8,9,"cancel")," ")}}function yhe(n,e){if(n&1&&(We(0,2),de(1,phe,3,2,"ng-container",3)(2,fhe,2,1,"ng-container",3)(3,hhe,2,1,"ng-container",3)(4,mhe,2,1,"ng-container",3)(5,vhe,2,1,"ng-container",3),Ge(),de(6,_he,9,13,"ng-container",39)),n&2){let t=b(2);T("ngSwitch",t.currentNav()),d(),T("ngSwitchCase","dashboard"),d(),T("ngSwitchCase","schedule"),d(),T("ngSwitchCase","search"),d(),T("ngSwitchCase","profile"),d(),T("ngSwitchCase","details"),d(),T("ngIf",t.categoryManagement==null?null:t.categoryManagement.showDeleteModal())}}function bhe(n,e){if(n&1){let t=H();p(0,"button",69),A("click",function(){let r=E(t).$implicit,o=b(3);return S(o.navigate(r.id))}),k(1,"i"),p(2,"span"),h(3),g(4,"i18n"),f()()}if(n&2){let t=e.$implicit,i=b(3);se(i.currentNav()===t.id?"w-full flex items-center gap-3 px-3 py-2 rounded-md bg-gray-100 text-gray-900":"w-full flex items-center gap-3 px-3 py-2 rounded-md text-gray-600 hover:bg-gray-50"),d(),se(t.icon),d(2),R(_(4,5,t.labelKey))}}function xhe(n,e){if(n&1){let t=H();p(0,"div",42)(1,"button",70),A("click",function(){E(t);let r=b(3);return r.openNewRequestForm(),S(r.toggleSidebar())}),k(2,"i",44),p(3,"span"),h(4),g(5,"i18n"),f()()()}n&2&&(d(4),R(_(5,1,"newServiceRequest")))}function Che(n,e){if(n&1){let t=H();p(0,"div",60)(1,"div",61),A("click",function(){E(t);let r=b(2);return S(r.toggleSidebar())})("keydown.enter",function(){E(t);let r=b(2);return S(r.toggleSidebar())}),f(),p(2,"aside",62)(3,"div",63),k(4,"img",64),p(5,"button",65),A("click",function(){E(t);let r=b(2);return S(r.toggleSidebar())}),k(6,"i",66),f()(),p(7,"nav",67),de(8,bhe,5,7,"button",68),f(),de(9,xhe,6,3,"div",20),p(10,"div",21),k(11,"img",22),p(12,"span",45),h(13),f(),p(14,"span",46),h(15),g(16,"i18n"),f()()()()}if(n&2){let t,i,r,o,s=b(2);d(8),T("ngForOf",s.navItems()),d(),T("ngIf",((t=s.currentUser())==null?null:t.role)==="client"),d(2),T("src",((i=s.currentUser())==null?null:i.avatar_url)||"src/assets/logo_dasad.png",Hi),d(2),R((r=s.currentUser())==null?null:r.name),d(2),R(_(16,5,(o=s.currentUser())==null?null:o.role))}}function whe(n,e){if(n&1){let t=H();We(0),p(1,"div",71),A("click",function(){E(t);let r=b(2);return S(r.closeModal())})("keydown.enter",function(){E(t);let r=b(2);return S(r.closeModal())}),p(2,"app-notification-center",72),A("close",function(){E(t);let r=b(2);return S(r.closeModal())})("click",function(r){return E(t),S(r.stopPropagation())})("keydown.enter",function(r){E(t);let o=b(2);return r.stopPropagation(),S(o.closeModal())}),f()(),Ge()}}function Ehe(n,e){if(n&1){let t=H();We(0),p(1,"div",73),A("click",function(){E(t);let r=b(2);return S(r.closeModal())})("keydown.enter",function(){E(t);let r=b(2);return S(r.closeModal())}),p(2,"div",74),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown.enter",function(r){E(t);let o=b(2);return r.stopPropagation(),S(o.closeModal())}),p(3,"app-chat",75),A("close",function(){E(t);let r=b(2);return S(r.closeModal())}),f()()(),Ge()}if(n&2){let t=b(2);d(3),T("currentUser",t.currentUser())("serviceRequest",t.selectedRequest())}}function She(n,e){if(n&1){let t=H();We(0),p(1,"div",76),A("click",function(){E(t);let r=b(2);return S(r.closeModal())})("keydown.enter",function(){E(t);let r=b(2);return S(r.closeModal())}),p(2,"div",77),A("click",function(r){return E(t),S(r.stopPropagation())})("keydown.enter",function(r){E(t);let o=b(2);return r.stopPropagation(),S(o.closeModal())}),p(3,"app-scheduler",78),A("close",function(){E(t);let r=b(2);return S(r.closeModal())})("appointmentConfirmed",function(r){E(t);let o=b(2);return S(o.handleScheduleConfirmed(r))}),f()()(),Ge()}if(n&2){let t=b(2);d(3),T("serviceRequest",t.selectedRequest())}}function Dhe(n,e){if(n&1){let t=H();We(0),p(1,"div",14)(2,"aside",15)(3,"div",16),k(4,"img",17),f(),p(5,"nav",18),de(6,rhe,5,12,"button",19),f(),de(7,ohe,6,8,"div",20),p(8,"div",21),k(9,"img",22),de(10,she,2,1,"span",23)(11,ahe,3,3,"span",24),f()(),p(12,"div",25)(13,"header",26)(14,"div",27)(15,"button",28),g(16,"i18n"),g(17,"i18n"),g(18,"i18n"),A("click",function(){E(t);let r=b();return S(r.toggleSidebar())}),k(19,"i",29),f(),p(20,"span",30),h(21,"HomeService"),f()(),p(22,"div",27)(23,"button",31),g(24,"i18n"),A("click",function(){E(t);let r=b();return S(r.openNotificationCenter())}),k(25,"i",32),de(26,lhe,1,0,"span",33),f(),k(27,"app-language-switcher",6),p(28,"button",34),A("click",function(){E(t);let r=b();return S(r.handleLogout())}),k(29,"i",35),p(30,"span",36),h(31),g(32,"i18n"),f()()()(),p(33,"main"),de(34,che,7,4,"ng-container",37)(35,yhe,7,7,"ng-template",null,1,uD),f()(),de(37,Che,17,7,"div",38),f(),de(38,whe,3,0,"ng-container",39)(39,Ehe,4,2,"ng-container",39)(40,She,4,1,"ng-container",39),Ge()}if(n&2){let t,i,r,o=cs(36),s=b();d(2),T("ngClass",s.isSidebarCollapsed()?"md:w-16":"md:w-64"),d(4),T("ngForOf",s.navItems()),d(),T("ngIf",((t=s.currentUser())==null?null:t.role)==="client"),d(2),T("src",((i=s.currentUser())==null?null:i.avatar_url)||"src/assets/logo_dasad.png",Hi),d(),T("ngIf",!s.isSidebarCollapsed()),d(),T("ngIf",!s.isSidebarCollapsed()),d(4),Ke("title",s.isMobile()?_(16,21,"menu"):s.isSidebarCollapsed()?_(17,23,"expand"):_(18,25,"collapse"))("aria-expanded",s.isMobile()?s.isSidebarOpen():!s.isSidebarCollapsed()),d(8),T("title",ne(_(24,27,"notifications"))),d(3),T("ngIf",s.hasUnreadNotifications()),d(),T("theme","dark"),d(4),R(_(32,29,"logout")),d(2),se(((r=s.currentUser())==null?null:r.role)==="admin"?"flex-1 overflow-y-auto overflow-x-hidden min-w-0":"flex-1 overflow-y-auto overflow-x-hidden px-4 py-4 md:px-6 md:py-6 bg-gray-100 min-w-0"),d(),T("ngIf",s.isNewRequestFormOpen())("ngIfElse",o),d(3),T("ngIf",s.isSidebarOpen()),d(),T("ngIf",s.isNotificationCenterOpen()),d(),T("ngIf",s.isChatOpen()&&s.selectedRequest()),d(),T("ngIf",s.isSchedulerOpen()&&s.selectedRequest())}}var xf=class xf{constructor(){this.authService=$(ci);this.dataService=$(kt);this.notificationService=$(Ft);this.i18n=$($e);this.pushNotificationService=$(K1);this.view=F("landing");this.currentNav=F("dashboard");this.isSidebarOpen=F(!1);this.isSidebarCollapsed=F(!1);this.isNotificationCenterOpen=F(!1);this.isChatOpen=F(!1);this.isNewRequestFormOpen=F(!1);this.isSchedulerOpen=F(!1);this.showRegistrationModal=F(!1);this.isClarificationModalOpen=F(!1);this.selectedRequest=F(null);this.currentUser=this.authService.appUser;this.pendingEmailConfirmation=this.authService.pendingEmailConfirmation;this.emailForVerification=F("");this.emailForPasswordReset=F("");this.hasUnreadNotifications=J(()=>this.notificationService.notifications().some(e=>!e.read));this.authTheme=J(()=>this.view()==="landing"?"light":"dark");this.isMobile=J(()=>typeof window>"u"?!1:window.innerWidth<768);this.navItems=J(()=>[{id:"dashboard",labelKey:"dashboard",icon:"fa-solid fa-table-columns"},{id:"schedule",labelKey:"schedule",icon:"fa-solid fa-calendar-days"},{id:"search",labelKey:"search",icon:"fa-solid fa-magnifying-glass"},{id:"profile",labelKey:"profile",icon:"fa-solid fa-user"}]);window.addEventListener("message",e=>{e.data?.type==="OPEN_REQUEST_DETAILS"&&e.data?.payload?this.openDetails(e.data.payload):e.data?.type==="OPEN_CHAT"&&e.data?.payload&&this.openChat(e.data.payload)}),qt(()=>{let e=this.currentUser(),t=this.pendingEmailConfirmation();t?(this.emailForVerification.set(t),this.view.set("verification"),this.dataService.clearData()):e?e.status==="Active"?(this.view.set("app"),this.dataService.loadInitialData(e),this.pushNotificationService.requestPermission()):e.status==="Pending"?this.view.set("app"):this.authService.logout():(this.view.set("landing"),this.dataService.clearData())})}showLogin(){this.view.set("login")}showRegister(){this.view.set("register")}showLanding(){this.view.set("landing")}navigate(e){this.currentNav.set(e),this.isMobile()&&this.isSidebarOpen.set(!1)}async handleLogin(e){try{let t=await this.authService.login(e.email,e.password);t.error?this.loginComponent&&this.loginComponent.setError(t.error.message):this.loginComponent&&this.loginComponent.clearError()}catch{}}handleRegister(e){this.authService.register(e.name,e.email,e.password,e.role),this.showRegistrationModal.set(!0)}handleVerification(e){this.authService.verifyOtp(this.emailForVerification(),e).then(t=>{t.error||(this.notificationService.addNotification("Verification successful! You can now access the application."),this.authService.pendingEmailConfirmation.set(null))})}handleResendVerification(){let e=this.emailForVerification();e&&this.authService.resendVerificationCode(e)}handleBackToLanding(){this.authService.pendingEmailConfirmation.set(null),this.emailForVerification.set(""),this.view.set("landing")}handleForgotPassword(e){this.emailForPasswordReset.set(e),this.view.set("forgot-password")}handleForgotPasswordCodeRequested(e){this.emailForPasswordReset.set(e),this.view.set("reset-password")}handlePasswordResetComplete(){this.emailForPasswordReset.set(""),this.view.set("login"),this.notificationService.addNotification(this.i18n.translate("password_reset_success"))}async handleLogout(){try{await this.authService.logout(),this.view.set("landing"),this.isSidebarOpen.set(!1),this.isNewRequestFormOpen.set(!1),this.selectedRequest.set(null),this.isChatOpen.set(!1),this.isNotificationCenterOpen.set(!1)}catch{this.view.set("landing"),this.isSidebarOpen.set(!1),this.authService.appUser.set(null)}}openNewRequestForm(){if(this.currentUser()?.role!=="client"){console.warn("Apenas clientes podem criar solicita\xE7\xF5es de servi\xE7o");return}this.isNewRequestFormOpen.set(!0),this.isSidebarOpen.set(!1)}openChat(e){this.selectedRequest.set(e),this.isChatOpen.set(!0)}openScheduler(e){this.selectedRequest.set(e),this.isSchedulerOpen.set(!0)}openDetails(e){this.selectedRequest.set(e),this.currentNav.set("details")}goBackFromDetails(){this.selectedRequest.set(null),this.currentNav.set("dashboard")}openClarificationModal(e){this.selectedRequest.set(e),this.isClarificationModalOpen.set(!0)}toggleSidebar(){this.isMobile()?this.isSidebarOpen.set(!this.isSidebarOpen()):this.isSidebarCollapsed.set(!this.isSidebarCollapsed())}openNotificationCenter(){this.isNotificationCenterOpen.set(!0)}handleScheduleConfirmed(e){this.dataService.scheduleServiceRequest(e.requestId,e.professionalId,e.date),this.closeModal()}async handleFormSubmitted(e){try{this.notificationService.addNotification("Creating service request..."),await this.dataService.addServiceRequest(e),this.isNewRequestFormOpen.set(!1)}catch(t){console.error("Error creating service request:",t)}}closeModal(){this.isNewRequestFormOpen.set(!1),this.isNotificationCenterOpen.set(!1),this.isChatOpen.set(!1),this.isSchedulerOpen.set(!1),this.isClarificationModalOpen.set(!1),this.selectedRequest.set(null)}handleApproveQuote(e){this.dataService.updateServiceRequest(e.id,{status:"Aprovado pelo cliente"}),this.notificationService.addNotification(`Quote for "${e.title}" approved`),this.closeModal()}handleRejectQuote(e){this.dataService.updateServiceRequest(e.id,{status:"Cancelado"}),this.notificationService.addNotification(`Quote for "${e.title}" rejected`),this.closeModal()}handlePayment(e){this.dataService.updatePaymentStatus(e.id,"Paid").then(async()=>{this.notificationService.addNotification(`Payment for request #${e.id} processed.`),await this.dataService.loadInitialData(this.currentUser()),this.closeModal()}).catch(t=>{this.notificationService.addNotification(`Erro ao processar pagamento: ${t.message}`)})}handleModalClose(){this.showRegistrationModal.set(!1),this.view.set("landing")}handleRefreshRequest(){let e=this.currentUser();e&&this.dataService.loadInitialData(e)}ngOnInit(){typeof window<"u"&&(this.isSidebarOpen.set(window.innerWidth>=768),window.addEventListener("resize",()=>{window.innerWidth>=768?this.isSidebarOpen.set(!0):this.isSidebarOpen.set(!1)}))}};xf.\u0275fac=function(t){return new(t||xf)},xf.\u0275cmp=pe({type:xf,selectors:[["app-root"]],viewQuery:function(t,i){if(t&1&&Nc(Cg,5),t&2){let r;Jt(r=Kt())&&(i.loginComponent=r.first)}},decls:8,vars:8,consts:[["loginComponent",""],["mainContent",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"relative","w-full","h-full","mobile-safe"],[1,"absolute","top-4","right-4","z-10"],[3,"theme"],[3,"signIn","createAccount"],[1,"relative","w-full","h-full"],[3,"loggedIn","switchToRegister","switchToLanding","forgotPassword"],[3,"registered","switchToLogin","switchToLanding"],[3,"verified","resendCode","backToLanding","email"],[3,"codeRequested","backToLogin","initialEmail"],[3,"passwordResetComplete","initialEmail"],[1,"flex","h-screen","bg-gray-100","text-gray-800","overflow-hidden","mobile-safe"],["aria-label","Menu lateral de navega\xE7\xE3o",1,"hidden","md:flex","bg-white","border-r","border-gray-200","flex-col","transition-all","duration-200","overflow-hidden",3,"ngClass"],[1,"h-16","flex","items-center","px-4","border-b","border-gray-200"],["src","src/assets/logo_dasad.png","alt","HomeService",1,"h-8","w-auto"],["aria-label","Navega\xE7\xE3o principal do menu lateral",1,"flex-1","overflow-y-auto","p-2","space-y-1"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],["class","p-4 border-t border-gray-200",4,"ngIf"],[1,"flex","flex-col","items-center","gap-2","pt-4","pb-2","border-t","border-gray-100"],["alt","Avatar do usu\xE1rio",1,"w-12","h-12","rounded-full","object-cover","border","border-gray-300","shadow-sm",3,"src"],["class","font-semibold text-sm text-gray-800 text-center truncate max-w-[120px]",4,"ngIf"],["class","text-xs text-gray-500 text-center",4,"ngIf"],[1,"flex-1","flex","flex-col","overflow-hidden","min-w-0"],[1,"bg-white","shadow-sm","px-4","py-3","flex","items-center","justify-between","z-10","flex-shrink-0","min-h-[60px]"],[1,"flex","items-center","gap-2"],[1,"p-2","rounded-md","border","border-gray-200",3,"click"],[1,"fa-solid","fa-bars"],[1,"hidden","md:inline","font-semibold"],[1,"relative","p-2","rounded-md","hover:bg-gray-50",3,"click","title"],[1,"fa-solid","fa-bell"],["class","absolute -top-0.5 -right-0.5 inline-block h-2 w-2 rounded-full bg-red-500",4,"ngIf"],[1,"inline-flex","items-center","gap-2","px-3","py-2","rounded-md","border","border-gray-200","hover:bg-gray-50",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"hidden","sm:inline"],[4,"ngIf","ngIfElse"],["class","md:hidden",4,"ngIf"],[4,"ngIf"],[3,"click","ngClass"],[1,"transition-all"],[1,"p-4","border-t","border-gray-200"],[1,"w-full","inline-flex","items-center","justify-center","gap-2","px-3","py-2","rounded-md","bg-blue-600","text-white","hover:bg-blue-700",3,"click","ngClass"],[1,"fa-solid","fa-plus"],[1,"font-semibold","text-sm","text-gray-800","text-center","truncate","max-w-[120px]"],[1,"text-xs","text-gray-500","text-center"],[1,"absolute","-top-0.5","-right-0.5","inline-block","h-2","w-2","rounded-full","bg-red-500"],[1,"w-full","flex","flex-col","items-center","justify-center","bg-white","pt-2","pb-0"],[1,"text-2xl","md:text-3xl","font-extrabold","text-indigo-700","drop-shadow-sm","mb-2","text-center"],[1,"w-full","h-full","flex","flex-col","bg-white","p-6"],[3,"close","formSubmitted","user"],[3,"viewDetails","openChat"],[3,"viewDetails","openChat","payNow","scheduleRequest","provideClarification","user"],[3,"viewDetails","user"],[3,"user"],[3,"close","openChat","approveQuote","rejectQuote","scheduleRequest","payNow","refreshRequest","request","currentUser"],[3,"closed","isVisible","title","message"],["type","button",1,"px-4","py-2","bg-red-600","text-white","rounded-lg","hover:bg-red-700","mr-2",3,"click"],["type","button",1,"px-4","py-2","bg-gray-300","text-gray-800","rounded-lg","hover:bg-gray-400",3,"click"],[1,"md:hidden"],["aria-label","Fechar menu lateral",1,"fixed","inset-0","bg-black/40","z-40",3,"click","keydown.enter"],["aria-label","Menu lateral de navega\xE7\xE3o (mobile)",1,"fixed","inset-y-0","left-0","w-64","bg-white","z-50","shadow-lg","flex","flex-col"],[1,"h-16","flex","items-center","px-4","border-b","border-gray-200","justify-between"],["src","assets/logo.jpg","alt","HomeService",1,"h-8","w-auto"],[1,"p-2",3,"click"],[1,"fa-solid","fa-xmark"],["aria-label","Navega\xE7\xE3o principal do menu lateral (mobile)",1,"flex-1","overflow-y-auto","p-2","space-y-1"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"w-full","inline-flex","items-center","justify-center","gap-2","px-3","py-2","rounded-md","bg-blue-600","text-white","hover:bg-blue-700",3,"click"],["aria-label","Fechar centro de notifica\xE7\xF5es",1,"modal-backdrop-right",3,"click","keydown.enter"],["aria-label","Centro de notifica\xE7\xF5es",3,"close","click","keydown.enter"],["aria-label","Fechar modal de chat",1,"modal-backdrop",3,"click","keydown.enter"],["aria-label","Conte\xFAdo do chat",1,"modal-content","max-w-2xl","h-3/4",3,"click","keydown.enter"],[3,"close","currentUser","serviceRequest"],["aria-label","Fechar modal de agendamento",1,"modal-backdrop",3,"click","keydown.enter"],["aria-label","Conte\xFAdo do agendamento",1,"modal-content",3,"click","keydown.enter"],[3,"close","appointmentConfirmed","serviceRequest"]],template:function(t,i){t&1&&(We(0,2),de(1,Jfe,5,1,"ng-container",3)(2,Kfe,6,1,"ng-container",3)(3,ehe,5,1,"ng-container",3)(4,the,2,1,"ng-container",3)(5,nhe,5,2,"ng-container",3)(6,ihe,2,1,"ng-container",3)(7,Dhe,41,31,"ng-container",3),Ge()),t&2&&(T("ngSwitch",i.view()),d(),T("ngSwitchCase","landing"),d(),T("ngSwitchCase","login"),d(),T("ngSwitchCase","register"),d(),T("ngSwitchCase","verification"),d(),T("ngSwitchCase","forgot-password"),d(),T("ngSwitchCase","reset-password"),d(),T("ngSwitchCase","app"))},dependencies:[me,Ao,Pn,bn,S1,qD,bb,Cg,Eb,Xx,yb,Sb,hb,_b,$x,zx,wb,Zx,Yx,Hx,mb,xb,Jx,Ae],styles:['[_nghost-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}.mobile-safe[_ngcontent-%COMP%]{max-width:100vw;overflow-x:hidden}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.modal-backdrop-right[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{height:100%;width:100%}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translate3d(0,20px,0)}to{opacity:1;transform:translateZ(0)}}.notification-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out forwards}'],changeDetection:0});var Lp=xf;D1(ML);D1(NL);D1(RL);var p5=document.createElement("script");p5.src="https://cdn.tailwindcss.com";document.head.appendChild(p5);KD(Lp,{providers:[pD(),kD(MD()),{provide:Za,useValue:"de"}]}).catch(n=>console.error(n));
