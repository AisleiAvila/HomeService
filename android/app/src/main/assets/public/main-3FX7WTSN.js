import{a as dc}from"./chunk-ELF4O7UH.js";import{b as yy,c as wN}from"./chunk-JENGY3ED.js";import{a as F,b as J,c as RS}from"./chunk-IMPBB4AK.js";var SN=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),zd=class n{element=null;classNames=[];attrs=[];notSelectors=[];static parse(e){let t=[],i=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},r=new n,o,s=r,a=!1;for(SN.lastIndex=0;o=SN.exec(e);){if(o[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,s=new n,r.notSelectors.push(s)}let l=o[2];if(l){let d=o[3];d==="#"?s.addAttribute("id",l.slice(1)):d==="."?s.addClassName(l.slice(1)):s.setElement(l)}let c=o[4];if(c&&s.addAttribute(s.unescapeAttribute(c),o[6]),o[7]&&(a=!1,s=r),o[8]){if(a)throw new Error("Multiple selectors in :not are not supported");i(t,r),r=s=new n}}return i(t,r),t}unescapeAttribute(e){let t="",i=!1;for(let r=0;r<e.length;r++){let o=e.charAt(r);if(o==="\\"){i=!0;continue}if(o==="$"&&!i)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);i=!1,t+=o}return t}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){let i=this.escapeAttribute(this.attrs[t]),r=this.attrs[t+1];e+=`[${i}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}},Uy=class n{static createNotMatcher(e){let t=new n;return t.addSelectables(e,null),t}_elementMap=new Map;_elementPartialMap=new Map;_classMap=new Map;_classPartialMap=new Map;_attrValueMap=new Map;_attrValuePartialMap=new Map;_listContexts=[];addSelectables(e,t){let i=null;e.length>1&&(i=new tE(e),this._listContexts.push(i));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,i)}_addSelectable(e,t,i){let r=this,o=e.element,s=e.classNames,a=e.attrs,l=new nE(e,t,i);if(o&&(a.length===0&&s.length===0?this._addTerminal(r._elementMap,o,l):r=this._addPartial(r._elementPartialMap,o)),s)for(let c=0;c<s.length;c++){let d=a.length===0&&c===s.length-1,m=s[c];d?this._addTerminal(r._classMap,m,l):r=this._addPartial(r._classPartialMap,m)}if(a)for(let c=0;c<a.length;c+=2){let d=c===a.length-2,m=a[c],_=a[c+1];if(d){let y=r._attrValueMap,w=y.get(m);w||(w=new Map,y.set(m,w)),this._addTerminal(w,_,l)}else{let y=r._attrValuePartialMap,w=y.get(m);w||(w=new Map,y.set(m,w)),r=this._addPartial(w,_)}}}_addTerminal(e,t,i){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(i)}_addPartial(e,t){let i=e.get(t);return i||(i=new n,e.set(t,i)),i}match(e,t){let i=!1,r=e.element,o=e.classNames,s=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(i=this._matchTerminal(this._elementMap,r,e,t)||i,i=this._matchPartial(this._elementPartialMap,r,e,t)||i,o)for(let a=0;a<o.length;a++){let l=o[a];i=this._matchTerminal(this._classMap,l,e,t)||i,i=this._matchPartial(this._classPartialMap,l,e,t)||i}if(s)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1],d=this._attrValueMap.get(l);c&&(i=this._matchTerminal(d,"",e,t)||i),i=this._matchTerminal(d,c,e,t)||i;let m=this._attrValuePartialMap.get(l);c&&(i=this._matchPartial(m,"",e,t)||i),i=this._matchPartial(m,c,e,t)||i}return i}_matchTerminal(e,t,i,r){if(!e||typeof t!="string")return!1;let o=e.get(t)||[],s=e.get("*");if(s&&(o=o.concat(s)),o.length===0)return!1;let a,l=!1;for(let c=0;c<o.length;c++)a=o[c],l=a.finalize(i,r)||l;return l}_matchPartial(e,t,i,r){if(!e||typeof t!="string")return!1;let o=e.get(t);return o?o.match(i,r):!1}},tE=class{selectors;alreadyMatched=!1;constructor(e){this.selectors=e}},nE=class{selector;cbContext;listContext;notSelectors;constructor(e,t,i){this.selector=e,this.cbContext=t,this.listContext=i,this.notSelectors=e.notSelectors}finalize(e,t){let i=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(i=!Uy.createNotMatcher(this.notSelectors).match(e,null)),i&&t&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),i}},$y=class{registry;constructor(e){this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var fc=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(fc||{}),wD=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(wD||{}),Xh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Xh||{}),EN={name:"custom-elements"},DN={name:"no-errors-schema"};var Ot=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ot||{});function $U(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return[n.element&&n.element!=="*"?n.element:"",...n.attrs,...e]}function HU(n){let e=n.classNames&&n.classNames.length?[8,...n.classNames]:[];return n.element?[5,n.element,...n.attrs,...e]:n.attrs.length?[3,...n.attrs,...e]:n.classNames&&n.classNames.length?[9,...n.classNames]:[]}function zU(n){let e=$U(n),t=n.notSelectors&&n.notSelectors.length?n.notSelectors.map(i=>HU(i)):[];return e.concat(...t)}function SD(n){return n?zd.parse(n).map(zU):[]}var ua=(function(n){return n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule",n})(ua||{});var Hy;function WU(n){return ZU(YU(n.nodes).join("")+`[${n.meaning}]`)}function GU(n){return n.id||h3(n)}function h3(n){let e=new iE,t=n.nodes.map(i=>i.visit(e,null));return m3(t.join(""),n.meaning)}var zy=class{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(i=>i.visit(this)).join(", ")}]`}visitIcu(e,t){let i=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expression}, ${e.type}, ${i.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,t){return`<ph block name="${e.startName}">${e.children.map(i=>i.visit(this)).join(", ")}</ph name="${e.closeName}">`}},QU=new zy;function YU(n){return n.map(e=>e.visit(QU,null))}var iE=class extends zy{visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.type}, ${t.join(", ")}}`}};function ZU(n){Hy??=new TextEncoder;let e=[...Hy.encode(n)],t=KU(e,ED.Big),i=e.length*8,r=new Uint32Array(80),o=1732584193,s=4023233417,a=2562383102,l=271733878,c=3285377520;t[i>>5]|=128<<24-i%32,t[(i+64>>9<<4)+15]=i;for(let d=0;d<t.length;d+=16){let m=o,_=s,y=a,w=l,T=c;for(let I=0;I<80;I++){I<16?r[I]=t[d+I]:r[I]=NS(r[I-3]^r[I-8]^r[I-14]^r[I-16],1);let M=XU(I,s,a,l),U=M[0],W=M[1],N=[NS(o,5),U,c,W,r[I]].reduce(Dd);c=l,l=a,a=NS(s,30),s=o,o=N}o=Dd(o,m),s=Dd(s,_),a=Dd(a,y),l=Dd(l,w),c=Dd(c,T)}return Gh(o)+Gh(s)+Gh(a)+Gh(l)+Gh(c)}function Gh(n){return(n>>>0).toString(16).padStart(8,"0")}function XU(n,e,t,i){return n<20?[e&t|~e&i,1518500249]:n<40?[e^t^i,1859775393]:n<60?[e&t|e&i|t&i,2400959708]:[e^t^i,3395469782]}function AN(n){Hy??=new TextEncoder;let e=Hy.encode(n),t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=TN(t,e.length,0),r=TN(t,e.length,102072);return i==0&&(r==0||r==1)&&(i=i^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(i))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function m3(n,e=""){let t=AN(n);return e&&(t=BigInt.asUintN(64,t<<BigInt(1))|t>>BigInt(63)&BigInt(1),t+=AN(e)),BigInt.asUintN(63,t).toString()}function TN(n,e,t){let i=2654435769,r=2654435769,o=0,s=e-12;for(;o<=s;o+=12){i+=n.getUint32(o,!0),r+=n.getUint32(o+4,!0),t+=n.getUint32(o+8,!0);let l=IN(i,r,t);i=l[0],r=l[1],t=l[2]}let a=e-o;return t+=e,a>=4?(i+=n.getUint32(o,!0),o+=4,a>=8?(r+=n.getUint32(o,!0),o+=4,a>=9&&(t+=n.getUint8(o++)<<8),a>=10&&(t+=n.getUint8(o++)<<16),a===11&&(t+=n.getUint8(o++)<<24)):(a>=5&&(r+=n.getUint8(o++)),a>=6&&(r+=n.getUint8(o++)<<8),a===7&&(r+=n.getUint8(o++)<<16))):(a>=1&&(i+=n.getUint8(o++)),a>=2&&(i+=n.getUint8(o++)<<8),a===3&&(i+=n.getUint8(o++)<<16)),IN(i,r,t)[2]}function IN(n,e,t){return n-=e,n-=t,n^=t>>>13,e-=t,e-=n,e^=n<<8,t-=n,t-=e,t^=e>>>13,n-=e,n-=t,n^=t>>>12,e-=t,e-=n,e^=n<<16,t-=n,t-=e,t^=e>>>5,n-=e,n-=t,n^=t>>>3,e-=t,e-=n,e^=n<<10,t-=n,t-=e,t^=e>>>15,[n,e,t]}var ED=(function(n){return n[n.Little=0]="Little",n[n.Big=1]="Big",n})(ED||{});function Dd(n,e){return JU(n,e)[1]}function JU(n,e){let t=(n&65535)+(e&65535),i=(n>>>16)+(e>>>16)+(t>>>16);return[i>>>16,i<<16|t&65535]}function NS(n,e){return n<<e|n>>>32-e}function KU(n,e){let t=n.length+3>>>2,i=[];for(let r=0;r<t;r++)i[r]=e$(n,r*4,e);return i}function MN(n,e){return e>=n.length?0:n[e]}function e$(n,e,t){let i=0;if(t===ED.Big)for(let r=0;r<4;r++)i+=MN(n,e+r)<<24-8*r;else for(let r=0;r<4;r++)i+=MN(n,e+r)<<8*r;return i}var g3=(function(n){return n[n.None=0]="None",n[n.Const=1]="Const",n})(g3||{}),Wy=class{modifiers;constructor(e=g3.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Ca=(function(n){return n[n.Dynamic=0]="Dynamic",n[n.Bool=1]="Bool",n[n.String=2]="String",n[n.Int=3]="Int",n[n.Number=4]="Number",n[n.Function=5]="Function",n[n.Inferred=6]="Inferred",n[n.None=7]="None",n})(Ca||{}),bs=class extends Wy{name;constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}},no=class extends Wy{value;typeParams;constructor(e,t,i=null){super(t),this.value=e,this.typeParams=i}visitType(e,t){return e.visitExpressionType(this,t)}};var ig=new bs(Ca.Dynamic),Tr=new bs(Ca.Inferred),t$=new bs(Ca.Bool),W_e=new bs(Ca.Int),DD=new bs(Ca.Number),AD=new bs(Ca.String),G_e=new bs(Ca.Function),Cs=new bs(Ca.None),um=(function(n){return n[n.Minus=0]="Minus",n[n.Plus=1]="Plus",n})(um||{}),Z=(function(n){return n[n.Equals=0]="Equals",n[n.NotEquals=1]="NotEquals",n[n.Assign=2]="Assign",n[n.Identical=3]="Identical",n[n.NotIdentical=4]="NotIdentical",n[n.Minus=5]="Minus",n[n.Plus=6]="Plus",n[n.Divide=7]="Divide",n[n.Multiply=8]="Multiply",n[n.Modulo=9]="Modulo",n[n.And=10]="And",n[n.Or=11]="Or",n[n.BitwiseOr=12]="BitwiseOr",n[n.BitwiseAnd=13]="BitwiseAnd",n[n.Lower=14]="Lower",n[n.LowerEquals=15]="LowerEquals",n[n.Bigger=16]="Bigger",n[n.BiggerEquals=17]="BiggerEquals",n[n.NullishCoalesce=18]="NullishCoalesce",n[n.Exponentiation=19]="Exponentiation",n[n.In=20]="In",n[n.AdditionAssignment=21]="AdditionAssignment",n[n.SubtractionAssignment=22]="SubtractionAssignment",n[n.MultiplicationAssignment=23]="MultiplicationAssignment",n[n.DivisionAssignment=24]="DivisionAssignment",n[n.RemainderAssignment=25]="RemainderAssignment",n[n.ExponentiationAssignment=26]="ExponentiationAssignment",n[n.AndAssignment=27]="AndAssignment",n[n.OrAssignment=28]="OrAssignment",n[n.NullishCoalesceAssignment=29]="NullishCoalesceAssignment",n})(Z||{});function n$(n,e){return n==null||e==null?n==e:n.isEquivalent(e)}function v3(n,e,t){let i=n.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function kr(n,e){return v3(n,e,(t,i)=>t.isEquivalent(i))}var bt=class{type;sourceSpan;constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new Rr(this,e,null,t)}key(e,t,i){return new va(this,e,t,i)}callFn(e,t,i){return new rr(this,e,null,t,i)}instantiate(e,t,i){return new pm(this,e,t,i)}conditional(e,t=null,i){return new xs(this,e,t,null,i)}equals(e,t){return new nt(Z.Equals,this,e,null,t)}notEquals(e,t){return new nt(Z.NotEquals,this,e,null,t)}identical(e,t){return new nt(Z.Identical,this,e,null,t)}notIdentical(e,t){return new nt(Z.NotIdentical,this,e,null,t)}minus(e,t){return new nt(Z.Minus,this,e,null,t)}plus(e,t){return new nt(Z.Plus,this,e,null,t)}divide(e,t){return new nt(Z.Divide,this,e,null,t)}multiply(e,t){return new nt(Z.Multiply,this,e,null,t)}modulo(e,t){return new nt(Z.Modulo,this,e,null,t)}power(e,t){return new nt(Z.Exponentiation,this,e,null,t)}and(e,t){return new nt(Z.And,this,e,null,t)}bitwiseOr(e,t){return new nt(Z.BitwiseOr,this,e,null,t)}bitwiseAnd(e,t){return new nt(Z.BitwiseAnd,this,e,null,t)}or(e,t){return new nt(Z.Or,this,e,null,t)}lower(e,t){return new nt(Z.Lower,this,e,null,t)}lowerEquals(e,t){return new nt(Z.LowerEquals,this,e,null,t)}bigger(e,t){return new nt(Z.Bigger,this,e,null,t)}biggerEquals(e,t){return new nt(Z.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(a$,e)}nullishCoalesce(e,t){return new nt(Z.NullishCoalesce,this,e,null,t)}toStmt(){return new ro(this,null)}},io=class n extends bt{name;constructor(e,t,i){super(t,i),this.name=e}isEquivalent(e){return e instanceof n&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}clone(){return new n(this.name,this.type,this.sourceSpan)}set(e){return new nt(Z.Assign,this,e,null,this.sourceSpan)}},Wd=class n extends bt{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},Gy=class n extends bt{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitVoidExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},Xe=class n extends bt{node;constructor(e,t,i){super(t,i),this.node=e}isEquivalent(e){return e instanceof n&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}clone(){return new n(this.node,this.type,this.sourceSpan)}},rr=class n extends bt{fn;args;pure;constructor(e,t,i,r,o=!1){super(i,r),this.fn=e,this.args=t,this.pure=o}get receiver(){return this.fn}isEquivalent(e){return e instanceof n&&this.fn.isEquivalent(e.fn)&&kr(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}clone(){return new n(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},dm=class n extends bt{tag;template;constructor(e,t,i,r){super(i,r),this.tag=e,this.template=t}isEquivalent(e){return e instanceof n&&this.tag.isEquivalent(e.tag)&&this.template.isEquivalent(e.template)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateLiteralExpr(this,t)}clone(){return new n(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},pm=class n extends bt{classExpr;args;constructor(e,t,i,r){super(i,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof n&&this.classExpr.isEquivalent(e.classExpr)&&kr(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}clone(){return new n(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},hi=class n extends bt{value;constructor(e,t,i){super(t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}clone(){return new n(this.value,this.type,this.sourceSpan)}},fm=class n extends bt{elements;expressions;constructor(e,t,i){super(null,i),this.elements=e,this.expressions=t}isEquivalent(e){return e instanceof n&&v3(this.elements,e.elements,(t,i)=>t.text===i.text)&&kr(this.expressions,e.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTemplateLiteralExpr(this,t)}clone(){return new n(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},Qy=class n extends bt{text;rawText;constructor(e,t,i){super(AD,t),this.text=e,this.rawText=i??rE(Oy(e))}visitExpression(e,t){return e.visitTemplateLiteralElementExpr(this,t)}isEquivalent(e){return e instanceof n&&e.text===this.text&&e.rawText===this.rawText}isConstant(){return!0}clone(){return new n(this.text,this.sourceSpan,this.rawText)}},xc=class{text;sourceSpan;constructor(e,t){this.text=e,this.sourceSpan=t}},jd=class{text;sourceSpan;associatedMessage;constructor(e,t,i){this.text=e,this.sourceSpan=t,this.associatedMessage=i}},i$="|",kN="@@",r$="\u241F",Yy=class n extends bt{metaBlock;messageParts;placeHolderNames;expressions;constructor(e,t,i,r,o){super(AD,o),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=i,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}clone(){return new n(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${i$}${e}`),this.metaBlock.customId&&(e=`${e}${kN}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(t=>{e=`${e}${r$}${t}`}),RN(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let t=this.placeHolderNames[e-1],i=this.messageParts[e],r=t.text;return t.associatedMessage?.legacyIds.length===0&&(r+=`${kN}${m3(t.associatedMessage.messageString,t.associatedMessage.meaning)}`),RN(r,i.text,this.getMessagePartSourceSpan(e))}},Oy=n=>n.replace(/\\/g,"\\\\"),o$=n=>n.replace(/^:/,"\\:"),s$=n=>n.replace(/:/g,"\\:"),rE=n=>n.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function RN(n,e,t){return n===""?{cooked:e,raw:rE(o$(Oy(e))),range:t}:{cooked:`:${n}:${e}`,raw:rE(`:${s$(Oy(n))}:${Oy(e)}`),range:t}}var Ic=class n extends bt{value;typeParams;constructor(e,t,i=null,r){super(t,r),this.value=e,this.typeParams=i}isEquivalent(e){return e instanceof n&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}clone(){return new n(this.value,this.type,this.typeParams,this.sourceSpan)}};var xs=class n extends bt{condition;falseCase;trueCase;constructor(e,t,i=null,r,o){super(r||t.type,o),this.condition=e,this.falseCase=i,this.trueCase=t}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&n$(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}clone(){return new n(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}};var hm=class n extends bt{condition;constructor(e,t){super(t$,t),this.condition=e}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}clone(){return new n(this.condition.clone(),this.sourceSpan)}},zn=class n{name;type;constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}clone(){return new n(this.name,this.type)}},cl=class n extends bt{params;statements;name;constructor(e,t,i,r,o){super(i,r),this.params=e,this.statements=t,this.name=o}isEquivalent(e){return(e instanceof n||e instanceof mm)&&kr(this.params,e.params)&&kr(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new mm(e,this.params,this.statements,this.type,t,this.sourceSpan)}clone(){return new n(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},Mc=class n extends bt{params;body;constructor(e,t,i,r){super(i,r),this.params=e,this.body=t}isEquivalent(e){return!(e instanceof n)||!kr(this.params,e.params)?!1:this.body instanceof bt&&e.body instanceof bt?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?kr(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,t){return e.visitArrowFunctionExpr(this,t)}clone(){return new n(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,t){return new kn(e,this,Tr,t,this.sourceSpan)}},kc=class n extends bt{operator;expr;parens;constructor(e,t,i,r,o=!0){super(i||DD,r),this.operator=e,this.expr=t,this.parens=o}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},Fo=class n extends bt{expr;constructor(e,t,i){super(t,i),this.expr=e}visitExpression(e,t){return e.visitParenthesizedExpr(this,t)}isEquivalent(e){return e instanceof n&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr.clone())}},nt=class n extends bt{operator;rhs;lhs;constructor(e,t,i,r,o){super(r||t.type,o),this.operator=e,this.rhs=i,this.lhs=t}isEquivalent(e){return e instanceof n&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}clone(){return new n(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let e=this.operator;return e===Z.Assign||e===Z.AdditionAssignment||e===Z.SubtractionAssignment||e===Z.MultiplicationAssignment||e===Z.DivisionAssignment||e===Z.RemainderAssignment||e===Z.ExponentiationAssignment||e===Z.AndAssignment||e===Z.OrAssignment||e===Z.NullishCoalesceAssignment}},Rr=class n extends bt{receiver;name;constructor(e,t,i,r){super(i,r),this.receiver=e,this.name=t}get index(){return this.name}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new nt(Z.Assign,this.receiver.prop(this.name),e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},va=class n extends bt{receiver;index;constructor(e,t,i,r){super(i,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof n&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new nt(Z.Assign,this.receiver.key(this.index),e,null,this.sourceSpan)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},Lo=class n extends bt{entries;constructor(e,t,i){super(t,i),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof n&&kr(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}clone(){return new n(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},Gd=class n{key;value;quoted;constructor(e,t,i){this.key=e,this.value=t,this.quoted=i}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new n(this.key,this.value.clone(),this.quoted)}},ws=class n extends bt{entries;valueType=null;constructor(e,t,i){super(t,i),this.entries=e,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof n&&kr(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}clone(){let e=this.entries.map(t=>t.clone());return new n(e,this.type,this.sourceSpan)}};var Qd=new hi(null,null,null),a$=new hi(null,Tr,null),di=(function(n){return n[n.None=0]="None",n[n.Final=1]="Final",n[n.Private=2]="Private",n[n.Exported=4]="Exported",n[n.Static=8]="Static",n})(di||{}),oE=class{text;multiline;trailingNewline;constructor(e,t,i){this.text=e,this.multiline=t,this.trailingNewline=i}toString(){return this.multiline?` ${this.text} `:this.text}},Zy=class extends oE{tags;constructor(e){super("",!0,!0),this.tags=e}toString(){return p$(this.tags)}},Rc=class{modifiers;sourceSpan;leadingComments;constructor(e=di.None,t=null,i){this.modifiers=e,this.sourceSpan=t,this.leadingComments=i}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},kn=class n extends Rc{name;value;type;constructor(e,t,i,r,o,s){super(r,o,s),this.name=e,this.value=t,this.type=i||t&&t.type||null}isEquivalent(e){return e instanceof n&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}},mm=class n extends Rc{name;params;statements;type;constructor(e,t,i,r,o,s,a){super(o,s,a),this.name=e,this.params=t,this.statements=i,this.type=r||null}isEquivalent(e){return e instanceof n&&kr(this.params,e.params)&&kr(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}},ro=class n extends Rc{expr;constructor(e,t,i){super(di.None,t,i),this.expr=e}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}},pi=class n extends Rc{value;constructor(e,t=null,i){super(di.None,t,i),this.value=e}isEquivalent(e){return e instanceof n&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}},Xy=class n extends Rc{condition;trueCase;falseCase;constructor(e,t,i=[],r,o){super(di.None,r,o),this.condition=e,this.trueCase=t,this.falseCase=i}isEquivalent(e){return e instanceof n&&this.condition.isEquivalent(e.condition)&&kr(this.trueCase,e.trueCase)&&kr(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}};function l$(n=[]){return new Zy(n)}function We(n,e,t){return new io(n,e,t)}function ue(n,e=null,t){return new Ic(n,null,e,t)}function fi(n,e,t){return new no(n,e,t)}function rg(n){return new Wd(n)}function mt(n,e,t){return new Lo(n,e,t)}function Ui(n,e=null){return new ws(n.map(t=>new Gd(t.key,t.value,t.quoted)),e,null)}function c$(n,e){return new hm(n,e)}function dl(n,e,t,i,r){return new cl(n,e,t,i,r)}function Bo(n,e,t,i){return new Mc(n,e,t,i)}function n1(n,e,t,i,r){return new Xy(n,e,t,i,r)}function u$(n,e,t,i){return new dm(n,e,t,i)}function $(n,e,t){return new hi(n,e,t)}function d$(n,e,t,i,r){return new Yy(n,e,t,i,r)}function NN(n){let e="";if(n.tagName&&(e+=` @${n.tagName}`),n.text){if(n.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+n.text.replace(/@/g,"\\@")}return e}function p$(n){if(n.length===0)return"";if(n.length===1&&n[0].tagName&&!n[0].text)return`*${NN(n[0])} `;let e=`*
`;for(let t of n)e+=" *",e+=NN(t).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var f$="_c",PN=We("<unknown>"),h$={},m$=50,Jy=class n extends bt{resolved;original;shared=!1;constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===h$?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},Ky=class{isClosureCompilerEnabled;statements=[];literals=new Map;literalFactories=new Map;sharedConstants=new Map;_claimedNames=new Map;nextNameIndex=0;constructor(e=!1){this.isClosureCompilerEnabled=e}getConstLiteral(e,t){if(e instanceof hi&&!ON(e)||e instanceof Jy)return e;let i=qd.INSTANCE.keyOf(e),r=this.literals.get(i),o=!1;if(r||(r=new Jy(e),this.literals.set(i,r),o=!0),!o&&!r.shared||o&&t){let s=this.freshName(),a,l;this.isClosureCompilerEnabled&&ON(e)?(a=new cl([],[new pi(e)]),l=We(s).callFn([])):(a=e,l=We(s)),this.statements.push(new kn(s,a,Tr,di.Final)),r.fixup(l)}return r}getSharedConstant(e,t){let i=e.keyOf(t);if(!this.sharedConstants.has(i)){let r=this.freshName();this.sharedConstants.set(i,We(r)),this.statements.push(e.toSharedConstantDeclaration(r,t))}return this.sharedConstants.get(i)}getLiteralFactory(e){if(e instanceof Lo){let t=e.entries.map(r=>r.isConstant()?r:PN),i=qd.INSTANCE.keyOf(mt(t));return this._getLiteralFactory(i,e.entries,r=>mt(r))}else{let t=Ui(e.entries.map(r=>({key:r.key,value:r.value.isConstant()?r.value:PN,quoted:r.quoted}))),i=qd.INSTANCE.keyOf(t);return this._getLiteralFactory(i,e.entries.map(r=>r.value),r=>Ui(r.map((o,s)=>({key:e.entries[s].key,value:o,quoted:e.entries[s].quoted}))))}}getSharedFunctionReference(e,t,i=!0){let r=e instanceof Mc;for(let s of this.statements)if(r&&s instanceof kn&&s.value?.isEquivalent(e)||!r&&s instanceof mm&&e instanceof cl&&e.isEquivalent(s))return We(s.name);let o=i?this.uniqueName(t):t;return this.statements.push(e instanceof cl?e.toDeclStmt(o,di.Final):new kn(o,e,Tr,di.Final,e.sourceSpan)),We(o)}_getLiteralFactory(e,t,i){let r=this.literalFactories.get(e),o=t.filter(s=>!s.isConstant());if(!r){let s=t.map((d,m)=>d.isConstant()?this.getConstLiteral(d,!0):We(`a${m}`)),a=s.filter(g$).map(d=>new zn(d.name,ig)),l=Bo(a,i(s),Tr),c=this.freshName();this.statements.push(new kn(c,l,Tr,di.Final)),r=We(c),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:o}}uniqueName(e,t=!0){let i=this._claimedNames.get(e)??0,r=i===0&&!t?`${e}`:`${e}${i}`;return this._claimedNames.set(e,i+1),r}freshName(){return this.uniqueName(f$)}},qd=class n{static INSTANCE=new n;keyOf(e){if(e instanceof hi&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof hi)return String(e.value);if(e instanceof Lo){let t=[];for(let i of e.entries)t.push(this.keyOf(i));return`[${t.join(",")}]`}else if(e instanceof ws){let t=[];for(let i of e.entries){let r=i.key;i.quoted&&(r=`"${r}"`),t.push(r+":"+this.keyOf(i.value))}return`{${t.join(",")}}`}else{if(e instanceof Ic)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof io)return`read(${e.name})`;if(e instanceof Wd)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function g$(n){return n instanceof io}function ON(n){return n instanceof hi&&typeof n.value=="string"&&n.value.length>=m$}var V="@angular/core",P=(()=>{class n{static NEW_METHOD="factory";static TRANSFORM_METHOD="transform";static PATCH_DEPS="patchedDeps";static core={name:null,moduleName:V};static namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:V};static namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:V};static namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:V};static element={name:"\u0275\u0275element",moduleName:V};static elementStart={name:"\u0275\u0275elementStart",moduleName:V};static elementEnd={name:"\u0275\u0275elementEnd",moduleName:V};static domElement={name:"\u0275\u0275domElement",moduleName:V};static domElementStart={name:"\u0275\u0275domElementStart",moduleName:V};static domElementEnd={name:"\u0275\u0275domElementEnd",moduleName:V};static domElementContainer={name:"\u0275\u0275domElementContainer",moduleName:V};static domElementContainerStart={name:"\u0275\u0275domElementContainerStart",moduleName:V};static domElementContainerEnd={name:"\u0275\u0275domElementContainerEnd",moduleName:V};static domTemplate={name:"\u0275\u0275domTemplate",moduleName:V};static domListener={name:"\u0275\u0275domListener",moduleName:V};static advance={name:"\u0275\u0275advance",moduleName:V};static syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:V};static syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:V};static attribute={name:"\u0275\u0275attribute",moduleName:V};static classProp={name:"\u0275\u0275classProp",moduleName:V};static elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:V};static elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:V};static elementContainer={name:"\u0275\u0275elementContainer",moduleName:V};static styleMap={name:"\u0275\u0275styleMap",moduleName:V};static classMap={name:"\u0275\u0275classMap",moduleName:V};static styleProp={name:"\u0275\u0275styleProp",moduleName:V};static interpolate={name:"\u0275\u0275interpolate",moduleName:V};static interpolate1={name:"\u0275\u0275interpolate1",moduleName:V};static interpolate2={name:"\u0275\u0275interpolate2",moduleName:V};static interpolate3={name:"\u0275\u0275interpolate3",moduleName:V};static interpolate4={name:"\u0275\u0275interpolate4",moduleName:V};static interpolate5={name:"\u0275\u0275interpolate5",moduleName:V};static interpolate6={name:"\u0275\u0275interpolate6",moduleName:V};static interpolate7={name:"\u0275\u0275interpolate7",moduleName:V};static interpolate8={name:"\u0275\u0275interpolate8",moduleName:V};static interpolateV={name:"\u0275\u0275interpolateV",moduleName:V};static nextContext={name:"\u0275\u0275nextContext",moduleName:V};static resetView={name:"\u0275\u0275resetView",moduleName:V};static templateCreate={name:"\u0275\u0275template",moduleName:V};static defer={name:"\u0275\u0275defer",moduleName:V};static deferWhen={name:"\u0275\u0275deferWhen",moduleName:V};static deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:V};static deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:V};static deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:V};static deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:V};static deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:V};static deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:V};static deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:V};static deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:V};static deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:V};static deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:V};static deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:V};static deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:V};static deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:V};static deferHydrateWhen={name:"\u0275\u0275deferHydrateWhen",moduleName:V};static deferHydrateNever={name:"\u0275\u0275deferHydrateNever",moduleName:V};static deferHydrateOnIdle={name:"\u0275\u0275deferHydrateOnIdle",moduleName:V};static deferHydrateOnImmediate={name:"\u0275\u0275deferHydrateOnImmediate",moduleName:V};static deferHydrateOnTimer={name:"\u0275\u0275deferHydrateOnTimer",moduleName:V};static deferHydrateOnHover={name:"\u0275\u0275deferHydrateOnHover",moduleName:V};static deferHydrateOnInteraction={name:"\u0275\u0275deferHydrateOnInteraction",moduleName:V};static deferHydrateOnViewport={name:"\u0275\u0275deferHydrateOnViewport",moduleName:V};static deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:V};static conditionalCreate={name:"\u0275\u0275conditionalCreate",moduleName:V};static conditionalBranchCreate={name:"\u0275\u0275conditionalBranchCreate",moduleName:V};static conditional={name:"\u0275\u0275conditional",moduleName:V};static repeater={name:"\u0275\u0275repeater",moduleName:V};static repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:V};static repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:V};static repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:V};static componentInstance={name:"\u0275\u0275componentInstance",moduleName:V};static text={name:"\u0275\u0275text",moduleName:V};static enableBindings={name:"\u0275\u0275enableBindings",moduleName:V};static disableBindings={name:"\u0275\u0275disableBindings",moduleName:V};static getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:V};static textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:V};static textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:V};static textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:V};static textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:V};static textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:V};static textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:V};static textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:V};static textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:V};static textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:V};static textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:V};static restoreView={name:"\u0275\u0275restoreView",moduleName:V};static pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:V};static pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:V};static pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:V};static pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:V};static pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:V};static pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:V};static pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:V};static pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:V};static pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:V};static pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:V};static pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:V};static pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:V};static pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:V};static pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:V};static pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:V};static domProperty={name:"\u0275\u0275domProperty",moduleName:V};static ariaProperty={name:"\u0275\u0275ariaProperty",moduleName:V};static property={name:"\u0275\u0275property",moduleName:V};static animationEnterListener={name:"\u0275\u0275animateEnterListener",moduleName:V};static animationLeaveListener={name:"\u0275\u0275animateLeaveListener",moduleName:V};static animationEnter={name:"\u0275\u0275animateEnter",moduleName:V};static animationLeave={name:"\u0275\u0275animateLeave",moduleName:V};static i18n={name:"\u0275\u0275i18n",moduleName:V};static i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:V};static i18nExp={name:"\u0275\u0275i18nExp",moduleName:V};static i18nStart={name:"\u0275\u0275i18nStart",moduleName:V};static i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:V};static i18nApply={name:"\u0275\u0275i18nApply",moduleName:V};static i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:V};static pipe={name:"\u0275\u0275pipe",moduleName:V};static projection={name:"\u0275\u0275projection",moduleName:V};static projectionDef={name:"\u0275\u0275projectionDef",moduleName:V};static reference={name:"\u0275\u0275reference",moduleName:V};static inject={name:"\u0275\u0275inject",moduleName:V};static injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:V};static directiveInject={name:"\u0275\u0275directiveInject",moduleName:V};static invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:V};static invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:V};static templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:V};static forwardRef={name:"forwardRef",moduleName:V};static resolveForwardRef={name:"resolveForwardRef",moduleName:V};static replaceMetadata={name:"\u0275\u0275replaceMetadata",moduleName:V};static getReplaceMetadataURL={name:"\u0275\u0275getReplaceMetadataURL",moduleName:V};static \u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:V};static declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:V};static InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:V};static resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:V};static resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:V};static resolveBody={name:"\u0275\u0275resolveBody",moduleName:V};static getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:V};static defineComponent={name:"\u0275\u0275defineComponent",moduleName:V};static declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:V};static setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:V};static ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:V};static ViewEncapsulation={name:"ViewEncapsulation",moduleName:V};static ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:V};static FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:V};static declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:V};static FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:V};static defineDirective={name:"\u0275\u0275defineDirective",moduleName:V};static declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:V};static DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:V};static InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:V};static InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:V};static defineInjector={name:"\u0275\u0275defineInjector",moduleName:V};static declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:V};static NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:V};static ModuleWithProviders={name:"ModuleWithProviders",moduleName:V};static defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:V};static declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:V};static setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:V};static registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:V};static PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:V};static definePipe={name:"\u0275\u0275definePipe",moduleName:V};static declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:V};static declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:V};static declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:V};static setClassMetadata={name:"\u0275setClassMetadata",moduleName:V};static setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:V};static setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:V};static queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:V};static viewQuery={name:"\u0275\u0275viewQuery",moduleName:V};static loadQuery={name:"\u0275\u0275loadQuery",moduleName:V};static contentQuery={name:"\u0275\u0275contentQuery",moduleName:V};static viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:V};static contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:V};static queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:V};static twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:V};static twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:V};static twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:V};static declareLet={name:"\u0275\u0275declareLet",moduleName:V};static storeLet={name:"\u0275\u0275storeLet",moduleName:V};static readContextLet={name:"\u0275\u0275readContextLet",moduleName:V};static attachSourceLocations={name:"\u0275\u0275attachSourceLocations",moduleName:V};static NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:V};static InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:V};static CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:V};static ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:V};static HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:V};static ExternalStylesFeature={name:"\u0275\u0275ExternalStylesFeature",moduleName:V};static AnimationsFeature={name:"\u0275\u0275AnimationsFeature",moduleName:V};static listener={name:"\u0275\u0275listener",moduleName:V};static getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:V};static sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:V};static sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:V};static sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:V};static sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:V};static sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:V};static sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:V};static trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:V};static trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:V};static validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:V};static InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:V};static UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:V};static unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:V};static assertType={name:"\u0275assertType",moduleName:V}}return n})(),v$=/-+([a-z0-9])/g;function y$(n){return n.replace(v$,(...e)=>e[1].toUpperCase())}function _$(n,e){return y3(n,":",e)}function b$(n,e){return y3(n,".",e)}function y3(n,e,t){let i=n.indexOf(e);return i==-1?t:[n.slice(0,i).trim(),n.slice(i+1).trim()]}function C$(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i>=55296&&i<=56319&&n.length>t+1){let r=n.charCodeAt(t+1);r>=56320&&r<=57343&&(t++,i=(i-55296<<10)+r-56320+65536)}i<=127?e.push(i):i<=2047?e.push(i>>6&31|192,i&63|128):i<=65535?e.push(i>>12|224,i>>6&63|128,i&63|128):i<=2097151&&e.push(i>>18&7|240,i>>12&63|128,i>>6&63|128,i&63|128)}return e}function _3(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(_3).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;if(!n.toString)return"object";let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}var sE=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},im=globalThis,x$=/^([1-9]|1[0-8])\./;function b3(n){return n.startsWith("0.")?!0:!x$.test(n)}var w$=3,S$="# sourceMappingURL=data:application/json;base64,",aE=class{file;sourcesContent=new Map;lines=[];lastCol0=0;hasMappings=!1;constructor(e=null){this.file=e}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,i,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(t!=null&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(i==null||r==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:i,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,t=[],i=[];Array.from(this.sourcesContent.keys()).forEach((c,d)=>{e.set(c,d),t.push(c),i.push(this.sourcesContent.get(c)||null)});let r="",o=0,s=0,a=0,l=0;return this.lines.forEach(c=>{o=0,r+=c.map(d=>{let m=_y(d.col0-o);return o=d.col0,d.sourceUrl!=null&&(m+=_y(e.get(d.sourceUrl)-s),s=e.get(d.sourceUrl),m+=_y(d.sourceLine0-a),a=d.sourceLine0,m+=_y(d.sourceCol0-l),l=d.sourceCol0),m}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:w$,sourceRoot:"",sources:t,sourcesContent:i,mappings:r}}toJsComment(){return this.hasMappings?"//"+S$+E$(JSON.stringify(this,null,0)):""}};function E$(n){let e="",t=C$(n);for(let i=0;i<t.length;){let r=t[i++],o=i<t.length?t[i++]:null,s=i<t.length?t[i++]:null;e+=Jh(r>>2),e+=Jh((r&3)<<4|(o===null?0:o>>4)),e+=o===null?"=":Jh((o&15)<<2|(s===null?0:s>>6)),e+=o===null||s===null?"=":Jh(s&63)}return e}function _y(n){n=n<0?(-n<<1)+1:n<<1;let e="";do{let t=n&31;n=n>>5,n>0&&(t=t|32),e+=Jh(t)}while(n>0);return e}var D$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Jh(n){if(n<0||n>=64)throw new Error("Can only encode value in the range [0, 63]");return D$[n]}var A$=/'|\\|\n|\r|\$/g,T$=/^[$A-Z_][0-9A-Z_$]*$/i,lE="  ",e_=class{indent;partsLength=0;parts=[];srcSpans=[];constructor(e){this.indent=e}},I$=new Map([[Z.And,"&&"],[Z.Bigger,">"],[Z.BiggerEquals,">="],[Z.BitwiseOr,"|"],[Z.BitwiseAnd,"&"],[Z.Divide,"/"],[Z.Assign,"="],[Z.Equals,"=="],[Z.Identical,"==="],[Z.Lower,"<"],[Z.LowerEquals,"<="],[Z.Minus,"-"],[Z.Modulo,"%"],[Z.Exponentiation,"**"],[Z.Multiply,"*"],[Z.NotEquals,"!="],[Z.NotIdentical,"!=="],[Z.NullishCoalesce,"??"],[Z.Or,"||"],[Z.Plus,"+"],[Z.In,"in"],[Z.AdditionAssignment,"+="],[Z.SubtractionAssignment,"-="],[Z.MultiplicationAssignment,"*="],[Z.DivisionAssignment,"/="],[Z.RemainderAssignment,"%="],[Z.ExponentiationAssignment,"**="],[Z.AndAssignment,"&&="],[Z.OrAssignment,"||="],[Z.NullishCoalesceAssignment,"??="]]),cE=class n{_indent;static createRoot(){return new n(0)}_lines;constructor(e){this._indent=e,this._lines=[new e_(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*lE.length+this._currentLine.partsLength}print(e,t,i=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),i&&this._lines.push(new e_(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?FN(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,t=0){let i=new aE(e),r=!1,o=()=>{r||(i.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let s=0;s<t;s++)i.addLine(),o();return this.sourceLines.forEach((s,a)=>{i.addLine();let l=s.srcSpans,c=s.parts,d=s.indent*lE.length,m=0;for(;m<l.length&&!l[m];)d+=c[m].length,m++;for(m<l.length&&a===0&&d===0?r=!0:o();m<l.length;){let _=l[m],y=_.start.file,w=_.start.line,T=_.start.col;for(i.addSource(y.url,y.content).addMapping(d,y.url,w,T),d+=c[m].length,m++;m<l.length&&(_===l[m]||!l[m]);)d+=c[m].length,m++}}),i}spanOf(e,t){let i=this._lines[e];if(i){let r=t-FN(i.indent).length;for(let o=0;o<i.parts.length;o++){let s=i.parts[o];if(s.length>r)return i.srcSpans[o];r-=s.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},uE=class{_escapeDollarInStrings;lastIfCondition=null;constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(e.leadingComments!==void 0)for(let i of e.leadingComments)i instanceof Zy?t.print(e,`/*${i.toString()}*/`,i.trailingNewline):i.multiline?t.print(e,`/* ${i.text} */`,i.trailingNewline):i.text.split(`
`).forEach(r=>{t.println(e,`// ${r}`)})}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,t),this.lastIfCondition=null,t.print(e,") {");let i=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!i?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),i&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitInvokeFunctionExpr(e,t){let i=e.fn instanceof Mc;return i&&t.print(e.fn,"("),e.fn.visitExpression(this,t),i&&t.print(e.fn,")"),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,t){return e.tag.visitExpression(this,t),e.template.visitExpression(this,t),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){t.print(e,e.rawText)}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitVoidExpr(e,t){t.print(e,"void "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){return t.print(e,e.name),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){let i=e.value;return typeof i=="string"?t.print(e,vc(i,this._escapeDollarInStrings)):t.print(e,`${i}`),null}visitLocalizedString(e,t){let i=e.serializeI18nHead();t.print(e,"$localize `"+i.raw);for(let r=1;r<e.messageParts.length;r++)t.print(e,"${"),e.expressions[r-1].visitExpression(this,t),t.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitDynamicImportExpr(e,t){t.print(e,`import(${e.url})`)}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let i;switch(e.operator){case um.Plus:i="+";break;case um.Minus:i="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let r=e!==this.lastIfCondition;return r&&t.print(e,"("),t.print(e,i),e.expr.visitExpression(this,t),r&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let i=I$.get(e.operator);if(!i)throw new Error(`Unknown operator ${e.operator}`);let r=e!==this.lastIfCondition;return r&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${i} `),e.rhs.visitExpression(this,t),r&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(i=>{t.print(e,`${vc(i.key,this._escapeDollarInStrings,i.quoted)}:`),i.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitParenthesizedExpr(e,t){e.expr.visitExpression(this,t)}visitAllExpressions(e,t,i){this.visitAllObjects(r=>r.visitExpression(this,t),e,t,i)}visitAllObjects(e,t,i,r){let o=!1;for(let s=0;s<t.length;s++)s>0&&(i.lineLength()>80?(i.print(null,r,!0),o||(i.incIndent(),i.incIndent(),o=!0)):i.print(null,r,!1)),e(t[s]);o&&(i.decIndent(),i.decIndent())}visitAllStatements(e,t){e.forEach(i=>i.visitStatement(this,t))}};function vc(n,e,t=!0){if(n==null)return null;let i=n.replace(A$,(...o)=>o[0]=="$"?e?"\\$":"$":o[0]==`
`?"\\n":o[0]=="\r"?"\\r":`\\${o[0]}`);return t||!T$.test(i)?`'${i}'`:i}function FN(n){let e="";for(let t=0;t<n;t++)e+=lE;return e}function i1(n,e){if(e===0)return fi(n);let t=[];for(let i=0;i<e;i++)t.push(ig);return fi(n,void 0,t)}function M$(n,e){let t=vc(e,!1,!1);return t!==e?`${n}[${t}]`:`${n}.${e}`}function k$(n){return R$("ngJitMode",n)}function R$(n,e){let t=new Ic({name:n,moduleName:null}),i=new nt(Z.Identical,new Wd(t),$("undefined")),r=new nt(Z.Or,i,t,void 0,void 0);return new nt(Z.And,r,e)}function In(n){let e=new Xe(n);return{value:e,type:e}}function yc(n,e){let t=mt(n.map(i=>i.value));return e?Bo([],t):t}function TD(n,e){return{expression:n,forwardRef:e}}function N$({expression:n,forwardRef:e}){switch(e){case 0:case 1:return n;case 2:return P$(n)}}function P$(n){return ue(P.forwardRef).callFn([Bo([],n)])}var t_=(function(n){return n[n.Class=0]="Class",n[n.Function=1]="Function",n})(t_||{});function hc(n){let e=We("__ngFactoryType__"),t=null,i=BN(n)?e:new nt(Z.Or,e,n.type.value),r=null;n.deps!==null?n.deps!=="invalid"&&(r=new pm(i,LN(n.deps,n.target))):(t=We(`\u0275${n.name}_BaseFactory`),r=t.callFn([i]));let o=[],s=null;function a(c){let d=We("__ngConditionalFactory__");o.push(new kn(d.name,Qd,Tr));let m=r!==null?d.set(r).toStmt():ue(P.invalidFactory).callFn([]).toStmt();return o.push(n1(e,[m],[d.set(c).toStmt()])),d}if(BN(n)){let c=LN(n.delegateDeps,n.target),d=new(n.delegateType===t_.Class?pm:rr)(n.delegate,c);s=a(d)}else V$(n)?s=a(n.expression):s=r;if(s===null)o.push(ue(P.invalidFactory).callFn([]).toStmt());else if(t!==null){let c=ue(P.getInheritedFactory).callFn([n.type.value]),d=new nt(Z.Or,t,t.set(c));o.push(new pi(d.callFn([i])))}else o.push(new pi(s));let l=dl([new zn(e.name,ig)],o,Tr,void 0,`${n.name}_Factory`);return t!==null&&(l=Bo([],[new kn(t.name),new pi(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:O$(n)}}function O$(n){let e=n.deps!==null&&n.deps!=="invalid"?L$(n.deps):Cs;return fi(ue(P.FactoryDeclaration,[i1(n.type.type,n.typeArgumentCount),e]))}function LN(n,e){return n.map((t,i)=>F$(t,e,i))}function F$(n,e,t){if(n.token===null)return ue(P.invalidFactoryDep).callFn([$(t)]);if(n.attributeNameType===null){let i=0|(n.self?2:0)|(n.skipSelf?4:0)|(n.host?1:0)|(n.optional?8:0)|(e===ua.Pipe?16:0),r=i!==0||n.optional?$(i):null,o=[n.token];r&&o.push(r);let s=j$(e);return ue(s).callFn(o)}else return ue(P.injectAttribute).callFn([n.token])}function L$(n){let e=!1,t=n.map(i=>{let r=B$(i);return r!==null?(e=!0,r):$(null)});return e?fi(mt(t)):Cs}function B$(n){let e=[];return n.attributeNameType!==null&&e.push({key:"attribute",value:n.attributeNameType,quoted:!1}),n.optional&&e.push({key:"optional",value:$(!0),quoted:!1}),n.host&&e.push({key:"host",value:$(!0),quoted:!1}),n.self&&e.push({key:"self",value:$(!0),quoted:!1}),n.skipSelf&&e.push({key:"skipSelf",value:$(!0),quoted:!1}),e.length>0?Ui(e):null}function BN(n){return n.delegateType!==void 0}function V$(n){return n.expression!==void 0}function j$(n){switch(n){case ua.Component:case ua.Directive:case ua.Pipe:return P.directiveInject;case ua.NgModule:case ua.Injectable:default:return P.inject}}var Nc=class{start;end;constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new Ir(e+this.start,e+this.end)}},zt=class{span;sourceSpan;constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}},gm=class extends zt{nameSpan;constructor(e,t,i){super(e,t),this.nameSpan=i}},Ki=class extends zt{visit(e,t=null){}},Ss=class extends zt{visit(e,t=null){return e.visitImplicitReceiver(this,t)}},Pc=class extends Ss{visit(e,t=null){return e.visitThisReceiver?.(this,t)}},Yd=class extends zt{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitChain(this,t)}},n_=class extends zt{condition;trueExp;falseExp;constructor(e,t,i,r,o){super(e,t),this.condition=i,this.trueExp=r,this.falseExp=o}visit(e,t=null){return e.visitConditional(this,t)}},ha=class extends gm{receiver;name;constructor(e,t,i,r,o){super(e,t,i),this.receiver=r,this.name=o}visit(e,t=null){return e.visitPropertyRead(this,t)}},vm=class extends gm{receiver;name;constructor(e,t,i,r,o){super(e,t,i),this.receiver=r,this.name=o}visit(e,t=null){return e.visitSafePropertyRead(this,t)}},Oc=class extends zt{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}},ym=class extends zt{receiver;key;constructor(e,t,i,r){super(e,t),this.receiver=i,this.key=r}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}},Fy=(function(n){return n[n.ReferencedByName=0]="ReferencedByName",n[n.ReferencedDirectly=1]="ReferencedDirectly",n})(Fy||{}),i_=class extends gm{exp;name;args;type;constructor(e,t,i,r,o,s,a){super(e,t,a),this.exp=i,this.name=r,this.args=o,this.type=s}visit(e,t=null){return e.visitPipe(this,t)}},Sr=class extends zt{value;constructor(e,t,i){super(e,t),this.value=i}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}},r_=class extends zt{expressions;constructor(e,t,i){super(e,t),this.expressions=i}visit(e,t=null){return e.visitLiteralArray(this,t)}},o_=class extends zt{keys;values;constructor(e,t,i,r){super(e,t),this.keys=i,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}},og=class extends zt{strings;expressions;constructor(e,t,i,r){super(e,t),this.strings=i,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}},Bi=class extends zt{operation;left;right;constructor(e,t,i,r,o){super(e,t),this.operation=i,this.left=r,this.right=o}visit(e,t=null){return e.visitBinary(this,t)}static isAssignmentOperation(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="||e==="%="||e==="**="||e==="&&="||e==="||="||e==="??="}},Ud=class n extends Bi{operator;expr;left=null;right=null;operation=null;static createMinus(e,t,i){return new n(e,t,"-",i,"-",new Sr(e,t,0),i)}static createPlus(e,t,i){return new n(e,t,"+",i,"-",i,new Sr(e,t,0))}constructor(e,t,i,r,o,s,a){super(e,t,o,s,a),this.operator=i,this.expr=r}visit(e,t=null){return e.visitUnary!==void 0?e.visitUnary(this,t):e.visitBinary(this,t)}},_m=class extends zt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitPrefixNot(this,t)}},bm=class extends zt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitTypeofExpression(this,t)}},Cm=class extends zt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitVoidExpression(this,t)}},xm=class extends zt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t=null){return e.visitNonNullAssert(this,t)}},Zd=class extends zt{receiver;args;argumentSpan;constructor(e,t,i,r,o){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=o}visit(e,t=null){return e.visitCall(this,t)}},s_=class extends zt{receiver;args;argumentSpan;constructor(e,t,i,r,o){super(e,t),this.receiver=i,this.args=r,this.argumentSpan=o}visit(e,t=null){return e.visitSafeCall(this,t)}},wm=class extends zt{tag;template;constructor(e,t,i,r){super(e,t),this.tag=i,this.template=r}visit(e,t){return e.visitTaggedTemplateLiteral(this,t)}},Sm=class extends zt{elements;expressions;constructor(e,t,i,r){super(e,t),this.elements=i,this.expressions=r}visit(e,t){return e.visitTemplateLiteral(this,t)}},a_=class extends zt{text;constructor(e,t,i){super(e,t),this.text=i}visit(e,t){return e.visitTemplateLiteralElement(this,t)}},Em=class extends zt{expression;constructor(e,t,i){super(e,t),this.expression=i}visit(e,t){return e.visitParenthesizedExpression(this,t)}},Ir=class{start;end;constructor(e,t){this.start=e,this.end=t}},Er=class extends zt{ast;source;location;errors;constructor(e,t,i,r,o){super(new Nc(0,t===null?0:t.length),new Ir(r,t===null?r:r+t.length)),this.ast=e,this.source=t,this.location=i,this.errors=o}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}},Dm=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},dE=class{sourceSpan;key;value;constructor(e,t,i){this.sourceSpan=e,this.key=t,this.value=i}},l_=class{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitTypeofExpression(e,t){this.visit(e.expression,t)}visitVoidExpression(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitTemplateLiteral(e,t){for(let i=0;i<e.elements.length;i++){this.visit(e.elements[i],t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&this.visit(r,t)}}visitTemplateLiteralElement(e,t){}visitTaggedTemplateLiteral(e,t){this.visit(e.tag,t),this.visit(e.template,t)}visitParenthesizedExpression(e,t){this.visit(e.expression,t)}visitAll(e,t){for(let i of e)this.visit(i,t)}},Od=class{name;expression;type;sourceSpan;keySpan;valueSpan;isLiteral;isLegacyAnimation;isAnimation;constructor(e,t,i,r,o,s){this.name=e,this.expression=t,this.type=i,this.sourceSpan=r,this.keySpan=o,this.valueSpan=s,this.isLiteral=this.type===vs.LITERAL_ATTR,this.isLegacyAnimation=this.type===vs.LEGACY_ANIMATION,this.isAnimation=this.type===vs.ANIMATION}},vs=(function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.LITERAL_ATTR=1]="LITERAL_ATTR",n[n.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",n[n.TWO_WAY=3]="TWO_WAY",n[n.ANIMATION=4]="ANIMATION",n})(vs||{}),ji=(function(n){return n[n.Regular=0]="Regular",n[n.LegacyAnimation=1]="LegacyAnimation",n[n.TwoWay=2]="TwoWay",n[n.Animation=3]="Animation",n})(ji||{}),c_=class{name;targetOrPhase;type;handler;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,o,s,a){this.name=e,this.targetOrPhase=t,this.type=i,this.handler=r,this.sourceSpan=o,this.handlerSpan=s,this.keySpan=a}},pE=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}},lt=(function(n){return n[n.Property=0]="Property",n[n.Attribute=1]="Attribute",n[n.Class=2]="Class",n[n.Style=3]="Style",n[n.LegacyAnimation=4]="LegacyAnimation",n[n.TwoWay=5]="TwoWay",n[n.Animation=6]="Animation",n})(lt||{}),u_=class{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=o,this.sourceSpan=s,this.keySpan=a,this.valueSpan=l}},ys=(function(n){return n[n.RAW_TEXT=0]="RAW_TEXT",n[n.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",n[n.PARSABLE_DATA=2]="PARSABLE_DATA",n})(ys||{});function Vo(n,e=!0){if(n[0]!=":")return[null,n];let t=n.indexOf(":",1);if(t===-1){if(e)throw new Error(`Unsupported format "${n}" expecting ":namespace:name"`);return[null,n]}return[n.slice(1,t),n.slice(t+1)]}function VN(n){return Vo(n)[1]==="ng-container"}function fE(n){return Vo(n)[1]==="ng-content"}function q$(n){return Vo(n)[1]==="ng-template"}function hE(n){return n===null?null:Vo(n)[0]}function Ly(n,e){return n?`:${n}:${e}`:e}var r1=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){throw new Error("visit() not implemented for Comment")}},_c=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}},Xd=class{value;sourceSpan;i18n;constructor(e,t,i){this.value=e,this.sourceSpan=t,this.i18n=i}visit(e){return e.visitBoundText(this)}},Jd=class{name;value;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,o,s){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o,this.i18n=s}visit(e){return e.visitTextAttribute(this)}},mE=class n{name;type;securityContext;value;unit;sourceSpan;keySpan;valueSpan;i18n;constructor(e,t,i,r,o,s,a,l,c){this.name=e,this.type=t,this.securityContext=i,this.value=r,this.unit=o,this.sourceSpan=s,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,t){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}},gE=class n{name;type;handler;target;phase;sourceSpan;handlerSpan;keySpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.type=t,this.handler=i,this.target=r,this.phase=o,this.sourceSpan=s,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let t=e.type===ji.Regular?e.targetOrPhase:null,i=e.type===ji.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new n(e.name,e.type,e.handler,t,i,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},Es=class{name;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;isVoid;i18n;constructor(e,t,i,r,o,s,a,l,c,d,m,_,y){this.name=e,this.attributes=t,this.inputs=i,this.outputs=r,this.directives=o,this.children=s,this.references=a,this.isSelfClosing=l,this.sourceSpan=c,this.startSourceSpan=d,this.endSourceSpan=m,this.isVoid=_,this.i18n=y}visit(e){return e.visitElement(this)}},Ds=class{nameSpan;sourceSpan;prefetchSpan;whenOrOnSourceSpan;hydrateSpan;constructor(e,t,i,r,o){this.nameSpan=e,this.sourceSpan=t,this.prefetchSpan=i,this.whenOrOnSourceSpan=r,this.hydrateSpan=o}visit(e){return e.visitDeferredTrigger(this)}},d_=class extends Ds{value;constructor(e,t,i,r,o){super(null,t,i,r,o),this.value=e}},vE=class extends Ds{},yE=class extends Ds{},_E=class extends Ds{},p_=class extends Ds{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},bE=class extends Ds{delay;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.delay=e}},f_=class extends Ds{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},h_=class extends Ds{reference;constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.reference=e}},oo=class{nameSpan;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r){this.nameSpan=e,this.sourceSpan=t,this.startSourceSpan=i,this.endSourceSpan=r}},Am=class extends oo{children;minimumTime;i18n;constructor(e,t,i,r,o,s,a){super(i,r,o,s),this.children=e,this.minimumTime=t,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},Tm=class extends oo{children;afterTime;minimumTime;i18n;constructor(e,t,i,r,o,s,a,l){super(r,o,s,a),this.children=e,this.afterTime=t,this.minimumTime=i,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},Im=class extends oo{children;i18n;constructor(e,t,i,r,o,s){super(t,i,r,o),this.children=e,this.i18n=s}visit(e){return e.visitDeferredBlockError(this)}},Fc=class extends oo{children;placeholder;loading;error;mainBlockSpan;i18n;triggers;prefetchTriggers;hydrateTriggers;definedTriggers;definedPrefetchTriggers;definedHydrateTriggers;constructor(e,t,i,r,o,s,a,l,c,d,m,_,y){super(l,c,m,_),this.children=e,this.placeholder=o,this.loading=s,this.error=a,this.mainBlockSpan=d,this.i18n=y,this.triggers=t,this.prefetchTriggers=i,this.hydrateTriggers=r,this.definedTriggers=Object.keys(t),this.definedPrefetchTriggers=Object.keys(i),this.definedHydrateTriggers=Object.keys(r)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,e),this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),By(e,this.children);let t=[this.placeholder,this.loading,this.error].filter(i=>i!==null);By(e,t)}visitTriggers(e,t,i){By(i,e.map(r=>t[r]))}},m_=class extends oo{expression;cases;unknownBlocks;constructor(e,t,i,r,o,s,a){super(a,r,o,s),this.expression=e,this.cases=t,this.unknownBlocks=i}visit(e){return e.visitSwitchBlock(this)}},Mm=class extends oo{expression;children;i18n;constructor(e,t,i,r,o,s,a){super(s,i,r,o),this.expression=e,this.children=t,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},Kd=class extends oo{item;expression;trackBy;trackKeywordSpan;contextVariables;children;empty;mainBlockSpan;i18n;constructor(e,t,i,r,o,s,a,l,c,d,m,_,y){super(_,l,d,m),this.item=e,this.expression=t,this.trackBy=i,this.trackKeywordSpan=r,this.contextVariables=o,this.children=s,this.empty=a,this.mainBlockSpan=c,this.i18n=y}visit(e){return e.visitForLoopBlock(this)}},km=class extends oo{children;i18n;constructor(e,t,i,r,o,s){super(o,t,i,r),this.children=e,this.i18n=s}visit(e){return e.visitForLoopBlockEmpty(this)}},g_=class extends oo{branches;constructor(e,t,i,r,o){super(o,t,i,r),this.branches=e}visit(e){return e.visitIfBlock(this)}},wc=class extends oo{expression;children;expressionAlias;i18n;constructor(e,t,i,r,o,s,a,l){super(a,r,o,s),this.expression=e,this.children=t,this.expressionAlias=i,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},v_=class{name;sourceSpan;nameSpan;constructor(e,t,i){this.name=e,this.sourceSpan=t,this.nameSpan=i}visit(e){return e.visitUnknownBlock(this)}},ID=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=o}visit(e){return e.visitLetDeclaration(this)}},rm=class{componentName;tagName;fullName;attributes;inputs;outputs;directives;children;references;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,c,d,m,_,y,w){this.componentName=e,this.tagName=t,this.fullName=i,this.attributes=r,this.inputs=o,this.outputs=s,this.directives=a,this.children=l,this.references=c,this.isSelfClosing=d,this.sourceSpan=m,this.startSourceSpan=_,this.endSourceSpan=y,this.i18n=w}visit(e){return e.visitComponent(this)}},C3=class{name;attributes;inputs;outputs;references;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,c){this.name=e,this.attributes=t,this.inputs=i,this.outputs=r,this.references=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitDirective(this)}},Mr=class{tagName;attributes;inputs;outputs;directives;templateAttrs;children;references;variables;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;constructor(e,t,i,r,o,s,a,l,c,d,m,_,y,w){this.tagName=e,this.attributes=t,this.inputs=i,this.outputs=r,this.directives=o,this.templateAttrs=s,this.children=a,this.references=l,this.variables=c,this.isSelfClosing=d,this.sourceSpan=m,this.startSourceSpan=_,this.endSourceSpan=y,this.i18n=w}visit(e){return e.visitTemplate(this)}},ep=class{selector;attributes;children;isSelfClosing;sourceSpan;startSourceSpan;endSourceSpan;i18n;name="ng-content";constructor(e,t,i,r,o,s,a,l){this.selector=e,this.attributes=t,this.children=i,this.isSelfClosing=r,this.sourceSpan=o,this.startSourceSpan=s,this.endSourceSpan=a,this.i18n=l}visit(e){return e.visitContent(this)}},pl=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}visit(e){return e.visitVariable(this)}},Rm=class{name;value;sourceSpan;keySpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.keySpan=r,this.valueSpan=o}visit(e){return e.visitReference(this)}},x3=class{vars;placeholders;sourceSpan;i18n;constructor(e,t,i,r){this.vars=e,this.placeholders=t,this.sourceSpan=i,this.i18n=r}visit(e){return e.visitIcu(this)}},Nm=class{tagNames;bindings;listeners;sourceSpan;constructor(e,t,i,r){if(this.tagNames=e,this.bindings=t,this.listeners=i,this.sourceSpan=r,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function By(n,e){let t=[];if(n.visit)for(let i of e)n.visit(i);else for(let i of e){let r=i.visit(n);r&&t.push(r)}return t}var qi=class{nodes;placeholders;placeholderToMessage;meaning;description;customId;sources;id;legacyIds=[];messageString;constructor(e,t,i,r,o,s){this.nodes=e,this.placeholders=t,this.placeholderToMessage=i,this.meaning=r,this.description=o,this.customId=s,this.id=this.customId,this.messageString=U$(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},Qh=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}},ma=class{children;sourceSpan;constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}},y_=class{expression;type;cases;sourceSpan;expressionPlaceholder;constructor(e,t,i,r,o){this.expression=e,this.type=t,this.cases=i,this.sourceSpan=r,this.expressionPlaceholder=o}visit(e,t){return e.visitIcu(this,t)}},fl=class{tag;attrs;startName;closeName;children;isVoid;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l,c){this.tag=e,this.attrs=t,this.startName=i,this.closeName=r,this.children=o,this.isVoid=s,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,t){return e.visitTagPlaceholder(this,t)}},Pm=class{value;name;sourceSpan;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitPlaceholder(this,t)}},tp=class{value;name;sourceSpan;previousMessage;constructor(e,t,i){this.value=e,this.name=t,this.sourceSpan=i}visit(e,t){return e.visitIcuPlaceholder(this,t)}},hl=class{name;parameters;startName;closeName;children;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l){this.name=e,this.parameters=t,this.startName=i,this.closeName=r,this.children=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,t){return e.visitBlockPlaceholder(this,t)}};function U$(n){let e=new CE;return n.map(i=>i.visit(e)).join("")}var CE=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(i=>`${i} {${e.cases[i].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let t=e.children.map(i=>i.visit(this)).join("");return`{$${e.startName}}${t}{$${e.closeName}}`}};var $$=class{visitTag(e){let t=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${t}/>`;let i=e.children.map(r=>r.visit(this));return`<${e.name}${t}>${i.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let t=Object.keys(e).map(i=>`${i}="${e[i]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},o1e=new $$;function H$(n){return n.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var w3="i18n",xE="i18n-",z$="VAR_";function S3(n){return n===w3||n.startsWith(xE)}function W$(n){return n.attrs.some(e=>S3(e.name))}function E3(n){return n.nodes[0]}function MD(n={},e){let t={};return n&&Object.keys(n).length&&Object.keys(n).forEach(i=>t[sg(i,e)]=n[i]),t}function sg(n,e=!0){let t=H$(n);if(!e)return t;let i=t.split("_");if(i.length===1)return n.toLowerCase();let r;/^\d+$/.test(i[i.length-1])&&(r=i.pop());let o=i.shift().toLowerCase();return i.length&&(o+=i.map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join("")),r?`${o}_${r}`:o}var G$=/[-.]/,kD="_t",Om="ctx",RD="rf";function D3(n,e){let t=null;return()=>(t||(n(new kn(kD,void 0,ig)),t=We(e)),t)}function Fd(n){return Array.isArray(n)?mt(n.map(Fd)):$(n,Tr)}function jN(n,e){let t=Object.getOwnPropertyNames(n);return t.length===0?null:Ui(t.map(i=>{let r=n[i],o,s,a,l;if(typeof r=="string")o=i,a=i,s=r,l=Fd(s);else{a=i,o=r.classPropertyName,s=r.bindingPropertyName;let c=s!==o,d=r.transformFunction!==null,m=Xh.None;if(r.isSignal&&(m|=Xh.SignalBased),d&&(m|=Xh.HasDecoratorInputTransform),e&&(c||d||m!==Xh.None)){let _=[$(m),Fd(s)];(c||d)&&(_.push(Fd(o)),d&&_.push(r.transformFunction)),l=mt(_)}else l=Fd(s)}return{key:a,quoted:G$.test(a),value:l}}))}var ml=class{values=[];set(e,t){if(t){let i=this.values.find(r=>r.key===e);i?i.value=t:this.values.push({key:e,value:t,quoted:!1})}}toLiteralMap(){return Ui(this.values)}};function Q$(n){let e=n instanceof Es?n.name:"ng-template",t=Y$(n),i=new zd,r=Vo(e)[1];return i.setElement(r),Object.getOwnPropertyNames(t).forEach(o=>{let s=Vo(o)[1],a=t[o];i.addAttribute(s,a),o.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>i.addClassName(c))}),i}function Y$(n){let e={};return n instanceof Mr&&n.tagName!=="ng-template"?n.templateAttrs.forEach(t=>e[t.name]=""):(n.attributes.forEach(t=>{S3(t.name)||(e[t.name]=t.value)}),n.inputs.forEach(t=>{(t.type===lt.Property||t.type===lt.TwoWay)&&(e[t.name]="")}),n.outputs.forEach(t=>{e[t.name]=""})),e}function qN(n,e){let t=null,i={name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:[],target:ua.Injectable};if(n.useClass!==void 0){let a=n.useClass.expression.isEquivalent(n.type.value),l;n.deps!==void 0&&(l=n.deps),l!==void 0?t=hc(J(F({},i),{delegate:n.useClass.expression,delegateDeps:l,delegateType:t_.Class})):a?t=hc(i):t={statements:[],expression:UN(n.type.value,n.useClass.expression,e)}}else n.useFactory!==void 0?n.deps!==void 0?t=hc(J(F({},i),{delegate:n.useFactory,delegateDeps:n.deps||[],delegateType:t_.Function})):t={statements:[],expression:Bo([],n.useFactory.callFn([]))}:n.useValue!==void 0?t=hc(J(F({},i),{expression:n.useValue.expression})):n.useExisting!==void 0?t=hc(J(F({},i),{expression:ue(P.inject).callFn([n.useExisting.expression])})):t={statements:[],expression:UN(n.type.value,n.type.value,e)};let r=n.type.value,o=new ml;return o.set("token",r),o.set("factory",t.expression),n.providedIn.expression.value!==null&&o.set("providedIn",N$(n.providedIn)),{expression:ue(P.\u0275\u0275defineInjectable).callFn([o.toLiteralMap()],void 0,!0),type:Z$(n),statements:t.statements}}function Z$(n){return new no(ue(P.InjectableDeclaration,[i1(n.type.type,n.typeArgumentCount)]))}function UN(n,e,t){if(n.node===e.node)return e.prop("\u0275fac");if(!t)return $N(e);let i=ue(P.resolveForwardRef).callFn([e]);return $N(i)}function $N(n){let e=new zn("__ngFactoryType__",ig);return Bo([e],n.prop("\u0275fac").callFn([We(e.name)]))}var X$=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function J$(n,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${n}' to be an array, [start, end].`);if(e!=null){let t=e[0],i=e[1];X$.forEach(r=>{if(r.test(t)||r.test(i))throw new Error(`['${t}', '${i}'] contains unusable interpolation symbol.`)})}}var __=class n{start;end;static fromArray(e){return e?(J$("interpolation",e),new n(e[0],e[1])):_s}constructor(e,t){this.start=e,this.end=t}},_s=new __("{{","}}"),K$=new Set(["switch"]),ui=0,e7=8,ND=9,Sc=10,A3=11,T3=12,PD=13,I3=32,wE=33,Fm=34,M3=35,o1=36,t7=37,b_=38,Lm=39,Oo=40,Vi=41,HN=42,k3=43,to=44,C_=45,Kh=46,Ro=47,da=58,Dr=59,$d=60,Di=61,Yr=62,zN=63,OD=48,n7=55,R3=57,yl=65,i7=69,r7=70,o7=88,dp=90,ul=91,Hd=92,bc=93,s7=94,_l=95,Lc=97,a7=98,l7=101,FD=102,N3=110,P3=114,O3=116,F3=117,L3=118,B3=120,ag=122,Po=123,WN=124,tr=125,V3=160,Ad=64,SE=96;function Bm(n){return n>=ND&&n<=I3||n==V3}function No(n){return OD<=n&&n<=R3}function np(n){return n>=Lc&&n<=ag||n>=yl&&n<=dp}function c7(n){return n>=Lc&&n<=FD||n>=yl&&n<=r7||No(n)}function x_(n){return n===Sc||n===PD}function GN(n){return OD<=n&&n<=n7}function om(n){return n===Lm||n===Fm||n===SE}var Vm=class n{file;offset;line;col;constructor(e,t,i,r){this.file=e,this.offset=t,this.line=i,this.col=r}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let t=this.file.content,i=t.length,r=this.offset,o=this.line,s=this.col;for(;r>0&&e<0;)if(r--,e++,t.charCodeAt(r)==Sc){o--;let l=t.substring(0,r-1).lastIndexOf(String.fromCharCode(Sc));s=l>0?r-l:r}else s--;for(;r<i&&e>0;){let a=t.charCodeAt(r);r++,e--,a==Sc?(o++,s=0):s++}return new n(this.file,r,o,s)}getContext(e,t){let i=this.file.content,r=this.offset;if(r!=null){r>i.length-1&&(r=i.length-1);let o=r,s=0,a=0;for(;s<e&&r>0&&(r--,s++,!(i[r]==`
`&&++a==t)););for(s=0,a=0;s<e&&o<i.length-1&&(o++,s++,!(i[o]==`
`&&++a==t)););return{before:i.substring(r,this.offset),after:i.substring(this.offset,o+1)}}return null}},w_=class{content;url;constructor(e,t){this.content=e,this.url=t}},ke=class{start;end;fullStart;details;constructor(e,t,i=e,r=null){this.start=e,this.end=t,this.fullStart=i,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},al=(function(n){return n[n.WARNING=0]="WARNING",n[n.ERROR=1]="ERROR",n})(al||{}),Ae=class extends Error{span;msg;level;relatedError;constructor(e,t,i=al.ERROR,r){super(t),this.span=e,this.msg=t,this.level=i,this.relatedError=r,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${al[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function u7(n,e,t){let i=`in ${n} ${e} in ${t}`,r=new w_("",i);return new ke(new Vm(r,-1,-1,-1),new Vm(r,-1,-1,-1))}var d7=0;function p7(n){if(!n||!n.reference)return null;let e=n.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let t=_3(e);return t.indexOf("(")>=0?(t=`anonymous_${d7++}`,e.__anonymousType=t):t=mc(t),t}function mc(n){return n.replace(/\W/g,"_")}var QN='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',EE=class extends uE{constructor(){super(!1)}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,t){let i=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${QN}(`),t.print(e,`[${i.map(r=>vc(r.text,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>vc(r.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}visitTemplateLiteralExpr(e,t){t.print(e,"`");for(let i=0;i<e.elements.length;i++){e.elements[i].visitExpression(this,t);let r=i<e.expressions.length?e.expressions[i]:null;r!==null&&(t.print(r,"${"),r.visitExpression(this,t),t.print(r,"}"))}t.print(e,"`")}visitTemplateLiteralElementExpr(e,t){return t.print(e,e.rawText),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitArrowFunctionExpr(e,t){if(t.print(e,"("),this._visitParams(e.params,t),t.print(e,") =>"),Array.isArray(e.body))t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.print(e,"}");else{let i=e.body instanceof ws;i&&t.print(e,"("),e.body.visitExpression(this,t),i&&t.print(e,")")}return null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${QN}(`);let i=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)i.push(e.serializeI18nTemplatePart(r));return t.print(e,`[${i.map(r=>vc(r.cooked,!1)).join(", ")}], `),t.print(e,`[${i.map(r=>vc(r.raw,!1)).join(", ")}])`),e.expressions.forEach(r=>{t.print(e,", "),r.visitExpression(this,t)}),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects(i=>t.print(null,i.name),e,t,",")}},by;function f7(){if(by===void 0){let n=im.trustedTypes;if(by=null,n)try{by=n.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return by}function h7(n){return f7()?.createScript(n)||n}function YN(...n){if(!im.trustedTypes)return new Function(...n);let e=n.slice(0,-1).join(","),t=n[n.length-1],i=`(function anonymous(${e}
) { ${t}
})`,r=im.eval(h7(i));return r.bind===void 0?new Function(...n):(r.toString=()=>i,r.bind(im))}var DE=class{evaluateStatements(e,t,i,r){let o=new AE(i),s=cE.createRoot();return t.length>0&&!m7(t[0])&&(t=[$("use strict").toStmt(),...t]),o.visitAllStatements(t,s),o.createReturnStmt(s),this.evaluateCode(e,s,o.getArgs(),r)}evaluateCode(e,t,i,r){let o=`"use strict";${t.toSource()}
//# sourceURL=${e}`,s=[],a=[];for(let c in i)a.push(i[c]),s.push(c);if(r){let c=YN(...s.concat("return null;")).toString(),d=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;o+=`
${t.toSourceMapGenerator(e,d).toJsComment()}`}let l=YN(...s.concat(o));return this.executeFunction(l,a)}executeFunction(e,t){return e(...t)}},AE=class extends EE{refResolver;_evalArgNames=[];_evalArgValues=[];_evalExportedVars=[];constructor(e){super(),this.refResolver=e}createReturnStmt(e){new pi(new ws(this._evalExportedVars.map(i=>new Gd(i,We(i),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(di.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(di.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}_emitReferenceToExternal(e,t,i){let r=this._evalArgValues.indexOf(t);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(t);let o=p7({reference:t})||"val";this._evalArgNames.push(`jit_${o}_${r}`)}i.print(e,this._evalArgNames[r])}};function m7(n){return n.isEquivalent($("use strict").toStmt())}function ZN(n){let e=new ml;n.providers!==null&&e.set("providers",n.providers),n.imports.length>0&&e.set("imports",mt(n.imports));let t=ue(P.defineInjector).callFn([e.toLiteralMap()],void 0,!0),i=g7(n);return{expression:t,type:i,statements:[]}}function g7(n){return new no(ue(P.InjectorDeclaration,[new no(n.type.type)]))}var TE=class{context;constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},S_=(function(n){return n[n.Inline=0]="Inline",n[n.SideEffect=1]="SideEffect",n[n.Omit=2]="Omit",n})(S_||{}),ll=(function(n){return n[n.Global=0]="Global",n[n.Local=1]="Local",n})(ll||{});function v7(n){let e=[],t=new ml;if(t.set("type",n.type.value),n.kind===ll.Global&&n.bootstrap.length>0&&t.set("bootstrap",yc(n.bootstrap,n.containsForwardDecls)),n.selectorScopeMode===S_.Inline)n.declarations.length>0&&t.set("declarations",yc(n.declarations,n.containsForwardDecls)),n.imports.length>0&&t.set("imports",yc(n.imports,n.containsForwardDecls)),n.exports.length>0&&t.set("exports",yc(n.exports,n.containsForwardDecls));else if(n.selectorScopeMode===S_.SideEffect){let o=b7(n);o!==null&&e.push(o)}n.schemas!==null&&n.schemas.length>0&&t.set("schemas",mt(n.schemas.map(o=>o.value))),n.id!==null&&(t.set("id",n.id),e.push(ue(P.registerNgModuleType).callFn([n.type.value,n.id]).toStmt()));let i=ue(P.defineNgModule).callFn([t.toLiteralMap()],void 0,!0),r=_7(n);return{expression:i,type:r,statements:e}}function y7(n){let e=new ml;return e.set("type",new Xe(n.type)),n.bootstrap!==void 0&&e.set("bootstrap",new Xe(n.bootstrap)),n.declarations!==void 0&&e.set("declarations",new Xe(n.declarations)),n.imports!==void 0&&e.set("imports",new Xe(n.imports)),n.exports!==void 0&&e.set("exports",new Xe(n.exports)),n.schemas!==void 0&&e.set("schemas",new Xe(n.schemas)),n.id!==void 0&&e.set("id",new Xe(n.id)),ue(P.defineNgModule).callFn([e.toLiteralMap()])}function _7(n){if(n.kind===ll.Local)return new no(n.type.value);let{type:e,declarations:t,exports:i,imports:r,includeImportTypes:o,publicDeclarationTypes:s}=n;return new no(ue(P.NgModuleDeclaration,[new no(e.type),s===null?PS(t):C7(s),o?PS(r):Cs,PS(i)]))}function b7(n){let e=new ml;if(n.kind===ll.Global?n.declarations.length>0&&e.set("declarations",yc(n.declarations,n.containsForwardDecls)):n.declarationsExpression&&e.set("declarations",n.declarationsExpression),n.kind===ll.Global?n.imports.length>0&&e.set("imports",yc(n.imports,n.containsForwardDecls)):n.importsExpression&&e.set("imports",n.importsExpression),n.kind===ll.Global?n.exports.length>0&&e.set("exports",yc(n.exports,n.containsForwardDecls)):n.exportsExpression&&e.set("exports",n.exportsExpression),n.kind===ll.Local&&n.bootstrapExpression&&e.set("bootstrap",n.bootstrapExpression),Object.keys(e.values).length===0)return null;let t=new rr(ue(P.setNgModuleScope),[n.type.value,e.toLiteralMap()]),i=k$(t),r=new cl([],[i.toStmt()]);return new rr(r,[]).toStmt()}function PS(n){let e=n.map(t=>rg(t.type));return n.length>0?fi(mt(e)):Cs}function C7(n){let e=n.map(t=>rg(t));return n.length>0?fi(mt(e)):Cs}function XN(n){let e=[];e.push({key:"name",value:$(n.pipeName??n.name),quoted:!1}),e.push({key:"type",value:n.type.value,quoted:!1}),e.push({key:"pure",value:$(n.pure),quoted:!1}),n.isStandalone===!1&&e.push({key:"standalone",value:$(!1),quoted:!1});let t=ue(P.definePipe).callFn([Ui(e)],void 0,!0),i=x7(n);return{expression:t,type:i,statements:[]}}function x7(n){return new no(ue(P.PipeDeclaration,[i1(n.type.type,n.typeArgumentCount),new no(new hi(n.pipeName)),new no(new hi(n.isStandalone))]))}var ip=(function(n){return n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule",n})(ip||{}),w7=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),S7=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],IE=class{shimCssText(e,t,i=""){let r=[];e=e.replace(L7,a=>{if(a.match(B7))r.push(a);else{let l=a.match(F7);r.push((l?.join("")??"")+`
`)}return LD}),e=this._insertDirectives(e);let o=this._scopeCssText(e,t,i),s=0;return o.replace(V7,()=>r[s++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,t){let i=new Set,r=Cy(e,o=>this._scopeLocalKeyframeDeclarations(o,t,i));return Cy(r,o=>this._scopeAnimationRule(o,t,i))}_scopeLocalKeyframeDeclarations(e,t,i){return J(F({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(r,o,s,a,l)=>(i.add(eP(a,s)),`${o}${s}${t}_${a}${s}${l}`))})}_scopeAnimationKeyframe(e,t,i){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(r,o,s,a,l)=>(a=`${i.has(eP(a,s))?t+"_":""}${a}`,`${o}${s}${a}${s}${l}`))}_animationDeclarationKeyframesRe=/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g;_scopeAnimationRule(e,t,i){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(o,s,a)=>s+a.replace(this._animationDeclarationKeyframesRe,(l,c,d="",m,_)=>m?`${c}${this._scopeAnimationKeyframe(`${d}${m}${d}`,t,i)}`:w7.has(_)?l:`${c}${this._scopeAnimationKeyframe(_,t,i)}`));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(o,s,a)=>`${s}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,t,i)).join(",")}`),J(F({},e),{content:r})}_insertPolyfillDirectivesInCssText(e){return e.replace(D7,function(...t){return t[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(A7,(...t)=>{let i=t[0].replace(t[1],"").replace(t[2],"");return t[4]+i})}_scopeCssText(e,t,i){let r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeKeyframesRelatedCss(e,t),e=this._scopeSelectors(e,t,i)),e=e+`
`+r,e.trim()}_extractUnscopedRulesFromCssText(e){let t="",i;for(JN.lastIndex=0;(i=JN.exec(e))!==null;){let r=i[0].replace(i[2],"").replace(i[1],i[4]);t+=r+`

`}return t}_convertColonHost(e){return e.replace(T7,(t,i,r)=>{if(i){let o=[],s=i.split(",").map(a=>a.trim());for(let a of s){if(!a)break;let l=rl+a.replace(E_,"")+r;o.push(l)}return o.join(",")}else return rl+r})}_convertColonHostContext(e){let t=e.length,i=0,r=0,o="";for(let s=0;s<t;s++){let a=e[s];if(a===","&&i===0){o+=this._convertColonHostContextInSelectorPart(e.slice(r,s))+",",r=s+1;continue}if(s===t-1){o+=this._convertColonHostContextInSelectorPart(e.slice(r));break}a==="("?i++:a===")"&&i--}return o}_convertColonHostContextInSelectorPart(e){return e.replace(I7,(t,i)=>{let r=[[]],o;for(;o=M7.exec(t);){let s=(o[1]??"").trim().split(",").map(l=>l.trim()).filter(l=>l!==""),a=r.length;Z7(r,s.length);for(let l=0;l<s.length;l++)for(let c=0;c<a;c++)r[c+l*a].push(s[l]);t=o[2]}return r.map(s=>Y7(s,t,i)).join(", ")})}_convertShadowDOMSelectors(e){return R7.reduce((t,i)=>t.replace(i," "),e)}_scopeSelectors(e,t,i){return Cy(e,r=>{let o=r.selector,s=r.content;return r.selector[0]!=="@"?o=this._scopeSelector({selector:o,scopeSelector:t,hostSelector:i,isParentSelector:!0}):S7.some(a=>r.selector.startsWith(a))?s=this._scopeSelectors(r.content,t,i):(r.selector.startsWith("@font-face")||r.selector.startsWith("@page"))&&(s=this._stripScopingSelectors(r.content)),new jm(o,s)})}_stripScopingSelectors(e){return Cy(e,t=>{let i=t.selector.replace(KN," ").replace(OS," ");return new jm(i,t.content)})}_safeSelector;_shouldScopeIndicator;_scopeSelector({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r=!1}){let o=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(o).map(s=>s.split(KN)).map(s=>{let[a,...l]=s;return[(d=>this._selectorNeedsScoping(d,t)?this._applySelectorScope({selector:d,scopeSelector:t,hostSelector:i,isParentSelector:r}):d)(a),...l].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){let t=/\[/g,i=/\]/g;return e=e.replace(t,"\\[").replace(i,"\\]"),new RegExp("^("+e+")"+N7,"m")}_applySimpleSelectorScope(e,t,i){if(Ld.lastIndex=0,Ld.test(e)){let r=`[${i}]`,o=e;for(;o.match(OS);)o=o.replace(OS,(s,a)=>a.replace(/([^:\)]*)(:*)(.*)/,(l,c,d,m)=>c+r+d+m));return o.replace(Ld,r)}return t+" "+e}_applySelectorScope({selector:e,scopeSelector:t,hostSelector:i,isParentSelector:r}){let o=/\[is=([^\]]*)\]/g;t=t.replace(o,(T,...I)=>I[0]);let s=`[${t}]`,a=T=>{let I=T.trim();if(!I)return T;if(T.includes(rl)){if(I=this._applySimpleSelectorScope(T,t,i),!T.match(k7)){let[M,U,W,N]=I.match(/([^:]*)(:*)([\s\S]*)/);I=U+s+W+N}}else{let M=T.replace(Ld,"");if(M.length>0){let U=M.match(/([^:]*)(:*)([\s\S]*)/);U&&(I=U[1]+s+U[2]+U[3])}}return I},l=T=>{let I="",M=[],U;for(;(U=Yh.exec(T))!==null;){let W=1,N=Yh.lastIndex;for(;N<T.length;){let X=T[N];if(N++,X==="("){W++;continue}if(X===")"){if(W--,W===0)break;continue}}M.push(`${U[0]}${T.slice(Yh.lastIndex,N)}`),Yh.lastIndex=N}return M.join("")===T?I=M.map(W=>{let[N]=W.match(Yh)??[],X=W.slice(N?.length,-1);X.includes(rl)&&(this._shouldScopeIndicator=!0);let Y=this._scopeSelector({selector:X,scopeSelector:t,hostSelector:i});return`${N}${Y})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||T.includes(rl),I=this._shouldScopeIndicator?a(T):T),I};r&&(this._safeSelector=new ME(e),e=this._safeSelector.content());let c="",d=0,m,_=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,y=e.includes(rl);for((r||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!y);(m=_.exec(e))!==null;){let T=m[1],I=e.slice(d,m.index);if(I.match(/__esc-ph-(\d+)__/)&&e[m.index+1]?.match(/[a-fA-F\d]/))continue;let M=l(I);c+=`${M} ${T} `,d=_.lastIndex}let w=e.substring(d);return c+=l(w),this._safeSelector.restore(c)}_insertPolyfillHostInCssText(e){return e.replace(O7,j3).replace(P7,E_)}},ME=class{placeholders=[];index=0;_content;constructor(e){e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(t,i)=>{let r=`__esc-ph-${this.index}__`;return this.placeholders.push(i),this.index++,r}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(t,i,r)=>{let o=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,i+o})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(t,i)=>this.placeholders[+i])}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,(i,r)=>{let o=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,o})}},E7="(:(where|is)\\()?",Yh=/:(where|is)\(/gi,D7=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,A7=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,JN=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,E_="-shadowcsshost",j3="-shadowcsscontext",q3="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",T7=new RegExp(E_+q3+"?([^,{]*)","gim"),U3=j3+q3+"?([^{]*)",I7=new RegExp(`${E7}(${U3})`,"gim"),M7=new RegExp(U3,"im"),rl=E_+"-no-combinator",k7=new RegExp(`${rl}(?![^(]*\\))`,"g"),OS=/-shadowcsshost-no-combinator([^\s,]*)/,R7=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],KN=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,N7="([>\\s~+[.,{:][\\s\\S]*)?$",Ld=/-shadowcsshost/gim,P7=/:host/gim,O7=/:host-context/gim,F7=/\r?\n/g,L7=/\/\*[\s\S]*?\*\//g,B7=/\/\*\s*#\s*source(Mapping)?URL=/g,LD="%COMMENT%",V7=new RegExp(LD,"g"),FS="%BLOCK%",j7=new RegExp(`(\\s*(?:${LD}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),q7=new Map([["{","}"]]),$3="%COMMA_IN_PLACEHOLDER%",H3="%SEMI_IN_PLACEHOLDER%",z3="%COLON_IN_PLACEHOLDER%",U7=new RegExp($3,"g"),$7=new RegExp(H3,"g"),H7=new RegExp(z3,"g"),jm=class{selector;content;constructor(e,t){this.selector=e,this.content=t}};function Cy(n,e){let t=G7(n),i=z7(t,q7,FS),r=0,o=i.escapedString.replace(j7,(...s)=>{let a=s[2],l="",c=s[4],d="";c&&c.startsWith("{"+FS)&&(l=i.blocks[r++],c=c.substring(FS.length+1),d="{");let m=e(new jm(a,l));return`${s[1]}${m.selector}${s[3]}${d}${m.content}${c}`});return Q7(o)}var kE=class{escapedString;blocks;constructor(e,t){this.escapedString=e,this.blocks=t}};function z7(n,e,t){let i=[],r=[],o=0,s=0,a=-1,l,c;for(let d=0;d<n.length;d++){let m=n[d];m==="\\"?d++:m===c?(o--,o===0&&(r.push(n.substring(a,d)),i.push(t),s=d,a=-1,l=c=void 0)):m===l?o++:o===0&&e.has(m)&&(l=m,c=e.get(m),o=1,a=d+1,i.push(n.substring(s,a)))}return a!==-1?(r.push(n.substring(a)),i.push(t)):i.push(n.substring(s)),new kE(i.join(""),r)}var W7={";":H3,",":$3,":":z3};function G7(n){let e=n,t=null;for(let i=0;i<e.length;i++){let r=e[i];if(r==="\\")i++;else if(t!==null)if(r===t)t=null;else{let o=W7[r];o&&(e=`${e.substr(0,i)}${o}${e.substr(i+1)}`,i+=o.length-1)}else(r==="'"||r==='"')&&(t=r)}return e}function Q7(n){let e=n.replace(U7,",");return e=e.replace($7,";"),e=e.replace(H7,":"),e}function eP(n,e){return e?n.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):n}function Y7(n,e,t=""){let i=rl;Ld.lastIndex=0;let r=Ld.test(e);if(n.length===0)return i+e;let o=[n.pop()||""];for(;n.length>0;){let s=o.length,a=n.pop();for(let l=0;l<s;l++){let c=o[l];o[s*2+l]=c+" "+a,o[s+l]=a+" "+c,o[l]=a+c}}return o.map(s=>r?`${t}${s}${e}`:`${t}${s}${i}${e}, ${t}${s} ${i}${e}`).join(",")}function Z7(n,e){let t=n.length;for(let i=1;i<e;i++)for(let r=0;r<t;r++)n[r+i*t]=n[r].slice(0)}var x=(function(n){return n[n.ListEnd=0]="ListEnd",n[n.Statement=1]="Statement",n[n.Variable=2]="Variable",n[n.ElementStart=3]="ElementStart",n[n.Element=4]="Element",n[n.Template=5]="Template",n[n.ElementEnd=6]="ElementEnd",n[n.ContainerStart=7]="ContainerStart",n[n.Container=8]="Container",n[n.ContainerEnd=9]="ContainerEnd",n[n.DisableBindings=10]="DisableBindings",n[n.ConditionalCreate=11]="ConditionalCreate",n[n.ConditionalBranchCreate=12]="ConditionalBranchCreate",n[n.Conditional=13]="Conditional",n[n.EnableBindings=14]="EnableBindings",n[n.Text=15]="Text",n[n.Listener=16]="Listener",n[n.InterpolateText=17]="InterpolateText",n[n.Binding=18]="Binding",n[n.Property=19]="Property",n[n.StyleProp=20]="StyleProp",n[n.ClassProp=21]="ClassProp",n[n.StyleMap=22]="StyleMap",n[n.ClassMap=23]="ClassMap",n[n.Advance=24]="Advance",n[n.Pipe=25]="Pipe",n[n.Attribute=26]="Attribute",n[n.ExtractedAttribute=27]="ExtractedAttribute",n[n.Defer=28]="Defer",n[n.DeferOn=29]="DeferOn",n[n.DeferWhen=30]="DeferWhen",n[n.I18nMessage=31]="I18nMessage",n[n.DomProperty=32]="DomProperty",n[n.Namespace=33]="Namespace",n[n.ProjectionDef=34]="ProjectionDef",n[n.Projection=35]="Projection",n[n.RepeaterCreate=36]="RepeaterCreate",n[n.Repeater=37]="Repeater",n[n.TwoWayProperty=38]="TwoWayProperty",n[n.TwoWayListener=39]="TwoWayListener",n[n.DeclareLet=40]="DeclareLet",n[n.StoreLet=41]="StoreLet",n[n.I18nStart=42]="I18nStart",n[n.I18n=43]="I18n",n[n.I18nEnd=44]="I18nEnd",n[n.I18nExpression=45]="I18nExpression",n[n.I18nApply=46]="I18nApply",n[n.IcuStart=47]="IcuStart",n[n.IcuEnd=48]="IcuEnd",n[n.IcuPlaceholder=49]="IcuPlaceholder",n[n.I18nContext=50]="I18nContext",n[n.I18nAttributes=51]="I18nAttributes",n[n.SourceLocation=52]="SourceLocation",n[n.Animation=53]="Animation",n[n.AnimationString=54]="AnimationString",n[n.AnimationBinding=55]="AnimationBinding",n[n.AnimationListener=56]="AnimationListener",n})(x||{}),fe=(function(n){return n[n.LexicalRead=0]="LexicalRead",n[n.Context=1]="Context",n[n.TrackContext=2]="TrackContext",n[n.ReadVariable=3]="ReadVariable",n[n.NextContext=4]="NextContext",n[n.Reference=5]="Reference",n[n.StoreLet=6]="StoreLet",n[n.ContextLetReference=7]="ContextLetReference",n[n.GetCurrentView=8]="GetCurrentView",n[n.RestoreView=9]="RestoreView",n[n.ResetView=10]="ResetView",n[n.PureFunctionExpr=11]="PureFunctionExpr",n[n.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",n[n.PipeBinding=13]="PipeBinding",n[n.PipeBindingVariadic=14]="PipeBindingVariadic",n[n.SafePropertyRead=15]="SafePropertyRead",n[n.SafeKeyedRead=16]="SafeKeyedRead",n[n.SafeInvokeFunction=17]="SafeInvokeFunction",n[n.SafeTernaryExpr=18]="SafeTernaryExpr",n[n.EmptyExpr=19]="EmptyExpr",n[n.AssignTemporaryExpr=20]="AssignTemporaryExpr",n[n.ReadTemporaryExpr=21]="ReadTemporaryExpr",n[n.SlotLiteralExpr=22]="SlotLiteralExpr",n[n.ConditionalCase=23]="ConditionalCase",n[n.ConstCollected=24]="ConstCollected",n[n.TwoWayBindingSet=25]="TwoWayBindingSet",n})(fe||{}),Jr=(function(n){return n[n.None=0]="None",n[n.AlwaysInline=1]="AlwaysInline",n})(Jr||{}),Hn=(function(n){return n[n.Context=0]="Context",n[n.Identifier=1]="Identifier",n[n.SavedView=2]="SavedView",n[n.Alias=3]="Alias",n})(Hn||{}),Nr=(function(n){return n[n.Normal=0]="Normal",n[n.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",n})(Nr||{}),ae=(function(n){return n[n.Attribute=0]="Attribute",n[n.ClassName=1]="ClassName",n[n.StyleProperty=2]="StyleProperty",n[n.Property=3]="Property",n[n.Template=4]="Template",n[n.I18n=5]="I18n",n[n.LegacyAnimation=6]="LegacyAnimation",n[n.TwoWayProperty=7]="TwoWayProperty",n[n.Animation=8]="Animation",n})(ae||{}),qm=(function(n){return n[n.Creation=0]="Creation",n[n.Postproccessing=1]="Postproccessing",n})(qm||{}),pp=(function(n){return n[n.I18nText=0]="I18nText",n[n.I18nAttribute=1]="I18nAttribute",n})(pp||{}),It=(function(n){return n[n.None=0]="None",n[n.ElementTag=1]="ElementTag",n[n.TemplateTag=2]="TemplateTag",n[n.OpenTag=4]="OpenTag",n[n.CloseTag=8]="CloseTag",n[n.ExpressionIndex=16]="ExpressionIndex",n})(It||{}),Ai=(function(n){return n[n.HTML=0]="HTML",n[n.SVG=1]="SVG",n[n.Math=2]="Math",n})(Ai||{}),St=(function(n){return n[n.Idle=0]="Idle",n[n.Immediate=1]="Immediate",n[n.Timer=2]="Timer",n[n.Hover=3]="Hover",n[n.Interaction=4]="Interaction",n[n.Viewport=5]="Viewport",n[n.Never=6]="Never",n})(St||{}),Cc=(function(n){return n[n.RootI18n=0]="RootI18n",n[n.Icu=1]="Icu",n[n.Attr=2]="Attr",n})(Cc||{}),ir=(function(n){return n[n.NgTemplate=0]="NgTemplate",n[n.Structural=1]="Structural",n[n.Block=2]="Block",n})(ir||{}),W3=Symbol("ConsumesSlot"),BD=Symbol("DependsOnSlotContext"),fp=Symbol("ConsumesVars"),s1=Symbol("UsesVarOffset"),ao={[W3]:!0,numSlotsUsed:1},Pr={[BD]:!0},or={[fp]:!0};function hp(n){return n[W3]===!0}function Um(n){return n[BD]===!0}function LS(n){return n[fp]===!0}function tP(n){return n[s1]===!0}function so(n){return F({kind:x.Statement,statement:n},Re)}function sl(n,e,t,i){return F({kind:x.Variable,xref:n,variable:e,initializer:t,flags:i},Re)}var Re={debugListId:null,prev:null,next:null};function X7(n,e,t){return F(F(F({kind:x.InterpolateText,target:n,interpolation:e,sourceSpan:t},Pr),or),Re)}var on=class{strings;expressions;i18nPlaceholders;constructor(e,t,i){if(this.strings=e,this.expressions=t,this.i18nPlaceholders=i,i.length!==0&&i.length!==t.length)throw new Error(`Expected ${t.length} placeholders to match interpolation expression count, but got ${i.length}`)}};function Bc(n,e,t,i,r,o,s,a,l,c,d){return F({kind:x.Binding,bindingKind:e,target:n,name:t,expression:i,unit:r,securityContext:o,isTextAttribute:s,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:d},Re)}function J7(n,e,t,i,r,o,s,a,l,c){return F(F(F({kind:x.Property,target:n,name:e,expression:t,bindingKind:i,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:o,templateKind:s,i18nContext:a,i18nMessage:l,sourceSpan:c},Pr),or),Re)}function K7(n,e,t,i,r,o,s,a,l){return F(F(F({kind:x.TwoWayProperty,target:n,name:e,expression:t,securityContext:i,sanitizer:null,isStructuralTemplateAttribute:r,templateKind:o,i18nContext:s,i18nMessage:a,sourceSpan:l},Pr),or),Re)}function eH(n,e,t,i,r){return F(F(F({kind:x.StyleProp,target:n,name:e,expression:t,unit:i,sourceSpan:r},Pr),or),Re)}function tH(n,e,t,i){return F(F(F({kind:x.ClassProp,target:n,name:e,expression:t,sourceSpan:i},Pr),or),Re)}function nH(n,e,t){return F(F(F({kind:x.StyleMap,target:n,expression:e,sourceSpan:t},Pr),or),Re)}function iH(n,e,t){return F(F(F({kind:x.ClassMap,target:n,expression:e,sourceSpan:t},Pr),or),Re)}function rH(n,e,t,i,r,o,s,a,l,c){return F(F(F({kind:x.Attribute,target:n,namespace:e,name:t,expression:i,securityContext:r,sanitizer:null,isTextAttribute:o,isStructuralTemplateAttribute:s,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c},Pr),or),Re)}function oH(n,e){return F({kind:x.Advance,delta:n,sourceSpan:e},Re)}function G3(n,e,t,i){return F(F(F({kind:x.Conditional,target:n,test:e,conditions:t,processed:null,sourceSpan:i,contextValue:null},Re),Pr),or)}function sH(n,e,t,i){return F(F({kind:x.Repeater,target:n,targetSlot:e,collection:t,sourceSpan:i},Re),Pr)}function nP(n,e,t,i,r,o,s){return F({kind:x.AnimationBinding,name:n,target:e,animationKind:t,expression:i,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o,animationBindingKind:s},Re)}function aH(n,e,t,i){return F(F(F({kind:x.DeferWhen,target:n,expr:e,modifier:t,sourceSpan:i},Re),Pr),or)}function Q3(n,e,t,i,r,o,s,a,l,c,d){return F(F(F({kind:x.I18nExpression,context:n,target:e,i18nOwner:t,handle:i,expression:r,icuPlaceholder:o,i18nPlaceholder:s,resolutionTime:a,usage:l,name:c,sourceSpan:d},Re),or),Pr)}function lH(n,e,t){return F({kind:x.I18nApply,owner:n,handle:e,sourceSpan:t},Re)}function cH(n,e,t,i){return F(F(F({kind:x.StoreLet,target:n,declaredName:e,value:t,sourceSpan:i},Pr),or),Re)}function As(n){return n instanceof Et}var Et=class extends bt{constructor(e=null){super(null,e)}},ci=class n extends Et{name;kind=fe.LexicalRead;constructor(e){super(),this.name=e}visitExpression(e,t){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.name)}},D_=class n extends Et{target;targetSlot;offset;kind=fe.Reference;constructor(e,t,i){super(),this.target=e,this.targetSlot=t,this.offset=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot,this.offset)}},$m=class n extends Et{target;value;sourceSpan;kind=fe.StoreLet;[fp]=!0;[BD]=!0;constructor(e,t,i){super(),this.target=e,this.value=t,this.sourceSpan=i}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target&&e.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.value=re(this.value,e,t)}clone(){return new n(this.target,this.value,this.sourceSpan)}},Hm=class n extends Et{target;targetSlot;kind=fe.ContextLetReference;constructor(e,t){super(),this.target=e,this.targetSlot=t}visitExpression(){}isEquivalent(e){return e instanceof n&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.target,this.targetSlot)}},gl=class n extends Et{view;kind=fe.Context;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},RE=class n extends Et{view;kind=fe.TrackContext;constructor(e){super(),this.view=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n(this.view)}},A_=class n extends Et{kind=fe.NextContext;steps=1;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n;return e.steps=this.steps,e}},NE=class n extends Et{kind=fe.GetCurrentView;constructor(){super()}visitExpression(){}isEquivalent(e){return e instanceof n}isConstant(){return!1}transformInternalExpressions(){}clone(){return new n}},T_=class n extends Et{view;kind=fe.RestoreView;constructor(e){super(),this.view=e}visitExpression(e,t){typeof this.view!="number"&&this.view.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,t){typeof this.view!="number"&&(this.view=re(this.view,e,t))}clone(){return new n(this.view instanceof bt?this.view.clone():this.view)}},PE=class n extends Et{expr;kind=fe.ResetView;constructor(e){super(),this.expr=e}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=re(this.expr,e,t)}clone(){return new n(this.expr.clone())}},I_=class n extends Et{target;value;kind=fe.TwoWayBindingSet;constructor(e,t){super(),this.target=e,this.value=t}visitExpression(e,t){this.target.visitExpression(e,t),this.value.visitExpression(e,t)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,t){this.target=re(this.target,e,t),this.value=re(this.value,e,t)}clone(){return new n(this.target,this.value)}},ga=class n extends Et{xref;kind=fe.ReadVariable;name=null;constructor(e){super(),this.xref=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new n(this.xref);return e.name=this.name,e}},Vc=class n extends Et{kind=fe.PureFunctionExpr;[fp]=!0;[s1]=!0;varOffset=null;body;args;fn=null;constructor(e,t){super(),this.body=e,this.args=t}visitExpression(e,t){this.body?.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(e){return!(e instanceof n)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((t,i)=>t.isEquivalent(this.args[i]))}isConstant(){return!1}transformInternalExpressions(e,t){this.body!==null?this.body=re(this.body,e,t|ct.InChildOperation):this.fn!==null&&(this.fn=re(this.fn,e,t));for(let i=0;i<this.args.length;i++)this.args[i]=re(this.args[i],e,t)}clone(){let e=new n(this.body?.clone()??null,this.args.map(t=>t.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},rp=class n extends Et{index;kind=fe.PureFunctionParameterExpr;constructor(e){super(),this.index=e}visitExpression(){}isEquivalent(e){return e instanceof n&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new n(this.index)}},jc=class n extends Et{target;targetSlot;name;args;kind=fe.PipeBinding;[fp]=!0;[s1]=!0;varOffset=null;constructor(e,t,i,r){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r}visitExpression(e,t){for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){for(let i=0;i<this.args.length;i++)this.args[i]=re(this.args[i],e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.map(t=>t.clone()));return e.varOffset=this.varOffset,e}},zm=class n extends Et{target;targetSlot;name;args;numArgs;kind=fe.PipeBindingVariadic;[fp]=!0;[s1]=!0;varOffset=null;constructor(e,t,i,r,o){super(),this.target=e,this.targetSlot=t,this.name=i,this.args=r,this.numArgs=o}visitExpression(e,t){this.args.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.args=re(this.args,e,t)}clone(){let e=new n(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},op=class n extends Et{receiver;name;kind=fe.SafePropertyRead;constructor(e,t){super(),this.receiver=e,this.name=t}get index(){return this.name}visitExpression(e,t){this.receiver.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=re(this.receiver,e,t)}clone(){return new n(this.receiver.clone(),this.name)}},sp=class n extends Et{receiver;index;kind=fe.SafeKeyedRead;constructor(e,t,i){super(i),this.receiver=e,this.index=t}visitExpression(e,t){this.receiver.visitExpression(e,t),this.index.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=re(this.receiver,e,t),this.index=re(this.index,e,t)}clone(){return new n(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},qc=class n extends Et{receiver;args;kind=fe.SafeInvokeFunction;constructor(e,t){super(),this.receiver=e,this.args=t}visitExpression(e,t){this.receiver.visitExpression(e,t);for(let i of this.args)i.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.receiver=re(this.receiver,e,t);for(let i=0;i<this.args.length;i++)this.args[i]=re(this.args[i],e,t)}clone(){return new n(this.receiver.clone(),this.args.map(e=>e.clone()))}},ap=class n extends Et{guard;expr;kind=fe.SafeTernaryExpr;constructor(e,t){super(),this.guard=e,this.expr=t}visitExpression(e,t){this.guard.visitExpression(e,t),this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.guard=re(this.guard,e,t),this.expr=re(this.expr,e,t)}clone(){return new n(this.guard.clone(),this.expr.clone())}},Wm=class n extends Et{kind=fe.EmptyExpr;visitExpression(e,t){}isEquivalent(e){return e instanceof n}isConstant(){return!0}clone(){return new n}transformInternalExpressions(){}},Ts=class n extends Et{expr;xref;kind=fe.AssignTemporaryExpr;name=null;constructor(e,t){super(),this.expr=e,this.xref=t}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,t){this.expr=re(this.expr,e,t)}clone(){let e=new n(this.expr.clone(),this.xref);return e.name=this.name,e}},vl=class n extends Et{xref;kind=fe.ReadTemporaryExpr;name=null;constructor(e){super(),this.xref=e}visitExpression(e,t){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,t){}clone(){let e=new n(this.xref);return e.name=this.name,e}},M_=class n extends Et{slot;kind=fe.SlotLiteralExpr;constructor(e){super(),this.slot=e}visitExpression(e,t){}isEquivalent(e){return e instanceof n&&e.slot===this.slot}isConstant(){return!0}clone(){return new n(this.slot)}transformInternalExpressions(){}},k_=class n extends Et{expr;target;targetSlot;alias;kind=fe.ConditionalCase;constructor(e,t,i,r=null){super(),this.expr=e,this.target=t,this.targetSlot=i,this.alias=r}visitExpression(e,t){this.expr!==null&&this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n&&e.expr===this.expr}isConstant(){return!0}clone(){return new n(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,t){this.expr!==null&&(this.expr=re(this.expr,e,t))}},Gm=class n extends Et{expr;kind=fe.ConstCollected;constructor(e){super(),this.expr=e}transformInternalExpressions(e,t){this.expr=e(this.expr,t)}visitExpression(e,t){this.expr.visitExpression(e,t)}isEquivalent(e){return e instanceof n?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new n(this.expr)}};function Wn(n,e){_n(n,(t,i)=>(e(t,i),t),ct.None)}var ct=(function(n){return n[n.None=0]="None",n[n.InChildOperation=1]="InChildOperation",n})(ct||{});function BS(n,e,t){for(let i=0;i<n.expressions.length;i++)n.expressions[i]=re(n.expressions[i],e,t)}function _n(n,e,t){switch(n.kind){case x.StyleProp:case x.StyleMap:case x.ClassProp:case x.ClassMap:case x.AnimationString:case x.AnimationBinding:case x.Binding:n.expression instanceof on?BS(n.expression,e,t):n.expression=re(n.expression,e,t);break;case x.Property:case x.DomProperty:case x.Attribute:n.expression instanceof on?BS(n.expression,e,t):n.expression=re(n.expression,e,t),n.sanitizer=n.sanitizer&&re(n.sanitizer,e,t);break;case x.TwoWayProperty:n.expression=re(n.expression,e,t),n.sanitizer=n.sanitizer&&re(n.sanitizer,e,t);break;case x.I18nExpression:n.expression=re(n.expression,e,t);break;case x.InterpolateText:BS(n.interpolation,e,t);break;case x.Statement:R_(n.statement,e,t);break;case x.Variable:n.initializer=re(n.initializer,e,t);break;case x.Conditional:for(let i of n.conditions)i.expr!==null&&(i.expr=re(i.expr,e,t));n.processed!==null&&(n.processed=re(n.processed,e,t)),n.contextValue!==null&&(n.contextValue=re(n.contextValue,e,t));break;case x.Animation:case x.AnimationListener:case x.Listener:case x.TwoWayListener:for(let i of n.handlerOps)_n(i,e,t|ct.InChildOperation);break;case x.ExtractedAttribute:n.expression=n.expression&&re(n.expression,e,t),n.trustedValueFn=n.trustedValueFn&&re(n.trustedValueFn,e,t);break;case x.RepeaterCreate:if(n.trackByOps===null)n.track=re(n.track,e,t);else for(let i of n.trackByOps)_n(i,e,t|ct.InChildOperation);n.trackByFn!==null&&(n.trackByFn=re(n.trackByFn,e,t));break;case x.Repeater:n.collection=re(n.collection,e,t);break;case x.Defer:n.loadingConfig!==null&&(n.loadingConfig=re(n.loadingConfig,e,t)),n.placeholderConfig!==null&&(n.placeholderConfig=re(n.placeholderConfig,e,t)),n.resolverFn!==null&&(n.resolverFn=re(n.resolverFn,e,t));break;case x.I18nMessage:for(let[i,r]of n.params)n.params.set(i,re(r,e,t));for(let[i,r]of n.postprocessingParams)n.postprocessingParams.set(i,re(r,e,t));break;case x.DeferWhen:n.expr=re(n.expr,e,t);break;case x.StoreLet:n.value=re(n.value,e,t);break;case x.Advance:case x.Container:case x.ContainerEnd:case x.ContainerStart:case x.DeferOn:case x.DisableBindings:case x.Element:case x.ElementEnd:case x.ElementStart:case x.EnableBindings:case x.I18n:case x.I18nApply:case x.I18nContext:case x.I18nEnd:case x.I18nStart:case x.IcuEnd:case x.IcuStart:case x.Namespace:case x.Pipe:case x.Projection:case x.ProjectionDef:case x.Template:case x.Text:case x.I18nAttributes:case x.IcuPlaceholder:case x.DeclareLet:case x.SourceLocation:case x.ConditionalCreate:case x.ConditionalBranchCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${x[n.kind]}`)}}function re(n,e,t){if(n instanceof Et)n.transformInternalExpressions(e,t);else if(n instanceof nt)n.lhs=re(n.lhs,e,t),n.rhs=re(n.rhs,e,t);else if(n instanceof kc)n.expr=re(n.expr,e,t);else if(n instanceof Rr)n.receiver=re(n.receiver,e,t);else if(n instanceof va)n.receiver=re(n.receiver,e,t),n.index=re(n.index,e,t);else if(n instanceof rr){n.fn=re(n.fn,e,t);for(let i=0;i<n.args.length;i++)n.args[i]=re(n.args[i],e,t)}else if(n instanceof Lo)for(let i=0;i<n.entries.length;i++)n.entries[i]=re(n.entries[i],e,t);else if(n instanceof ws)for(let i=0;i<n.entries.length;i++)n.entries[i].value=re(n.entries[i].value,e,t);else if(n instanceof xs)n.condition=re(n.condition,e,t),n.trueCase=re(n.trueCase,e,t),n.falseCase!==null&&(n.falseCase=re(n.falseCase,e,t));else if(n instanceof Wd)n.expr=re(n.expr,e,t);else if(n instanceof Gy)n.expr=re(n.expr,e,t);else if(n instanceof Yy)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=re(n.expressions[i],e,t);else if(n instanceof hm)n.condition=re(n.condition,e,t);else if(n instanceof dm)n.tag=re(n.tag,e,t),n.template.expressions=n.template.expressions.map(i=>re(i,e,t));else if(n instanceof Mc)if(Array.isArray(n.body))for(let i=0;i<n.body.length;i++)R_(n.body[i],e,t);else n.body=re(n.body,e,t);else if(!(n instanceof Xe)){if(n instanceof fm)for(let i=0;i<n.expressions.length;i++)n.expressions[i]=re(n.expressions[i],e,t);else if(n instanceof Fo)n.expr=re(n.expr,e,t);else if(!(n instanceof io||n instanceof Ic||n instanceof hi))throw new Error(`Unhandled expression kind: ${n.constructor.name}`)}return e(n,t)}function R_(n,e,t){if(n instanceof ro)n.expr=re(n.expr,e,t);else if(n instanceof pi)n.value=re(n.value,e,t);else if(n instanceof kn)n.value!==void 0&&(n.value=re(n.value,e,t));else if(n instanceof Xy){n.condition=re(n.condition,e,t);for(let i of n.trueCase)R_(i,e,t);for(let i of n.falseCase)R_(i,e,t)}else throw new Error(`Unhandled statement kind: ${n.constructor.name}`)}function Y3(n){return n instanceof hi&&typeof n.value=="string"}var G=(()=>{class n{static nextListId=0;debugListId=n.nextListId++;head={kind:x.ListEnd,next:null,prev:null,debugListId:this.debugListId};tail={kind:x.ListEnd,next:null,prev:null,debugListId:this.debugListId};constructor(){this.head.next=this.tail,this.tail.prev=this.head}push(t){if(Array.isArray(t)){for(let r of t)this.push(r);return}n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=this.debugListId;let i=this.tail.prev;t.prev=i,i.next=t,t.next=this.tail,this.tail.prev=t}prepend(t){if(t.length===0)return;for(let o of t)n.assertIsNotEnd(o),n.assertIsUnowned(o),o.debugListId=this.debugListId;let i=this.head.next,r=this.head;for(let o of t)r.next=o,o.prev=r,r=o;r.next=i,i.prev=r}*[Symbol.iterator](){let t=this.head.next;for(;t!==this.tail;){n.assertIsOwned(t,this.debugListId);let i=t.next;yield t,t=i}}*reversed(){let t=this.tail.prev;for(;t!==this.head;){n.assertIsOwned(t,this.debugListId);let i=t.prev;yield t,t=i}}static replace(t,i){n.assertIsNotEnd(t),n.assertIsNotEnd(i),n.assertIsOwned(t),n.assertIsUnowned(i),i.debugListId=t.debugListId,t.prev!==null&&(t.prev.next=i,i.prev=t.prev),t.next!==null&&(t.next.prev=i,i.next=t.next),t.debugListId=null,t.prev=null,t.next=null}static replaceWithMany(t,i){if(i.length===0){n.remove(t);return}n.assertIsNotEnd(t),n.assertIsOwned(t);let r=t.debugListId;t.debugListId=null;for(let d of i)n.assertIsNotEnd(d),n.assertIsUnowned(d);let{prev:o,next:s}=t;t.prev=null,t.next=null;let a=o;for(let d of i)n.assertIsUnowned(d),d.debugListId=r,a.next=d,d.prev=a,d.next=null,a=d;let l=i[0],c=a;o!==null&&(o.next=l,l.prev=o),s!==null&&(s.prev=c,c.next=s)}static remove(t){n.assertIsNotEnd(t),n.assertIsOwned(t),t.prev.next=t.next,t.next.prev=t.prev,t.debugListId=null,t.prev=null,t.next=null}static insertBefore(t,i){if(Array.isArray(t)){for(let r of t)n.insertBefore(r,i);return}if(n.assertIsOwned(i),i.prev===null)throw new Error("AssertionError: illegal operation on list start");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,t.prev=null,i.prev.next=t,t.prev=i.prev,t.next=i,i.prev=t}static insertAfter(t,i){if(n.assertIsOwned(i),i.next===null)throw new Error("AssertionError: illegal operation on list end");n.assertIsNotEnd(t),n.assertIsUnowned(t),t.debugListId=i.debugListId,i.next.prev=t,t.next=i.next,t.prev=i,i.next=t}static assertIsUnowned(t){if(t.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${x[t.kind]}`)}static assertIsOwned(t,i){if(t.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${x[t.kind]}`);if(i!==void 0&&t.debugListId!==i)throw new Error(`AssertionError: node belongs to the wrong list (expected ${i}, actual ${t.debugListId})`)}static assertIsNotEnd(t){if(t.kind===x.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}}return n})(),mi=class{slot=null},uH=new Set([x.Element,x.ElementStart,x.Container,x.ContainerStart,x.Template,x.RepeaterCreate,x.ConditionalCreate,x.ConditionalBranchCreate]);function ya(n){return uH.has(n.kind)}function dH(n,e,t,i,r,o){return F(F({kind:x.ElementStart,xref:e,tag:n,handle:new mi,attributes:null,localRefs:[],nonBindable:!1,namespace:t,i18nPlaceholder:i,startSourceSpan:r,wholeSourceSpan:o},ao),Re)}function Z3(n,e,t,i,r,o,s,a){return F(F({kind:x.Template,xref:n,templateKind:e,attributes:null,tag:t,handle:new mi,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},ao),Re)}function X3(n,e,t,i,r,o,s,a){return F(F({kind:x.ConditionalCreate,xref:n,templateKind:e,attributes:null,tag:t,handle:new mi,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},ao),Re)}function J3(n,e,t,i,r,o,s,a){return F(F({kind:x.ConditionalBranchCreate,xref:n,templateKind:e,attributes:null,tag:t,handle:new mi,functionNameSuffix:i,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:o,startSourceSpan:s,wholeSourceSpan:a},ao),Re)}function pH(n,e,t,i,r,o,s,a,l,c){return J(F(F(F({kind:x.RepeaterCreate,attributes:null,xref:n,handle:new mi,emptyView:e,track:i,trackByFn:null,trackByOps:null,tag:t,emptyTag:o,emptyAttributes:null,functionNameSuffix:"For",namespace:Ai.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:r,usesComponentInstance:!1,i18nPlaceholder:s,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c},ao),Re),or),{numSlotsUsed:e===null?2:3})}function fH(n,e){return F({kind:x.ElementEnd,xref:n,sourceSpan:e},Re)}function hH(n){return F({kind:x.DisableBindings,xref:n},Re)}function mH(n){return F({kind:x.EnableBindings,xref:n},Re)}function K3(n,e,t,i){return F(F({kind:x.Text,xref:n,handle:new mi,initialValue:e,icuPlaceholder:t,sourceSpan:i},ao),Re)}function gH(n,e,t,i,r,o){return F({kind:x.AnimationString,name:n,target:e,animationKind:t,expression:i,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o},Re)}function vH(n,e,t,i,r,o){let s=new G;return s.push(i),F({kind:x.Animation,name:n,target:e,animationKind:t,handlerOps:s,handlerFnName:null,i18nMessage:null,securityContext:r,sanitizer:null,sourceSpan:o},Re)}function VD(n,e,t,i,r,o,s,a,l){let c=new G;return c.push(r),F({kind:x.Listener,target:n,targetSlot:e,tag:i,hostListener:a,name:t,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:o!==null,legacyAnimationPhase:o,eventTarget:s,sourceSpan:l},Re)}function eO(n,e,t,i,r,o,s,a,l){let c=new G;return c.push(r),F({kind:x.AnimationListener,target:n,targetSlot:e,tag:i,hostListener:a,name:t,animationKind:o,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,eventTarget:s,sourceSpan:l},Re)}function tO(n,e,t,i,r,o){let s=new G;return s.push(r),F({kind:x.TwoWayListener,target:n,targetSlot:e,tag:i,name:t,handlerOps:s,handlerFnName:null,sourceSpan:o},Re)}function nO(n,e,t){return F(F({kind:x.Pipe,xref:n,handle:e,name:t},Re),ao)}function yH(n){return F({kind:x.Namespace,active:n},Re)}function _H(n){return F({kind:x.ProjectionDef,def:n},Re)}function bH(n,e,t,i,r){return J(F(F({kind:x.Projection,xref:n,handle:new mi,selector:e,i18nPlaceholder:t,fallbackView:i,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:r},Re),ao),{numSlotsUsed:i===null?1:2})}function Kr(n,e,t,i,r,o,s,a){return F({kind:x.ExtractedAttribute,target:n,bindingKind:e,namespace:t,name:i,expression:r,i18nContext:o,i18nMessage:s,securityContext:a,trustedValueFn:null},Re)}function CH(n,e,t,i,r,o){return J(F(F({kind:x.Defer,xref:n,handle:new mi,mainView:e,mainSlot:t,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:i,resolverFn:r,flags:null,sourceSpan:o},Re),ao),{numSlotsUsed:2})}function il(n,e,t,i){return F({kind:x.DeferOn,defer:n,trigger:e,modifier:t,sourceSpan:i},Re)}function xH(n,e,t){return F(F({kind:x.DeclareLet,xref:n,declaredName:e,sourceSpan:t,handle:new mi},ao),Re)}function wH(n,e,t,i,r,o,s,a){return F({kind:x.I18nMessage,xref:n,i18nContext:e,i18nBlock:t,message:i,messagePlaceholder:r,params:o,postprocessingParams:s,needsPostprocessing:a,subMessages:[]},Re)}function a1(n,e,t,i){return F(F({kind:x.I18nStart,xref:n,handle:new mi,root:t??n,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:i},Re),ao)}function l1(n,e){return F({kind:x.I18nEnd,xref:n,sourceSpan:e},Re)}function SH(n,e,t,i){return F({kind:x.IcuStart,xref:n,message:e,messagePlaceholder:t,context:null,sourceSpan:i},Re)}function EH(n){return F({kind:x.IcuEnd,xref:n},Re)}function DH(n,e,t){return F({kind:x.IcuPlaceholder,xref:n,name:e,strings:t,expressionPlaceholders:[]},Re)}function VS(n,e,t,i,r){if(t===null&&n!==Cc.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return F({kind:x.I18nContext,contextKind:n,xref:e,i18nBlock:t,message:i,sourceSpan:r,params:new Map,postprocessingParams:new Map},Re)}function iO(n,e,t){return F(F({kind:x.I18nAttributes,xref:n,handle:e,target:t,i18nAttributesConfig:null},Re),ao)}function AH(n,e){return F({kind:x.SourceLocation,templatePath:n,locations:e},Re)}function TH(n,e,t,i,r,o){return F(F({kind:x.DomProperty,name:n,expression:e,bindingKind:t,i18nContext:i,securityContext:r,sanitizer:null,sourceSpan:o},or),Re)}var rO="CTX_REF_MARKER",ne=(function(n){return n[n.Tmpl=0]="Tmpl",n[n.Host=1]="Host",n[n.Both=2]="Both",n})(ne||{}),wr=(function(n){return n[n.Full=0]="Full",n[n.DomOnly=1]="DomOnly",n})(wr||{}),N_=class{componentName;pool;compatibility;mode;constructor(e,t,i,r){this.componentName=e,this.pool=t,this.compatibility=i,this.mode=r}kind=ne.Both;allocateXrefId(){return this.nextXrefId++}nextXrefId=0},Qm=class extends N_{relativeContextFilePath;i18nUseExternalIds;deferMeta;allDeferrableDepsFn;relativeTemplatePath;enableDebugLocations;constructor(e,t,i,r,o,s,a,l,c,d){super(e,t,i,r),this.relativeContextFilePath=o,this.i18nUseExternalIds=s,this.deferMeta=a,this.allDeferrableDepsFn=l,this.relativeTemplatePath=c,this.enableDebugLocations=d,this.root=new eo(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}kind=ne.Tmpl;fnSuffix="Template";root;views=new Map;contentSelectors=null;allocateView(e){let t=new eo(this,this.allocateXrefId(),e);return this.views.set(t.xref,t),t}get units(){return this.views.values()}addConst(e,t){for(let r=0;r<this.consts.length;r++)if(this.consts[r].isEquivalent(e))return r;let i=this.consts.length;return this.consts.push(e),t&&this.constsInitializers.push(...t),i}consts=[];constsInitializers=[]},P_=class{xref;constructor(e){this.xref=e}create=new G;update=new G;fnName=null;vars=null;*ops(){for(let e of this.create)if(yield e,e.kind===x.Listener||e.kind===x.Animation||e.kind===x.AnimationListener||e.kind===x.TwoWayListener)for(let t of e.handlerOps)yield t;else if(e.kind===x.RepeaterCreate&&e.trackByOps!==null)for(let t of e.trackByOps)yield t;for(let e of this.update)yield e}},eo=class extends P_{job;parent;constructor(e,t,i){super(t),this.job=e,this.parent=i}contextVariables=new Map;aliases=new Set;decls=null},O_=class extends N_{constructor(e,t,i,r){super(e,t,i,r),this.root=new OE(this)}kind=ne.Host;fnSuffix="HostBindings";root;get units(){return[this.root]}},OE=class extends P_{job;constructor(e){super(0),this.job=e}attributes=null};function IH(n){for(let e of n.units)for(let t of e.ops())_n(t,MH,ct.None)}function MH(n){if(n instanceof rr&&n.fn instanceof ci&&n.fn.name==="$any"){if(n.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return n.args[0]}return n}function kH(n){let e=new Map;for(let t of n.units)for(let i of t.create)i.kind===x.I18nContext&&e.set(i.xref,i);for(let t of n.units)for(let i of t.update)i.kind===x.I18nExpression&&RH(e,i)&&G.insertAfter(lH(i.i18nOwner,i.handle,null),i)}function RH(n,e){if(e.next?.kind!==x.I18nExpression)return!0;let t=n.get(e.context),i=n.get(e.next.context);if(t===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(i===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return t.i18nBlock!==null?t.i18nBlock!==i.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function NH(n){for(let e of n.units){let t=e.update.head,i=[],r=null;for(let o of e.create){if(o.kind===x.I18nStart)r={blockXref:o.xref,lastSlotConsumer:o.xref};else if(o.kind===x.I18nEnd){for(let s of i)s.target=r.lastSlotConsumer,G.insertBefore(s,t);i.length=0,r=null}if(hp(o))for(r!==null&&(r.lastSlotConsumer=o.xref);t.next!==null;){if(r!==null&&t.kind===x.I18nExpression&&t.usage===pp.I18nText&&t.i18nOwner===r.blockXref){let a=t;t=t.next,G.remove(a),i.push(a);continue}let s=!1;if(Um(t)&&t.target!==o.xref?s=!0:(t.kind===x.Statement||t.kind===x.Variable)&&Wn(t,a=>{!s&&Um(a)&&a.target!==o.xref&&(s=!0)}),s)break;t=t.next}}}}function PH(n){if(!(!n.enableDebugLocations||n.relativeTemplatePath===null))for(let e of n.units){let t=[];for(let i of e.create)if(i.kind===x.ElementStart||i.kind===x.Element){let r=i.startSourceSpan.start;t.push({targetSlot:i.handle,offset:r.offset,line:r.line,column:r.col})}t.length>0&&e.create.push(AH(n.relativeTemplatePath,t))}}function jD(n){let e=new Map;for(let t of n.create)hp(t)&&(e.set(t.xref,t),t.kind===x.RepeaterCreate&&t.emptyView!==null&&e.set(t.emptyView,t));return e}function OH(n){for(let e of n.units){let t=jD(e);for(let i of e.ops())switch(i.kind){case x.Attribute:FH(e,i,t);break;case x.Property:if(i.bindingKind!==ae.LegacyAnimation&&i.bindingKind!==ae.Animation){let r;i.i18nMessage!==null&&i.templateKind===null?r=ae.I18n:i.isStructuralTemplateAttribute?r=ae.Template:r=ae.Property,G.insertBefore(Kr(i.target,r,null,i.name,null,null,null,i.securityContext),Pd(t,i.target))}break;case x.TwoWayProperty:G.insertBefore(Kr(i.target,ae.TwoWayProperty,null,i.name,null,null,null,i.securityContext),Pd(t,i.target));break;case x.StyleProp:case x.ClassProp:e.job.compatibility===Nr.TemplateDefinitionBuilder&&i.expression instanceof Wm&&G.insertBefore(Kr(i.target,ae.Property,null,i.name,null,null,null,Ot.STYLE),Pd(t,i.target));break;case x.Listener:if(!i.isLegacyAnimationListener){let r=Kr(i.target,ae.Property,null,i.name,null,null,null,Ot.NONE);if(n.kind===ne.Host){if(n.compatibility)break;e.create.push(r)}else G.insertBefore(r,Pd(t,i.target))}break;case x.TwoWayListener:if(n.kind!==ne.Host){let r=Kr(i.target,ae.Property,null,i.name,null,null,null,Ot.NONE);G.insertBefore(r,Pd(t,i.target))}break}}}function Pd(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function FH(n,e,t){if(e.expression instanceof on)return;let i=e.isTextAttribute||e.expression.isConstant();if(n.job.compatibility===Nr.TemplateDefinitionBuilder&&(i&&=e.isTextAttribute),i){let r=Kr(e.target,e.isStructuralTemplateAttribute?ae.Template:ae.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(n.job.kind===ne.Host)n.create.push(r);else{let o=Pd(t,e.target);G.insertBefore(r,o)}G.remove(e)}}function LH(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function BH(n){let e=new Map;for(let t of n.units)for(let i of t.create)ya(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.ops())if(i.kind===x.Binding)switch(i.bindingKind){case ae.Attribute:if(i.name==="ngNonBindable"){G.remove(i);let r=LH(e,i.target);r.nonBindable=!0}else if(i.name.startsWith("animate."))G.replace(i,nP(i.name,i.target,i.name==="animate.enter"?"enter":"leave",i.expression,i.securityContext,i.sourceSpan,0));else{let[r,o]=Vo(i.name);G.replace(i,rH(i.target,r,o,i.expression,i.securityContext,i.isTextAttribute,i.isStructuralTemplateAttribute,i.templateKind,i.i18nMessage,i.sourceSpan))}break;case ae.Animation:G.replace(i,nP(i.name,i.target,i.name==="animate.enter"?"enter":"leave",i.expression,i.securityContext,i.sourceSpan,1));break;case ae.Property:case ae.LegacyAnimation:n.kind===ne.Host?G.replace(i,TH(i.name,i.expression,i.bindingKind,i.i18nContext,i.securityContext,i.sourceSpan)):G.replace(i,J7(i.target,i.name,i.expression,i.bindingKind,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case ae.TwoWayProperty:if(!(i.expression instanceof bt))throw new Error(`Expected value of two-way property binding "${i.name}" to be an expression`);G.replace(i,K7(i.target,i.name,i.expression,i.securityContext,i.isStructuralTemplateAttribute,i.templateKind,i.i18nContext,i.i18nMessage,i.sourceSpan));break;case ae.I18n:case ae.ClassName:case ae.StyleProperty:throw new Error(`Unhandled binding of kind ${ae[i.bindingKind]}`)}}var iP=new Map([[P.ariaProperty,P.ariaProperty],[P.attribute,P.attribute],[P.classProp,P.classProp],[P.element,P.element],[P.elementContainer,P.elementContainer],[P.elementContainerEnd,P.elementContainerEnd],[P.elementContainerStart,P.elementContainerStart],[P.elementEnd,P.elementEnd],[P.elementStart,P.elementStart],[P.domProperty,P.domProperty],[P.i18nExp,P.i18nExp],[P.listener,P.listener],[P.listener,P.listener],[P.property,P.property],[P.styleProp,P.styleProp],[P.syntheticHostListener,P.syntheticHostListener],[P.syntheticHostProperty,P.syntheticHostProperty],[P.templateCreate,P.templateCreate],[P.twoWayProperty,P.twoWayProperty],[P.twoWayListener,P.twoWayListener],[P.declareLet,P.declareLet],[P.conditionalCreate,P.conditionalBranchCreate],[P.conditionalBranchCreate,P.conditionalBranchCreate],[P.domElement,P.domElement],[P.domElementStart,P.domElementStart],[P.domElementEnd,P.domElementEnd],[P.domElementContainer,P.domElementContainer],[P.domElementContainerStart,P.domElementContainerStart],[P.domElementContainerEnd,P.domElementContainerEnd],[P.domListener,P.domListener],[P.domTemplate,P.domTemplate],[P.animationEnter,P.animationEnter],[P.animationLeave,P.animationLeave],[P.animationEnterListener,P.animationEnterListener],[P.animationLeaveListener,P.animationLeaveListener]]),VH=256;function jH(n){for(let e of n.units)rP(e.create),rP(e.update)}function rP(n){let e=null;for(let t of n){if(t.kind!==x.Statement||!(t.statement instanceof ro)){e=null;continue}if(!(t.statement.expr instanceof rr)||!(t.statement.expr.fn instanceof Ic)){e=null;continue}let i=t.statement.expr.fn.value;if(!iP.has(i)){e=null;continue}if(e!==null&&iP.get(e.instruction)===i&&e.length<VH){let r=e.expression.callFn(t.statement.expr.args,t.statement.expr.sourceSpan,t.statement.expr.pure);e.expression=r,e.op.statement=r.toStmt(),e.length++,G.remove(t)}else e={op:t,instruction:i,expression:t.statement.expr,length:1}}}function qH(n){for(let e of n.units)for(let t of e.update)(t.kind===x.Attribute||t.kind===x.StyleProp||t.kind==x.StyleMap||t.kind===x.ClassMap)&&t.expression instanceof on&&t.expression.strings.length===2&&t.expression.strings.every(r=>r==="")&&(t.expression=t.expression.expressions[0])}function UH(n){for(let e of n.units)for(let t of e.ops()){if(t.kind!==x.Conditional)continue;let i,r=t.conditions.findIndex(a=>a.expr===null);if(r>=0){let a=t.conditions.splice(r,1)[0].targetSlot;i=new M_(a)}else i=$(-1);let o=t.test==null?null:new Ts(t.test,n.allocateXrefId()),s=null;for(let a=t.conditions.length-1;a>=0;a--){let l=t.conditions[a];if(l.expr!==null){if(o!==null){let c=a===0?o:new vl(o.xref);l.expr=new nt(Z.Identical,c,l.expr)}else l.alias!==null&&(s??=n.allocateXrefId(),l.expr=new Ts(l.expr,s),t.contextValue=new vl(s));i=new xs(l.expr,new M_(l.targetSlot),i)}}t.processed=i,t.conditions=[]}}var $H=new Map([["&&",Z.And],[">",Z.Bigger],[">=",Z.BiggerEquals],["|",Z.BitwiseOr],["&",Z.BitwiseAnd],["/",Z.Divide],["=",Z.Assign],["==",Z.Equals],["===",Z.Identical],["<",Z.Lower],["<=",Z.LowerEquals],["-",Z.Minus],["%",Z.Modulo],["**",Z.Exponentiation],["*",Z.Multiply],["!=",Z.NotEquals],["!==",Z.NotIdentical],["??",Z.NullishCoalesce],["||",Z.Or],["+",Z.Plus],["in",Z.In],["+=",Z.AdditionAssignment],["-=",Z.SubtractionAssignment],["*=",Z.MultiplicationAssignment],["/=",Z.DivisionAssignment],["%=",Z.RemainderAssignment],["**=",Z.ExponentiationAssignment],["&&=",Z.AndAssignment],["||=",Z.OrAssignment],["??=",Z.NullishCoalesceAssignment]]);function oO(n){let e=new Map([["svg",Ai.SVG],["math",Ai.Math]]);return n===null?Ai.HTML:e.get(n)??Ai.HTML}function HH(n){let e=new Map([["svg",Ai.SVG],["math",Ai.Math]]);for(let[t,i]of e.entries())if(i===n)return t;return null}function zH(n,e){return e===Ai.HTML?n:`:${HH(e)}:${n}`}function lp(n){return Array.isArray(n)?mt(n.map(lp)):$(n)}function WH(n){let e=new Map;for(let t of n.units)for(let i of t.create)if(i.kind===x.ExtractedAttribute){let r=e.get(i.target)||new FE(n.compatibility);e.set(i.target,r),r.add(i.bindingKind,i.name,i.expression,i.namespace,i.trustedValueFn),G.remove(i)}if(n instanceof Qm)for(let t of n.units)for(let i of t.create)if(i.kind==x.Projection){let r=e.get(i.xref);if(r!==void 0){let o=LE(r);o.entries.length>0&&(i.attributes=o)}}else ya(i)&&(i.attributes=oP(n,e,i.xref),i.kind===x.RepeaterCreate&&i.emptyView!==null&&(i.emptyAttributes=oP(n,e,i.emptyView)));else if(n instanceof O_)for(let[t,i]of e.entries()){if(t!==n.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let r=LE(i);r.entries.length>0&&(n.root.attributes=r)}}function oP(n,e,t){let i=e.get(t);if(i!==void 0){let r=LE(i);if(r.entries.length>0)return n.addConst(r)}return null}var Td=Object.freeze([]),FE=class{compatibility;known=new Map;byKind=new Map;propertyBindings=null;projectAs=null;get attributes(){return this.byKind.get(ae.Attribute)??Td}get classes(){return this.byKind.get(ae.ClassName)??Td}get styles(){return this.byKind.get(ae.StyleProperty)??Td}get bindings(){return this.propertyBindings??Td}get template(){return this.byKind.get(ae.Template)??Td}get i18n(){return this.byKind.get(ae.I18n)??Td}constructor(e){this.compatibility=e}isKnown(e,t){let i=this.known.get(e)??new Set;return this.known.set(e,i),i.has(t)?!0:(i.add(t),!1)}add(e,t,i,r,o){if(!(this.compatibility===Nr.TemplateDefinitionBuilder&&(e===ae.Attribute||e===ae.ClassName||e===ae.StyleProperty))&&this.isKnown(e,t))return;if(t==="ngProjectAs"){if(i===null||!(i instanceof hi)||i.value==null||typeof i.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=i.value.toString()}let a=this.arrayFor(e);if(a.push(...GH(r,t)),e===ae.Attribute||e===ae.StyleProperty){if(i===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(o!==null){if(!Y3(i))throw Error("AssertionError: extracted attribute value should be string literal");a.push(u$(o,new fm([new Qy(i.value)],[]),void 0,i.sourceSpan))}else a.push(i)}}arrayFor(e){return e===ae.Property||e===ae.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function GH(n,e){let t=$(e);return n?[$(0),$(n),t]:[t]}function LE({attributes:n,bindings:e,classes:t,i18n:i,projectAs:r,styles:o,template:s}){let a=[...n];if(r!==null){let l=SD(r)[0];a.push($(5),lp(l))}return t.length>0&&a.push($(1),...t),o.length>0&&a.push($(2),...o),e.length>0&&a.push($(3),...e),s.length>0&&a.push($(4),...s),i.length>0&&a.push($(6),...i),mt(a)}function QH(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function YH(n){let e=new Map;for(let t of n.units)for(let i of t.create)ya(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.ops())if(i.kind===x.AnimationBinding){let r=ZH(i);n.kind===ne.Host?t.create.push(r):G.insertAfter(r,QH(e,i.target)),G.remove(i)}}function ZH(n){if(n.animationBindingKind===0)return gH(n.name,n.target,n.name==="animate.enter"?"enter":"leave",n.expression,n.securityContext,n.sourceSpan);{let e=n.expression;return vH(n.name,n.target,n.name==="animate.enter"?"enter":"leave",[so(new pi(e,e.sourceSpan))],n.securityContext,n.sourceSpan)}}function XH(n){let e=new Map;for(let t of n.units){for(let i of t.create)i.kind===x.I18nAttributes&&e.set(i.target,i);for(let i of t.update)switch(i.kind){case x.Property:case x.Attribute:if(i.i18nContext===null||!(i.expression instanceof on))continue;let r=e.get(i.target);if(r===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(r.target!==i.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let o=[];for(let s=0;s<i.expression.expressions.length;s++){let a=i.expression.expressions[s];if(i.expression.i18nPlaceholders.length!==i.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${i.expression.i18nPlaceholders.length} placeholders and ${i.expression.expressions.length} expressions`);o.push(Q3(i.i18nContext,r.target,r.xref,r.handle,a,null,i.expression.i18nPlaceholders[s],qm.Creation,pp.I18nAttribute,i.name,i.sourceSpan))}G.replaceWithMany(i,o);break}}}function JH(n){let e=new Map;for(let r of n.units)for(let o of r.ops())switch(o.kind){case x.Binding:case x.Property:case x.Attribute:case x.ExtractedAttribute:if(o.i18nMessage===null)continue;if(!e.has(o.i18nMessage)){let s=VS(Cc.Attr,n.allocateXrefId(),null,o.i18nMessage,null);r.create.push(s),e.set(o.i18nMessage,s.xref)}o.i18nContext=e.get(o.i18nMessage);break}let t=new Map;for(let r of n.units)for(let o of r.create)switch(o.kind){case x.I18nStart:if(o.xref===o.root){let s=VS(Cc.RootI18n,n.allocateXrefId(),o.xref,o.message,null);r.create.push(s),o.context=s.xref,t.set(o.xref,s)}break}for(let r of n.units)for(let o of r.create)if(o.kind===x.I18nStart&&o.xref!==o.root){let s=t.get(o.root);if(s===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");o.context=s.xref,t.set(o.xref,s)}let i=null;for(let r of n.units)for(let o of r.create)switch(o.kind){case x.I18nStart:i=o;break;case x.I18nEnd:i=null;break;case x.IcuStart:if(i===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(o.message.id!==i.message.id){let s=VS(Cc.Icu,n.allocateXrefId(),i.root,o.message,null);r.create.push(s),o.context=s.xref}else o.context=i.context,t.get(i.xref).contextKind=Cc.Icu;break}}function KH(n){let e=new Map;for(let t of n.units)for(let i of t.update.reversed())if(i.kind===x.Binding&&i.isTextAttribute){let r=e.get(i.target)||new Set;r.has(i.name)&&n.compatibility===Nr.TemplateDefinitionBuilder&&(i.name==="style"||i.name==="class")&&G.remove(i),r.add(i.name),e.set(i.target,r)}}function e9(n){for(let e of n.units)for(let t of e.create)t.kind===x.Defer&&(t.placeholderMinimumTime!==null&&(t.placeholderConfig=new Gm(lp([t.placeholderMinimumTime]))),(t.loadingMinimumTime!==null||t.loadingAfterTime!==null)&&(t.loadingConfig=new Gm(lp([t.loadingMinimumTime,t.loadingAfterTime]))))}function t9(n){let e=new Map;function t(r){if(e.has(r.xref))return e.get(r.xref);let o=new n9;for(let s of r.create)if(!(!ya(s)||s.localRefs===null)){if(!Array.isArray(s.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of s.localRefs)a.target===""&&o.targets.set(a.name,{xref:s.xref,slot:s.handle})}return e.set(r.xref,o),o}function i(r,o,s){switch(o.trigger.kind){case St.Idle:case St.Never:case St.Immediate:case St.Timer:return;case St.Hover:case St.Interaction:case St.Viewport:if(o.trigger.targetName===null){if(s===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=n.views.get(s);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let d of c.create)if(hp(d)&&(ya(d)||d.kind===x.Projection)){o.trigger.targetXref=d.xref,o.trigger.targetView=s,o.trigger.targetSlotViewSteps=-1,o.trigger.targetSlot=d.handle;return}return}let a=s!==null?n.views.get(s):r,l=s!==null?-1:0;for(;a!==null;){let c=t(a);if(c.targets.has(o.trigger.targetName)){let{xref:d,slot:m}=c.targets.get(o.trigger.targetName);o.trigger.targetXref=d,o.trigger.targetView=a.xref,o.trigger.targetSlotViewSteps=l,o.trigger.targetSlot=m;return}a=a.parent!==null?n.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${o.trigger.kind} not handled`)}}for(let r of n.units){let o=new Map;for(let s of r.create)switch(s.kind){case x.Defer:o.set(s.xref,s);break;case x.DeferOn:let a=o.get(s.defer);i(r,s,s.modifier==="hydrate"?a.mainView:a.placeholderView);break}}}var n9=class{targets=new Map},i9=new Map([[x.ElementEnd,[x.ElementStart,x.Element]],[x.ContainerEnd,[x.ContainerStart,x.Container]],[x.I18nEnd,[x.I18nStart,x.I18n]]]),r9=new Set([x.Pipe]);function o9(n){for(let e of n.units)for(let t of e.create){let i=i9.get(t.kind);if(i===void 0)continue;let[r,o]=i,s=t.prev;for(;s!==null&&r9.has(s.kind);)s=s.prev;s!==null&&s.kind===r&&(s.kind=o,G.remove(t))}}function s9(n){for(let e of n.units)for(let t of e.ops())_n(t,i=>p9(i,{job:n}),ct.None),_n(t,f9,ct.None)}function xr(n){return n instanceof kc?xr(n.expr):n instanceof nt?xr(n.lhs)||xr(n.rhs):n instanceof xs?n.falseCase&&xr(n.falseCase)?!0:xr(n.condition)||xr(n.trueCase):n instanceof hm?xr(n.condition):n instanceof Ts?xr(n.expr):n instanceof Rr?xr(n.receiver):n instanceof va?xr(n.receiver)||xr(n.index):n instanceof Fo?xr(n.expr):n instanceof rr||n instanceof Lo||n instanceof ws||n instanceof qc||n instanceof jc}function a9(n){let e=new Set;return re(n,t=>(t instanceof Ts&&e.add(t.xref),t),ct.None),e}function l9(n,e,t){return re(n,i=>{if(i instanceof Ts&&e.has(i.xref)){let r=new vl(i.xref);return t.job.compatibility===Nr.TemplateDefinitionBuilder?new Ts(r,r.xref):r}return i},ct.None),n}function Id(n,e,t){let i;if(xr(n)){let r=t.job.allocateXrefId();i=[new Ts(n,r),new vl(r)]}else i=[n,n.clone()],l9(i[1],a9(i[0]),t);return new ap(i[0],e(i[1]))}function c9(n){return n instanceof op||n instanceof sp||n instanceof qc}function u9(n){return n instanceof Rr||n instanceof va||n instanceof rr}function sO(n){return c9(n)||u9(n)}function d9(n){if(sO(n)&&n.receiver instanceof ap){let e=n.receiver;for(;e.expr instanceof ap;)e=e.expr;return e}return null}function p9(n,e){if(!sO(n))return n;let t=d9(n);if(t){if(n instanceof rr)return t.expr=t.expr.callFn(n.args),n.receiver;if(n instanceof Rr)return t.expr=t.expr.prop(n.name),n.receiver;if(n instanceof va)return t.expr=t.expr.key(n.index),n.receiver;if(n instanceof qc)return t.expr=Id(t.expr,i=>i.callFn(n.args),e),n.receiver;if(n instanceof op)return t.expr=Id(t.expr,i=>i.prop(n.name),e),n.receiver;if(n instanceof sp)return t.expr=Id(t.expr,i=>i.key(n.index),e),n.receiver}else{if(n instanceof qc)return Id(n.receiver,i=>i.callFn(n.args),e);if(n instanceof op)return Id(n.receiver,i=>i.prop(n.name),e);if(n instanceof sp)return Id(n.receiver,i=>i.key(n.index),e)}return n}function f9(n){return n instanceof ap?new Fo(new xs(new nt(Z.Equals,n.guard,Qd),Qd,n.expr)):n}var sP="\uFFFD",h9="#",m9="*",g9="/",v9=":",y9="[",_9="]",b9="|";function C9(n){let e=new Map,t=new Map,i=new Map;for(let o of n.units)for(let s of o.create)switch(s.kind){case x.I18nContext:let a=x9(n,s);o.create.push(a),e.set(s.xref,a),i.set(s.xref,s);break;case x.I18nStart:t.set(s.xref,s);break}let r=null;for(let o of n.units)for(let s of o.create)switch(s.kind){case x.IcuStart:r=s,G.remove(s);let a=i.get(s.context);if(a.contextKind!==Cc.Icu)continue;let l=t.get(a.i18nBlock);if(l.context===a.xref)continue;let c=t.get(l.root),d=e.get(c.context);if(d===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let m=e.get(a.xref);m.messagePlaceholder=s.messagePlaceholder,d.subMessages.push(m.xref);break;case x.IcuEnd:r=null,G.remove(s);break;case x.IcuPlaceholder:if(r===null||r.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(r.context).postprocessingParams.set(s.name,$(w9(s))),G.remove(s);break}}function x9(n,e,t){let i=aP(e.params),r=aP(e.postprocessingParams),o=[...e.params.values()].some(s=>s.length>1);return wH(n.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,i,r,o)}function w9(n){if(n.strings.length!==n.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${n.strings.length} strings and ${n.expressionPlaceholders.length} expressions`);let e=n.expressionPlaceholders.map(Bd);return n.strings.flatMap((t,i)=>[t,e[i]||""]).join("")}function aP(n){let e=new Map;for(let[t,i]of n){let r=S9(i);r!==null&&e.set(t,$(r))}return e}function S9(n){if(n.length===0)return null;let e=n.map(t=>Bd(t));return e.length===1?e[0]:`${y9}${e.join(b9)}${_9}`}function Bd(n){if(n.flags&It.ElementTag&&n.flags&It.TemplateTag){if(typeof n.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let r=Bd(J(F({},n),{value:n.value.element,flags:n.flags&~It.TemplateTag})),o=Bd(J(F({},n),{value:n.value.template,flags:n.flags&~It.ElementTag}));return n.flags&It.OpenTag&&n.flags&It.CloseTag?`${o}${r}${o}`:n.flags&It.CloseTag?`${r}${o}`:`${o}${r}`}if(n.flags&It.OpenTag&&n.flags&It.CloseTag)return`${Bd(J(F({},n),{flags:n.flags&~It.CloseTag}))}${Bd(J(F({},n),{flags:n.flags&~It.OpenTag}))}`;if(n.flags===It.None)return`${n.value}`;let e="",t="";n.flags&It.ElementTag?e=h9:n.flags&It.TemplateTag&&(e=m9),e!==""&&(t=n.flags&It.CloseTag?g9:"");let i=n.subTemplateIndex===null?"":`${v9}${n.subTemplateIndex}`;return`${sP}${t}${e}${n.value}${i}${sP}`}function E9(n){for(let e of n.units){let t=new Map;for(let r of e.create){if(hp(r)){if(r.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;t.set(r.xref,r.handle.slot)}let i=0;for(let r of e.update){let o=null;if(Um(r)?o=r:Wn(r,a=>{o===null&&Um(a)&&(o=a)}),o===null)continue;if(!t.has(o.target))throw new Error(`AssertionError: reference to unknown slot for target ${o.target}`);let s=t.get(o.target);if(i!==s){let a=s-i;if(a<0)throw new Error("AssertionError: slot counter should never need to move backwards");G.insertBefore(oH(a,o.sourceSpan),r),i=s}}}}function D9(n){for(let e of n.units)for(let t of e.update){if(t.kind!==x.StoreLet)continue;let i={kind:Hn.Identifier,name:null,identifier:t.declaredName,local:!0};G.replace(t,sl(n.allocateXrefId(),i,new $m(t.target,t.value,t.sourceSpan),Jr.None))}}function A9(n){let e=n.compatibility===Nr.TemplateDefinitionBuilder,t=[],i=0;for(let r of n.units)for(let o of r.create)o.kind===x.Projection&&(t.push(o.selector),o.projectionSlotIndex=i++);if(t.length>0){let r=null;if(t.length>1||t[0]!=="*"){let o=t.map(s=>s==="*"?s:SD(s));r=n.pool.getConstLiteral(lp(o),e)}n.contentSelectors=n.pool.getConstLiteral(lp(t),e),n.root.create.prepend([_H(r)])}}function T9(n){em(n.root,null)}function em(n,e){let t=I9(n,e);for(let i of n.create)switch(i.kind){case x.ConditionalCreate:case x.ConditionalBranchCreate:case x.Template:em(n.job.views.get(i.xref),t);break;case x.Projection:i.fallbackView!==null&&em(n.job.views.get(i.fallbackView),t);break;case x.RepeaterCreate:em(n.job.views.get(i.xref),t),i.emptyView&&em(n.job.views.get(i.emptyView),t),i.trackByOps!==null&&i.trackByOps.prepend(Vy(n,t,!1));break;case x.Animation:case x.AnimationListener:case x.Listener:case x.TwoWayListener:i.handlerOps.prepend(Vy(n,t,!0));break}n.update.prepend(Vy(n,t,!1))}function I9(n,e){let t={view:n.xref,viewContextVariable:{kind:Hn.Context,name:null,view:n.xref},contextVariables:new Map,aliases:n.aliases,references:[],letDeclarations:[],parent:e};for(let i of n.contextVariables.keys())t.contextVariables.set(i,{kind:Hn.Identifier,name:null,identifier:i,local:!1});for(let i of n.create)switch(i.kind){case x.ElementStart:case x.ConditionalCreate:case x.ConditionalBranchCreate:case x.Template:if(!Array.isArray(i.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let r=0;r<i.localRefs.length;r++)t.references.push({name:i.localRefs[r].name,targetId:i.xref,targetSlot:i.handle,offset:r,variable:{kind:Hn.Identifier,name:null,identifier:i.localRefs[r].name,local:!1}});break;case x.DeclareLet:t.letDeclarations.push({targetId:i.xref,targetSlot:i.handle,variable:{kind:Hn.Identifier,name:null,identifier:i.declaredName,local:!1}});break}return t}function Vy(n,e,t){let i=[];e.view!==n.xref&&i.push(sl(n.job.allocateXrefId(),e.viewContextVariable,new A_,Jr.None));let r=n.job.views.get(e.view);for(let[o,s]of r.contextVariables){let a=new gl(e.view),l=s===rO?a:new Rr(a,s);i.push(sl(n.job.allocateXrefId(),e.contextVariables.get(o),l,Jr.None))}for(let o of r.aliases)i.push(sl(n.job.allocateXrefId(),o,o.expression.clone(),Jr.AlwaysInline));for(let o of e.references)i.push(sl(n.job.allocateXrefId(),o.variable,new D_(o.targetId,o.targetSlot,o.offset),Jr.None));if(e.view!==n.xref||t)for(let o of e.letDeclarations)i.push(sl(n.job.allocateXrefId(),o.variable,new Hm(o.targetId,o.targetSlot),Jr.None));return e.parent!==null&&i.push(...Vy(n,e.parent,!1)),i}function M9(n){for(let e of n.units)for(let t of e.ops())_n(t,i=>i instanceof Gm?$(n.addConst(i.expr)):i,ct.None)}var lP="style.",cP="class.",k9="style!",uP="class!",dP="!important";function R9(n){for(let e of n.root.update)if(e.kind===x.Binding&&e.bindingKind===ae.Property)if(e.name.endsWith(dP)&&(e.name=e.name.substring(0,e.name.length-dP.length)),e.name.startsWith(lP)){e.bindingKind=ae.StyleProperty,e.name=e.name.substring(lP.length),N9(e.name)||(e.name=P9(e.name));let{property:t,suffix:i}=jS(e.name);e.name=t,e.unit=i}else e.name.startsWith(k9)?(e.bindingKind=ae.StyleProperty,e.name="style"):e.name.startsWith(cP)?(e.bindingKind=ae.ClassName,e.name=jS(e.name.substring(cP.length)).property):e.name.startsWith(uP)&&(e.bindingKind=ae.ClassName,e.name=jS(e.name.substring(uP.length)).property)}function N9(n){return n.startsWith("--")}function P9(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function jS(n){let e=n.indexOf("!important");e!==-1&&(n=e>0?n.substring(0,e):"");let t=null,i=n,r=n.lastIndexOf(".");return r>0&&(t=n.slice(r+1),i=n.substring(0,r)),{property:i,suffix:t}}function BE(n,e=!1){return Ui(Object.keys(n).map(t=>({key:t,quoted:e,value:n[t]})))}var VE=class{visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){let t=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${sg(e,!1)}}`}},O9=new VE;function aO(n){return n.visit(O9)}var _a=class{sourceSpan;i18n;constructor(e,t){this.sourceSpan=e,this.i18n=t}},Uc=class extends _a{value;tokens;constructor(e,t,i,r){super(t,r),this.value=e,this.tokens=i}visit(e,t){return e.visitText(this,t)}},Ec=class extends _a{switchValue;type;cases;switchValueSourceSpan;constructor(e,t,i,r,o,s){super(r,s),this.switchValue=e,this.type=t,this.cases=i,this.switchValueSourceSpan=o}visit(e,t){return e.visitExpansion(this,t)}},F_=class{value;expression;sourceSpan;valueSourceSpan;expSourceSpan;constructor(e,t,i,r,o){this.value=e,this.expression=t,this.sourceSpan=i,this.valueSourceSpan=r,this.expSourceSpan=o}visit(e,t){return e.visitExpansionCase(this,t)}},jE=class extends _a{name;value;keySpan;valueSpan;valueTokens;constructor(e,t,i,r,o,s,a){super(i,a),this.name=e,this.value=t,this.keySpan=r,this.valueSpan=o,this.valueTokens=s}visit(e,t){return e.visitAttribute(this,t)}},Zr=class extends _a{name;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;isVoid;constructor(e,t,i,r,o,s,a,l=null,c,d){super(s,d),this.name=e,this.attrs=t,this.directives=i,this.children=r,this.isSelfClosing=o,this.startSourceSpan=a,this.endSourceSpan=l,this.isVoid=c}visit(e,t){return e.visitElement(this,t)}},Ym=class{value;sourceSpan;constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}},Xr=class extends _a{name;parameters;children;nameSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a=null,l){super(r,l),this.name=e,this.parameters=t,this.children=i,this.nameSpan=o,this.startSourceSpan=s,this.endSourceSpan=a}visit(e,t){return e.visitBlock(this,t)}},er=class extends _a{componentName;tagName;fullName;attrs;directives;children;isSelfClosing;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o,s,a,l,c,d=null,m){super(l,m),this.componentName=e,this.tagName=t,this.fullName=i,this.attrs=r,this.directives=o,this.children=s,this.isSelfClosing=a,this.startSourceSpan=c,this.endSourceSpan=d}visit(e,t){return e.visitComponent(this,t)}},qE=class{name;attrs;sourceSpan;startSourceSpan;endSourceSpan;constructor(e,t,i,r,o=null){this.name=e,this.attrs=t,this.sourceSpan=i,this.startSourceSpan=r,this.endSourceSpan=o}visit(e,t){return e.visitDirective(this,t)}},L_=class{expression;sourceSpan;constructor(e,t){this.expression=e,this.sourceSpan=t}visit(e,t){return e.visitBlockParameter(this,t)}},B_=class{name;value;sourceSpan;nameSpan;valueSpan;constructor(e,t,i,r,o){this.name=e,this.value=t,this.sourceSpan=i,this.nameSpan=r,this.valueSpan=o}visit(e,t){return e.visitLetDeclaration(this,t)}};function qt(n,e,t=null){let i=[],r=n.visit?o=>n.visit(o,t)||o.visit(n,t):o=>o.visit(n,t);return e.forEach(o=>{let s=r(o);s&&i.push(s)}),i}var Zm={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},lO="\uE500";Zm.ngsp=lO;var UE=class{tokens;errors;nonNormalizedIcuExpressions;constructor(e,t,i){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=i}};function F9(n,e,t,i={}){let r=new HE(new w_(n,e),t,i);return r.tokenize(),new UE(W9(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}var L9=/\r\n?/g;function Md(n){return`Unexpected character "${n===ui?"EOF":String.fromCharCode(n)}"`}function pP(n){return`Unknown entity "${n}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function B9(n,e){return`Unable to parse entity "${e}" - ${n} character reference entities must end with ";"`}var $E=(function(n){return n.HEX="hexadecimal",n.DEC="decimal",n})($E||{}),V9=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"],HE=class{_getTagDefinition;_cursor;_tokenizeIcu;_interpolationConfig;_leadingTriviaCodePoints;_currentTokenStart=null;_currentTokenType=null;_expansionCaseStack=[];_openDirectiveCount=0;_inInterpolation=!1;_preserveLineEndings;_i18nNormalizeLineEndingsInICUs;_tokenizeBlocks;_tokenizeLet;_selectorlessEnabled;tokens=[];errors=[];nonNormalizedIcuExpressions=[];constructor(e,t,i){this._getTagDefinition=t,this._tokenizeIcu=i.tokenizeExpansionForms||!1,this._interpolationConfig=i.interpolationConfig||_s,this._leadingTriviaCodePoints=i.leadingTriviaChars&&i.leadingTriviaChars.map(o=>o.codePointAt(0)||0);let r=i.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=i.escapedString?new zE(e,r):new V_(e,r),this._preserveLineEndings=i.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=i.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=i.tokenizeBlocks??!0,this._tokenizeLet=i.tokenizeLet??!0,this._selectorlessEnabled=i.selectorlessEnabled??!1;try{this._cursor.init()}catch(o){this.handleError(o)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(L9,`
`)}tokenize(){for(;this._cursor.peek()!==ui;){let e=this._cursor.clone();try{this._attemptCharCode($d)?this._attemptCharCode(wE)?this._attemptCharCode(ul)?this._consumeCdata(e):this._attemptCharCode(C_)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Ro)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===Ad&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(tr)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(t){this.handleError(t)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,t=this._cursor.clone();return this._attemptCharCodeUntilFn(i=>Bm(i)?!e:z9(i)?(e=!0,!1):!0),this._cursor.getChars(t).trim()}_consumeBlockStart(e){this._requireCharCode(Ad),this._beginToken(24,e);let t=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Oo)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(Yt),this._attemptCharCode(Vi))this._attemptCharCodeUntilFn(Yt);else{t.type=28;return}this._attemptCharCode(Po)?(this._beginToken(25),this._endToken([])):t.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(hP);this._cursor.peek()!==Vi&&this._cursor.peek()!==ui;){this._beginToken(27);let e=this._cursor.clone(),t=null,i=0;for(;this._cursor.peek()!==Dr&&this._cursor.peek()!==ui||t!==null;){let r=this._cursor.peek();if(r===Hd)this._cursor.advance();else if(r===t)t=null;else if(t===null&&om(r))t=r;else if(r===Oo&&t===null)i++;else if(r===Vi&&t===null){if(i===0)break;i>0&&i--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(hP)}}_consumeLetDeclaration(e){if(this._requireStr("@let"),this._beginToken(29,e),Bm(this._cursor.peek()))this._attemptCharCodeUntilFn(Yt);else{let r=this._endToken([this._cursor.getChars(e)]);r.type=32;return}let t=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(Yt),!this._attemptCharCode(Di)){t.type=32;return}this._attemptCharCodeUntilFn(r=>Yt(r)&&!x_(r)),this._consumeLetDeclarationValue(),this._cursor.peek()===Dr?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(t.type=32,t.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),t=!1;return this._attemptCharCodeUntilFn(i=>np(i)||i===o1||i===_l||t&&No(i)?(t=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==ui;){let t=this._cursor.peek();if(t===Dr)break;om(t)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(i=>i===Hd?(this._cursor.advance(),!1):i===t)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if($9(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===tr){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(this._currentTokenStart===null)throw new Ae(this._cursor.getSpan(t),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new Ae(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let i={type:this._currentTokenType,parts:e,sourceSpan:(t??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(i),this._currentTokenStart=null,this._currentTokenType=null,i}_createError(e,t){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let i=new Ae(t,e);return this._currentTokenStart=null,this._currentTokenType=null,i}handleError(e){if(e instanceof Xm&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof Ae)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return H9(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Md(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let i=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=i,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){let t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Md(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(i)<t)throw this._createError(Md(this._cursor.peek()),this._cursor.getSpan(i))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_peekStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let i=this._cursor.clone();for(let r=0;r<t;r++){if(i.peek()!==e.charCodeAt(r))return!1;i.advance()}return!0}_isBlockStart(){return this._cursor.peek()===Ad&&V9.some(e=>this._peekStr(e))}_isLetStart(){return this._cursor.peek()===Ad&&this._peekStr("@let")}_consumeEntity(e){this._beginToken(9);let t=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(M3)){let i=this._attemptCharCode(B3)||this._attemptCharCode(o7),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(q9),this._cursor.peek()!=Dr){this._cursor.advance();let s=i?$E.HEX:$E.DEC;throw this._createError(B9(s,this._cursor.getChars(t)),this._cursor.getSpan())}let o=this._cursor.getChars(r);this._cursor.advance();try{let s=parseInt(o,i?16:10);this._endToken([String.fromCharCode(s),this._cursor.getChars(t)])}catch{throw this._createError(pP(this._cursor.getChars(t)),this._cursor.getSpan())}}else{let i=this._cursor.clone();if(this._attemptCharCodeUntilFn(U9),this._cursor.peek()!=Dr)this._beginToken(e,t),this._cursor=i,this._endToken(["&"]);else{let r=this._cursor.getChars(i);this._cursor.advance();let o=Zm.hasOwnProperty(r)&&Zm[r];if(!o)throw this._createError(pP(r),this._cursor.getSpan(t));this._endToken([o,`&${r};`])}}}_consumeRawText(e,t){this._beginToken(e?6:7);let i=[];for(;;){let r=this._cursor.clone(),o=t();if(this._cursor=r,o)break;e&&this._cursor.peek()===b_?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(6),this._beginToken(6)):i.push(this._readChar())}this._endToken([this._processCarriageReturns(i.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(C_),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let t=this._cursor.clone();this._attemptUntilChar(Yr);let i=this._cursor.getChars(t);this._cursor.advance(),this._endToken([i])}_consumePrefixAndName(e){let t=this._cursor.clone(),i="";for(;this._cursor.peek()!==da&&!j9(this._cursor.peek());)this._cursor.advance();let r;this._cursor.peek()===da?(i=this._cursor.getChars(t),this._cursor.advance(),r=this._cursor.clone()):r=t,this._requireCharCodeUntilFn(e,i===""?0:1);let o=this._cursor.getChars(r);return[i,o]}_consumeTagOpen(e){let t,i,r,o;try{if(this._selectorlessEnabled&&xy(this._cursor.peek()))o=this._consumeComponentOpenStart(e),[r,i,t]=o.parts,i&&(r+=`:${i}`),t&&(r+=`:${t}`),this._attemptCharCodeUntilFn(Yt);else{if(!np(this._cursor.peek()))throw this._createError(Md(this._cursor.peek()),this._cursor.getSpan(e));o=this._consumeTagOpenStart(e),i=o.parts[0],t=r=o.parts[1],this._attemptCharCodeUntilFn(Yt)}for(;!gP(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===Ad){let a=this._cursor.clone(),l=a.clone();l.advance(),xy(l.peek())&&this._consumeDirective(a,l)}else this._consumeAttribute();o.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(a){if(a instanceof Ae){o?o.type=o.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw a}let s=this._getTagDefinition(t).getContentType(i);s===ys.RAW_TEXT?this._consumeRawTextWithTagClose(o,r,!1):s===ys.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(o,r,!0)}_consumeRawTextWithTagClose(e,t,i){this._consumeRawText(i,()=>!this._attemptCharCode($d)||!this._attemptCharCode(Ro)||(this._attemptCharCodeUntilFn(Yt),!this._attemptStrCaseInsensitive(t))?!1:(this._attemptCharCodeUntilFn(Yt),this._attemptCharCode(Yr))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(r=>r===Yr,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let t=this._consumePrefixAndName(pc);return this._endToken(t)}_consumeComponentOpenStart(e){this._beginToken(33,e);let t=this._consumeComponentName();return this._endToken(t)}_consumeComponentName(){let e=this._cursor.clone();for(;mP(this._cursor.peek());)this._cursor.advance();let t=this._cursor.getChars(e),i="",r="";return this._cursor.peek()===da&&(this._cursor.advance(),[i,r]=this._consumePrefixAndName(pc)),[t,i,r]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(Yt),this._attemptCharCode(Di)&&(this._attemptCharCodeUntilFn(Yt),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Yt)}_consumeAttributeName(){let e=this._cursor.peek();if(e===Lm||e===Fm)throw this._createError(Md(e),this._cursor.getSpan());this._beginToken(14);let t;if(this._openDirectiveCount>0){let r=0;t=o=>{if(this._openDirectiveCount>0){if(o===Oo)r++;else if(o===Vi){if(r===0)return!0;r--}}return pc(o)}}else if(e===ul){let r=0;t=o=>(o===ul?r++:o===bc&&r--,r<=0?pc(o):x_(o))}else t=pc;let i=this._consumePrefixAndName(t);this._endToken(i)}_consumeAttributeValue(){if(this._cursor.peek()===Lm||this._cursor.peek()===Fm){let e=this._cursor.peek();this._consumeQuote(e);let t=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,t,t),this._consumeQuote(e)}else{let e=()=>pc(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(Ro)?2:1;this._beginToken(e),this._requireCharCode(Yr),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(Ro)?35:34;this._beginToken(e),this._requireCharCode(Yr),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let i=e.clone();for(;i.peek()!==Yr&&!xy(i.peek());)i.advance();if(xy(i.peek())){this._beginToken(36,e);let r=this._consumeComponentName();this._attemptCharCodeUntilFn(Yt),this._requireCharCode(Yr),this._endToken(r);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(Yt);let t=this._consumePrefixAndName(pc);this._attemptCharCodeUntilFn(Yt),this._requireCharCode(Yr),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(Po),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(to),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{let r=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(r)}this._requireCharCode(to),this._attemptCharCodeUntilFn(Yt),this._beginToken(7);let i=this._readUntil(to);this._endToken([i]),this._requireCharCode(to),this._attemptCharCodeUntilFn(Yt)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(Po).trim();this._endToken([e]),this._attemptCharCodeUntilFn(Yt),this._beginToken(21),this._requireCharCode(Po),this._endToken([]),this._attemptCharCodeUntilFn(Yt),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(tr),this._endToken([]),this._attemptCharCodeUntilFn(Yt),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(tr),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,t,i,r){this._beginToken(e);let o=[];for(;!i();){let s=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(o.join(""))],s),o.length=0,this._consumeInterpolation(t,s,r),this._beginToken(e)):this._cursor.peek()===b_?(this._endToken([this._processCarriageReturns(o.join(""))]),o.length=0,this._consumeEntity(e),this._beginToken(e)):o.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(o.join(""))])}_consumeInterpolation(e,t,i){let r=[];this._beginToken(e,t),r.push(this._interpolationConfig.start);let o=this._cursor.clone(),s=null,a=!1;for(;this._cursor.peek()!==ui&&(i===null||!i());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,r.push(this._getProcessedChars(o,l)),this._endToken(r);return}if(s===null)if(this._attemptStr(this._interpolationConfig.end)){r.push(this._getProcessedChars(o,l)),r.push(this._interpolationConfig.end),this._endToken(r);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===Hd?this._cursor.advance():c===s?s=null:!a&&s===null&&om(c)&&(s=c)}r.push(this._getProcessedChars(o,this._cursor)),this._endToken(r)}_consumeDirective(e,t){for(this._requireCharCode(Ad),this._cursor.advance();mP(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let i=this._cursor.getChars(t);if(this._endToken([i]),this._attemptCharCodeUntilFn(Yt),this._cursor.peek()===Oo){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Yt);!gP(this._cursor.peek())&&this._cursor.peek()!==Vi;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(Yt),this._openDirectiveCount--,this._cursor.peek()!==Vi){if(this._cursor.peek()===Yr||this._cursor.peek()===Ro)return;throw this._createError(Md(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(Yt)}}_getProcessedChars(e,t){return this._processCarriageReturns(t.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===ui||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===tr&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._isBlockStart()||this._isLetStart()||this._cursor.peek()===tr))}_isTagStart(){if(this._cursor.peek()===$d){let e=this._cursor.clone();e.advance();let t=e.peek();if(Lc<=t&&t<=ag||yl<=t&&t<=dp||t===Ro||t===wE)return!0}return!1}_readUntil(e){let t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==Po)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}};function Yt(n){return!Bm(n)||n===ui}function pc(n){return Bm(n)||n===Yr||n===$d||n===Ro||n===Lm||n===Fm||n===Di||n===ui}function j9(n){return(n<Lc||ag<n)&&(n<yl||dp<n)&&(n<OD||n>R3)}function q9(n){return n===Dr||n===ui||!c7(n)}function U9(n){return n===Dr||n===ui||!np(n)}function $9(n){return n!==tr}function H9(n,e){return fP(n)===fP(e)}function fP(n){return n>=Lc&&n<=ag?n-Lc+yl:n}function z9(n){return np(n)||No(n)||n===_l}function hP(n){return n!==Dr&&Yt(n)}function xy(n){return n===_l||n>=yl&&n<=dp}function mP(n){return np(n)||No(n)||n===_l}function gP(n){return n===Ro||n===Yr||n===$d||n===ui}function W9(n){let e=[],t;for(let i=0;i<n.length;i++){let r=n[i];t&&t.type===5&&r.type===5||t&&t.type===16&&r.type===16?(t.parts[0]+=r.parts[0],t.sourceSpan.end=r.sourceSpan.end):(t=r,e.push(t))}return e}var V_=class n{state;file;input;end;constructor(e,t){if(e instanceof n){this.file=e.file,this.input=e.input,this.end=e.end;let i=e.state;this.state={peek:i.peek,offset:i.offset,line:i.line,column:i.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new n(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){e=e||this;let i=e;if(t)for(;this.diff(e)>0&&t.indexOf(e.peek())!==-1;)i===e&&(e=e.clone()),e.advance();let r=this.locationFromCursor(e),o=this.locationFromCursor(this),s=i!==e?this.locationFromCursor(i):r;return new ke(r,o,s)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new Xm('Unexpected character "EOF"',this);let t=this.charAt(e.offset);t===Sc?(e.line++,e.column=0):x_(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?ui:this.charAt(e.offset)}locationFromCursor(e){return new Vm(e.file,e.state.offset,e.state.line,e.state.column)}},zE=class n extends V_{internalState;constructor(e,t){e instanceof n?(super(e),this.internalState=F({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new n(this)}getChars(e){let t=e.clone(),i="";for(;t.internalState.offset<this.internalState.offset;)i+=String.fromCodePoint(t.peek()),t.advance();return i}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===Hd)if(this.internalState=F({},this.state),this.advanceState(this.internalState),e()===N3)this.state.peek=Sc;else if(e()===P3)this.state.peek=PD;else if(e()===L3)this.state.peek=A3;else if(e()===O3)this.state.peek=ND;else if(e()===a7)this.state.peek=e7;else if(e()===FD)this.state.peek=T3;else if(e()===F3)if(this.advanceState(this.internalState),e()===Po){this.advanceState(this.internalState);let t=this.clone(),i=0;for(;e()!==tr;)this.advanceState(this.internalState),i++;this.state.peek=this.decodeHexDigits(t,i)}else{let t=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,4)}else if(e()===B3){this.advanceState(this.internalState);let t=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,2)}else if(GN(e())){let t="",i=0,r=this.clone();for(;GN(e())&&i<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),i++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else x_(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){let i=this.input.slice(e.internalState.offset,e.internalState.offset+t),r=parseInt(i,16);if(isNaN(r))throw e.state=e.internalState,new Xm("Invalid hexadecimal escape sequence",e);return r}},Xm=class extends Error{msg;cursor;constructor(e,t){super(e),this.msg=e,this.cursor=t,Object.setPrototypeOf(this,new.target.prototype)}},yn=class n extends Ae{elementName;static create(e,t,i){return new n(e,t,i)}constructor(e,t,i){super(t,i),this.elementName=e}},j_=class{rootNodes;errors;constructor(e,t){this.rootNodes=e,this.errors=t}},G9=class{getTagDefinition;constructor(e){this.getTagDefinition=e}parse(e,t,i){let r=F9(e,t,this.getTagDefinition,i),o=new WE(r.tokens,this.getTagDefinition);return o.build(),new j_(o.rootNodes,[...r.errors,...o.errors])}},WE=class n{tokens;tagDefinitionResolver;_index=-1;_peek;_containerStack=[];rootNodes=[];errors=[];constructor(e,t){this.tokens=e,this.tagDefinitionResolver=t,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof Xr&&this.errors.push(yn.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let t=this._advanceIf(7),i=this._advanceIf(11),r=t!=null?t.parts[0].trim():null,o=i==null?e.sourceSpan:new ke(e.sourceSpan.start,i.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Ym(r,o))}_consumeExpansion(e){let t=this._advance(),i=this._advance(),r=[];for(;this._peek.type===20;){let s=this._parseExpansionCase();if(!s)return;r.push(s)}if(this._peek.type!==23){this.errors.push(yn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let o=new ke(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Ec(t.parts[0],i.parts[0],r,o,t.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(yn.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let t=this._advance(),i=this._collectExpansionExpTokens(t);if(!i)return null;let r=this._advance();i.push({type:41,parts:[],sourceSpan:r.sourceSpan});let o=new n(i,this.tagDefinitionResolver);if(o.build(),o.errors.length>0)return this.errors=this.errors.concat(o.errors),null;let s=new ke(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),a=new ke(t.sourceSpan.start,r.sourceSpan.end,t.sourceSpan.fullStart);return new F_(e.parts[0],o.rootNodes,s,e.sourceSpan,a)}_collectExpansionExpTokens(e){let t=[],i=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&i.push(this._peek.type),this._peek.type===22)if(vP(i,21)){if(i.pop(),i.length===0)return t}else return this.errors.push(yn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(vP(i,19))i.pop();else return this.errors.push(yn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(yn.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=[e],i=e.sourceSpan,r=e.parts[0];if(r.length>0&&r[0]===`
`){let o=this._getContainer();o!=null&&o.children.length===0&&this._getTagDefinition(o)?.ignoreFirstLf&&(r=r.substring(1),t[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),t.push(e),e.type===8?r+=e.parts.join("").replace(/&([^;]+);/g,yP):e.type===9?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){let o=e.sourceSpan;this._addToParent(new Uc(r,new ke(i.start,o.end,i.fullStart,i.details),t))}}_closeVoidElement(){let e=this._getContainer();e!==null&&this._getTagDefinition(e)?.isVoid&&this._containerStack.pop()}_consumeElementStartTag(e){let t=[],i=[];this._consumeAttributesAndDirectives(t,i);let r=this._getElementFullName(e,this._getClosestElementLikeParent()),o=this._getTagDefinition(r),s=!1;this._peek.type===2?(this._advance(),s=!0,o?.canSelfClose||hE(r)!==null||o?.isVoid||this.errors.push(yn.create(r,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))):this._peek.type===1&&(this._advance(),s=!1);let a=this._peek.sourceSpan.fullStart,l=new ke(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new ke(e.sourceSpan.start,a,e.sourceSpan.fullStart),d=new Zr(r,t,i,[],s,l,c,void 0,o?.isVoid??!1),m=this._getContainer(),_=m!==null&&!!this._getTagDefinition(m)?.isClosedByChild(d.name);this._pushContainer(d,_),s?this._popContainer(r,Zr,l):e.type===4&&(this._popContainer(r,Zr,null),this.errors.push(yn.create(r,l,`Opening tag "${r}" not terminated.`)))}_consumeComponentStartTag(e){let t=e.parts[0],i=[],r=[];this._consumeAttributesAndDirectives(i,r);let o=this._getClosestElementLikeParent(),s=this._getComponentTagName(e,o),a=this._getComponentFullName(e,o),l=this._peek.type===35;this._advance();let c=this._peek.sourceSpan.fullStart,d=new ke(e.sourceSpan.start,c,e.sourceSpan.fullStart),m=new ke(e.sourceSpan.start,c,e.sourceSpan.fullStart),_=new er(t,s,a,i,r,[],l,d,m,void 0),y=this._getContainer(),w=y!==null&&_.tagName!==null&&!!this._getTagDefinition(y)?.isClosedByChild(_.tagName);this._pushContainer(_,w),l?this._popContainer(a,er,d):e.type===37&&(this._popContainer(a,er,null),this.errors.push(yn.create(a,d,`Opening tag "${a}" not terminated.`)))}_consumeAttributesAndDirectives(e,t){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?t.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let t=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(t,er,e.sourceSpan)){let i=this._containerStack[this._containerStack.length-1],r;i instanceof er&&i.componentName===e.parts[0]?r=`, did you mean "${i.fullName}"?`:r=". It may happen when the tag has already been closed by another tag.";let o=`Unexpected closing tag "${t}"${r}`;this.errors.push(yn.create(t,e.sourceSpan,o))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof Zr?this.tagDefinitionResolver(e.name):e instanceof er&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,t){t&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){let t=this._getElementFullName(e,this._getClosestElementLikeParent());if(this._getTagDefinition(t)?.isVoid)this.errors.push(yn.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(t,Zr,e.sourceSpan)){let i=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(yn.create(t,e.sourceSpan,i))}}_popContainer(e,t,i){let r=!1;for(let o=this._containerStack.length-1;o>=0;o--){let s=this._containerStack[o];if(((s instanceof er?s.fullName:s.name)===e||e===null)&&s instanceof t)return s.endSourceSpan=i,s.sourceSpan.end=i!==null?i.end:s.sourceSpan.end,this._containerStack.splice(o,this._containerStack.length-o),!r;(s instanceof Xr||!this._getTagDefinition(s)?.closedByParent)&&(r=!0)}return!1}_consumeAttr(e){let t=Ly(e.parts[0],e.parts[1]),i=e.sourceSpan.end;this._peek.type===15&&this._advance();let r="",o=[],s,a;if(this._peek.type===16)for(s=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let d=this._advance();o.push(d),d.type===17?r+=d.parts.join("").replace(/&([^;]+);/g,yP):d.type===9?r+=d.parts[0]:r+=d.parts.join(""),a=i=d.sourceSpan.end}this._peek.type===15&&(i=this._advance().sourceSpan.end);let c=s&&a&&new ke(s.start,a,s.fullStart);return new jE(t,r,new ke(e.sourceSpan.start,i,e.sourceSpan.fullStart),e.sourceSpan,c,o.length>0?o:void 0,void 0)}_consumeDirective(e){let t=[],i=e.sourceSpan.end,r=null;if(this._advance(),this._peek.type===39){for(i=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)t.push(this._consumeAttr(this._advance()));this._peek.type===40?(r=this._peek.sourceSpan,this._advance()):this.errors.push(yn.create(null,e.sourceSpan,"Unterminated directive definition"))}let o=new ke(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new ke(o.start,r===null?e.sourceSpan.end:r.end,o.fullStart);return new qE(e.parts[0],t,s,o,r)}_consumeBlockOpen(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new L_(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let i=this._peek.sourceSpan.fullStart,r=new ke(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new ke(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new Xr(e.parts[0],t,[],r,e.sourceSpan,o);this._pushContainer(s,!1)}_consumeBlockClose(e){this._popContainer(null,Xr,e.sourceSpan)||this.errors.push(yn.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let t=[];for(;this._peek.type===27;){let a=this._advance();t.push(new L_(a.parts[0],a.sourceSpan))}let i=this._peek.sourceSpan.fullStart,r=new ke(e.sourceSpan.start,i,e.sourceSpan.fullStart),o=new ke(e.sourceSpan.start,i,e.sourceSpan.fullStart),s=new Xr(e.parts[0],t,[],r,e.sourceSpan,o);this._pushContainer(s,!1),this._popContainer(null,Xr,null),this.errors.push(yn.create(e.parts[0],r,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let t=e.parts[0],i,r;if(this._peek.type!==30){this.errors.push(yn.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${t}". Declaration must have a value.`));return}else i=this._advance();if(this._peek.type!==31){this.errors.push(yn.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${t}". Declaration must be terminated with a semicolon.`));return}else r=this._advance();let o=r.sourceSpan.fullStart,s=new ke(e.sourceSpan.start,o,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(t),l=e.sourceSpan.start.moveBy(a),c=new ke(l,e.sourceSpan.end),d=new B_(t,i.parts[0],s,c,i.sourceSpan);this._addToParent(d)}_consumeIncompleteLet(e){let t=e.parts[0]??"",i=t?` "${t}"`:"";if(t.length>0){let r=e.sourceSpan.toString().lastIndexOf(t),o=e.sourceSpan.start.moveBy(r),s=new ke(o,e.sourceSpan.end),a=new ke(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new B_(t,"",e.sourceSpan,s,a);this._addToParent(l)}this.errors.push(yn.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${i}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let t=this._containerStack[e];if(t instanceof Zr||t instanceof er)return t}return null}_addToParent(e){let t=this._getContainer();t===null?this.rootNodes.push(e):t.children.push(e)}_getElementFullName(e,t){let i=this._getPrefix(e,t);return Ly(i,e.parts[1])}_getComponentFullName(e,t){let i=e.parts[0],r=this._getComponentTagName(e,t);return r===null?i:r.startsWith(":")?i+r:`${i}:${r}`}_getComponentTagName(e,t){let i=this._getPrefix(e,t),r=e.parts[2];return!i&&!r?null:!i&&r?r:Ly(i,r||"ng-component")}_getPrefix(e,t){let i,r;if(e.type===33||e.type===37||e.type===36?(i=e.parts[1],r=e.parts[2]):(i=e.parts[0],r=e.parts[1]),i=i||this._getTagDefinition(r)?.implicitNamespacePrefix||"",!i&&t){let o=t instanceof Zr?t.name:t.tagName;if(o!==null){let s=Vo(o)[1],a=this._getTagDefinition(s);a!==null&&!a.preventNamespaceInheritance&&(i=hE(o))}}return i}};function vP(n,e){return n.length>0&&n[n.length-1]===e}function yP(n,e){return Zm[e]!==void 0?Zm[e]||n:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):n}var cO="ngPreserveWhitespaces",_P=new Set(["pre","template","textarea","script","style"]),uO=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,Q9=new RegExp(`[^${uO}]`),Y9=new RegExp(`[${uO}]{2,}`,"g");function bP(n){return n.some(e=>e.name===cO)}function dO(n){return n.replace(new RegExp(lO,"g")," ")}var q_=class{preserveSignificantWhitespace;originalNodeMap;requireContext;icuExpansionDepth=0;constructor(e,t,i=!0){this.preserveSignificantWhitespace=e,this.originalNodeMap=t,this.requireContext=i}visitElement(e,t){if(_P.has(e.name)||bP(e.attrs)){let r=new Zr(e.name,ms(this,e.attrs),ms(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(r,e),r}let i=new Zr(e.name,e.attrs,e.directives,ms(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return this.originalNodeMap?.set(i,e),i}visitAttribute(e,t){return e.name!==cO?e:null}visitText(e,t){let i=e.value.match(Q9),r=t&&(t.prev instanceof Ec||t.next instanceof Ec);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(i||r){let s=e.tokens.map(d=>d.type===5?K9(d):d);if(!this.preserveSignificantWhitespace&&s.length>0){let d=s[0];s.splice(0,1,Z9(d,t));let m=s[s.length-1];s.splice(s.length-1,1,X9(m,t))}let a=fO(e.value),l=this.preserveSignificantWhitespace?a:J9(a,t),c=new Uc(l,e.sourceSpan,s,e.i18n);return this.originalNodeMap?.set(c,e),c}return null}visitComment(e,t){return e}visitExpansion(e,t){this.icuExpansionDepth++;let i;try{i=new Ec(e.switchValue,e.type,ms(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return this.originalNodeMap?.set(i,e),i}visitExpansionCase(e,t){let i=new F_(e.value,ms(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlock(e,t){let i=new Xr(e.name,e.parameters,ms(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return this.originalNodeMap?.set(i,e),i}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visitComponent(e,t){if(e.tagName&&_P.has(e.tagName)||bP(e.attrs)){let r=new er(e.componentName,e.tagName,e.fullName,ms(this,e.attrs),ms(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(r,e),r}let i=new er(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,ms(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return this.originalNodeMap?.set(i,e),i}visitDirective(e,t){return e}visit(e,t){if(this.requireContext&&!t)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function Z9(n,e){return n.type!==5||!!e?.prev?n:pO(n,i=>i.trimStart())}function X9(n,e){return n.type!==5||!!e?.next?n:pO(n,i=>i.trimEnd())}function J9(n,e){let t=!e?.prev,i=!e?.next,r=t?n.trimStart():n;return i?r.trimEnd():r}function K9({type:n,parts:e,sourceSpan:t}){return{type:n,parts:[fO(e[0])],sourceSpan:t}}function pO({type:n,parts:e,sourceSpan:t},i){return{type:n,parts:[i(e[0])],sourceSpan:t}}function fO(n){return dO(n).replace(Y9," ")}function ms(n,e){let t=[];return e.forEach((i,r)=>{let o={prev:e[r-1],next:e[r+1]},s=i.visit(n,o);s&&t.push(s)}),t}var qe=(function(n){return n[n.Character=0]="Character",n[n.Identifier=1]="Identifier",n[n.PrivateIdentifier=2]="PrivateIdentifier",n[n.Keyword=3]="Keyword",n[n.String=4]="String",n[n.Operator=5]="Operator",n[n.Number=6]="Number",n[n.Error=7]="Error",n})(qe||{}),Dc=(function(n){return n[n.Plain=0]="Plain",n[n.TemplateLiteralPart=1]="TemplateLiteralPart",n[n.TemplateLiteralEnd=2]="TemplateLiteralEnd",n})(Dc||{}),ez=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],Jm=class{tokenize(e){return new GE(e).scan()}},jo=class{index;end;type;numValue;strValue;constructor(e,t,i,r,o){this.index=e,this.end=t,this.type=i,this.numValue=r,this.strValue=o}isCharacter(e){return this.type===qe.Character&&this.numValue===e}isNumber(){return this.type===qe.Number}isString(){return this.type===qe.String}isOperator(e){return this.type===qe.Operator&&this.strValue===e}isIdentifier(){return this.type===qe.Identifier}isPrivateIdentifier(){return this.type===qe.PrivateIdentifier}isKeyword(){return this.type===qe.Keyword}isKeywordLet(){return this.type===qe.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===qe.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===qe.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===qe.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===qe.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===qe.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===qe.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===qe.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===qe.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===qe.Keyword&&this.strValue==="in"}isError(){return this.type===qe.Error}toNumber(){return this.type===qe.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===Dc.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===Dc.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}isTemplateLiteralInterpolationEnd(){return this.isOperator("}")}toString(){switch(this.type){case qe.Character:case qe.Identifier:case qe.Keyword:case qe.Operator:case qe.PrivateIdentifier:case qe.String:case qe.Error:return this.strValue;case qe.Number:return this.numValue.toString();default:return null}}},sm=class extends jo{kind;constructor(e,t,i,r){super(e,t,qe.String,0,i),this.kind=r}};function wy(n,e,t){return new jo(n,e,qe.Character,t,String.fromCharCode(t))}function tz(n,e,t){return new jo(n,e,qe.Identifier,0,t)}function nz(n,e,t){return new jo(n,e,qe.PrivateIdentifier,0,t)}function iz(n,e,t){return new jo(n,e,qe.Keyword,0,t)}function kd(n,e,t){return new jo(n,e,qe.Operator,0,t)}function rz(n,e,t){return new jo(n,e,qe.Number,t,"")}function oz(n,e,t){return new jo(n,e,qe.Error,0,t)}var Sy=new jo(-1,-1,qe.Character,0,""),GE=class{input;tokens=[];length;peek=0;index=-1;braceStack=[];constructor(e){this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?ui:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,t=this.length,i=this.peek,r=this.index;for(;i<=I3;)if(++r>=t){i=ui;break}else i=e.charCodeAt(r);if(this.peek=i,this.index=r,r>=t)return null;if(CP(i))return this.scanIdentifier();if(No(i))return this.scanNumber(r);let o=r;switch(i){case Kh:return this.advance(),No(this.peek)?this.scanNumber(o):wy(o,this.index,Kh);case Oo:case Vi:case ul:case bc:case to:case da:case Dr:return this.scanCharacter(o,i);case Po:return this.scanOpenBrace(o,i);case tr:return this.scanCloseBrace(o,i);case Lm:case Fm:return this.scanString();case SE:return this.advance(),this.scanTemplateLiteralPart(o);case M3:return this.scanPrivateIdentifier();case k3:return this.scanComplexOperator(o,"+",Di,"=");case C_:return this.scanComplexOperator(o,"-",Di,"=");case Ro:return this.scanComplexOperator(o,"/",Di,"=");case t7:return this.scanComplexOperator(o,"%",Di,"=");case s7:return this.scanOperator(o,"^");case HN:return this.scanStar(o);case zN:return this.scanQuestion(o);case $d:case Yr:return this.scanComplexOperator(o,String.fromCharCode(i),Di,"=");case wE:case Di:return this.scanComplexOperator(o,String.fromCharCode(i),Di,"=",Di,"=");case b_:return this.scanComplexOperator(o,"&",b_,"&",Di,"=");case WN:return this.scanComplexOperator(o,"|",WN,"|",Di,"=");case V3:for(;Bm(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(i)}]`,0)}scanCharacter(e,t){return this.advance(),wy(e,this.index,t)}scanOperator(e,t){return this.advance(),kd(e,this.index,t)}scanOpenBrace(e,t){return this.braceStack.push("expression"),this.advance(),wy(e,this.index,t)}scanCloseBrace(e,t){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(kd(e,this.index,"}")),this.scanTemplateLiteralPart(this.index)):wy(e,this.index,t)}scanComplexOperator(e,t,i,r,o,s){this.advance();let a=t;return this.peek==i&&(this.advance(),a+=r),o!=null&&this.peek==o&&(this.advance(),a+=s),kd(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();xP(this.peek);)this.advance();let t=this.input.substring(e,this.index);return ez.indexOf(t)>-1?iz(e,this.index,t):tz(e,this.index,t)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!CP(this.peek))return this.error("Invalid character [#]",-1);for(;xP(this.peek);)this.advance();let t=this.input.substring(e,this.index);return nz(e,this.index,t)}scanNumber(e){let t=this.index===e,i=!1;for(this.advance();;){if(!No(this.peek))if(this.peek===_l){if(!No(this.input.charCodeAt(this.index-1))||!No(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);i=!0}else if(this.peek===Kh)t=!1;else if(sz(this.peek)){if(this.advance(),az(this.peek)&&this.advance(),!No(this.peek))return this.error("Invalid exponent",-1);t=!1}else break;this.advance()}let r=this.input.substring(e,this.index);i&&(r=r.replace(/_/g,""));let o=t?cz(r):parseFloat(r);return rz(e,this.index,o)}scanString(){let e=this.index,t=this.peek;this.advance();let i="",r=this.index,o=this.input;for(;this.peek!=t;)if(this.peek==Hd){let a=this.scanStringBackslash(i,r);if(typeof a!="string")return a;i=a,r=this.index}else{if(this.peek==ui)return this.error("Unterminated quote",0);this.advance()}let s=o.substring(r,this.index);return this.advance(),new sm(e,this.index,i+s,Dc.Plain)}scanQuestion(e){this.advance();let t="?";return this.peek===zN?(t+="?",this.advance(),this.peek===Di&&(t+="=",this.advance())):this.peek===Kh&&(t+=".",this.advance()),kd(e,this.index,t)}scanTemplateLiteralPart(e){let t="",i=this.index;for(;this.peek!==SE;)if(this.peek===Hd){let o=this.scanStringBackslash(t,i);if(typeof o!="string")return o;t=o,i=this.index}else if(this.peek===o1){let o=this.index;if(this.advance(),this.peek===Po)return this.braceStack.push("interpolation"),this.tokens.push(new sm(e,o,t+this.input.substring(i,o),Dc.TemplateLiteralPart)),this.advance(),kd(o,this.index,this.input.substring(o,this.index))}else{if(this.peek===ui)return this.error("Unterminated template literal",0);this.advance()}let r=this.input.substring(i,this.index);return this.advance(),new sm(e,this.index,t+r,Dc.TemplateLiteralEnd)}error(e,t){let i=this.index+t;return oz(i,this.index,`Lexer Error: ${e} at column ${i} in expression [${this.input}]`)}scanStringBackslash(e,t){e+=this.input.substring(t,this.index);let i;if(this.advance(),this.peek===F3){let r=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(r))i=parseInt(r,16);else return this.error(`Invalid unicode escape [\\u${r}]`,0);for(let o=0;o<5;o++)this.advance()}else i=lz(this.peek),this.advance();return e+=String.fromCharCode(i),e}scanStar(e){this.advance();let t="*";return this.peek===HN?(t+="*",this.advance(),this.peek===Di&&(t+="=",this.advance())):this.peek===Di&&(t+="=",this.advance()),kd(e,this.index,t)}};function CP(n){return Lc<=n&&n<=ag||yl<=n&&n<=dp||n==_l||n==o1}function xP(n){return np(n)||No(n)||n==_l||n==o1}function sz(n){return n==l7||n==i7}function az(n){return n==C_||n==k3}function lz(n){switch(n){case N3:return Sc;case FD:return T3;case P3:return PD;case O3:return ND;case L3:return A3;default:return n}}function cz(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var QE=class{strings;expressions;offsets;constructor(e,t,i){this.strings=e,this.expressions=t,this.offsets=i}},YE=class{templateBindings;warnings;errors;constructor(e,t,i){this.templateBindings=e,this.warnings=t,this.errors=i}};function ol(n){return n.start.toString()||"(unknown)"}var U_=class{_lexer;_supportsDirectPipeReferences;constructor(e,t=!1){this._lexer=e,this._supportsDirectPipeReferences=t}parseAction(e,t,i,r=_s){let o=[];this._checkNoInterpolation(o,e,t,r);let{stripped:s}=this._stripComments(e),a=this._lexer.tokenize(s),l=new gc(e,t,i,a,1,o,0,this._supportsDirectPipeReferences).parseChain();return new Er(l,e,ol(t),i,o)}parseBinding(e,t,i,r=_s){let o=[],s=this._parseBindingAst(e,t,i,r,o);return new Er(s,e,ol(t),i,o)}checkSimpleExpression(e){let t=new ZE;return e.visit(t),t.errors}parseSimpleBinding(e,t,i,r=_s){let o=[],s=this._parseBindingAst(e,t,i,r,o),a=this.checkSimpleExpression(s);return a.length>0&&o.push(Vd(`Host binding expression cannot contain ${a.join(" ")}`,e,"",t)),new Er(s,e,ol(t),i,o)}_parseBindingAst(e,t,i,r,o){this._checkNoInterpolation(o,e,t,r);let{stripped:s}=this._stripComments(e),a=this._lexer.tokenize(s);return new gc(e,t,i,a,0,o,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,t,i,r,o){let s=this._lexer.tokenize(t),a=[];return new gc(t,i,o,s,0,a,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new Ir(r,r+e.length)})}parseInterpolation(e,t,i,r,o=_s){let s=[],{strings:a,expressions:l,offsets:c}=this.splitInterpolation(e,t,s,r,o);if(l.length===0)return null;let d=[];for(let m=0;m<l.length;++m){let _=r?.[m*2+1]?.sourceSpan,y=l[m].text,{stripped:w,hasComments:T}=this._stripComments(y),I=this._lexer.tokenize(w);if(T&&w.trim().length===0&&I.length===0){s.push(Vd("Interpolation expression cannot only contain a comment",e,`at column ${l[m].start} in`,t));continue}let M=new gc(_?y:e,_||t,i,I,0,s,c[m],this._supportsDirectPipeReferences).parseChain();d.push(M)}return this.createInterpolationAst(a.map(m=>m.text),d,e,ol(t),i,s)}parseInterpolationExpression(e,t,i){let{stripped:r}=this._stripComments(e),o=this._lexer.tokenize(r),s=[],a=new gc(e,t,i,o,0,s,0,this._supportsDirectPipeReferences).parseChain(),l=["",""];return this.createInterpolationAst(l,[a],e,ol(t),i,s)}createInterpolationAst(e,t,i,r,o,s){let a=new Nc(0,i.length),l=new og(a,a.toAbsolute(o),e,t);return new Er(l,i,r,o,s)}splitInterpolation(e,t,i,r,o=_s){let s=[],a=[],l=[],c=r?uz(r):null,d=0,m=!1,_=!1,{start:y,end:w}=o;for(;d<e.length;)if(m){let T=d,I=T+y.length,M=this._getInterpolationEndIndex(e,w,I);if(M===-1){m=!1,_=!0;break}let U=M+w.length,W=e.substring(I,M);W.trim().length===0&&i.push(Vd("Blank expressions are not allowed in interpolated strings",e,`at column ${d} in`,t)),a.push({text:W,start:T,end:U});let X=(c?.get(T)??T)+y.length;l.push(X),d=U,m=!1}else{let T=d;d=e.indexOf(y,d),d===-1&&(d=e.length);let I=e.substring(T,d);s.push({text:I,start:T,end:d}),m=!0}if(!m)if(_){let T=s[s.length-1];T.text+=e.substring(d),T.end=e.length}else s.push({text:e.substring(d),start:d,end:e.length});return new QE(s,a,l)}wrapLiteralPrimitive(e,t,i){let r=new Nc(0,e==null?0:e.length);return new Er(new Sr(r,r.toAbsolute(i),e),e,typeof t=="string"?t:ol(t),i,[])}_stripComments(e){let t=this._commentStart(e);return t!=null?{stripped:e.substring(0,t),hasComments:!0}:{stripped:e,hasComments:!1}}_commentStart(e){let t=null;for(let i=0;i<e.length-1;i++){let r=e.charCodeAt(i),o=e.charCodeAt(i+1);if(r===Ro&&o==Ro&&t==null)return i;t===r?t=null:t==null&&om(r)&&(t=r)}return null}_checkNoInterpolation(e,t,i,{start:r,end:o}){let s=-1,a=-1;for(let l of this._forEachUnquotedChar(t,0))if(s===-1)t.startsWith(r)&&(s=l);else if(a=this._getInterpolationEndIndex(t,o,l),a>-1)break;s>-1&&a>-1&&e.push(Vd(`Got interpolation (${r}${o}) where expression was expected`,t,`at column ${s} in`,i))}_getInterpolationEndIndex(e,t,i){for(let r of this._forEachUnquotedChar(e,i)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let i=null,r=0;for(let o=t;o<e.length;o++){let s=e[o];om(e.charCodeAt(o))&&(i===null||i===s)&&r%2===0?i=i===null?s:null:i===null&&(yield o),r=s==="\\"?r+1:0}}},tm=(function(n){return n[n.None=0]="None",n[n.Writable=1]="Writable",n})(tm||{}),gc=class{input;parseSourceSpan;absoluteOffset;tokens;parseFlags;errors;offset;supportsDirectPipeReferences;rparensExpected=0;rbracketsExpected=0;rbracesExpected=0;context=tm.None;sourceSpanCache=new Map;index=0;constructor(e,t,i,r,o,s,a,l){this.input=e,this.parseSourceSpan=t,this.absoluteOffset=i,this.tokens=r,this.parseFlags=o,this.errors=s,this.offset=a,this.supportsDirectPipeReferences=l}peek(e){let t=this.index+e;return t<this.tokens.length?this.tokens[t]:Sy}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let i=this.currentEndIndex;if(t!==void 0&&t>this.currentEndIndex&&(i=t),e>i){let r=i;i=e,e=r}return new Nc(e,i)}sourceSpan(e,t){let i=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(i)||this.sourceSpanCache.set(i,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(i)}advance(){this.index++}withContext(e,t){this.context|=e;let i=t();return this.context^=e,i}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===qe.Operator&&Bi.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Sy?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){let i=this.parsePipe();if(e.push(i),this.consumeOptionalCharacter(Dr))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Dr););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let i=this.offset,r=this.offset+this.input.length;return new Ki(this.span(i,r),this.sourceSpan(i,r))}return e.length==1?e[0]:new Yd(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let i=this.inputIndex,r=this.expectIdentifierOrKeyword(),o,s;r!==null?o=this.sourceSpan(i):(r="",s=this.next.index!==-1?this.next.index:this.input.length+this.offset,o=new Nc(s,s).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(da);)a.push(this.parseExpression());let l;if(this.supportsDirectPipeReferences){let c=r.charCodeAt(0);l=c===_l||c>=yl&&c<=dp?Fy.ReferencedDirectly:Fy.ReferencedByName}else l=Fy.ReferencedByName;t=new i_(this.span(e),this.sourceSpan(e,s),t,r,a,l,o)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let i=this.parsePipe(),r;if(this.consumeOptionalCharacter(da))r=this.parsePipe();else{let o=this.inputIndex,s=this.input.substring(e,o);this.error(`Conditional expression ${s} requires all 3 expressions`),r=new Ki(this.span(e),this.sourceSpan(e))}return new n_(this.span(e),this.sourceSpan(e),t,i,r)}else return t}parseLogicalOr(){let e=this.inputIndex,t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let i=this.parseLogicalAnd();t=new Bi(this.span(e),this.sourceSpan(e),"||",t,i)}return t}parseLogicalAnd(){let e=this.inputIndex,t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let i=this.parseNullishCoalescing();t=new Bi(this.span(e),this.sourceSpan(e),"&&",t,i)}return t}parseNullishCoalescing(){let e=this.inputIndex,t=this.parseEquality();for(;this.consumeOptionalOperator("??");){let i=this.parseEquality();t=new Bi(this.span(e),this.sourceSpan(e),"??",t,i)}return t}parseEquality(){let e=this.inputIndex,t=this.parseRelational();for(;this.next.type==qe.Operator;){let i=this.next.strValue;switch(i){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();t=new Bi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseRelational(){let e=this.inputIndex,t=this.parseAdditive();for(;this.next.type==qe.Operator||this.next.isKeywordIn;){let i=this.next.strValue;switch(i){case"<":case">":case"<=":case">=":case"in":this.advance();let r=this.parseAdditive();t=new Bi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseAdditive(){let e=this.inputIndex,t=this.parseMultiplicative();for(;this.next.type==qe.Operator;){let i=this.next.strValue;switch(i){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new Bi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseMultiplicative(){let e=this.inputIndex,t=this.parseExponentiation();for(;this.next.type==qe.Operator;){let i=this.next.strValue;switch(i){case"*":case"%":case"/":this.advance();let r=this.parseExponentiation();t=new Bi(this.span(e),this.sourceSpan(e),i,t,r);continue}break}return t}parseExponentiation(){let e=this.inputIndex,t=this.parsePrefix();for(;this.next.type==qe.Operator&&this.next.strValue==="**";){(t instanceof Ud||t instanceof _m||t instanceof bm||t instanceof Cm)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let i=this.parseExponentiation();t=new Bi(this.span(e),this.sourceSpan(e),"**",t,i)}return t}parsePrefix(){if(this.next.type==qe.Operator){let e=this.inputIndex,t=this.next.strValue,i;switch(t){case"+":return this.advance(),i=this.parsePrefix(),Ud.createPlus(this.span(e),this.sourceSpan(e),i);case"-":return this.advance(),i=this.parsePrefix(),Ud.createMinus(this.span(e),this.sourceSpan(e),i);case"!":return this.advance(),i=this.parsePrefix(),new _m(this.span(e),this.sourceSpan(e),i)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new bm(this.span(e),this.sourceSpan(e),t)}else if(this.next.isKeywordVoid()){this.advance();let e=this.inputIndex,t=this.parsePrefix();return new Cm(this.span(e),this.sourceSpan(e),t)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(Kh))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Oo)?t=this.parseCall(t,e,!0):t=this.consumeOptionalCharacter(ul)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(ul))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(Oo))t=this.parseCall(t,e,!1);else if(this.consumeOptionalOperator("!"))t=new xm(this.span(e),this.sourceSpan(e),t);else if(this.next.isTemplateLiteralEnd())t=this.parseNoInterpolationTaggedTemplateLiteral(t,e);else if(this.next.isTemplateLiteralPart())t=this.parseTaggedTemplateLiteral(t,e);else return t}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Oo)){this.rparensExpected++;let t=this.parsePipe();return this.consumeOptionalCharacter(Vi)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(Vi)),this.rparensExpected--,new Em(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isKeywordNull())return this.advance(),new Sr(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Sr(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Sr(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Sr(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new Sr(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new Pc(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(ul)){this.rbracketsExpected++;let t=this.parseExpressionList(bc);return this.rbracketsExpected--,this.expectCharacter(bc),new r_(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isCharacter(Po))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new Ss(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let t=this.next.toNumber();return this.advance(),new Sr(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===Dc.Plain){let t=this.next.toString();return this.advance(),new Sr(this.span(e),this.sourceSpan(e),t)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Ki(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Ki(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Ki(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let t=[];do if(!this.next.isCharacter(e))t.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(to));return t}parseLiteralMap(){let e=[],t=[],i=this.inputIndex;if(this.expectCharacter(Po),!this.consumeOptionalCharacter(tr)){this.rbracesExpected++;do{let r=this.inputIndex,o=this.next.isString(),s=this.expectIdentifierOrKeywordOrString(),a={key:s,quoted:o};if(e.push(a),o)this.expectCharacter(da),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(da))t.push(this.parsePipe());else{a.isShorthandInitialized=!0;let l=this.span(r),c=this.sourceSpan(r);t.push(new ha(l,c,c,new Ss(l,c),s))}}while(this.consumeOptionalCharacter(to)&&!this.next.isCharacter(tr));this.rbracesExpected--,this.expectCharacter(tr)}return new o_(this.span(i),this.sourceSpan(i),e,t)}parseAccessMember(e,t,i){let r=this.inputIndex,o=this.withContext(tm.Writable,()=>{let a=this.expectIdentifierOrKeyword()??"";return a.length===0&&this.error("Expected identifier for property access",e.span.end),a}),s=this.sourceSpan(r);if(i)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new Ki(this.span(t),this.sourceSpan(t))):new vm(this.span(t),this.sourceSpan(t),s,e,o);if(this.isAssignmentOperator(this.next)){let a=this.next.strValue;if(!(this.parseFlags&1))return this.advance(),this.error("Bindings cannot contain assignments"),new Ki(this.span(t),this.sourceSpan(t));let l=new ha(this.span(t),this.sourceSpan(t),s,e,o);this.advance();let c=this.parseConditional();return new Bi(this.span(t),this.sourceSpan(t),a,l,c)}else return new ha(this.span(t),this.sourceSpan(t),s,e,o)}parseCall(e,t,i){let r=this.inputIndex;this.rparensExpected++;let o=this.parseCallArguments(),s=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(Vi),this.rparensExpected--;let a=this.span(t),l=this.sourceSpan(t);return i?new s_(a,l,e,o,s):new Zd(a,l,e,o,s)}parseCallArguments(){if(this.next.isCharacter(Vi))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(to));return e}expectTemplateBindingKey(){let e="",t=!1,i=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-");while(t);return{source:e,span:new Ir(i,i+e.length)}}parseTemplateBindings(e){let t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let i=this.parseLetBinding();if(i)t.push(i);else{let r=this.expectTemplateBindingKey(),o=this.parseAsBinding(r);o?t.push(o):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new YE(t,[],this.errors)}parseKeyedReadOrWrite(e,t,i){return this.withContext(tm.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof Ki&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(bc),this.isAssignmentOperator(this.next)){let o=this.next.strValue;if(i)this.advance(),this.error("The '?.' operator cannot be used in the assignment");else{let s=new Oc(this.span(t),this.sourceSpan(t),e,r);this.advance();let a=this.parseConditional();return new Bi(this.span(t),this.sourceSpan(t),o,s,a)}}else return i?new ym(this.span(t),this.sourceSpan(t),e,r):new Oc(this.span(t),this.sourceSpan(t),e,r);return new Ki(this.span(t),this.sourceSpan(t))})}parseDirectiveKeywordBindings(e){let t=[];this.consumeOptionalCharacter(da);let i=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,o=this.parseAsBinding(e);o||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let s=new Ir(e.span.start,r);return t.push(new dE(s,e,i)),o&&t.push(o),t}getDirectiveBoundTarget(){if(this.next===Sy||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:t,end:i}=e.span,r=this.input.substring(t,i);return new Er(e,r,ol(this.parseSourceSpan),this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let t=this.expectTemplateBindingKey();this.consumeStatementTerminator();let i=new Ir(e.span.start,this.currentAbsoluteOffset);return new Dm(i,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let t=this.expectTemplateBindingKey(),i=null;this.consumeOptionalOperator("=")&&(i=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new Ir(e,this.currentAbsoluteOffset);return new Dm(r,t,i)}parseNoInterpolationTaggedTemplateLiteral(e,t){let i=this.parseNoInterpolationTemplateLiteral();return new wm(this.span(t),this.sourceSpan(t),e,i)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,t=this.inputIndex;this.advance();let i=this.span(t),r=this.sourceSpan(t);return new Sm(i,r,[new a_(i,r,e)],[])}parseTaggedTemplateLiteral(e,t){let i=this.parseTemplateLiteral();return new wm(this.span(t),this.sourceSpan(t),e,i)}parseTemplateLiteral(){let e=[],t=[],i=this.inputIndex;for(;this.next!==Sy;){let r=this.next;if(r.isTemplateLiteralPart()||r.isTemplateLiteralEnd()){let o=this.inputIndex;if(this.advance(),e.push(new a_(this.span(o),this.sourceSpan(o),r.strValue)),r.isTemplateLiteralEnd())break}else if(r.isTemplateLiteralInterpolationStart()){this.advance();let o=this.parsePipe();o instanceof Ki?this.error("Template literal interpolation cannot be empty"):t.push(o)}else this.advance()}return new Sm(this.span(i),this.sourceSpan(i),e,t)}consumeStatementTerminator(){this.consumeOptionalCharacter(Dr)||this.consumeOptionalCharacter(to)}error(e,t=this.index){this.errors.push(Vd(e,this.input,this.getErrorLocationText(t),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let i=`Private identifiers are not supported. Unexpected private identifier: ${e}`;t!==null&&(i+=`, ${t}`),this.error(i)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(Dr)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(Vi))&&(this.rbracesExpected<=0||!e.isCharacter(tr))&&(this.rbracketsExpected<=0||!e.isCharacter(bc))&&(!(this.context&tm.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(Vd(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function Vd(n,e,t,i){t.length>0&&(t=` ${t} `);let r=ol(i),o=`Parser Error: ${n}${t}[${e}] in ${r}`;return new Ae(i,o)}var ZE=class extends l_{errors=[];visitPipe(){this.errors.push("pipes")}};function uz(n){let e=new Map,t=0,i=0,r=0;for(;r<n.length;){let o=n[r];if(o.type===9){let[s,a]=o.parts;t+=a.length,i+=s.length}else{let s=o.parts.reduce((a,l)=>a+l.length,0);i+=s,t+=s}e.set(i,t),r++}return e}function dz(n){return n.visit(new XE)}var XE=class{visitUnary(e,t){return`${e.operator}${e.expr.visit(this,t)}`}visitBinary(e,t){return`${e.left.visit(this,t)} ${e.operation} ${e.right.visit(this,t)}`}visitChain(e,t){return e.expressions.map(i=>i.visit(this,t)).join("; ")}visitConditional(e,t){return`${e.condition.visit(this,t)} ? ${e.trueExp.visit(this,t)} : ${e.falseExp.visit(this,t)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,t){return fz(e.strings,e.expressions.map(i=>i.visit(this,t))).join("")}visitKeyedRead(e,t){return`${e.receiver.visit(this,t)}[${e.key.visit(this,t)}]`}visitLiteralArray(e,t){return`[${e.expressions.map(i=>i.visit(this,t)).join(", ")}]`}visitLiteralMap(e,t){return`{${pz(e.keys.map(i=>i.quoted?`'${i.key}'`:i.key),e.values.map(i=>i.visit(this,t))).map(([i,r])=>`${i}: ${r}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,t){return`${e.exp.visit(this,t)} | ${e.name}`}visitPrefixNot(e,t){return`!${e.expression.visit(this,t)}`}visitNonNullAssert(e,t){return`${e.expression.visit(this,t)}!`}visitPropertyRead(e,t){return e.receiver instanceof Ss?e.name:`${e.receiver.visit(this,t)}.${e.name}`}visitSafePropertyRead(e,t){return`${e.receiver.visit(this,t)}?.${e.name}`}visitSafeKeyedRead(e,t){return`${e.receiver.visit(this,t)}?.[${e.key.visit(this,t)}]`}visitCall(e,t){return`${e.receiver.visit(this,t)}(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitSafeCall(e,t){return`${e.receiver.visit(this,t)}?.(${e.args.map(i=>i.visit(this,t)).join(", ")})`}visitTypeofExpression(e,t){return`typeof ${e.expression.visit(this,t)}`}visitVoidExpression(e,t){return`void ${e.expression.visit(this,t)}`}visitASTWithSource(e,t){return e.ast.visit(this,t)}visitTemplateLiteral(e,t){let i="";for(let r=0;r<e.elements.length;r++){i+=e.elements[r].visit(this,t);let o=r<e.expressions.length?e.expressions[r]:null;o!==null&&(i+="${"+o.visit(this,t)+"}")}return"`"+i+"`"}visitTemplateLiteralElement(e,t){return e.text}visitTaggedTemplateLiteral(e,t){return e.tag.visit(this,t)+e.template.visit(this,t)}visitParenthesizedExpression(e,t){return"("+e.expression.visit(this,t)+")"}};function pz(n,e){if(n.length!==e.length)throw new Error("Array lengths must match");return n.map((t,i)=>[t,e[i]])}function fz(n,e){let t=[];for(let i=0;i<Math.max(n.length,e.length);i++)i<n.length&&t.push(n[i]),i<e.length&&t.push(e[i]);return t}var jy;function wP(){return jy||(jy={},Ey(Ot.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Ey(Ot.STYLE,["*|style"]),Ey(Ot.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Ey(Ot.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),jy}function Ey(n,e){for(let t of e)jy[t.toLowerCase()]=n}var hz=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function mz(n){return hz.has(n.toLowerCase())}var JE=class{},gz="boolean",vz="number",yz="string",_z="object",bz=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],hO=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colspan":"ariaColSpan","aria-current":"ariaCurrent","aria-disabled":"ariaDisabled","aria-expanded":"ariaExpanded","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),Cz=Array.from(hO).reduce((n,[e,t])=>(n.set(e,t),n),new Map),cp=class extends JE{_schema=new Map;_eventSchema=new Map;constructor(){super(),bz.forEach(e=>{let t=new Map,i=new Set,[r,o]=e.split("|"),s=o.split(","),[a,l]=r.split("^");a.split(",").forEach(d=>{this._schema.set(d.toLowerCase(),t),this._eventSchema.set(d.toLowerCase(),i)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[d,m]of c)t.set(d,m);for(let d of this._eventSchema.get(l.toLowerCase()))i.add(d)}s.forEach(d=>{if(d.length>0)switch(d[0]){case"*":i.add(d.substring(1));break;case"!":t.set(d.substring(1),gz);break;case"#":t.set(d.substring(1),vz);break;case"%":t.set(d.substring(1),_z);break;default:t.set(d,yz)}})})}hasProperty(e,t,i){if(i.some(o=>o.name===DN.name))return!0;if(e.indexOf("-")>-1){if(VN(e)||fE(e))return!1;if(i.some(o=>o.name===EN.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(t)}hasElement(e,t){return t.some(i=>i.name===DN.name)||e.indexOf("-")>-1&&(VN(e)||fE(e)||t.some(i=>i.name===EN.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,t,i){i&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=wP()[e+"|"+t];return r||(r=wP()["*|"+t],r||Ot.NONE)}getMappedPropName(e){return hO.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let t=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(t.keys()).map(i=>Cz.get(i)??i)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return y$(e)}normalizeAnimationStyleValue(e,t,i){let r="",o=i.toString().trim(),s=null;if(xz(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(s=`Please provide a CSS unit value for ${t}:${i}`)}return{error:s,value:o+r}}};function xz(n){switch(n){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var He=class{closedByChildren={};contentType;closedByParent=!1;implicitNamespacePrefix;isVoid;ignoreFirstLf;canSelfClose;preventNamespaceInheritance;constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:i=ys.PARSABLE_DATA,closedByParent:r=!1,isVoid:o=!1,ignoreFirstLf:s=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=o,this.closedByParent=r||o,this.implicitNamespacePrefix=t||null,this.contentType=i,this.ignoreFirstLf=s,this.preventNamespaceInheritance=a,this.canSelfClose=l??o}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},SP,Rd;function KE(n){return Rd||(SP=new He({canSelfClose:!0}),Rd=Object.assign(Object.create(null),{base:new He({isVoid:!0}),meta:new He({isVoid:!0}),area:new He({isVoid:!0}),embed:new He({isVoid:!0}),link:new He({isVoid:!0}),img:new He({isVoid:!0}),input:new He({isVoid:!0}),param:new He({isVoid:!0}),hr:new He({isVoid:!0}),br:new He({isVoid:!0}),source:new He({isVoid:!0}),track:new He({isVoid:!0}),wbr:new He({isVoid:!0}),p:new He({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new He({closedByChildren:["tbody","tfoot"]}),tbody:new He({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new He({closedByChildren:["tbody"],closedByParent:!0}),tr:new He({closedByChildren:["tr"],closedByParent:!0}),td:new He({closedByChildren:["td","th"],closedByParent:!0}),th:new He({closedByChildren:["td","th"],closedByParent:!0}),col:new He({isVoid:!0}),svg:new He({implicitNamespacePrefix:"svg"}),foreignObject:new He({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new He({implicitNamespacePrefix:"math"}),li:new He({closedByChildren:["li"],closedByParent:!0}),dt:new He({closedByChildren:["dt","dd"]}),dd:new He({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new He({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new He({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new He({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new He({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new He({closedByChildren:["optgroup"],closedByParent:!0}),option:new He({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new He({ignoreFirstLf:!0}),listing:new He({ignoreFirstLf:!0}),style:new He({contentType:ys.RAW_TEXT}),script:new He({contentType:ys.RAW_TEXT}),title:new He({contentType:{default:ys.ESCAPABLE_RAW_TEXT,svg:ys.PARSABLE_DATA}}),textarea:new He({contentType:ys.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new cp().allKnownElementNames().forEach(e=>{!Rd[e]&&hE(e)===null&&(Rd[e]=new He({canSelfClose:!1}))})),Rd[n]??Rd[n.toLowerCase()]??SP}var EP={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},eD=class{_placeHolderNameCounts={};_signatureToName={};getStartTagPlaceholderName(e,t,i){let r=this._hashTag(e,t,i);if(this._signatureToName[r])return this._signatureToName[r];let o=e.toUpperCase(),s=EP[o]||`TAG_${o}`,a=this._generateUniqueName(i?s:`START_${s}`);return this._signatureToName[r]=a,a}getCloseTagPlaceholderName(e){let t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];let i=e.toUpperCase(),r=EP[i]||`TAG_${i}`,o=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=o,o}getPlaceholderName(e,t){let i=e.toUpperCase(),r=`PH: ${i}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];let o=this._generateUniqueName(i);return this._signatureToName[r]=o,o}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,t){let i=this._hashBlock(e,t);if(this._signatureToName[i])return this._signatureToName[i];let r=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[i]=r,r}getCloseBlockPlaceholderName(e){let t=this._hashClosingBlock(e);if(this._signatureToName[t])return this._signatureToName[t];let i=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[t]=i,i}_hashTag(e,t,i){let r=`<${e}`,o=Object.keys(t).sort().map(a=>` ${a}=${t[a]}`).join(""),s=i?"/>":`></${e}>`;return r+o+s}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,t){let i=t.length===0?"":` (${t.sort().join("; ")})`;return`@${e}${i} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let i=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=i+1,`${e}_${i}`}},wz=new U_(new Jm);function Sz(n,e,t,i){let r=new tD(wz,n,e,t,i);return(o,s,a,l,c)=>r.toI18nMessage(o,s,a,l,c)}function Ez(n,e){return e}var tD=class{_expressionParser;_interpolationConfig;_containerBlocks;_retainEmptyTokens;_preserveExpressionWhitespace;constructor(e,t,i,r,o){this._expressionParser=e,this._interpolationConfig=t,this._containerBlocks=i,this._retainEmptyTokens=r,this._preserveExpressionWhitespace=o}toI18nMessage(e,t="",i="",r="",o){let s={isIcu:e.length==1&&e[0]instanceof Ec,icuDepth:0,placeholderRegistry:new eD,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:o||Ez},a=qt(this,e,s);return new qi(a,s.placeholderToContent,s.placeholderToMessage,t,i,r)}visitElement(e,t){return this._visitElementLike(e,t)}visitComponent(e,t){return this._visitElementLike(e,t)}visitDirective(e,t){throw new Error("Unreachable code")}visitAttribute(e,t){let i=e.valueTokens===void 0||e.valueTokens.length===1?new Qh(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitText(e,t){let i=e.tokens.length===1?new Qh(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,i)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;let i={},r=new y_(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(a=>{i[a.value]=new ma(a.expression.map(l=>l.visit(this,t)),a.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){let a=t.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=a,t.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,r)}let o=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[o]=this.toI18nMessage([e],"","","",void 0);let s=new tp(r,o,e.sourceSpan);return t.visitNodeFn(e,s)}visitExpansionCase(e,t){throw new Error("Unreachable code")}visitBlock(e,t){let i=qt(this,e.children,t);if(this._containerBlocks.has(e.name))return new ma(i,e.sourceSpan);let r=e.parameters.map(l=>l.expression),o=t.placeholderRegistry.getStartBlockPlaceholderName(e.name,r),s=t.placeholderRegistry.getCloseBlockPlaceholderName(e.name);t.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},t.placeholderToContent[s]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new hl(e.name,r,o,s,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,a)}visitBlockParameter(e,t){throw new Error("Unreachable code")}visitLetDeclaration(e,t){return null}_visitElementLike(e,t){let i=qt(this,e.children,t),r={},o=m=>{r[m.name]=m.value},s,a;e instanceof Zr?(s=e.name,a=KE(e.name).isVoid):(s=e.fullName,a=e.tagName?KE(e.tagName).isVoid:!1),e.attrs.forEach(o),e.directives.forEach(m=>m.attrs.forEach(o));let l=t.placeholderRegistry.getStartTagPlaceholderName(s,r,a);t.placeholderToContent[l]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let c="";a||(c=t.placeholderRegistry.getCloseTagPlaceholderName(s),t.placeholderToContent[c]={text:`</${s}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let d=new fl(s,r,l,c,i,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,d)}_visitTextWithInterpolation(e,t,i,r){let o=[],s=!1;for(let a of e)switch(a.type){case 8:case 17:s=!0;let[l,c,d]=a.parts,m=Mz(c)||"INTERPOLATION",_=i.placeholderRegistry.getPlaceholderName(m,c);if(this._preserveExpressionWhitespace)i.placeholderToContent[_]={text:a.parts.join(""),sourceSpan:a.sourceSpan},o.push(new Pm(c,_,a.sourceSpan));else{let y=this.normalizeExpression(a);i.placeholderToContent[_]={text:`${l}${y}${d}`,sourceSpan:a.sourceSpan},o.push(new Pm(y,_,a.sourceSpan))}break;default:if(a.parts[0].length>0||this._retainEmptyTokens){let y=o[o.length-1];y instanceof Qh?(y.value+=a.parts[0],y.sourceSpan=new ke(y.sourceSpan.start,a.sourceSpan.end,y.sourceSpan.fullStart,y.sourceSpan.details)):o.push(new Qh(a.parts[0],a.sourceSpan))}else this._retainEmptyTokens&&o.push(new Qh(a.parts[0],a.sourceSpan));break}return s?(Dz(o,r),new ma(o,t)):o[0]}normalizeExpression(e){let t=e.parts[1],i=this._expressionParser.parseBinding(t,e.sourceSpan,e.sourceSpan.start.offset,this._interpolationConfig);return dz(i)}};function Dz(n,e){if(e instanceof qi&&(Az(e),e=e.nodes[0]),e instanceof ma){Tz(e.children,n);for(let t=0;t<n.length;t++)n[t].sourceSpan=e.children[t].sourceSpan}}function Az(n){let e=n.nodes;if(e.length!==1||!(e[0]instanceof ma))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function Tz(n,e){if(n.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${n.length} tokens):
${n.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(t=>`"${t.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(n.some((t,i)=>e[i].constructor!==t.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var Iz=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function Mz(n){return n.split(Iz)[2]}var DP=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function AP(n,e){return n=n.toLowerCase(),e=e.toLowerCase(),DP.has(n+"|"+e)||DP.has("*|"+e)}var kz=n=>(e,t)=>{let i=n.get(e)??e;return i instanceof _a&&(t instanceof tp&&i.i18n instanceof qi&&(t.previousMessage=i.i18n),i.i18n=t),t},$_=class{interpolationConfig;keepI18nAttrs;enableI18nLegacyMessageIdFormat;containerBlocks;preserveSignificantWhitespace;retainEmptyTokens;hasI18nMeta=!1;_errors=[];constructor(e=_s,t=!1,i=!1,r=K$,o=!0,s=!o){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=i,this.containerBlocks=r,this.preserveSignificantWhitespace=o,this.retainEmptyTokens=s}_generateI18nMessage(e,t="",i){let{meaning:r,description:o,customId:s}=this._parseMetadata(t),l=Sz(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,r,o,s,i);return this._setMessageId(l,t),this._setLegacyIds(l,t),l}visitAllWithErrors(e){let t=e.map(i=>i.visit(this,null));return new j_(t,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,t){return this._visitElementLike(e),e}visitExpansion(e,t){let i,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof tp){let o=r.name;i=this._generateI18nMessage([e],r);let s=E3(i);s.name=o,t!==null&&(t.placeholderToMessage[o]=i)}else i=this._generateI18nMessage([e],t||r);return e.i18n=i,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,t){return qt(this,e.children,t),e}visitBlockParameter(e,t){return e}visitLetDeclaration(e,t){return e}visitDirective(e,t){return e}_visitElementLike(e){let t;if(W$(e)){this.hasI18nMeta=!0;let i=[],r={};for(let o of e.attrs)if(o.name===w3){let s=e.i18n||o.value,a=new Map,l=this.preserveSignificantWhitespace?e.children:ms(new q_(!1,a),e.children);t=this._generateI18nMessage(l,s,kz(a)),t.nodes.length===0&&(t=void 0),e.i18n=t}else if(o.name.startsWith(xE)){let s=o.name.slice(xE.length),a;e instanceof er?a=e.tagName===null?!1:AP(e.tagName,s):a=AP(e.name,s),a?this._reportError(o,`Translating attribute '${s}' is disallowed for security reasons.`):r[s]=o.value}else i.push(o);if(Object.keys(r).length)for(let o of i){let s=r[o.name];s!==void 0&&o.value&&(o.i18n=this._generateI18nMessage([o],o.i18n||s))}this.keepI18nAttrs||(e.attrs=i)}qt(this,e.children,t)}_parseMetadata(e){return typeof e=="string"?Pz(e):e instanceof qi?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof qi&&t.id||GU(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[WU(e),h3(e)];else if(typeof t!="string"){let i=t instanceof qi?t:t instanceof tp?t.previousMessage:void 0;e.legacyIds=i?i.legacyIds:[]}}_reportError(e,t){this._errors.push(new Ae(e.sourceSpan,t))}},Rz="|",Nz="@@";function Pz(n=""){let e,t,i;if(n=n.trim(),n){let r=n.indexOf(Nz),o=n.indexOf(Rz),s;[s,e]=r>-1?[n.slice(0,r),n.slice(r+2)]:[n,""],[t,i]=o>-1?[s.slice(0,o),s.slice(o+1)]:["",s]}return{customId:e,meaning:t,description:i}}function Oz(n){let e=[];return n.description?e.push({tagName:"desc",text:n.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),n.meaning&&e.push({tagName:"meaning",text:n.meaning}),l$(e)}var Fz="goog.getMsg";function Lz(n,e,t,i){let r=Vz(e),o=[$(r)];Object.keys(i).length&&(o.push(BE(MD(i,!0),!0)),o.push(BE({original_code:Ui(Object.keys(i).map(l=>({key:sg(l),quoted:!0,value:e.placeholders[l]?$(e.placeholders[l].sourceSpan.toString()):$(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let s=new kn(t.name,We(Fz).callFn(o),Tr,di.Final);s.addLeadingComment(Oz(e));let a=new ro(n.set(t));return[s,a]}var nD=class{formatPh(e){return`{$${sg(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(t=>t.visit(this)).join("")}visitIcu(e){return aO(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(t=>t.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}},Bz=new nD;function Vz(n){return n.nodes.map(e=>e.visit(Bz,null)).join("")}function jz(n,e,t){let{messageParts:i,placeHolders:r}=qz(e),o=Uz(e),s=r.map(c=>t[c.text]),a=d$(e,i,r,s,o),l=n.set(a);return[new ro(l)]}var iD=class{placeholderToMessage;pieces;constructor(e,t){this.placeholderToMessage=e,this.pieces=t}visitText(e){if(this.pieces[this.pieces.length-1]instanceof xc)this.pieces[this.pieces.length-1].text+=e.value;else{let t=new ke(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new xc(e.value,t))}}visitContainer(e){e.children.forEach(t=>t.visit(this))}visitIcu(e){this.pieces.push(new xc(aO(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(t=>t.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,t,i){return new jd(sg(e,!1),t,i)}};function qz(n){let e=[],t=new iD(n.placeholderToMessage,e);return n.nodes.forEach(i=>i.visit(t)),$z(e)}function Uz(n){let e=n.nodes[0],t=n.nodes[n.nodes.length-1];return new ke(e.sourceSpan.fullStart,t.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function $z(n){let e=[],t=[];n[0]instanceof jd&&e.push(qS(n[0].sourceSpan.start));for(let i=0;i<n.length;i++){let r=n[i];r instanceof xc?e.push(r):(t.push(r),n[i-1]instanceof jd&&e.push(qS(n[i-1].sourceSpan.end)))}return n[n.length-1]instanceof jd&&e.push(qS(n[n.length-1].sourceSpan.end)),{messageParts:e,placeHolders:t}}function qS(n){return new xc("",new ke(n,n))}var TP="ngI18nClosureMode",Hz="i18n_",zz="I18N_EXP_",IP="\uFFFD",Wz="MSG_";function MP(n){return`${Wz}${n}`.toUpperCase()}function Gz(n){return new kn(n.name,void 0,Tr,void 0,n.sourceSpan)}function Qz(n){let e=n.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",t=new Map,i=new Map,r=new Map,o=new Map;for(let l of n.units)for(let c of l.ops())if(c.kind===x.ExtractedAttribute&&c.i18nContext!==null){let d=t.get(c.i18nContext)??[];d.push(c),t.set(c.i18nContext,d)}else if(c.kind===x.I18nAttributes)i.set(c.target,c);else if(c.kind===x.I18nExpression&&c.usage===pp.I18nAttribute){let d=r.get(c.target)??[];d.push(c),r.set(c.target,d)}else c.kind===x.I18nMessage&&o.set(c.xref,c);let s=new Map,a=new Map;for(let l of n.units)for(let c of l.create)if(c.kind===x.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:d,statements:m}=mO(n,e,o,c);if(c.i18nBlock!==null){let _=n.addConst(d,m);a.set(c.i18nBlock,_)}else{n.constsInitializers.push(...m),s.set(c.i18nContext,d);let _=t.get(c.i18nContext);if(_!==void 0)for(let y of _)y.expression=d.clone()}}G.remove(c)}for(let l of n.units)for(let c of l.create)if(ya(c)){let d=i.get(c.xref);if(d===void 0)continue;let m=r.get(c.xref);if(m===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let _=new Set;m=m.filter(w=>{let T=_.has(w.name);return _.add(w.name),!T});let y=m.flatMap(w=>{let T=s.get(w.context);if(T===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[$(w.name),T]});d.i18nAttributesConfig=n.addConst(new Lo(y))}for(let l of n.units)for(let c of l.create)if(c.kind===x.I18nStart){let d=a.get(c.root);if(d===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=d}}function mO(n,e,t,i){let r=[],o=new Map;for(let c of i.subMessages){let d=t.get(c),{mainVar:m,statements:_}=mO(n,e,t,d);r.push(..._);let y=o.get(d.messagePlaceholder)??[];y.push(m),o.set(d.messagePlaceholder,y)}Yz(i,o),i.params=new Map([...i.params.entries()].sort());let s=We(n.pool.uniqueName(Hz)),a=Jz(n.pool,i.message.id,e,n.i18nUseExternalIds),l;if(i.needsPostprocessing||i.postprocessingParams.size>0){let c=Object.fromEntries([...i.postprocessingParams.entries()].sort()),d=MD(c,!1),m=[];i.postprocessingParams.size>0&&m.push(BE(d,!0)),l=_=>ue(P.i18nPostprocess).callFn([_,...m])}return r.push(...Zz(i.message,s,a,i.params,l)),{mainVar:s,statements:r}}function Yz(n,e){for(let[t,i]of e)i.length===1?n.params.set(t,i[0]):(n.params.set(t,$(`${IP}${zz}${t}${IP}`)),n.postprocessingParams.set(t,mt(i)))}function Zz(n,e,t,i,r){let o=Object.fromEntries(i),s=[Gz(e),n1(Xz(),Lz(e,n,t,o),jz(e,n,MD(o,!1)))];return r&&s.push(new ro(e.set(r(e)))),s}function Xz(){return rg(We(TP)).notIdentical($("undefined",AD)).and(We(TP))}function Jz(n,e,t,i){let r,o=t;if(i){let s=MP("EXTERNAL_"),a=n.uniqueName(o);r=`${s}${mc(e)}$$${a}`}else{let s=MP(o);r=n.uniqueName(s)}return We(r)}function Kz(n){for(let e of n.units){let t=null,i=null,r=new Map,o=new Map,s=new Map;for(let a of e.create)switch(a.kind){case x.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");t=a;break;case x.I18nEnd:t=null;break;case x.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");i=a;break;case x.IcuEnd:i=null;break;case x.Text:if(t!==null)if(r.set(a.xref,t),o.set(a.xref,i),a.icuPlaceholder!==null){let l=DH(n.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);G.replace(a,l),s.set(a.xref,l)}else G.remove(a);break}for(let a of e.update)switch(a.kind){case x.InterpolateText:if(!r.has(a.target))continue;let l=r.get(a.target),c=o.get(a.target),d=s.get(a.target),m=c?c.context:l.context,_=c?qm.Postproccessing:qm.Creation,y=[];for(let w=0;w<a.interpolation.expressions.length;w++){let T=a.interpolation.expressions[w];y.push(Q3(m,l.xref,l.xref,l.handle,T,d?.xref??null,a.interpolation.i18nPlaceholders[w]??null,_,pp.I18nText,"",T.sourceSpan??a.sourceSpan))}G.replaceWithMany(a,y),d!==void 0&&(d.strings=a.interpolation.strings);break}}}function eW(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case x.ElementStart:case x.ConditionalCreate:case x.ConditionalBranchCreate:case x.Template:if(!Array.isArray(t.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(t.numSlotsUsed+=t.localRefs.length,t.localRefs.length>0){let i=tW(t.localRefs);t.localRefs=n.addConst(i)}else t.localRefs=null;break}}function tW(n){let e=[];for(let t of n)e.push($(t.name),$(t.target));return mt(e)}function nW(n){for(let e of n.units){let t=Ai.HTML;for(let i of e.create)i.kind===x.ElementStart&&i.namespace!==t&&(G.insertBefore(yH(i.namespace),i),t=i.namespace)}}function iW(n){let e=[],t=0,i=0,r=0,o=0,s=0,a=null;for(;t<n.length;)switch(n.charCodeAt(t++)){case 40:i++;break;case 41:i--;break;case 39:r===0?r=39:r===39&&n.charCodeAt(t-1)!==92&&(r=0);break;case 34:r===0?r=34:r===34&&n.charCodeAt(t-1)!==92&&(r=0);break;case 58:!a&&i===0&&r===0&&(a=gO(n.substring(s,t-1).trim()),o=t);break;case 59:if(a&&o>0&&i===0&&r===0){let c=n.substring(o,t-1).trim();e.push(a,c),s=t,o=0,a=null}break}if(a&&o){let l=n.slice(o).trim();e.push(a,l)}return e}function gO(n){return n.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function rW(n){let e=new Map;for(let t of n.units)for(let i of t.create)ya(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)if(i.kind===x.ExtractedAttribute&&i.bindingKind===ae.Attribute&&Y3(i.expression)){let r=e.get(i.target);if(r!==void 0&&(r.kind===x.Template||r.kind===x.ConditionalCreate||r.kind===x.ConditionalBranchCreate)&&r.templateKind===ir.Structural)continue;if(i.name==="style"){let o=iW(i.expression.value);for(let s=0;s<o.length-1;s+=2)G.insertBefore(Kr(i.target,ae.StyleProperty,null,o[s],$(o[s+1]),null,null,Ot.STYLE),i);G.remove(i)}else if(i.name==="class"){let o=i.expression.value.trim().split(/\s+/g);for(let s of o)G.insertBefore(Kr(i.target,ae.ClassName,null,s,null,null,null,Ot.NONE),i);G.remove(i)}}}function oW(n){nm(n.root,n.componentName,{index:0},n.compatibility===Nr.TemplateDefinitionBuilder)}function nm(n,e,t,i){n.fnName===null&&(n.fnName=n.job.pool.uniqueName(mc(`${e}_${n.job.fnSuffix}`),!1));let r=new Map;for(let o of n.ops())switch(o.kind){case x.Property:case x.DomProperty:o.bindingKind===ae.LegacyAnimation&&(o.name="@"+o.name);break;case x.Animation:if(o.handlerFnName===null){let d=o.name.replace(".","");o.handlerFnName=`${n.fnName}_${d}_cb`,o.handlerFnName=mc(o.handlerFnName)}break;case x.AnimationListener:if(o.handlerFnName!==null)break;if(!o.hostListener&&o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let s=o.name.replace(".","");o.hostListener?o.handlerFnName=`${e}_${s}_HostBindingHandler`:o.handlerFnName=`${n.fnName}_${o.tag.replace("-","_")}_${s}_${o.targetSlot.slot}_listener`,o.handlerFnName=mc(o.handlerFnName);break;case x.Listener:if(o.handlerFnName!==null)break;if(!o.hostListener&&o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let a="";o.isLegacyAnimationListener&&(o.name=`@${o.name}.${o.legacyAnimationPhase}`,a="animation"),o.hostListener?o.handlerFnName=`${e}_${a}${o.name}_HostBindingHandler`:o.handlerFnName=`${n.fnName}_${o.tag.replace("-","_")}_${a}${o.name}_${o.targetSlot.slot}_listener`,o.handlerFnName=mc(o.handlerFnName);break;case x.TwoWayListener:if(o.handlerFnName!==null)break;if(o.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");o.handlerFnName=mc(`${n.fnName}_${o.tag.replace("-","_")}_${o.name}_${o.targetSlot.slot}_listener`);break;case x.Variable:r.set(o.xref,sW(n,o.variable,t));break;case x.RepeaterCreate:if(!(n instanceof eo))throw new Error("AssertionError: must be compiling a component");if(o.handle.slot===null)throw new Error("Expected slot to be assigned");if(o.emptyView!==null){let d=n.job.views.get(o.emptyView);nm(d,`${e}_${o.functionNameSuffix}Empty_${o.handle.slot+2}`,t,i)}nm(n.job.views.get(o.xref),`${e}_${o.functionNameSuffix}_${o.handle.slot+1}`,t,i);break;case x.Projection:if(!(n instanceof eo))throw new Error("AssertionError: must be compiling a component");if(o.handle.slot===null)throw new Error("Expected slot to be assigned");if(o.fallbackView!==null){let d=n.job.views.get(o.fallbackView);nm(d,`${e}_ProjectionFallback_${o.handle.slot}`,t,i)}break;case x.ConditionalCreate:case x.ConditionalBranchCreate:case x.Template:if(!(n instanceof eo))throw new Error("AssertionError: must be compiling a component");let l=n.job.views.get(o.xref);if(o.handle.slot===null)throw new Error("Expected slot to be assigned");let c=o.functionNameSuffix.length===0?"":`_${o.functionNameSuffix}`;nm(l,`${e}${c}_${o.handle.slot}`,t,i);break;case x.StyleProp:o.name=aW(o.name),i&&(o.name=kP(o.name));break;case x.ClassProp:i&&(o.name=kP(o.name));break}for(let o of n.ops())Wn(o,s=>{if(!(!(s instanceof ga)||s.name!==null)){if(!r.has(s.xref))throw new Error(`Variable ${s.xref} not yet named`);s.name=r.get(s.xref)}})}function sW(n,e,t){if(e.name===null)switch(e.kind){case Hn.Context:e.name=`ctx_r${t.index++}`;break;case Hn.Identifier:if(n.job.compatibility===Nr.TemplateDefinitionBuilder){let i=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${i}r${++t.index}`}else e.name=`${e.identifier}_i${t.index++}`;break;default:e.name=`_r${++t.index}`;break}return e.name}function aW(n){return n.startsWith("--")?n:gO(n)}function kP(n){let e=n.indexOf("!important");return e>-1?n.substring(0,e):n}function lW(n){for(let e of n.units){for(let t of e.create)(t.kind===x.Listener||t.kind===x.Animation||t.kind===x.AnimationListener||t.kind===x.TwoWayListener)&&RP(t.handlerOps);RP(e.update)}}function RP(n){for(let e of n){if(e.kind!==x.Statement||!(e.statement instanceof ro)||!(e.statement.expr instanceof A_))continue;let t=e.statement.expr.steps,i=!0;for(let r=e.next;r.kind!==x.ListEnd&&i;r=r.next)Wn(r,(o,s)=>{if(!As(o))return o;if(i&&!(s&ct.InChildOperation))switch(o.kind){case fe.NextContext:o.steps+=t,G.remove(e),i=!1;break;case fe.GetCurrentView:case fe.Reference:case fe.ContextLetReference:i=!1;break}})}}var cW="ng-container";function uW(n){for(let e of n.units){let t=new Set;for(let i of e.create)i.kind===x.ElementStart&&i.tag===cW&&(i.kind=x.ContainerStart,t.add(i.xref)),i.kind===x.ElementEnd&&t.has(i.xref)&&(i.kind=x.ContainerEnd)}}function dW(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an element-like target.");return t}function pW(n){let e=new Map;for(let t of n.units)for(let i of t.create)ya(i)&&e.set(i.xref,i);for(let t of n.units)for(let i of t.create)(i.kind===x.ElementStart||i.kind===x.ContainerStart)&&i.nonBindable&&G.insertAfter(hH(i.xref),i),(i.kind===x.ElementEnd||i.kind===x.ContainerEnd)&&dW(e,i.xref).nonBindable&&G.insertBefore(mH(i.xref),i)}function pa(n){return e=>e.kind===n}function am(n,e){return t=>t.kind===n&&e===t.expression instanceof on}function fW(n){return n.kind===x.Listener&&!(n.hostListener&&n.isLegacyAnimationListener)||n.kind===x.TwoWayListener||n.kind===x.Animation||n.kind===x.AnimationListener}function hW(n){return(n.kind===x.Property||n.kind===x.TwoWayProperty)&&!(n.expression instanceof on)}var mW=[{test:n=>n.kind===x.Listener&&n.hostListener&&n.isLegacyAnimationListener},{test:fW}],gW=[{test:pa(x.StyleMap),transform:H_},{test:pa(x.ClassMap),transform:H_},{test:pa(x.StyleProp)},{test:pa(x.ClassProp)},{test:am(x.Attribute,!0)},{test:am(x.Property,!0)},{test:hW},{test:am(x.Attribute,!1)}],vW=[{test:am(x.DomProperty,!0)},{test:am(x.DomProperty,!1)},{test:pa(x.Attribute)},{test:pa(x.StyleMap),transform:H_},{test:pa(x.ClassMap),transform:H_},{test:pa(x.StyleProp)},{test:pa(x.ClassProp)}],NP=new Set([x.Listener,x.TwoWayListener,x.AnimationListener,x.StyleMap,x.ClassMap,x.StyleProp,x.ClassProp,x.Property,x.TwoWayProperty,x.DomProperty,x.Attribute,x.Animation]);function yW(n){for(let e of n.units){PP(e.create,mW);let t=e.job.kind===ne.Host?vW:gW;PP(e.update,t)}}function PP(n,e){let t=[],i=null;for(let r of n){let o=Um(r)?r.target:null;(!NP.has(r.kind)||o!==i&&i!==null&&o!==null)&&(G.insertBefore(OP(t,e),r),t=[],i=null),NP.has(r.kind)&&(t.push(r),G.remove(r),i=o??i)}n.push(OP(t,e))}function OP(n,e){let t=Array.from(e,()=>new Array);for(let i of n){let r=e.findIndex(o=>o.test(i));t[r].push(i)}return t.flatMap((i,r)=>{let o=e[r].transform;return o?o(i):i})}function H_(n){return n.slice(n.length-1)}function _W(n){for(let e of n.units){let t=jD(e);for(let i of e.ops())switch(i.kind){case x.Binding:let r=CW(t,i.target);bW(i.name)&&r.kind===x.Projection&&G.remove(i);break}}}function bW(n){return n.toLowerCase()==="select"}function CW(n,e){let t=n.get(e);if(t===void 0)throw new Error("All attributes should have an slottable target.");return t}function xW(n){for(let e of n.units)wW(e)}function wW(n){for(let e of n.update)Wn(e,(t,i)=>{if(As(t)&&t.kind===fe.PipeBinding){if(i&ct.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(n.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");SW(n,e.target,t)}else n.create.push(nO(t.target,t.targetSlot,t.name))}})}function SW(n,e,t){for(let i=n.create.head.next;i.kind!==x.ListEnd;i=i.next){if(!hp(i)||i.xref!==e)continue;for(;i.next.kind===x.Pipe;)i=i.next;let r=nO(t.target,t.targetSlot,t.name);G.insertBefore(r,i.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${t.name}`)}function EW(n){for(let e of n.units)for(let t of e.update)_n(t,i=>!(i instanceof jc)||i.args.length<=4?i:new zm(i.target,i.targetSlot,i.name,mt(i.args),i.args.length),ct.None)}function DW(n){vO(n.root,0)}function vO(n,e){let t=null;for(let i of n.create)switch(i.kind){case x.I18nStart:i.subTemplateIndex=e===0?null:e,t=i;break;case x.I18nEnd:t.subTemplateIndex===null&&(e=0),t=null;break;case x.ConditionalCreate:case x.ConditionalBranchCreate:case x.Template:e=Dy(n.job.views.get(i.xref),t,i.i18nPlaceholder,e);break;case x.RepeaterCreate:let r=n.job.views.get(i.xref);e=Dy(r,t,i.i18nPlaceholder,e),i.emptyView!==null&&(e=Dy(n.job.views.get(i.emptyView),t,i.emptyI18nPlaceholder,e));break;case x.Projection:i.fallbackView!==null&&(e=Dy(n.job.views.get(i.fallbackView),t,i.fallbackViewI18nPlaceholder,e));break}return e}function Dy(n,e,t,i){if(t!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");i++,AW(n,e)}return vO(n,i)}function AW(n,e){if(n.create.head.next?.kind!==x.I18nStart){let t=n.job.allocateXrefId();G.insertAfter(a1(t,e.message,e.root,null),n.create.head),G.insertBefore(l1(t,null),n.create.tail)}}function TW(n){for(let e of n.units)for(let t of e.ops())Wn(t,i=>{if(!(i instanceof Vc)||i.body===null)return;let r=new rD(i.args.length);i.fn=n.pool.getSharedConstant(r,i.body),i.body=null})}var rD=class extends qd{numArgs;constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof rp?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,t){let i=[];for(let o=0;o<this.numArgs;o++)i.push(new zn("a"+o));let r=re(t,o=>o instanceof rp?We("a"+o.index):o,ct.None);return new kn(e,new Mc(i,r),void 0,di.Final)}};function IW(n){for(let e of n.units)for(let t of e.update)_n(t,(i,r)=>r&ct.InChildOperation?i:i instanceof Lo?MW(i):i instanceof ws?kW(i):i,ct.None)}function MW(n){let e=[],t=[];for(let i of n.entries)if(i.isConstant())e.push(i);else{let r=t.length;t.push(i),e.push(new rp(r))}return new Vc(mt(e),t)}function kW(n){let e=[],t=[];for(let i of n.entries)if(i.value.isConstant())e.push(i);else{let r=t.length;t.push(i.value),e.push(new Gd(i.key,new rp(r),i.quoted))}return new Vc(Ui(e),t)}function RW(n,e,t,i,r){return bl(P.element,n,e,t,i,r)}function NW(n,e,t,i,r){return bl(P.elementStart,n,e,t,i,r)}function bl(n,e,t,i,r,o){let s=[$(e)];return t!==null&&s.push($(t)),r!==null?s.push($(i),$(r)):i!==null&&s.push($(i)),Fe(n,s,o)}function yO(n,e,t,i,r,o,s,a,l){let c=[$(e),t,$(i),$(r),$(o),$(s)];for(a!==null&&(c.push($(a)),c.push(ue(P.templateRefExtractor)));c[c.length-1].isEquivalent(Qd);)c.pop();return Fe(n,c,l)}function qD(n,e,t,i,r){let o=[$(e)];return t instanceof on?o.push(mp(t,r)):o.push(t),i!==null&&o.push(i),Fe(n,o,r)}function PW(n){return Fe(P.elementEnd,[],n)}function OW(n,e,t,i){return bl(P.elementContainerStart,n,null,e,t,i)}function FW(n,e,t,i){return bl(P.elementContainer,n,null,e,t,i)}function LW(){return Fe(P.elementContainerEnd,[],null)}function BW(n,e,t,i,r,o,s,a){return yO(P.templateCreate,n,e,t,i,r,o,s,a)}function VW(){return Fe(P.disableBindings,[],null)}function jW(){return Fe(P.enableBindings,[],null)}function qW(n,e,t,i,r){let o=[$(n),e];return t!==null&&o.push(ue(t)),Fe(i?P.syntheticHostListener:P.listener,o,r)}function FP(n,e){return ue(P.twoWayBindingSet).callFn([n,e])}function UW(n,e,t){return Fe(P.twoWayListener,[$(n),e],t)}function $W(n,e){return Fe(P.pipe,[$(n),$(e)],null)}function HW(){return Fe(P.namespaceHTML,[],null)}function zW(){return Fe(P.namespaceSVG,[],null)}function WW(){return Fe(P.namespaceMathML,[],null)}function GW(n,e){return Fe(P.advance,n>1?[$(n)]:[],e)}function QW(n){return ue(P.reference).callFn([$(n)])}function YW(n){return ue(P.nextContext).callFn(n===1?[]:[$(n)])}function ZW(){return ue(P.getCurrentView).callFn([])}function XW(n){return ue(P.restoreView).callFn([n])}function JW(n){return ue(P.resetView).callFn([n])}function KW(n,e,t){let i=[$(n,null)];return e!==""&&i.push($(e)),Fe(P.text,i,t)}function eG(n,e,t,i,r,o,s,a,l,c,d){let m=[$(n),$(e),t??$(null),$(i),$(r),$(o),s??$(null),a??$(null),l?ue(P.deferEnableTimerScheduling):$(null),$(d)],_;for(;(_=m[m.length-1])!==null&&_ instanceof hi&&_.value===null;)m.pop();return Fe(P.defer,m,c)}var tG=new Map([[St.Idle,{none:P.deferOnIdle,prefetch:P.deferPrefetchOnIdle,hydrate:P.deferHydrateOnIdle}],[St.Immediate,{none:P.deferOnImmediate,prefetch:P.deferPrefetchOnImmediate,hydrate:P.deferHydrateOnImmediate}],[St.Timer,{none:P.deferOnTimer,prefetch:P.deferPrefetchOnTimer,hydrate:P.deferHydrateOnTimer}],[St.Hover,{none:P.deferOnHover,prefetch:P.deferPrefetchOnHover,hydrate:P.deferHydrateOnHover}],[St.Interaction,{none:P.deferOnInteraction,prefetch:P.deferPrefetchOnInteraction,hydrate:P.deferHydrateOnInteraction}],[St.Viewport,{none:P.deferOnViewport,prefetch:P.deferPrefetchOnViewport,hydrate:P.deferHydrateOnViewport}],[St.Never,{none:P.deferHydrateNever,prefetch:P.deferHydrateNever,hydrate:P.deferHydrateNever}]]);function nG(n,e,t,i){let r=tG.get(n)?.[t];if(r===void 0)throw new Error(`Unable to determine instruction for trigger ${n}`);return Fe(r,e.map(o=>$(o)),i)}function iG(n){return Fe(P.projectionDef,n?[n]:[],null)}function rG(n,e,t,i,r,o,s){let a=[$(n)];return(e!==0||t!==null||i!==null)&&(a.push($(e)),t!==null&&a.push(t),i!==null&&(t===null&&a.push($(null)),a.push(We(i),$(r),$(o)))),Fe(P.projection,a,s)}function oG(n,e,t,i){let r=[$(n),$(e)];return t!==null&&r.push($(t)),Fe(P.i18nStart,r,i)}function sG(n,e,t,i,r,o,s,a){let l=[$(n),e,$(t),$(i),$(r),$(o)];for(s!==null&&(l.push($(s)),l.push(ue(P.templateRefExtractor)));l[l.length-1].isEquivalent(Qd);)l.pop();return Fe(P.conditionalCreate,l,a)}function aG(n,e,t,i,r,o,s,a){let l=[$(n),e,$(t),$(i),$(r),$(o)];for(s!==null&&(l.push($(s)),l.push(ue(P.templateRefExtractor)));l[l.length-1].isEquivalent(Qd);)l.pop();return Fe(P.conditionalBranchCreate,l,a)}function lG(n,e,t,i,r,o,s,a,l,c,d,m,_,y){let w=[$(n),We(e),$(t),$(i),$(r),$(o),s];return(a||l!==null)&&(w.push($(a)),l!==null&&(w.push(We(l),$(c),$(d)),(m!==null||_!==null)&&w.push($(m)),_!==null&&w.push($(_)))),Fe(P.repeaterCreate,w,y)}function cG(n,e){return Fe(P.repeater,[n],e)}function uG(n,e,t){return n==="prefetch"?Fe(P.deferPrefetchWhen,[e],t):n==="hydrate"?Fe(P.deferHydrateWhen,[e],t):Fe(P.deferWhen,[e],t)}function dG(n,e){return Fe(P.declareLet,[$(n)],e)}function pG(n,e){return ue(P.storeLet).callFn([n],e)}function fG(n){return ue(P.readContextLet).callFn([$(n)])}function hG(n,e,t,i){let r=[$(n),$(e)];return t&&r.push($(t)),Fe(P.i18n,r,i)}function mG(n){return Fe(P.i18nEnd,[],n)}function gG(n,e){let t=[$(n),$(e)];return Fe(P.i18nAttributes,t,null)}function vG(n,e,t){return qD(P.ariaProperty,n,e,null,t)}function yG(n,e,t,i){return qD(P.property,n,e,t,i)}function _G(n,e,t,i){let r=[$(n),e];return t!==null&&r.push(t),Fe(P.twoWayProperty,r,i)}function _O(n,e,t,i,r){let o=[$(n)];return e instanceof on?o.push(mp(e,r)):o.push(e),(t!==null||i!==null)&&o.push(t??$(null)),i!==null&&o.push($(i)),Fe(P.attribute,o,null)}function bG(n,e,t,i){let r=[$(n)];return e instanceof on?r.push(mp(e,i)):r.push(e),t!==null&&r.push($(t)),Fe(P.styleProp,r,i)}function CG(n,e,t){return Fe(P.classProp,[$(n),e],t)}function xG(n,e){let t=n instanceof on?mp(n,e):n;return Fe(P.styleMap,[t],e)}function wG(n,e){let t=n instanceof on?mp(n,e):n;return Fe(P.classMap,[t],e)}function SG(n,e,t,i,r){return bl(P.domElement,n,e,t,i,r)}function EG(n,e,t,i,r){return bl(P.domElementStart,n,e,t,i,r)}function DG(n){return Fe(P.domElementEnd,[],n)}function AG(n,e,t,i){return bl(P.domElementContainerStart,n,null,e,t,i)}function TG(n,e,t,i){return bl(P.domElementContainer,n,null,e,t,i)}function IG(){return Fe(P.domElementContainerEnd,[],null)}function MG(n,e,t,i){let r=[$(n),e];return t!==null&&r.push(ue(t)),Fe(P.domListener,r,i)}function kG(n,e,t,i,r,o,s,a){return yO(P.domTemplate,n,e,t,i,r,o,s,a)}var LP=[P.pipeBind1,P.pipeBind2,P.pipeBind3,P.pipeBind4];function RG(n,e,t){if(t.length<1||t.length>LP.length)throw new Error("pipeBind() argument count out of bounds");let i=LP[t.length-1];return ue(i).callFn([$(n),$(e),...t])}function NG(n,e,t){return ue(P.pipeBindV).callFn([$(n),$(e),t])}function PG(n,e,t){let i=bO(n,e);return QG(zG,[],i,[],t)}function OG(n,e){return Fe(P.i18nExp,[n],e)}function FG(n,e){return Fe(P.i18nApply,[$(n)],e)}function LG(n,e,t,i){return qD(P.domProperty,n,e,t,i)}function BG(n,e,t,i){let r=[e];t!==null&&r.push(t);let o=n==="enter"?P.animationEnter:P.animationLeave;return Fe(o,r,i)}function VG(n,e,t,i){let o=[e instanceof on?mp(e,i):e];t!==null&&o.push(t);let s=n==="enter"?P.animationEnter:P.animationLeave;return Fe(s,o,i)}function jG(n,e,t,i){let r=[e],o=n==="enter"?P.animationEnterListener:P.animationLeaveListener;return Fe(o,r,i)}function qG(n,e,t){return Fe(P.syntheticHostProperty,[$(n),e],t)}function UG(n,e,t){return UD(GG,[$(n),e],t,[],null)}function $G(n,e){return Fe(P.attachSourceLocations,[$(n),e],null)}function bO(n,e){if(n.length<1||e.length!==n.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let t=[];if(e.length===1&&n[0]===""&&n[1]==="")t.push(e[0]);else{let i;for(i=0;i<e.length;i++)t.push($(n[i]),e[i]);t.push($(n[i]))}return t}function mp(n,e){let t=bO(n.strings,n.expressions);return UD(WG,[],t,[],e)}function Fe(n,e,t){let i=ue(n).callFn(e,t);return so(new ro(i,t))}function HG(n,e,t){let i=[n];return e!==null&&i.push(e),Fe(P.conditional,i,t)}var zG={constant:[P.textInterpolate,P.textInterpolate1,P.textInterpolate2,P.textInterpolate3,P.textInterpolate4,P.textInterpolate5,P.textInterpolate6,P.textInterpolate7,P.textInterpolate8],variable:P.textInterpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},WG={constant:[P.interpolate,P.interpolate1,P.interpolate2,P.interpolate3,P.interpolate4,P.interpolate5,P.interpolate6,P.interpolate7,P.interpolate8],variable:P.interpolateV,mapping:n=>{if(n%2===0)throw new Error("Expected odd number of arguments");return(n-1)/2}},GG={constant:[P.pureFunction0,P.pureFunction1,P.pureFunction2,P.pureFunction3,P.pureFunction4,P.pureFunction5,P.pureFunction6,P.pureFunction7,P.pureFunction8],variable:P.pureFunctionV,mapping:n=>n};function UD(n,e,t,i,r){let o=n.mapping(t.length),s=t.at(-1);if(i.length===0&&t.length>1&&s instanceof hi&&s.value===""&&t.pop(),o<n.constant.length)return ue(n.constant[o]).callFn([...e,...t,...i],r);if(n.variable!==null)return ue(n.variable).callFn([...e,mt(t),...i],r);throw new Error("AssertionError: unable to call variadic function")}function QG(n,e,t,i,r){return so(UD(n,e,t,i,r).toStmt())}var lm="aria",YG=new Map([["window",P.resolveWindow],["document",P.resolveDocument],["body",P.resolveBody]]),ZG=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function XG(n){for(let e of n.units)JG(e,e.create),$D(e,e.update)}function JG(n,e){for(let t of e)switch(_n(t,xO,ct.None),t.kind){case x.Text:G.replace(t,KW(t.handle.slot,t.initialValue,t.sourceSpan));break;case x.ElementStart:G.replace(t,n.job.mode===wr.DomOnly?EG(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan):NW(t.handle.slot,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case x.Element:G.replace(t,n.job.mode===wr.DomOnly?SG(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan):RW(t.handle.slot,t.tag,t.attributes,t.localRefs,t.wholeSourceSpan));break;case x.ElementEnd:G.replace(t,n.job.mode===wr.DomOnly?DG(t.sourceSpan):PW(t.sourceSpan));break;case x.ContainerStart:G.replace(t,n.job.mode===wr.DomOnly?AG(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan):OW(t.handle.slot,t.attributes,t.localRefs,t.startSourceSpan));break;case x.Container:G.replace(t,n.job.mode===wr.DomOnly?TG(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan):FW(t.handle.slot,t.attributes,t.localRefs,t.wholeSourceSpan));break;case x.ContainerEnd:G.replace(t,n.job.mode===wr.DomOnly?IG():LW());break;case x.I18nStart:G.replace(t,oG(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case x.I18nEnd:G.replace(t,mG(t.sourceSpan));break;case x.I18n:G.replace(t,hG(t.handle.slot,t.messageIndex,t.subTemplateIndex,t.sourceSpan));break;case x.I18nAttributes:if(t.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");G.replace(t,gG(t.handle.slot,t.i18nAttributesConfig));break;case x.Template:if(!(n instanceof eo))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let i=n.job.views.get(t.xref);G.replace(t,t.templateKind===ir.Block||n.job.mode===wr.DomOnly?kG(t.handle.slot,We(i.fnName),i.decls,i.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan):BW(t.handle.slot,We(i.fnName),i.decls,i.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case x.DisableBindings:G.replace(t,VW());break;case x.EnableBindings:G.replace(t,jW());break;case x.Pipe:G.replace(t,$W(t.handle.slot,t.name));break;case x.DeclareLet:G.replace(t,dG(t.handle.slot,t.sourceSpan));break;case x.AnimationString:G.replace(t,VG(t.animationKind,t.expression,t.sanitizer,t.sourceSpan));break;case x.Animation:let r=Ay(n,t.handlerFnName,t.handlerOps,!1);G.replace(t,BG(t.animationKind,r,t.sanitizer,t.sourceSpan));break;case x.AnimationListener:let o=Ay(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent);G.replace(t,jG(t.animationKind,o,null,t.sourceSpan));break;case x.Listener:let s=Ay(n,t.handlerFnName,t.handlerOps,t.consumesDollarEvent),a=t.eventTarget?YG.get(t.eventTarget):null;if(a===void 0)throw new Error(`Unexpected global target '${t.eventTarget}' defined for '${t.name}' event. Supported list of global targets: window,document,body.`);G.replace(t,n.job.mode===wr.DomOnly&&!t.hostListener&&!t.isLegacyAnimationListener?MG(t.name,s,a,t.sourceSpan):qW(t.name,s,a,t.hostListener&&t.isLegacyAnimationListener,t.sourceSpan));break;case x.TwoWayListener:G.replace(t,UW(t.name,Ay(n,t.handlerFnName,t.handlerOps,!0),t.sourceSpan));break;case x.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);G.replace(t,so(new kn(t.variable.name,t.initializer,void 0,di.Final)));break;case x.Namespace:switch(t.active){case Ai.HTML:G.replace(t,HW());break;case Ai.SVG:G.replace(t,zW());break;case Ai.Math:G.replace(t,WW());break}break;case x.Defer:let l=!!t.loadingMinimumTime||!!t.loadingAfterTime||!!t.placeholderMinimumTime;G.replace(t,eG(t.handle.slot,t.mainSlot.slot,t.resolverFn,t.loadingSlot?.slot??null,t.placeholderSlot?.slot??null,t.errorSlot?.slot??null,t.loadingConfig,t.placeholderConfig,l,t.sourceSpan,t.flags));break;case x.DeferOn:let c=[];switch(t.trigger.kind){case St.Never:case St.Idle:case St.Immediate:break;case St.Timer:c=[t.trigger.delay];break;case St.Interaction:case St.Hover:case St.Viewport:t.modifier==="hydrate"?c=[]:(c=[t.trigger.targetSlot?.slot??null],t.trigger.targetSlotViewSteps!==0&&c.push(t.trigger.targetSlotViewSteps));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${t.trigger.kind}`)}G.replace(t,nG(t.trigger.kind,c,t.modifier,t.sourceSpan));break;case x.ProjectionDef:G.replace(t,iG(t.def));break;case x.Projection:if(t.handle.slot===null)throw new Error("No slot was assigned for project instruction");let d=null,m=null,_=null;if(t.fallbackView!==null){if(!(n instanceof eo))throw new Error("AssertionError: must be compiling a component");let N=n.job.views.get(t.fallbackView);if(N===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(N.fnName===null||N.decls===null||N.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");d=N.fnName,m=N.decls,_=N.vars}G.replace(t,rG(t.handle.slot,t.projectionSlotIndex,t.attributes,d,m,_,t.sourceSpan));break;case x.ConditionalCreate:if(!(n instanceof eo))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let y=n.job.views.get(t.xref);G.replace(t,sG(t.handle.slot,We(y.fnName),y.decls,y.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case x.ConditionalBranchCreate:if(!(n instanceof eo))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(t.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let w=n.job.views.get(t.xref);G.replace(t,aG(t.handle.slot,We(w.fnName),w.decls,w.vars,t.tag,t.attributes,t.localRefs,t.startSourceSpan));break;case x.RepeaterCreate:if(t.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(n instanceof eo))throw new Error("AssertionError: must be compiling a component");let T=n.job.views.get(t.xref);if(T.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let I=null,M=null,U=null;if(t.emptyView!==null){let N=n.job.views.get(t.emptyView);if(N===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(N.fnName===null||N.decls===null||N.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");I=N.fnName,M=N.decls,U=N.vars}G.replace(t,lG(t.handle.slot,T.fnName,t.decls,t.vars,t.tag,t.attributes,tQ(n,t),t.usesComponentInstance,I,M,U,t.emptyTag,t.emptyAttributes,t.wholeSourceSpan));break;case x.SourceLocation:let W=mt(t.locations.map(({targetSlot:N,offset:X,line:Y,column:ve})=>{if(N.slot===null)throw new Error("No slot was assigned for source location");return mt([$(N.slot),$(X),$(Y),$(ve)])}));G.replace(t,$G(t.templatePath,W));break;case x.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${x[t.kind]}`)}}function $D(n,e){for(let t of e)switch(_n(t,xO,ct.None),t.kind){case x.Advance:G.replace(t,GW(t.delta,t.sourceSpan));break;case x.Property:G.replace(t,n.job.mode===wr.DomOnly&&t.bindingKind!==ae.LegacyAnimation&&t.bindingKind!==ae.Animation?BP(t):eQ(t));break;case x.TwoWayProperty:G.replace(t,_G(t.name,t.expression,t.sanitizer,t.sourceSpan));break;case x.StyleProp:G.replace(t,bG(t.name,t.expression,t.unit,t.sourceSpan));break;case x.ClassProp:G.replace(t,CG(t.name,t.expression,t.sourceSpan));break;case x.StyleMap:G.replace(t,xG(t.expression,t.sourceSpan));break;case x.ClassMap:G.replace(t,wG(t.expression,t.sourceSpan));break;case x.I18nExpression:G.replace(t,OG(t.expression,t.sourceSpan));break;case x.I18nApply:G.replace(t,FG(t.handle.slot,t.sourceSpan));break;case x.InterpolateText:G.replace(t,PG(t.interpolation.strings,t.interpolation.expressions,t.sourceSpan));break;case x.Attribute:G.replace(t,_O(t.name,t.expression,t.sanitizer,t.namespace,t.sourceSpan));break;case x.DomProperty:if(t.expression instanceof on)throw new Error("not yet handled");t.bindingKind===ae.LegacyAnimation||t.bindingKind===ae.Animation?G.replace(t,qG(t.name,t.expression,t.sourceSpan)):G.replace(t,BP(t));break;case x.Variable:if(t.variable.name===null)throw new Error(`AssertionError: unnamed variable ${t.xref}`);G.replace(t,so(new kn(t.variable.name,t.initializer,void 0,di.Final)));break;case x.Conditional:if(t.processed===null)throw new Error("Conditional test was not set.");G.replace(t,HG(t.processed,t.contextValue,t.sourceSpan));break;case x.Repeater:G.replace(t,cG(t.collection,t.sourceSpan));break;case x.DeferWhen:G.replace(t,uG(t.modifier,t.expr,t.sourceSpan));break;case x.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${t.declaredName}`);case x.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${x[t.kind]}`)}}function KG(n){return n.charAt(lm.length)!=="-"?lm+"-"+n.slice(lm.length).toLowerCase():n}function CO(n){return n.startsWith(lm)&&n.length>lm.length}function BP(n){return CO(n.name)?_O(KG(n.name),n.expression,null,null,n.sourceSpan):LG(ZG.get(n.name)??n.name,n.expression,n.sanitizer,n.sourceSpan)}function eQ(n){return CO(n.name)?vG(n.name,n.expression,n.sourceSpan):yG(n.name,n.expression,n.sanitizer,n.sourceSpan)}function xO(n){if(!As(n))return n;switch(n.kind){case fe.NextContext:return YW(n.steps);case fe.Reference:return QW(n.targetSlot.slot+1+n.offset);case fe.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${n.name}`);case fe.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case fe.RestoreView:if(typeof n.view=="number")throw new Error("AssertionError: unresolved RestoreView");return XW(n.view);case fe.ResetView:return JW(n.expr);case fe.GetCurrentView:return ZW();case fe.ReadVariable:if(n.name===null)throw new Error(`Read of unnamed variable ${n.xref}`);return We(n.name);case fe.ReadTemporaryExpr:if(n.name===null)throw new Error(`Read of unnamed temporary ${n.xref}`);return We(n.name);case fe.AssignTemporaryExpr:if(n.name===null)throw new Error(`Assign of unnamed temporary ${n.xref}`);return We(n.name).set(n.expr);case fe.PureFunctionExpr:if(n.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return UG(n.varOffset,n.fn,n.args);case fe.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case fe.PipeBinding:return RG(n.targetSlot.slot,n.varOffset,n.args);case fe.PipeBindingVariadic:return NG(n.targetSlot.slot,n.varOffset,n.args);case fe.SlotLiteralExpr:return $(n.slot.slot);case fe.ContextLetReference:return fG(n.targetSlot.slot);case fe.StoreLet:return pG(n.value,n.sourceSpan);case fe.TrackContext:return We("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${fe[n.kind]}`)}}function Ay(n,e,t,i){$D(n,t);let r=[];for(let s of t){if(s.kind!==x.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${x[s.kind]}`);r.push(s.statement)}let o=[];return i&&o.push(new zn("$event")),dl(o,r,void 0,void 0,e)}function tQ(n,e){if(e.trackByFn!==null)return e.trackByFn;let t=[new zn("$index"),new zn("$item")],i;if(e.trackByOps===null)i=e.usesComponentInstance?dl(t,[new pi(e.track)]):Bo(t,e.track);else{$D(n,e.trackByOps);let r=[];for(let o of e.trackByOps){if(o.kind!==x.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${x[o.kind]}`);r.push(o.statement)}i=e.usesComponentInstance||r.length!==1||!(r[0]instanceof pi)?dl(t,r):Bo(t,r[0].value)}return e.trackByFn=n.job.pool.getSharedFunctionReference(i,"_forTrack"),e.trackByFn}function nQ(n){for(let e of n.units)for(let t of e.update)switch(t.kind){case x.Attribute:case x.Binding:case x.ClassProp:case x.ClassMap:case x.Property:case x.StyleProp:case x.StyleMap:t.expression instanceof Wm&&G.remove(t);break}}function iQ(n){for(let e of n.units)for(let t of e.create)switch(t.kind){case x.I18nContext:G.remove(t);break;case x.I18nStart:t.context=null;break}}function rQ(n){for(let e of n.units)for(let t of e.update){if(t.kind!==x.Variable||t.variable.kind!==Hn.Identifier||!(t.initializer instanceof $m))continue;let i=t.variable.identifier,r=t;for(;r&&r.kind!==x.ListEnd;)_n(r,o=>o instanceof ci&&o.name===i?$(void 0):o,ct.None),r=r.prev}}function oQ(n){for(let e of n.units){let t=new Set;for(let i of e.update)switch(i.kind){case x.I18nExpression:t.add(i.i18nOwner)}for(let i of e.create)switch(i.kind){case x.I18nAttributes:if(t.has(i.xref))continue;G.remove(i)}}}function sQ(n){for(let e of n.units)z_(e,e.create),z_(e,e.update)}function z_(n,e){let t=new Map;t.set(n.xref,We("ctx"));for(let i of e)switch(i.kind){case x.Variable:switch(i.variable.kind){case Hn.Context:t.set(i.variable.view,new ga(i.xref));break}break;case x.Animation:case x.AnimationListener:case x.Listener:case x.TwoWayListener:z_(n,i.handlerOps);break;case x.RepeaterCreate:i.trackByOps!==null&&z_(n,i.trackByOps);break}n===n.job.root&&t.set(n.xref,We("ctx"));for(let i of e)_n(i,r=>{if(r instanceof gl){if(!t.has(r.view))throw new Error(`No context found for reference to view ${r.view} from view ${n.xref}`);return t.get(r.view)}else return r},ct.None)}function aQ(n){for(let e of n.units)for(let t of e.create)if(t.kind===x.Defer){if(t.resolverFn!==null)continue;if(t.ownResolverFn!==null){if(t.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let i=e.fnName?.replace("_Template","");t.resolverFn=n.pool.getSharedFunctionReference(t.ownResolverFn,`${i}_Defer_${t.handle.slot}_DepsFn`,!1)}}}function lQ(n){for(let e of n.units)VP(e.create),VP(e.update)}function VP(n){for(let e of n)(e.kind===x.Listener||e.kind===x.TwoWayListener||e.kind===x.AnimationListener)&&_n(e,t=>t instanceof ci&&t.name==="$event"?((e.kind===x.Listener||e.kind===x.AnimationListener)&&(e.consumesDollarEvent=!0),new io(t.name)):t,ct.InChildOperation)}function cQ(n){let e=new Map,t=new Map;for(let i of n.units)for(let r of i.create)switch(r.kind){case x.I18nContext:e.set(r.xref,r);break;case x.ElementStart:t.set(r.xref,r);break}gs(n,n.root,e,t)}function gs(n,e,t,i,r){let o=null,s=new Map;for(let a of e.create)switch(a.kind){case x.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");o={i18nBlock:a,i18nContext:t.get(a.context)};break;case x.I18nEnd:o=null;break;case x.ElementStart:if(a.i18nPlaceholder!==void 0){if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");jP(a,o.i18nContext,o.i18nBlock,r),r&&a.i18nPlaceholder.closeName&&s.set(a.xref,r),r=void 0}break;case x.ElementEnd:let l=i.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(o===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");qP(l,o.i18nContext,o.i18nBlock,s.get(a.xref)),s.delete(a.xref)}break;case x.Projection:if(a.i18nPlaceholder!==void 0){if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");jP(a,o.i18nContext,o.i18nBlock,r),qP(a,o.i18nContext,o.i18nBlock,r),r=void 0}if(a.fallbackView!==null){let _=n.views.get(a.fallbackView);if(a.fallbackViewI18nPlaceholder===void 0)gs(n,_,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Ty(n,_,a.handle.slot,a.fallbackViewI18nPlaceholder,o.i18nContext,o.i18nBlock,r),gs(n,_,t,i),Iy(n,_,a.handle.slot,a.fallbackViewI18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}}break;case x.ConditionalCreate:case x.ConditionalBranchCreate:case x.Template:let c=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)gs(n,c,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===ir.Structural?gs(n,c,t,i,a):(Ty(n,c,a.handle.slot,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),gs(n,c,t,i),Iy(n,c,a.handle.slot,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0)}break;case x.RepeaterCreate:if(r!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let d=a.handle.slot+1,m=n.views.get(a.xref);if(a.i18nPlaceholder===void 0)gs(n,m,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Ty(n,m,d,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),gs(n,m,t,i),Iy(n,m,d,a.i18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}if(a.emptyView!==null){let _=a.handle.slot+2,y=n.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)gs(n,y,t,i);else{if(o===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Ty(n,y,_,a.emptyI18nPlaceholder,o.i18nContext,o.i18nBlock,r),gs(n,y,t,i),Iy(n,y,_,a.emptyI18nPlaceholder,o.i18nContext,o.i18nBlock,r),r=void 0}}break}}function jP(n,e,t,i){let{startName:r,closeName:o}=n.i18nPlaceholder,s=It.ElementTag|It.OpenTag,a=n.handle.slot;i!==void 0&&(s|=It.TemplateTag,a={element:a,template:i.handle.slot}),o||(s|=It.CloseTag),up(e.params,r,a,t.subTemplateIndex,s)}function qP(n,e,t,i){let{closeName:r}=n.i18nPlaceholder;if(r){let o=It.ElementTag|It.CloseTag,s=n.handle.slot;i!==void 0&&(o|=It.TemplateTag,s={element:s,template:i.handle.slot}),up(e.params,r,s,t.subTemplateIndex,o)}}function Ty(n,e,t,i,r,o,s){let{startName:a,closeName:l}=i,c=It.TemplateTag|It.OpenTag;l||(c|=It.CloseTag),s!==void 0&&up(r.params,a,s.handle.slot,o.subTemplateIndex,c),up(r.params,a,t,wO(n,o,e),c)}function Iy(n,e,t,i,r,o,s){let{closeName:a}=i,l=It.TemplateTag|It.CloseTag;a&&(up(r.params,a,t,wO(n,o,e),l),s!==void 0&&up(r.params,a,s.handle.slot,o.subTemplateIndex,l))}function wO(n,e,t){for(let i of t.create)if(i.kind===x.I18nStart)return i.subTemplateIndex;return e.subTemplateIndex}function up(n,e,t,i,r){let o=n.get(e)??[];o.push({value:t,subTemplateIndex:i,flags:r}),n.set(e,o)}function uQ(n){let e=new Map,t=new Map,i=new Map;for(let s of n.units)for(let a of s.create)switch(a.kind){case x.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case x.I18nContext:t.set(a.xref,a);break;case x.IcuPlaceholder:i.set(a.xref,a);break}let r=new Map,o=s=>s.usage===pp.I18nText?s.i18nOwner:s.context;for(let s of n.units)for(let a of s.update)if(a.kind===x.I18nExpression){let l=r.get(o(a))||0,c=e.get(a.i18nOwner)??null,d={value:l,subTemplateIndex:c,flags:It.ExpressionIndex};dQ(a,d,t,i),r.set(o(a),l+1)}}function dQ(n,e,t,i){if(n.i18nPlaceholder!==null){let r=t.get(n.context),o=n.resolutionTime===qm.Creation?r.params:r.postprocessingParams,s=o.get(n.i18nPlaceholder)||[];s.push(e),o.set(n.i18nPlaceholder,s)}n.icuPlaceholder!==null&&i.get(n.icuPlaceholder)?.expressionPlaceholders.push(e)}function pQ(n){for(let e of n.units)W_(e,e.create,null),W_(e,e.update,null)}function W_(n,e,t){let i=new Map,r=new Map;for(let o of e)switch(o.kind){case x.Variable:switch(o.variable.kind){case Hn.Identifier:if(o.variable.local){if(r.has(o.variable.identifier))continue;r.set(o.variable.identifier,o.xref)}else if(i.has(o.variable.identifier))continue;i.set(o.variable.identifier,o.xref);break;case Hn.Alias:if(i.has(o.variable.identifier))continue;i.set(o.variable.identifier,o.xref);break;case Hn.SavedView:t={view:o.variable.view,variable:o.xref};break}break;case x.Animation:case x.AnimationListener:case x.Listener:case x.TwoWayListener:W_(n,o.handlerOps,t);break;case x.RepeaterCreate:o.trackByOps!==null&&W_(n,o.trackByOps,t);break}for(let o of e)o.kind==x.Listener||o.kind===x.TwoWayListener||o.kind===x.Animation||o.kind===x.AnimationListener||_n(o,s=>{if(s instanceof ci)return r.has(s.name)?new ga(r.get(s.name)):i.has(s.name)?new ga(i.get(s.name)):new Rr(new gl(n.job.root.xref),s.name);if(s instanceof T_&&typeof s.view=="number"){if(t===null||t.view!==s.view)throw new Error(`AssertionError: no saved view ${s.view} from view ${n.xref}`);return s.view=new ga(t.variable),s}else return s},ct.None);for(let o of e)Wn(o,s=>{if(s instanceof ci)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${s.name}`)})}var fQ=new Map([[Ot.HTML,P.sanitizeHtml],[Ot.RESOURCE_URL,P.sanitizeResourceUrl],[Ot.SCRIPT,P.sanitizeScript],[Ot.STYLE,P.sanitizeStyle],[Ot.URL,P.sanitizeUrl]]),hQ=new Map([[Ot.HTML,P.trustConstantHtml],[Ot.RESOURCE_URL,P.trustConstantResourceUrl]]);function mQ(n){for(let e of n.units){let t=jD(e);if(n.kind!==ne.Host){for(let i of e.create)if(i.kind===x.ExtractedAttribute){let r=hQ.get(UP(i.securityContext))??null;i.trustedValueFn=r!==null?ue(r):null}}for(let i of e.update)switch(i.kind){case x.Property:case x.Attribute:case x.DomProperty:let r=null;if(Array.isArray(i.securityContext)&&i.securityContext.length===2&&i.securityContext.indexOf(Ot.URL)>-1&&i.securityContext.indexOf(Ot.RESOURCE_URL)>-1?r=P.sanitizeUrlOrResourceUrl:r=fQ.get(UP(i.securityContext))??null,i.sanitizer=r!==null?ue(r):null,i.sanitizer===null){let o=!1;if(n.kind===ne.Host||i.kind===x.DomProperty)o=!0;else{let s=t.get(i.target);if(s===void 0||!ya(s))throw Error("Property should have an element-like owner");o=gQ(s)}o&&mz(i.name)&&(i.sanitizer=ue(P.validateIframeAttribute))}break}}}function gQ(n){return n.kind===x.ElementStart&&n.tag?.toLowerCase()==="iframe"}function UP(n){if(Array.isArray(n)){if(n.length>1)throw Error("AssertionError: Ambiguous security context");return n[0]||Ot.NONE}return n}function vQ(n){for(let e of n.units){e.create.prepend([sl(e.job.allocateXrefId(),{kind:Hn.SavedView,name:null,view:e.xref},new NE,Jr.None)]);for(let t of e.create){if(t.kind!==x.Listener&&t.kind!==x.TwoWayListener&&t.kind!==x.Animation&&t.kind!==x.AnimationListener)continue;let i=e!==n.root;if(!i)for(let r of t.handlerOps)Wn(r,o=>{(o instanceof D_||o instanceof Hm)&&(i=!0)});i&&yQ(e,t)}}}function yQ(n,e){e.handlerOps.prepend([sl(n.job.allocateXrefId(),{kind:Hn.Context,name:null,view:n.xref},new T_(n.xref),Jr.None)]);for(let t of e.handlerOps)t.kind===x.Statement&&t.statement instanceof pi&&(t.statement.value=new PE(t.statement.value))}function _Q(n){let e=new Map;for(let t of n.units){let i=0;for(let r of t.create)hp(r)&&(r.handle.slot=i,e.set(r.xref,r.handle.slot),i+=r.numSlotsUsed);t.decls=i}for(let t of n.units)for(let i of t.ops())if(i.kind===x.Template||i.kind===x.ConditionalCreate||i.kind===x.ConditionalBranchCreate||i.kind===x.RepeaterCreate){let r=n.views.get(i.xref);i.decls=r.decls}}function bQ(n){let e=new Set,t=new Map;for(let i of n.units)for(let r of i.ops())r.kind===x.DeclareLet&&t.set(r.xref,r),Wn(r,o=>{o instanceof Hm&&e.add(o.target)});for(let i of n.units)for(let r of i.update)_n(r,o=>o instanceof $m&&!e.has(o.target)?(CQ(o)||G.remove(t.get(o.target)),o.value):o,ct.None)}function CQ(n){let e=!1;return re(n,t=>((t instanceof jc||t instanceof zm)&&(e=!0),t),ct.None),e}function xQ(n){let e=new Set;for(let t of n.units)for(let i of t.ops())Wn(i,r=>{if(r instanceof nt)switch(r.operator){case Z.Exponentiation:wQ(r,e);break;case Z.NullishCoalesce:SQ(r,e);break;case Z.And:case Z.Or:EQ(r,e)}});for(let t of n.units)for(let i of t.ops())_n(i,r=>r instanceof Fo?e.has(r)?r:r.expr:r,ct.None)}function wQ(n,e){n.lhs instanceof Fo&&n.lhs.expr instanceof kc&&e.add(n.lhs)}function SQ(n,e){n.lhs instanceof Fo&&($P(n.lhs.expr)||n.lhs.expr instanceof xs)&&e.add(n.lhs),n.rhs instanceof Fo&&($P(n.rhs.expr)||n.rhs.expr instanceof xs)&&e.add(n.rhs)}function EQ(n,e){n.lhs instanceof Fo&&n.lhs.expr instanceof nt&&n.lhs.expr.operator===Z.NullishCoalesce&&e.add(n.lhs)}function $P(n){return n instanceof nt&&(n.operator===Z.And||n.operator===Z.Or)}function DQ(n){for(let e of n.units)for(let t of e.update)if(t.kind===x.Binding)switch(t.bindingKind){case ae.ClassName:if(t.expression instanceof on)throw new Error("Unexpected interpolation in ClassName binding");G.replace(t,tH(t.target,t.name,t.expression,t.sourceSpan));break;case ae.StyleProperty:G.replace(t,eH(t.target,t.name,t.expression,t.unit,t.sourceSpan));break;case ae.Property:case ae.Template:t.name==="style"?G.replace(t,nH(t.target,t.expression,t.sourceSpan)):t.name==="class"&&G.replace(t,iH(t.target,t.expression,t.sourceSpan));break}}function AQ(n){for(let e of n.units)e.create.prepend(G_(e.create)),e.update.prepend(G_(e.update))}function G_(n){let e=0,t=[];for(let i of n){let r=new Map;Wn(i,(c,d)=>{d&ct.InChildOperation||c instanceof vl&&r.set(c.xref,c)});let o=0,s=new Set,a=new Set,l=new Map;Wn(i,(c,d)=>{d&ct.InChildOperation||(c instanceof Ts?(s.has(c.xref)||(s.add(c.xref),l.set(c.xref,`tmp_${e}_${o++}`)),HP(l,c)):c instanceof vl&&(r.get(c.xref)===c&&(a.add(c.xref),o--),HP(l,c)))}),t.push(...Array.from(new Set(l.values())).map(c=>so(new kn(c)))),e++,i.kind===x.Listener||i.kind===x.Animation||i.kind===x.AnimationListener||i.kind===x.TwoWayListener?i.handlerOps.prepend(G_(i.handlerOps)):i.kind===x.RepeaterCreate&&i.trackByOps!==null&&i.trackByOps.prepend(G_(i.trackByOps))}return t}function HP(n,e){let t=n.get(e.xref);if(t===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=t}function TQ(n){for(let e of n.units)for(let t of e.create)if(t.kind===x.RepeaterCreate)if(t.track instanceof io&&t.track.name==="$index")t.trackByFn=ue(P.repeaterTrackByIndex);else if(t.track instanceof io&&t.track.name==="$item")t.trackByFn=ue(P.repeaterTrackByIdentity);else if(IQ(n.root.xref,t.track))t.usesComponentInstance=!0,t.track.receiver.receiver.view===e.xref?t.trackByFn=t.track.receiver:(t.trackByFn=ue(P.componentInstance).callFn([]).prop(t.track.receiver.name),t.track=t.trackByFn);else{t.track=re(t.track,r=>{if(r instanceof jc||r instanceof zm)throw new Error("Illegal State: Pipes are not allowed in this context");return r instanceof gl?(t.usesComponentInstance=!0,new RE(r.view)):r},ct.None);let i=new G;i.push(so(new pi(t.track,t.track.sourceSpan))),t.trackByOps=i}}function IQ(n,e){if(!(e instanceof rr)||e.args.length===0||e.args.length>2||!(e.receiver instanceof Rr&&e.receiver.receiver instanceof gl)||e.receiver.receiver.view!==n)return!1;let[t,i]=e.args;return!(t instanceof io)||t.name!=="$index"?!1:e.args.length===1?!0:!(!(i instanceof io)||i.name!=="$item")}function MQ(n){for(let e of n.units)for(let t of e.create)t.kind===x.RepeaterCreate&&(t.track=re(t.track,i=>{if(i instanceof ci){if(t.varNames.$index.has(i.name))return We("$index");if(i.name===t.varNames.$implicit)return We("$item")}return i},ct.None))}function kQ(n){for(let e of n.units)for(let t of e.create)t.kind===x.TwoWayListener&&_n(t,i=>{if(!(i instanceof I_))return i;let{target:r,value:o}=i;if(r instanceof Rr||r instanceof va)return FP(r,o).or(r.set(o));if(r instanceof ga)return FP(r,o);throw new Error("Unsupported expression in two-way action binding.")},ct.InChildOperation)}function RQ(n){for(let e of n.units){let t=0;for(let i of e.ops())LS(i)&&(t+=NQ(i));for(let i of e.ops())Wn(i,r=>{As(r)&&(n.compatibility===Nr.TemplateDefinitionBuilder&&r instanceof Vc||(tP(r)&&(r.varOffset=t),LS(r)&&(t+=zP(r))))});if(n.compatibility===Nr.TemplateDefinitionBuilder)for(let i of e.ops())Wn(i,r=>{!As(r)||!(r instanceof Vc)||(tP(r)&&(r.varOffset=t),LS(r)&&(t+=zP(r)))});e.vars=t}if(n instanceof Qm)for(let e of n.units)for(let t of e.create){if(t.kind!==x.Template&&t.kind!==x.RepeaterCreate&&t.kind!==x.ConditionalCreate&&t.kind!==x.ConditionalBranchCreate)continue;let i=n.views.get(t.xref);t.vars=i.vars}}function NQ(n){let e;switch(n.kind){case x.Attribute:return e=1,n.expression instanceof on&&!PQ(n.expression)&&(e+=n.expression.expressions.length),e;case x.Property:case x.DomProperty:return e=1,n.expression instanceof on&&(e+=n.expression.expressions.length),e;case x.TwoWayProperty:return 1;case x.StyleProp:case x.ClassProp:case x.StyleMap:case x.ClassMap:return e=2,n.expression instanceof on&&(e+=n.expression.expressions.length),e;case x.InterpolateText:return n.interpolation.expressions.length;case x.I18nExpression:case x.Conditional:case x.DeferWhen:case x.StoreLet:return 1;case x.RepeaterCreate:return n.emptyView?1:0;default:throw new Error(`Unhandled op: ${x[n.kind]}`)}}function zP(n){switch(n.kind){case fe.PureFunctionExpr:return 1+n.args.length;case fe.PipeBinding:return 1+n.args.length;case fe.PipeBindingVariadic:return 1+n.numArgs;case fe.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${n.constructor.name}`)}}function PQ(n){return!(n.expressions.length!==1||n.strings.length!==2||n.strings[0]!==""||n.strings[1]!=="")}function OQ(n){for(let e of n.units){My(e.create),My(e.update);for(let t of e.create)t.kind===x.Listener||t.kind===x.Animation||t.kind===x.AnimationListener||t.kind===x.TwoWayListener?My(t.handlerOps):t.kind===x.RepeaterCreate&&t.trackByOps!==null&&My(t.trackByOps);ky(e.create,n.compatibility),ky(e.update,n.compatibility);for(let t of e.create)t.kind===x.Listener||t.kind===x.Animation||t.kind===x.AnimationListener||t.kind===x.TwoWayListener?ky(t.handlerOps,n.compatibility):t.kind===x.RepeaterCreate&&t.trackByOps!==null&&ky(t.trackByOps,n.compatibility)}}var Mn=(function(n){return n[n.None=0]="None",n[n.ViewContextRead=1]="ViewContextRead",n[n.ViewContextWrite=2]="ViewContextWrite",n[n.SideEffectful=4]="SideEffectful",n})(Mn||{});function My(n){let e=new Map;for(let t of n)t.kind===x.Variable&&t.flags&Jr.AlwaysInline&&(Wn(t,i=>{if(As(i)&&HD(i)!==Mn.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(t.xref,t)),_n(t,i=>i instanceof ga&&e.has(i.xref)?e.get(i.xref).initializer.clone():i,ct.None);for(let t of e.values())G.remove(t)}function ky(n,e){let t=new Map,i=new Map,r=new Set,o=new Map;for(let c of n){if(c.kind===x.Variable){if(t.has(c.xref)||i.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);t.set(c.xref,c),i.set(c.xref,0)}o.set(c,FQ(c)),LQ(c,i,r)}let s=!1;for(let c of n.reversed()){let d=o.get(c);if(c.kind===x.Variable&&i.get(c.xref)===0){if(s&&d.fences&Mn.ViewContextWrite||d.fences&Mn.SideEffectful){let m=so(c.initializer.toStmt());o.set(m,d),G.replace(c,m)}else BQ(c,i),G.remove(c);o.delete(c),t.delete(c.xref),i.delete(c.xref);continue}d.fences&Mn.ViewContextRead&&(s=!0)}let a=[];for(let[c,d]of i){let _=!!(t.get(c).flags&Jr.AlwaysInline);d!==1||_||r.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=t.get(l),d=o.get(c);if(!!(c.flags&Jr.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let _=c.next;_.kind!==x.ListEnd;_=_.next){let y=o.get(_);if(y.variablesUsed.has(l)){if(e===Nr.TemplateDefinitionBuilder&&!jQ(c,_))break;if(VQ(l,c.initializer,_,d.fences)){y.variablesUsed.delete(l);for(let w of d.variablesUsed)y.variablesUsed.add(w);y.fences|=d.fences,t.delete(l),i.delete(l),o.delete(c),G.remove(c)}break}if(!SO(y.fences,d.fences))break}}}function HD(n){switch(n.kind){case fe.NextContext:return Mn.ViewContextRead|Mn.ViewContextWrite;case fe.RestoreView:return Mn.ViewContextRead|Mn.ViewContextWrite|Mn.SideEffectful;case fe.StoreLet:return Mn.SideEffectful;case fe.Reference:case fe.ContextLetReference:return Mn.ViewContextRead;default:return Mn.None}}function FQ(n){let e=Mn.None,t=new Set;return Wn(n,i=>{if(As(i))switch(i.kind){case fe.ReadVariable:t.add(i.xref);break;default:e|=HD(i)}}),{fences:e,variablesUsed:t}}function LQ(n,e,t){Wn(n,(i,r)=>{if(!As(i)||i.kind!==fe.ReadVariable)return;let o=e.get(i.xref);o!==void 0&&(e.set(i.xref,o+1),r&ct.InChildOperation&&t.add(i.xref))})}function BQ(n,e){Wn(n,t=>{if(!As(t)||t.kind!==fe.ReadVariable)return;let i=e.get(t.xref);if(i!==void 0){if(i===0)throw new Error(`Inaccurate variable count: ${t.xref} - found another read but count is already 0`);e.set(t.xref,i-1)}})}function SO(n,e){if(n&Mn.ViewContextWrite){if(e&Mn.ViewContextRead)return!1}else if(n&Mn.ViewContextRead&&e&Mn.ViewContextWrite)return!1;return!0}function VQ(n,e,t,i){let r=!1,o=!0;return _n(t,(s,a)=>{if(!As(s)||r||!o)return s;if(a&ct.InChildOperation&&i&Mn.ViewContextRead)return s;switch(s.kind){case fe.ReadVariable:if(s.xref===n)return r=!0,e;break;default:let l=HD(s);o=o&&SO(l,i);break}return s},ct.None),r}function jQ(n,e){switch(n.variable.kind){case Hn.Identifier:return n.initializer instanceof io&&n.initializer.name==="ctx";case Hn.Context:return e.kind===x.Variable;default:return!0}}function qQ(n){for(let e of n.units){let t=null,i=null;for(let r of e.create)switch(r.kind){case x.I18nStart:t=r;break;case x.I18nEnd:t=null;break;case x.IcuStart:t===null&&(i=n.allocateXrefId(),G.insertBefore(a1(i,r.message,void 0,null),r));break;case x.IcuEnd:i!==null&&(G.insertAfter(l1(i,null),r),i=null);break}}}var UQ=[{kind:ne.Tmpl,fn:_W},{kind:ne.Host,fn:R9},{kind:ne.Tmpl,fn:nW},{kind:ne.Tmpl,fn:DW},{kind:ne.Tmpl,fn:qQ},{kind:ne.Both,fn:KH},{kind:ne.Both,fn:DQ},{kind:ne.Both,fn:BH},{kind:ne.Both,fn:YH},{kind:ne.Both,fn:OH},{kind:ne.Tmpl,fn:JH},{kind:ne.Both,fn:rW},{kind:ne.Tmpl,fn:nQ},{kind:ne.Both,fn:qH},{kind:ne.Both,fn:yW},{kind:ne.Tmpl,fn:UH},{kind:ne.Tmpl,fn:xW},{kind:ne.Tmpl,fn:e9},{kind:ne.Tmpl,fn:EW},{kind:ne.Both,fn:IW},{kind:ne.Tmpl,fn:A9},{kind:ne.Tmpl,fn:D9},{kind:ne.Tmpl,fn:T9},{kind:ne.Tmpl,fn:vQ},{kind:ne.Both,fn:IH},{kind:ne.Both,fn:lQ},{kind:ne.Tmpl,fn:MQ},{kind:ne.Tmpl,fn:rQ},{kind:ne.Both,fn:pQ},{kind:ne.Tmpl,fn:t9},{kind:ne.Tmpl,fn:kQ},{kind:ne.Tmpl,fn:TQ},{kind:ne.Both,fn:sQ},{kind:ne.Both,fn:mQ},{kind:ne.Tmpl,fn:eW},{kind:ne.Both,fn:s9},{kind:ne.Both,fn:xQ},{kind:ne.Both,fn:AQ},{kind:ne.Both,fn:OQ},{kind:ne.Both,fn:bQ},{kind:ne.Tmpl,fn:Kz},{kind:ne.Tmpl,fn:XH},{kind:ne.Tmpl,fn:oQ},{kind:ne.Tmpl,fn:NH},{kind:ne.Tmpl,fn:kH},{kind:ne.Tmpl,fn:_Q},{kind:ne.Tmpl,fn:cQ},{kind:ne.Tmpl,fn:uQ},{kind:ne.Tmpl,fn:C9},{kind:ne.Tmpl,fn:Qz},{kind:ne.Tmpl,fn:M9},{kind:ne.Both,fn:WH},{kind:ne.Tmpl,fn:iQ},{kind:ne.Both,fn:RQ},{kind:ne.Tmpl,fn:E9},{kind:ne.Both,fn:oW},{kind:ne.Tmpl,fn:aQ},{kind:ne.Tmpl,fn:lW},{kind:ne.Tmpl,fn:uW},{kind:ne.Tmpl,fn:o9},{kind:ne.Tmpl,fn:PH},{kind:ne.Tmpl,fn:pW},{kind:ne.Both,fn:TW},{kind:ne.Both,fn:XG},{kind:ne.Both,fn:jH}];function EO(n,e){for(let t of UQ)(t.kind===e||t.kind===ne.Both)&&t.fn(n)}function $Q(n,e){let t=AO(n.root);return DO(n.root,e),t}function DO(n,e){for(let t of n.job.units){if(t.parent!==n.xref)continue;DO(t,e);let i=AO(t);e.statements.push(i.toDeclStmt(i.name))}}function AO(n){if(n.fnName===null)throw new Error(`AssertionError: view ${n.xref} is unnamed`);let e=[];for(let o of n.create){if(o.kind!==x.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${x[o.kind]}`);e.push(o.statement)}let t=[];for(let o of n.update){if(o.kind!==x.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${x[o.kind]}`);t.push(o.statement)}let i=Q_(1,e),r=Q_(2,t);return dl([new zn("rf"),new zn("ctx")],[...i,...r],void 0,void 0,n.fnName)}function Q_(n,e){return e.length===0?[]:[n1(new nt(Z.BitwiseAnd,We("rf"),$(n)),e)]}function HQ(n){if(n.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let o of n.root.create){if(o.kind!==x.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${x[o.kind]}`);e.push(o.statement)}let t=[];for(let o of n.root.update){if(o.kind!==x.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${x[o.kind]}`);t.push(o.statement)}if(e.length===0&&t.length===0)return null;let i=Q_(1,e),r=Q_(2,t);return dl([new zn("rf"),new zn("ctx")],[...i,...r],void 0,void 0,n.root.fnName)}var TO=Nr.TemplateDefinitionBuilder,Ac=new cp,Tc="ng-template",zQ="animate.";function qy(n){return n instanceof qi}function WQ(n){return qy(n)&&n.nodes.length===1&&n.nodes[0]instanceof y_}function GQ(n,e,t,i,r,o,s,a,l,c){let d=new Qm(n,t,TO,i,r,o,s,a,l,c);return ba(d.root,e),d}function QQ(n,e,t){let i=new O_(n.componentName,t,TO,wr.DomOnly);for(let r of n.properties??[]){let o=ae.Property;r.name.startsWith("attr.")&&(r.name=r.name.substring(5),o=ae.Attribute),r.isLegacyAnimation&&(o=ae.LegacyAnimation),r.isAnimation&&(o=ae.Animation);let s=e.calcPossibleSecurityContexts(n.componentSelector,r.name,o===ae.Attribute).filter(a=>a!==Ot.NONE);YQ(i,r,o,s)}for(let[r,o]of Object.entries(n.attributes)??[]){let s=e.calcPossibleSecurityContexts(n.componentSelector,r,!0).filter(a=>a!==Ot.NONE);ZQ(i,r,o,s)}for(let r of n.events??[])XQ(i,r);return i}function YQ(n,e,t,i){let r,o=e.expression.ast;o instanceof og?r=new on(o.strings,o.expressions.map(s=>ze(s,n,e.sourceSpan)),[]):r=ze(o,n,e.sourceSpan),n.root.update.push(Bc(n.root.xref,t,e.name,r,null,i,!1,!1,null,null,e.sourceSpan))}function ZQ(n,e,t,i){let r=Bc(n.root.xref,ae.Attribute,e,t,null,i,!0,!1,null,null,t.sourceSpan);n.root.update.push(r)}function XQ(n,e){let t;if(e.type===ji.Animation)t=eO(n.root.xref,new mi,e.name,null,Km(n.root,e.handler,e.handlerSpan),e.name.endsWith("enter")?"enter":"leave",e.targetOrPhase,!0,e.sourceSpan);else{let[i,r]=e.type!==ji.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null];t=VD(n.root.xref,new mi,e.name,null,Km(n.root,e.handler,e.handlerSpan),i,r,!0,e.sourceSpan)}n.root.create.push(t)}function ba(n,e){for(let t of e)if(t instanceof Es)JQ(n,t);else if(t instanceof Mr)KQ(n,t);else if(t instanceof ep)eY(n,t);else if(t instanceof _c)IO(n,t,null);else if(t instanceof Xd)MO(n,t,null);else if(t instanceof g_)tY(n,t);else if(t instanceof m_)nY(n,t);else if(t instanceof Fc)iY(n,t);else if(t instanceof x3)oY(n,t);else if(t instanceof Kd)sY(n,t);else if(t instanceof ID)lY(n,t);else if(!(t instanceof rm))throw new Error(`Unsupported template node: ${t.constructor.name}`)}function JQ(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof qi||e.i18n instanceof fl))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=n.job.allocateXrefId(),[i,r]=Vo(e.name),o=dH(r,t,oO(i),e.i18n instanceof fl?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);n.create.push(o),uY(n,o,e),NO(o,e);let s=null;e.i18n instanceof qi&&(s=n.job.allocateXrefId(),n.create.push(a1(s,e.i18n,void 0,e.startSourceSpan))),ba(n,e.children);let a=fH(t,e.endSourceSpan??e.startSourceSpan);n.create.push(a),s!==null&&G.insertBefore(l1(s,e.endSourceSpan??e.startSourceSpan),a)}function KQ(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof qi||e.i18n instanceof fl))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let t=n.job.allocateView(n.xref),i=e.tagName,r="";e.tagName&&([r,i]=Vo(e.tagName));let o=e.i18n instanceof fl?e.i18n:void 0,s=oO(r),a=i===null?"":zH(i,s),l=cY(e)?ir.NgTemplate:ir.Structural,c=Z3(t.xref,l,i,a,s,o,e.startSourceSpan,e.sourceSpan);n.create.push(c),dY(n,c,e,l),NO(c,e),ba(t,e.children);for(let{name:d,value:m}of e.variables)t.contextVariables.set(d,m!==""?m:"$implicit");if(l===ir.NgTemplate&&e.i18n instanceof qi){let d=n.job.allocateXrefId();G.insertAfter(a1(d,e.i18n,void 0,e.startSourceSpan),t.create.head),G.insertBefore(l1(d,e.endSourceSpan??e.startSourceSpan),t.create.tail)}}function eY(n,e){if(e.i18n!==void 0&&!(e.i18n instanceof fl))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let t=null;e.children.some(o=>!(o instanceof r1)&&(!(o instanceof _c)||o.value.trim().length>0))&&(t=n.job.allocateView(n.xref),ba(t,e.children));let i=n.job.allocateXrefId(),r=bH(i,e.selector,e.i18n,t?.xref??null,e.sourceSpan);for(let o of e.attributes){let s=Ac.securityContext(e.name,o.name,!0);n.update.push(Bc(r.xref,ae.Attribute,o.name,$(o.value),null,s,!0,!1,null,fa(o.i18n),o.sourceSpan))}n.create.push(r)}function IO(n,e,t){n.create.push(K3(n.job.allocateXrefId(),e.value,t,e.sourceSpan))}function MO(n,e,t){let i=e.value;if(i instanceof Er&&(i=i.ast),!(i instanceof og))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${i.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof ma))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let r=e.i18n instanceof ma?e.i18n.children.filter(a=>a instanceof Pm).map(a=>a.name):[];if(r.length>0&&r.length!==i.expressions.length)throw Error(`Unexpected number of i18n placeholders (${i.expressions.length}) for BoundText with ${i.expressions.length} expressions`);let o=n.job.allocateXrefId();n.create.push(K3(o,"",t,e.sourceSpan));let s=n.job.compatibility?null:e.sourceSpan;n.update.push(X7(o,new on(i.strings,i.expressions.map(a=>ze(a,n.job,s)),r),e.sourceSpan))}function tY(n,e){let t=null,i=[];for(let r=0;r<e.branches.length;r++){let o=e.branches[r],s=n.job.allocateView(n.xref),a=Y_(n,s.xref,o);o.expressionAlias!==null&&s.contextVariables.set(o.expressionAlias.name,rO);let l;if(o.i18n!==void 0){if(!(o.i18n instanceof hl))throw Error(`Unhandled i18n metadata type for if block: ${o.i18n?.constructor.name}`);l=o.i18n}let d=(r===0?X3:J3)(s.xref,ir.Block,a,"Conditional",Ai.HTML,l,o.startSourceSpan,o.sourceSpan);n.create.push(d),t===null&&(t=s.xref);let m=o.expression?ze(o.expression,n.job,null):null,_=new k_(m,d.xref,d.handle,o.expressionAlias);i.push(_),ba(s,o.children)}n.update.push(G3(t,null,i,e.sourceSpan))}function nY(n,e){if(e.cases.length===0)return;let t=null,i=[];for(let r=0;r<e.cases.length;r++){let o=e.cases[r],s=n.job.allocateView(n.xref),a=Y_(n,s.xref,o),l;if(o.i18n!==void 0){if(!(o.i18n instanceof hl))throw Error(`Unhandled i18n metadata type for switch block: ${o.i18n?.constructor.name}`);l=o.i18n}let d=(r===0?X3:J3)(s.xref,ir.Block,a,"Case",Ai.HTML,l,o.startSourceSpan,o.sourceSpan);n.create.push(d),t===null&&(t=s.xref);let m=o.expression?ze(o.expression,n.job,e.startSourceSpan):null,_=new k_(m,d.xref,d.handle);i.push(_),ba(s,o.children)}n.update.push(G3(t,ze(e.expression,n.job,null),i,e.sourceSpan))}function Ry(n,e,t,i,r){if(t!==void 0&&!(t instanceof hl))throw Error("Unhandled i18n metadata type for defer block");if(i===void 0)return null;let o=n.job.allocateView(n.xref);ba(o,i);let s=Z3(o.xref,ir.Block,null,`Defer${e}`,Ai.HTML,t,r,r);return n.create.push(s),s}function iY(n,e){let t=null;if(n.job.deferMeta.mode===0){if(!n.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");t=n.job.deferMeta.blocks.get(e)??null}let i=Ry(n,"",e.i18n,e.children,e.sourceSpan),r=Ry(n,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),o=Ry(n,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),s=Ry(n,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=n.job.allocateXrefId(),l=CH(a,i.xref,i.handle,t,n.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=o?.xref??null,l.placeholderSlot=o?.handle??null,l.loadingSlot=r?.handle??null,l.errorSlot=s?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,l.flags=rY(e),n.create.push(l);let c=[],d=[];US("hydrate",e.hydrateTriggers,c,d,n,a),US("none",e.triggers,c,d,n,a),US("prefetch",e.prefetchTriggers,c,d,n,a),c.some(_=>_.modifier==="none")||d.some(_=>_.modifier==="none")||c.push(il(a,{kind:St.Idle},"none",null)),n.create.push(c),n.update.push(d)}function rY(n){return Object.keys(n.hydrateTriggers).length>0?1:null}function US(n,e,t,i,r,o){if(e.idle!==void 0){let s=il(o,{kind:St.Idle},n,e.idle.sourceSpan);t.push(s)}if(e.immediate!==void 0){let s=il(o,{kind:St.Immediate},n,e.immediate.sourceSpan);t.push(s)}if(e.timer!==void 0){let s=il(o,{kind:St.Timer,delay:e.timer.delay},n,e.timer.sourceSpan);t.push(s)}if(e.hover!==void 0){let s=il(o,{kind:St.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.hover.sourceSpan);t.push(s)}if(e.interaction!==void 0){let s=il(o,{kind:St.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.interaction.sourceSpan);t.push(s)}if(e.viewport!==void 0){let s=il(o,{kind:St.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},n,e.viewport.sourceSpan);t.push(s)}if(e.never!==void 0){let s=il(o,{kind:St.Never},n,e.never.sourceSpan);t.push(s)}if(e.when!==void 0){if(e.when.value instanceof og)throw new Error("Unexpected interpolation in defer block when trigger");let s=aH(o,ze(e.when.value,r.job,e.when.sourceSpan),n,e.when.sourceSpan);i.push(s)}}function oY(n,e){if(e.i18n instanceof qi&&WQ(e.i18n)){let t=n.job.allocateXrefId();n.create.push(SH(t,e.i18n,E3(e.i18n).name,null));for(let[i,r]of Object.entries(F(F({},e.vars),e.placeholders)))r instanceof Xd?MO(n,r,i):IO(n,r,i);n.create.push(EH(t))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function sY(n,e){let t=n.job.allocateView(n.xref),i=`\u0275$index_${t.xref}`,r=`\u0275$count_${t.xref}`,o=new Set;t.contextVariables.set(e.item.name,e.item.value);for(let M of e.contextVariables)M.value==="$index"&&o.add(M.name),M.name==="$index"?t.contextVariables.set("$index",M.value).set(i,M.value):M.name==="$count"?t.contextVariables.set("$count",M.value).set(r,M.value):t.aliases.add({kind:Hn.Alias,name:null,identifier:M.name,expression:aY(M,i,r)});let s=Tn(e.trackBy.span,e.sourceSpan),a=ze(e.trackBy,n.job,s);ba(t,e.children);let l=null,c=null;e.empty!==null&&(l=n.job.allocateView(n.xref),ba(l,e.empty.children),c=Y_(n,l.xref,e.empty));let d={$index:o,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof hl))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof hl))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let m=e.i18n,_=e.empty?.i18n,y=Y_(n,t.xref,e),w=pH(t.xref,l?.xref??null,y,a,d,c,m,_,e.startSourceSpan,e.sourceSpan);n.create.push(w);let T=ze(e.expression,n.job,Tn(e.expression.span,e.sourceSpan)),I=sH(w.xref,w.handle,T,e.sourceSpan);n.update.push(I)}function aY(n,e,t){switch(n.value){case"$index":return new ci(e);case"$count":return new ci(t);case"$first":return new ci(e).identical($(0));case"$last":return new ci(e).identical(new ci(t).minus($(1)));case"$even":return new ci(e).modulo($(2)).identical($(0));case"$odd":return new ci(e).modulo($(2)).notIdentical($(0));default:throw new Error(`AssertionError: unknown @for loop variable ${n.value}`)}}function lY(n,e){let t=n.job.allocateXrefId();n.create.push(xH(t,e.name,e.sourceSpan)),n.update.push(cH(t,e.name,ze(e.value,n.job,e.valueSpan),e.sourceSpan))}function ze(n,e,t){if(n instanceof Er)return ze(n.ast,e,t);if(n instanceof ha)return n.receiver instanceof Ss&&!(n.receiver instanceof Pc)?new ci(n.name):new Rr(ze(n.receiver,e,t),n.name,null,Tn(n.span,t));if(n instanceof Zd){if(n.receiver instanceof Ss)throw new Error("Unexpected ImplicitReceiver");return new rr(ze(n.receiver,e,t),n.args.map(i=>ze(i,e,t)),void 0,Tn(n.span,t))}else{if(n instanceof Sr)return $(n.value,void 0,Tn(n.span,t));if(n instanceof Ud)switch(n.operator){case"+":return new kc(um.Plus,ze(n.expr,e,t),void 0,Tn(n.span,t));case"-":return new kc(um.Minus,ze(n.expr,e,t),void 0,Tn(n.span,t));default:throw new Error(`AssertionError: unknown unary operator ${n.operator}`)}else if(n instanceof Bi){let i=$H.get(n.operation);if(i===void 0)throw new Error(`AssertionError: unknown binary operator ${n.operation}`);return new nt(i,ze(n.left,e,t),ze(n.right,e,t),void 0,Tn(n.span,t))}else{if(n instanceof Pc)return new gl(e.root.xref);if(n instanceof Oc)return new va(ze(n.receiver,e,t),ze(n.key,e,t),void 0,Tn(n.span,t));if(n instanceof Yd)throw new Error("AssertionError: Chain in unknown context");if(n instanceof o_){let i=n.keys.map((r,o)=>{let s=n.values[o];return new Gd(r.key,ze(s,e,t),r.quoted)});return new ws(i,void 0,Tn(n.span,t))}else{if(n instanceof r_)return new Lo(n.expressions.map(i=>ze(i,e,t)));if(n instanceof n_)return new xs(ze(n.condition,e,t),ze(n.trueExp,e,t),ze(n.falseExp,e,t),void 0,Tn(n.span,t));if(n instanceof xm)return ze(n.expression,e,t);if(n instanceof i_)return new jc(e.allocateXrefId(),new mi,n.name,[ze(n.exp,e,t),...n.args.map(i=>ze(i,e,t))]);if(n instanceof ym)return new sp(ze(n.receiver,e,t),ze(n.key,e,t),Tn(n.span,t));if(n instanceof vm)return new op(ze(n.receiver,e,t),n.name);if(n instanceof s_)return new qc(ze(n.receiver,e,t),n.args.map(i=>ze(i,e,t)));if(n instanceof Ki)return new Wm(Tn(n.span,t));if(n instanceof _m)return c$(ze(n.expression,e,t),Tn(n.span,t));if(n instanceof bm)return rg(ze(n.expression,e,t));if(n instanceof Cm)return new Gy(ze(n.expression,e,t),void 0,Tn(n.span,t));if(n instanceof Sm)return WP(n,e,t);if(n instanceof wm)return new dm(ze(n.tag,e,t),WP(n.template,e,t),void 0,Tn(n.span,t));if(n instanceof Em)return new Fo(ze(n.expression,e,t),void 0,Tn(n.span,t));throw new Error(`Unhandled expression type "${n.constructor.name}" in file "${t?.start.file.url}"`)}}}}function WP(n,e,t){return new fm(n.elements.map(i=>new Qy(i.text,Tn(i.span,t))),n.expressions.map(i=>ze(i,e,t)),Tn(n.span,t))}function oD(n,e,t,i){let r;return e instanceof og?r=new on(e.strings,e.expressions.map(o=>ze(o,n,null)),Object.keys(fa(t)?.placeholders??{})):e instanceof zt?r=ze(e,n,null):r=$(e),r}var kO=new Map([[lt.Property,ae.Property],[lt.TwoWay,ae.TwoWayProperty],[lt.Attribute,ae.Attribute],[lt.Class,ae.ClassName],[lt.Style,ae.StyleProperty],[lt.LegacyAnimation,ae.LegacyAnimation],[lt.Animation,ae.Animation]]);function cY(n){return Vo(n.tagName??"")[1]===Tc}function fa(n){if(n==null)return null;if(!(n instanceof qi))throw Error(`Expected i18n meta to be a Message, but got: ${n.constructor.name}`);return n}function uY(n,e,t){let i=new Array,r=new Set;for(let o of t.attributes){let s=Ac.securityContext(t.name,o.name,!0);i.push(Bc(e.xref,ae.Attribute,o.name,oD(n.job,o.value,o.i18n),null,s,!0,!1,null,fa(o.i18n),o.sourceSpan)),o.i18n&&r.add(o.name)}for(let o of t.inputs)r.has(o.name)&&console.error(`On component ${n.job.componentName}, the binding ${o.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),i.push(Bc(e.xref,kO.get(o.type),o.name,oD(n.job,eg(o.value),o.i18n),o.unit,o.securityContext,!1,!1,null,fa(o.i18n)??null,o.sourceSpan));n.create.push(i.filter(o=>o?.kind===x.ExtractedAttribute)),n.update.push(i.filter(o=>o?.kind===x.Binding));for(let o of t.outputs){if(o.type===ji.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");o.type===ji.TwoWay?n.create.push(tO(e.xref,e.handle,o.name,e.tag,RO(n,o.handler,o.handlerSpan),o.sourceSpan)):o.type===ji.Animation?n.create.push(eO(e.xref,e.handle,o.name,e.tag,Km(n,o.handler,o.handlerSpan),o.name.endsWith("enter")?"enter":"leave",o.target,!1,o.sourceSpan)):n.create.push(VD(e.xref,e.handle,o.name,e.tag,Km(n,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))}i.some(o=>o?.i18nMessage)!==null&&n.create.push(iO(n.job.allocateXrefId(),new mi,e.xref))}function dY(n,e,t,i){let r=new Array;for(let o of t.templateAttrs)if(o instanceof Jd){let s=Ac.securityContext(Tc,o.name,!0);r.push(Ny(n,e.xref,lt.Attribute,o.name,o.value,null,s,!0,i,fa(o.i18n),o.sourceSpan))}else r.push(Ny(n,e.xref,o.type,o.name,eg(o.value),o.unit,o.securityContext,!0,i,fa(o.i18n),o.sourceSpan));for(let o of t.attributes){let s=Ac.securityContext(Tc,o.name,!0);r.push(Ny(n,e.xref,lt.Attribute,o.name,o.value,null,s,!1,i,fa(o.i18n),o.sourceSpan))}for(let o of t.inputs)r.push(Ny(n,e.xref,o.type,o.name,eg(o.value),o.unit,o.securityContext,!1,i,fa(o.i18n),o.sourceSpan));n.create.push(r.filter(o=>o?.kind===x.ExtractedAttribute)),n.update.push(r.filter(o=>o?.kind===x.Binding));for(let o of t.outputs){if(o.type===ji.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");if(i===ir.NgTemplate&&(o.type===ji.TwoWay?n.create.push(tO(e.xref,e.handle,o.name,e.tag,RO(n,o.handler,o.handlerSpan),o.sourceSpan)):n.create.push(VD(e.xref,e.handle,o.name,e.tag,Km(n,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))),i===ir.Structural&&o.type!==ji.LegacyAnimation){let s=Ac.securityContext(Tc,o.name,!1);n.create.push(Kr(e.xref,ae.Property,null,o.name,null,null,null,s))}}r.some(o=>o?.i18nMessage)!==null&&n.create.push(iO(n.job.allocateXrefId(),new mi,e.xref))}function Ny(n,e,t,i,r,o,s,a,l,c,d){let m=typeof r=="string";if(l===ir.Structural){if(!a)switch(t){case lt.Property:case lt.Class:case lt.Style:return Kr(e,ae.Property,null,i,null,null,c,s);case lt.TwoWay:return Kr(e,ae.TwoWayProperty,null,i,null,null,c,s)}if(!m&&(t===lt.Attribute||t===lt.LegacyAnimation||t===lt.Animation))return null}let _=kO.get(t);return l===ir.NgTemplate&&(t===lt.Class||t===lt.Style||t===lt.Attribute&&!m)&&(_=ae.Property),Bc(e,_,i,oD(n.job,r,c),o,s,m,a,l,c,d)}function Km(n,e,t){e=eg(e);let i=new Array,r=e instanceof Yd?e.expressions:[e];if(r.length===0)throw new Error("Expected listener to have non-empty expression list.");let o=r.map(a=>ze(a,n.job,t)),s=o.pop();return i.push(...o.map(a=>so(new ro(a,a.sourceSpan)))),i.push(so(new pi(s,s.sourceSpan))),i}function RO(n,e,t){e=eg(e);let i=new Array;if(e instanceof Yd)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let r=ze(e,n.job,t),o=new ci("$event"),s=new I_(r,o);return i.push(so(new ro(s))),i.push(so(new pi(o))),i}function eg(n){return n instanceof Er?n.ast:n}function NO(n,e){pY(n.localRefs);for(let{name:t,value:i}of e.references)n.localRefs.push({name:t,target:i})}function pY(n){if(!Array.isArray(n))throw new Error("AssertionError: expected an array")}function Tn(n,e){if(e===null)return null;let t=e.start.moveBy(n.start),i=e.start.moveBy(n.end),r=e.fullStart.moveBy(n.start);return new ke(t,i,r)}function Y_(n,e,t){let i=null;for(let r of t.children)if(!(r instanceof r1||r instanceof ID)){if(i!==null)return null;if(r instanceof Es||r instanceof Mr&&r.tagName!==null)i=r;else return null}if(i!==null){for(let o of i.attributes)if(!o.name.startsWith(zQ)){let s=Ac.securityContext(Tc,o.name,!0);n.update.push(Bc(e,ae.Attribute,o.name,$(o.value),null,s,!0,!1,null,fa(o.i18n),o.sourceSpan))}for(let o of i.inputs)if(o.type!==lt.LegacyAnimation&&o.type!==lt.Animation&&o.type!==lt.Attribute){let s=Ac.securityContext(Tc,o.name,!0);n.create.push(Kr(e,ae.Property,null,o.name,null,null,null,s))}let r=i instanceof Es?i.name:i.tagName;return r===Tc?null:r}return null}var fY=!1;function hY(){return fY}function Z_(n,e){return n1(We(RD).bitwiseAnd($(n),null),e)}function mY(n){return(n.descendants?1:0)|(n.static?2:0)|(n.emitDistinctChangesOnly?4:0)}function gY(n,e){if(Array.isArray(n.predicate)){let t=[];return n.predicate.forEach(i=>{let r=i.split(",").map(o=>$(o.trim()));t.push(...r)}),e.getConstLiteral(mt(t),!0)}else switch(n.predicate.forwardRef){case 0:case 2:return n.predicate.expression;case 1:return ue(P.resolveForwardRef).callFn([n.predicate.expression])}}function PO(n,e,t,i){let r=[];i!==void 0&&r.push(...i),n.isSignal&&r.push(new Rr(We(Om),n.propertyName)),r.push(gY(n,e),$(mY(n))),n.read&&r.push(n.read);let o=n.isSignal?t.signalBased:t.nonSignal;return ue(o).callFn(r)}var zD=Symbol("queryAdvancePlaceholder");function OO(n){let e=[],t=0,i=()=>{t>0&&(e.unshift(ue(P.queryAdvance).callFn(t===1?[]:[$(t)]).toStmt()),t=0)};for(let r=n.length-1;r>=0;r--){let o=n[r];o===zD?t++:(i(),e.unshift(o))}return i(),e}function vY(n,e,t){let i=[],r=[],o=D3(a=>r.push(a),kD);n.forEach(a=>{let l=PO(a,e,{signalBased:P.viewQuerySignal,nonSignal:P.viewQuery});if(i.push(l.toStmt()),a.isSignal){r.push(zD);return}let c=o(),d=ue(P.loadQuery).callFn([]),m=ue(P.queryRefresh).callFn([c.set(d)]),_=We(Om).prop(a.propertyName).set(a.first?c.prop("first"):c);r.push(m.and(_).toStmt())});let s=t?`${t}_Query`:null;return dl([new zn(RD,DD),new zn(Om,null)],[Z_(1,i),Z_(2,OO(r))],Tr,null,s)}function yY(n,e,t){let i=[],r=[],o=D3(a=>r.push(a),kD);for(let a of n){if(i.push(PO(a,e,{nonSignal:P.contentQuery,signalBased:P.contentQuerySignal},[We("dirIndex")]).toStmt()),a.isSignal){r.push(zD);continue}let l=o(),c=ue(P.loadQuery).callFn([]),d=ue(P.queryRefresh).callFn([l.set(c)]),m=We(Om).prop(a.propertyName).set(a.first?l.prop("first"):l);r.push(d.and(m).toStmt())}let s=t?`${t}_ContentQueries`:null;return dl([new zn(RD,DD),new zn(Om,null),new zn("dirIndex",null)],[Z_(1,i),Z_(2,OO(r))],Tr,null,s)}var sD=class extends G9{constructor(){super(KE)}parse(e,t,i){return super.parse(e,t,i)}},Py=".",_Y="attr",$S="animate",bY="class",CY="style",xY="*",HS="animate-",aD=class{_exprParser;_interpolationConfig;_schemaRegistry;errors;constructor(e,t,i,r){this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=i,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,t){let i=[];for(let r of Object.keys(e)){let o=e[r];typeof o=="string"?this.parsePropertyBinding(r,o,!0,!1,t,t.start.offset,void 0,[],i,t):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${o}" (${typeof o})`,t)}return i}createDirectiveHostEventAsts(e,t){let i=[];for(let r of Object.keys(e)){let o=e[r];typeof o=="string"?this.parseEvent(r,o,!1,t,t,[],i,t):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${o}" (${typeof o})`,t)}return i}parseInterpolation(e,t,i){let r=t.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,t,r,i,this._interpolationConfig);return o&&this.errors.push(...o.errors),o}catch(o){return this._reportError(`${o}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,r)}}parseInterpolationExpression(e,t){let i=t.start.offset;try{let r=this._exprParser.parseInterpolationExpression(e,t,i);return r&&this.errors.push(...r.errors),r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)}}parseInlineTemplateBinding(e,t,i,r,o,s,a,l){let c=i.start.offset+xY.length,d=this._parseTemplateBindings(e,t,i,c,r);for(let m of d){let _=tl(i,m.sourceSpan),y=m.key.source,w=tl(i,m.key.span);if(m instanceof Dm){let T=m.value?m.value.source:"$implicit",I=m.value?tl(i,m.value.span):void 0;a.push(new pE(y,T,_,w,I))}else if(m.value){let T=l?_:i,I=tl(i,m.value.ast.sourceSpan);this._parsePropertyAst(y,m.value,!1,T,w,I,o,s)}else o.push([y,""]),this.parseLiteralAttr(y,null,w,r,void 0,o,s,w)}}_parseTemplateBindings(e,t,i,r,o){try{let s=this._exprParser.parseTemplateBindings(e,t,i,r,o);return s.errors.forEach(a=>this.errors.push(a)),s.warnings.forEach(a=>{this._reportError(a,i,al.WARNING)}),s.templateBindings}catch(s){return this._reportError(`${s}`,i),[]}}parseLiteralAttr(e,t,i,r,o,s,a,l){zS(e)?(e=e.substring(1),l!==void 0&&(l=tl(l,new Ir(l.start.offset+1,l.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',i,al.ERROR),this._parseLegacyAnimation(e,t,i,r,l,o,s,a)):a.push(new Od(e,this._exprParser.wrapLiteralPrimitive(t,"",r),vs.LITERAL_ATTR,i,l,o))}parsePropertyBinding(e,t,i,r,o,s,a,l,c,d){e.length===0&&this._reportError("Property name is missing in binding",o);let m=!1;e.startsWith(HS)?(m=!0,e=e.substring(HS.length),d!==void 0&&(d=tl(d,new Ir(d.start.offset+HS.length,d.end.offset)))):zS(e)&&(m=!0,e=e.substring(1),d!==void 0&&(d=tl(d,new Ir(d.start.offset+1,d.end.offset)))),m?this._parseLegacyAnimation(e,t,o,s,d,a,l,c):e.startsWith(`${$S}${Py}`)?this._parseAnimation(e,this.parseBinding(t,i,a||o,s),o,d,a,l,c):this._parsePropertyAst(e,this.parseBinding(t,i,a||o,s),r,o,d,a,l,c)}parsePropertyInterpolation(e,t,i,r,o,s,a,l){let c=this.parseInterpolation(t,r||i,l);return c?(this._parsePropertyAst(e,c,!1,i,a,r,o,s),!0):!1}_parsePropertyAst(e,t,i,r,o,s,a,l){a.push([e,t.source]),l.push(new Od(e,t,i?vs.TWO_WAY:vs.DEFAULT,r,o,s))}_parseAnimation(e,t,i,r,o,s,a){s.push([e,t.source]),a.push(new Od(e,t,vs.ANIMATION,i,r,o))}_parseLegacyAnimation(e,t,i,r,o,s,a,l){e.length===0&&this._reportError("Animation trigger is missing",i);let c=this.parseBinding(t||"undefined",!1,s||i,r);a.push([e,c.source]),l.push(new Od(e,c,vs.LEGACY_ANIMATION,i,o,s))}parseBinding(e,t,i,r){try{let o=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return o&&this.errors.push(...o.errors),o}catch(o){return this._reportError(`${o}`,i),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(e,t,i=!1,r=!0){if(t.isLegacyAnimation)return new u_(t.name,lt.LegacyAnimation,Ot.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let o=null,s,a=null,l=t.name.split(Py),c;if(l.length>1)if(l[0]==_Y){a=l.slice(1).join(Py),i||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),c=WS(this._schemaRegistry,e,a,!0);let d=a.indexOf(":");if(d>-1){let m=a.substring(0,d),_=a.substring(d+1);a=Ly(m,_)}s=lt.Attribute}else l[0]==bY?(a=l[1],s=lt.Class,c=[Ot.NONE]):l[0]==CY?(o=l.length>2?l[2]:null,a=l[1],s=lt.Style,c=[Ot.STYLE]):l[0]==$S&&(a=t.name,s=lt.Animation,c=[Ot.NONE]);if(a===null){let d=this._schemaRegistry.getMappedPropName(t.name);a=r?d:t.name,c=WS(this._schemaRegistry,e,d,!1),s=t.type===vs.TWO_WAY?lt.TwoWay:lt.Property,i||this._validatePropertyOrAttributeName(d,t.sourceSpan,!1)}return new u_(a,s,c[0],t.expression,o,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,i,r,o,s,a,l){e.length===0&&this._reportError("Event name is missing in binding",r),zS(e)?(e=e.slice(1),l!==void 0&&(l=tl(l,new Ir(l.start.offset+1,l.end.offset))),this._parseLegacyAnimationEvent(e,t,r,o,a,l)):this._parseRegularEvent(e,t,i,r,o,s,a,l)}calcPossibleSecurityContexts(e,t,i){let r=this._schemaRegistry.getMappedPropName(t);return WS(this._schemaRegistry,e,r,i)}parseEventListenerName(e){let[t,i]=_$(e,[null,e]);return{eventName:i,target:t}}parseLegacyAnimationEventName(e){let t=b$(e,[e,null]);return{eventName:t[0],phase:t[1]===null?null:t[1].toLowerCase()}}_parseLegacyAnimationEvent(e,t,i,r,o,s){let{eventName:a,phase:l}=this.parseLegacyAnimationEventName(e),c=this._parseAction(t,r);o.push(new c_(a,l,ji.LegacyAnimation,c,i,r,s)),a.length===0&&this._reportError("Animation event name is missing in binding",i),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${a}" is not supported (use start or done)`,i):this._reportError(`The animation trigger output event (@${a}) is missing its phase value name (start or done are currently supported)`,i)}_parseRegularEvent(e,t,i,r,o,s,a,l){let{eventName:c,target:d}=this.parseEventListenerName(e),m=this.errors.length,_=this._parseAction(t,o),y=this.errors.length===m;s.push([e,_.source]),i&&y&&!this._isAllowedAssignmentEvent(_)&&this._reportError("Unsupported expression in a two-way binding",r);let w=ji.Regular;i&&(w=ji.TwoWay),e.startsWith(`${$S}${Py}`)&&(w=ji.Animation),a.push(new c_(c,d,w,_,r,o,l))}_parseAction(e,t){let i=t&&t.start?t.start.offset:0;try{let r=this._exprParser.parseAction(e,t,i,this._interpolationConfig);return r&&this.errors.push(...r.errors),!r||r.ast instanceof Ki?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)):r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",t,i)}}_reportError(e,t,i=al.ERROR){this.errors.push(new Ae(t,e,i))}_validatePropertyOrAttributeName(e,t,i){let r=i?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,al.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof Er?this._isAllowedAssignmentEvent(e.ast):e instanceof xm?this._isAllowedAssignmentEvent(e.expression):e instanceof Zd&&e.args.length===1&&e.receiver instanceof ha&&e.receiver.name==="$any"&&e.receiver.receiver instanceof Ss&&!(e.receiver.receiver instanceof Pc)?this._isAllowedAssignmentEvent(e.args[0]):(e instanceof ha||e instanceof Oc)&&!lD(e)}};function lD(n){return n instanceof vm||n instanceof ym?!0:n instanceof Em?lD(n.expression):n instanceof ha||n instanceof Oc||n instanceof Zd?lD(n.receiver):!1}function zS(n){return n[0]=="@"}function WS(n,e,t,i){let r,o=s=>n.securityContext(s,t,i);return e===null?r=n.allKnownElementNames().map(o):(r=[],zd.parse(e).forEach(s=>{let a=s.element?[s.element]:n.allKnownElementNames(),l=new Set(s.notSelectors.filter(d=>d.isElementSelector()).map(d=>d.element)),c=a.filter(d=>!l.has(d));r.push(...c.map(o))})),r.length===0?[Ot.NONE]:Array.from(new Set(r)).sort()}function tl(n,e){let t=e.start-n.start.offset,i=e.end-n.end.offset;return new ke(n.start.moveBy(t),n.end.moveBy(i),n.fullStart.moveBy(t),n.details)}function wY(n){if(n==null||n.length===0||n[0]=="/")return!1;let e=n.match(SY);return e===null||e[1]=="package"||e[1]=="asset"}var SY=/^([^:/?#]+):/,EY="select",DY="link",AY="rel",TY="href",IY="stylesheet",MY="style",kY="script",RY="ngNonBindable",NY="ngProjectAs";function FO(n){let e=null,t=null,i=null,r=!1,o="";n.attrs.forEach(l=>{let c=l.name.toLowerCase();c==EY?e=l.value:c==TY?t=l.value:c==AY?i=l.value:l.name==RY?r=!0:l.name==NY&&l.value.length>0&&(o=l.value)}),e=PY(e);let s=n.name.toLowerCase(),a=Ar.OTHER;return fE(s)?a=Ar.NG_CONTENT:s==MY?a=Ar.STYLE:s==kY?a=Ar.SCRIPT:s==DY&&i==IY&&(a=Ar.STYLESHEET),new cD(a,e,t,r,o)}var Ar=(function(n){return n[n.NG_CONTENT=0]="NG_CONTENT",n[n.STYLE=1]="STYLE",n[n.STYLESHEET=2]="STYLESHEET",n[n.SCRIPT=3]="SCRIPT",n[n.OTHER=4]="OTHER",n})(Ar||{}),cD=class{type;selectAttr;hrefAttr;nonBindable;projectAs;constructor(e,t,i,r,o){this.type=e,this.selectAttr=t,this.hrefAttr=i,this.nonBindable=r,this.projectAs=o}};function PY(n){return n===null||n.length===0?"*":n}var OY=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,FY=/^track\s+([\S\s]*)/,LY=/^(as\s+)(.*)/,c1=/^else[^\S\r\n]+if/,BY=/^let\s+([\S\s]*)/,VY=/^[$A-Z_][0-9A-Z_$]*$/i,GP=/(\s*)(\S+)(\s*)/,cm=new Set(["$index","$first","$last","$even","$odd","$count"]);function QP(n){return n==="empty"}function YP(n){return n==="else"||c1.test(n)}function jY(n,e,t,i){let r=zY(e),o=[],s=ZP(n,r,i);s!==null&&o.push(new wc(s.expression,qt(t,n.children,n.children),s.expressionAlias,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan,n.i18n));for(let m of e)if(c1.test(m.name)){let _=ZP(m,r,i);if(_!==null){let y=qt(t,m.children,m.children);o.push(new wc(_.expression,y,_.expressionAlias,m.sourceSpan,m.startSourceSpan,m.endSourceSpan,m.nameSpan,m.i18n))}}else if(m.name==="else"){let _=qt(t,m.children,m.children);o.push(new wc(null,_,null,m.sourceSpan,m.startSourceSpan,m.endSourceSpan,m.nameSpan,m.i18n))}let a=o.length>0?o[0].startSourceSpan:n.startSourceSpan,l=o.length>0?o[o.length-1].endSourceSpan:n.endSourceSpan,c=n.sourceSpan,d=o[o.length-1];return d!==void 0&&(c=new ke(a.start,d.sourceSpan.end)),{node:new g_(o,c,n.startSourceSpan,l,n.nameSpan),errors:r}}function qY(n,e,t,i){let r=[],o=$Y(n,r,i),s=null,a=null;for(let l of e)l.name==="empty"?a!==null?r.push(new Ae(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?r.push(new Ae(l.sourceSpan,"@empty block cannot have parameters")):a=new km(qt(t,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):r.push(new Ae(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(o!==null)if(o.trackBy===null)r.push(new Ae(n.startSourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??n.endSourceSpan,c=new ke(n.sourceSpan.start,l?.end??n.sourceSpan.end);s=new Kd(o.itemName,o.expression,o.trackBy.expression,o.trackBy.keywordSpan,o.context,qt(t,n.children,n.children),a,c,n.sourceSpan,n.startSourceSpan,l,n.nameSpan,n.i18n)}return{node:s,errors:r}}function UY(n,e,t){let i=WY(n),r=n.parameters.length>0?tg(n.parameters[0],t):t.parseBinding("",!1,n.sourceSpan,0),o=[],s=[],a=null;for(let l of n.children){if(!(l instanceof Xr))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){s.push(new v_(l.name,l.sourceSpan,l.nameSpan));continue}let c=l.name==="case"?tg(l.parameters[0],t):null,d=new Mm(c,qt(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);c===null?a=d:o.push(d)}return a!==null&&o.push(a),{node:new m_(r,o,s,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.nameSpan),errors:i}}function $Y(n,e,t){if(n.parameters.length===0)return e.push(new Ae(n.startSourceSpan,"@for loop does not have an expression")),null;let[i,...r]=n.parameters,o=GY(i,e)?.match(OY);if(!o||o[2].trim().length===0)return e.push(new Ae(i.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,s,a]=o;cm.has(s)&&e.push(new Ae(i.sourceSpan,`@for loop item name cannot be one of ${Array.from(cm).join(", ")}.`));let l=i.expression.split(" ")[0],c=new ke(i.sourceSpan.start,i.sourceSpan.start.moveBy(l.length)),d={itemName:new pl(s,"$implicit",c,c),trackBy:null,expression:tg(i,t,a),context:Array.from(cm,m=>{let _=new ke(n.startSourceSpan.end,n.startSourceSpan.end);return new pl(m,m,_,_)})};for(let m of r){let _=m.expression.match(BY);if(_!==null){let w=new ke(m.sourceSpan.start.moveBy(_[0].length-_[1].length),m.sourceSpan.end);HY(m.sourceSpan,_[1],w,s,d.context,e);continue}let y=m.expression.match(FY);if(y!==null){if(d.trackBy!==null)e.push(new Ae(m.sourceSpan,'@for loop can only have one "track" expression'));else{let w=tg(m,t,y[1]);w.ast instanceof Ki&&e.push(new Ae(n.startSourceSpan,'@for loop must have a "track" expression'));let T=new ke(m.sourceSpan.start,m.sourceSpan.start.moveBy(5));d.trackBy={expression:w,keywordSpan:T}}continue}e.push(new Ae(m.sourceSpan,`Unrecognized @for loop parameter "${m.expression}"`))}return d}function HY(n,e,t,i,r,o){let s=e.split(","),a=t.start;for(let l of s){let c=l.split("="),d=c.length===2?c[0].trim():"",m=c.length===2?c[1].trim():"";if(d.length===0||m.length===0)o.push(new Ae(n,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!cm.has(m))o.push(new Ae(n,`Unknown "let" parameter variable "${m}". The allowed variables are: ${Array.from(cm).join(", ")}`));else if(d===i)o.push(new Ae(n,`Invalid @for loop "let" parameter. Variable cannot be called "${i}"`));else if(r.some(_=>_.name===d))o.push(new Ae(n,`Duplicate "let" parameter variable "${m}"`));else{let[,_,y]=c[0].match(GP)??[],w=_!==void 0&&c.length===2?new ke(a.moveBy(_.length),a.moveBy(_.length+y.length)):t,T;if(c.length===2){let[,M,U]=c[1].match(GP)??[];T=M!==void 0?new ke(a.moveBy(c[0].length+1+M.length),a.moveBy(c[0].length+1+M.length+U.length)):void 0}let I=new ke(w.start,T?.end??w.end);r.push(new pl(d,m,I,w,T))}a=a.moveBy(l.length+1)}}function zY(n){let e=[],t=!1;for(let i=0;i<n.length;i++){let r=n[i];r.name==="else"?(t?e.push(new Ae(r.startSourceSpan,"Conditional can only have one @else block")):n.length>1&&i<n.length-1?e.push(new Ae(r.startSourceSpan,"@else block must be last inside the conditional")):r.parameters.length>0&&e.push(new Ae(r.startSourceSpan,"@else block cannot have parameters")),t=!0):c1.test(r.name)||e.push(new Ae(r.startSourceSpan,`Unrecognized conditional block @${r.name}`))}return e}function WY(n){let e=[],t=!1;if(n.parameters.length!==1)return e.push(new Ae(n.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let i of n.children)if(!(i instanceof Ym||i instanceof Uc&&i.value.trim().length===0)){if(!(i instanceof Xr)||i.name!=="case"&&i.name!=="default"){e.push(new Ae(i.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}i.name==="default"?(t?e.push(new Ae(i.startSourceSpan,"@switch block can only have one @default block")):i.parameters.length>0&&e.push(new Ae(i.startSourceSpan,"@default block cannot have parameters")),t=!0):i.name==="case"&&i.parameters.length!==1&&e.push(new Ae(i.startSourceSpan,"@case block must have exactly one parameter"))}return e}function tg(n,e,t){let i,r;return typeof t=="string"?(i=Math.max(0,n.expression.lastIndexOf(t)),r=i+t.length):(i=0,r=n.expression.length),e.parseBinding(n.expression.slice(i,r),!1,n.sourceSpan,n.sourceSpan.start.offset+i)}function ZP(n,e,t){if(n.parameters.length===0)return e.push(new Ae(n.startSourceSpan,"Conditional block does not have an expression")),null;let i=tg(n.parameters[0],t),r=null;for(let o=1;o<n.parameters.length;o++){let s=n.parameters[o],a=s.expression.match(LY);if(a===null)e.push(new Ae(s.sourceSpan,`Unrecognized conditional parameter "${s.expression}"`));else if(n.name!=="if"&&!c1.test(n.name))e.push(new Ae(s.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'));else if(r!==null)e.push(new Ae(s.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim();if(VY.test(l)){let c=s.sourceSpan.start.moveBy(a[1].length),d=new ke(c,c.moveBy(l.length));r=new pl(l,l,d,d)}else e.push(new Ae(s.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:i,expressionAlias:r}}function GY(n,e){let t=n.expression,i=/^\s$/,r=0,o=0,s=t.length-1;for(let a=0;a<t.length;a++){let l=t[a];if(l==="(")o=a+1,r++;else{if(i.test(l))continue;break}}if(r===0)return t;for(let a=t.length-1;a>-1;a--){let l=t[a];if(l===")"){if(s=a,r--,r===0)break}else{if(i.test(l))continue;break}}return r!==0?(e.push(new Ae(n.sourceSpan,"Unclosed parentheses in expression")),null):t.slice(o,s)}var QY=/^\d+\.?\d*(ms|s)?$/,YY=/^\s$/,XP=new Map([[Po,tr],[ul,bc],[Oo,Vi]]),nr=(function(n){return n.IDLE="idle",n.TIMER="timer",n.INTERACTION="interaction",n.IMMEDIATE="immediate",n.HOVER="hover",n.VIEWPORT="viewport",n.NEVER="never",n})(nr||{});function ZY({expression:n,sourceSpan:e},t,i){let r=n.indexOf("never"),o=new ke(e.start.moveBy(r),e.start.moveBy(r+5)),s=WD(n,e),a=GD(n,e);r===-1?i.push(new Ae(e,'Could not find "never" keyword in expression')):QD("never",t,i,new vE(o,e,s,null,a))}function GS({expression:n,sourceSpan:e},t,i,r){let o=n.indexOf("when"),s=new ke(e.start.moveBy(o),e.start.moveBy(o+4)),a=WD(n,e),l=GD(n,e);if(o===-1)r.push(new Ae(e,'Could not find "when" keyword in expression'));else{let c=ng(n,o+1),d=t.parseBinding(n.slice(c),!1,e,e.start.offset+c);QD("when",i,r,new d_(d,e,a,s,l))}}function QS({expression:n,sourceSpan:e},t,i,r){let o=n.indexOf("on"),s=new ke(e.start.moveBy(o),e.start.moveBy(o+2)),a=WD(n,e),l=GD(n,e);if(o===-1)i.push(new Ae(e,'Could not find "on" keyword in expression'));else{let c=ng(n,o+1);new uD(n,c,e,t,i,n.startsWith("hydrate")?rZ:iZ,r,a,s,l).parse()}}function WD(n,e){return n.startsWith("prefetch")?new ke(e.start,e.start.moveBy(8)):null}function GD(n,e){return n.startsWith("hydrate")?new ke(e.start,e.start.moveBy(7)):null}var uD=class{expression;start;span;triggers;errors;validator;placeholder;prefetchSpan;onSourceSpan;hydrateSpan;index=0;tokens;constructor(e,t,i,r,o,s,a,l,c,d){this.expression=e,this.start=t,this.span=i,this.triggers=r,this.errors=o,this.validator=s,this.placeholder=a,this.prefetchSpan=l,this.onSourceSpan=c,this.hydrateSpan=d,this.tokens=new Jm().tokenize(e.slice(t))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(to))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Oo)){this.advance();let t=this.errors.length,i=this.consumeParameters();if(this.errors.length!==t)break;this.consumeTrigger(e,i),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,t){let i=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),r=new ke(i,i.moveBy(e.strValue.length)),o=i.moveBy(this.token().end-e.index),s=e.index===0,a=s?this.onSourceSpan:null,l=s?this.prefetchSpan:null,c=s?this.hydrateSpan:null,d=new ke(s?this.span.start:i,o);try{switch(e.toString()){case nr.IDLE:this.trackTrigger("idle",XY(t,r,d,l,a,c));break;case nr.TIMER:this.trackTrigger("timer",JY(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case nr.INTERACTION:this.trackTrigger("interaction",tZ(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case nr.IMMEDIATE:this.trackTrigger("immediate",KY(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case nr.HOVER:this.trackTrigger("hover",eZ(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case nr.VIEWPORT:this.trackTrigger("viewport",nZ(t,r,d,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(m){this.error(e,m.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Oo))return this.unexpectedToken(this.token()),e;this.advance();let t=[],i="";for(;this.index<this.tokens.length;){let r=this.token();if(r.isCharacter(Vi)&&t.length===0){i.length&&e.push(i);break}if(r.type===qe.Character&&XP.has(r.numValue)&&t.push(XP.get(r.numValue)),t.length>0&&r.isCharacter(t[t.length-1])&&t.pop(),t.length===0&&r.isCharacter(to)&&i.length>0){e.push(i),i="",this.advance();continue}i+=this.tokenText(),this.advance()}return(!this.token().isCharacter(Vi)||t.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(to)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,t){QD(e,this.triggers,this.errors,t)}error(e,t){let i=this.span.start.moveBy(this.start+e.index),r=i.moveBy(e.end-e.index);this.errors.push(new Ae(new ke(i,r),t))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function QD(n,e,t,i){e[n]?t.push(new Ae(i.sourceSpan,`Duplicate "${n}" trigger is not allowed`)):e[n]=i}function XY(n,e,t,i,r,o){if(n.length>0)throw new Error(`"${nr.IDLE}" trigger cannot have parameters`);return new yE(e,t,i,r,o)}function JY(n,e,t,i,r,o){if(n.length!==1)throw new Error(`"${nr.TIMER}" trigger must have exactly one parameter`);let s=X_(n[0]);if(s===null)throw new Error(`Could not parse time value of trigger "${nr.TIMER}"`);return new bE(s,e,t,i,r,o)}function KY(n,e,t,i,r,o){if(n.length>0)throw new Error(`"${nr.IMMEDIATE}" trigger cannot have parameters`);return new _E(e,t,i,r,o)}function eZ(n,e,t,i,r,o,s,a){return a(nr.HOVER,n),new p_(n[0]??null,e,t,i,r,o)}function tZ(n,e,t,i,r,o,s){return s(nr.INTERACTION,n),new f_(n[0]??null,e,t,i,r,o)}function nZ(n,e,t,i,r,o,s){return s(nr.VIEWPORT,n),new h_(n[0]??null,e,t,i,r,o)}function iZ(n,e){if(e.length>1)throw new Error(`"${n}" trigger can only have zero or one parameters`)}function rZ(n,e){if(e.length>0)throw new Error(`Hydration trigger "${n}" cannot have parameters`)}function ng(n,e=0){let t=!1;for(let i=e;i<n.length;i++)if(YY.test(n[i]))t=!0;else if(t)return i;return-1}function X_(n){let e=n.match(QY);if(!e)return null;let[t,i]=e;return parseFloat(t)*(i==="s"?1e3:1)}var oZ=/^prefetch\s+when\s/,sZ=/^prefetch\s+on\s/,aZ=/^hydrate\s+when\s/,lZ=/^hydrate\s+on\s/,cZ=/^hydrate\s+never(\s*)$/,LO=/^minimum\s/,uZ=/^after\s/,dZ=/^when\s/,pZ=/^on\s/;function dD(n){return n==="placeholder"||n==="loading"||n==="error"}function fZ(n,e,t,i){let r=[],{placeholder:o,loading:s,error:a}=hZ(e,r,t),{triggers:l,prefetchTriggers:c,hydrateTriggers:d}=yZ(n,i,r,o),m=n.endSourceSpan,_=n.sourceSpan.end;if(e.length>0){let T=e[e.length-1];m=T.endSourceSpan,_=T.sourceSpan.end}let y=new ke(n.sourceSpan.start,_);return{node:new Fc(qt(t,n.children,n.children),l,c,d,o,s,a,n.nameSpan,y,n.sourceSpan,n.startSourceSpan,m,n.i18n),errors:r}}function hZ(n,e,t){let i=null,r=null,o=null;for(let s of n)try{if(!dD(s.name)){e.push(new Ae(s.startSourceSpan,`Unrecognized block "@${s.name}"`));break}switch(s.name){case"placeholder":i!==null?e.push(new Ae(s.startSourceSpan,"@defer block can only have one @placeholder block")):i=mZ(s,t);break;case"loading":r!==null?e.push(new Ae(s.startSourceSpan,"@defer block can only have one @loading block")):r=gZ(s,t);break;case"error":o!==null?e.push(new Ae(s.startSourceSpan,"@defer block can only have one @error block")):o=vZ(s,t);break}}catch(a){e.push(new Ae(s.startSourceSpan,a.message))}return{placeholder:i,loading:r,error:o}}function mZ(n,e){let t=null;for(let i of n.parameters)if(LO.test(i.expression)){if(t!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let r=X_(i.expression.slice(ng(i.expression)));if(r===null)throw new Error('Could not parse time value of parameter "minimum"');t=r}else throw new Error(`Unrecognized parameter in @placeholder block: "${i.expression}"`);return new Am(qt(e,n.children,n.children),t,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function gZ(n,e){let t=null,i=null;for(let r of n.parameters)if(uZ.test(r.expression)){if(t!=null)throw new Error('@loading block can only have one "after" parameter');let o=X_(r.expression.slice(ng(r.expression)));if(o===null)throw new Error('Could not parse time value of parameter "after"');t=o}else if(LO.test(r.expression)){if(i!=null)throw new Error('@loading block can only have one "minimum" parameter');let o=X_(r.expression.slice(ng(r.expression)));if(o===null)throw new Error('Could not parse time value of parameter "minimum"');i=o}else throw new Error(`Unrecognized parameter in @loading block: "${r.expression}"`);return new Tm(qt(e,n.children,n.children),t,i,n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function vZ(n,e){if(n.parameters.length>0)throw new Error("@error block cannot have parameters");return new Im(qt(e,n.children,n.children),n.nameSpan,n.sourceSpan,n.startSourceSpan,n.endSourceSpan,n.i18n)}function yZ(n,e,t,i){let r={},o={},s={};for(let a of n.parameters)dZ.test(a.expression)?GS(a,e,r,t):pZ.test(a.expression)?QS(a,r,t,i):oZ.test(a.expression)?GS(a,e,o,t):sZ.test(a.expression)?QS(a,o,t,i):aZ.test(a.expression)?GS(a,e,s,t):lZ.test(a.expression)?QS(a,s,t,i):cZ.test(a.expression)?ZY(a,s,t):t.push(new Ae(a.sourceSpan,"Unrecognized trigger"));return s.never&&Object.keys(s).length>1&&t.push(new Ae(n.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:r,prefetchTriggers:o,hydrateTriggers:s}}var _Z=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,JP=1,KP=2,e3=3,t3=4,n3=5,bZ=6,Zh=7,nl={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},YS="*",CZ=new Set(["link","style","script","ng-template","ng-container","ng-content"]),xZ=new Set(["ngProjectAs","ngNonBindable"]);function wZ(n,e,t){let i=new pD(e,t),r=qt(i,n,n),o=e.errors.concat(i.errors),s={nodes:r,errors:o,styleUrls:i.styleUrls,styles:i.styles,ngContentSelectors:i.ngContentSelectors};return t.collectCommentNodes&&(s.commentNodes=i.commentNodes),s}var pD=class{bindingParser;options;errors=[];styles=[];styleUrls=[];ngContentSelectors=[];commentNodes=[];inI18nBlock=!1;processedNodes=new Set;constructor(e,t){this.bindingParser=e,this.options=t}visitElement(e){let t=qy(e.i18n);t&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let i=FO(e);if(i.type===Ar.SCRIPT)return null;if(i.type===Ar.STYLE){let M=SZ(e);return M!==null&&this.styles.push(M),null}else if(i.type===Ar.STYLESHEET&&wY(i.hrefAttr))return this.styleUrls.push(i.hrefAttr),null;let r=q$(e.name),{attributes:o,boundEvents:s,references:a,variables:l,templateVariables:c,elementHasInlineTemplate:d,parsedProperties:m,templateParsedProperties:_,i18nAttrsMeta:y}=this.prepareAttributes(e.attrs,r),w=this.extractDirectives(e),T;i.nonBindable?T=qt(i3,e.children).flat(1/0):T=qt(this,e.children,e.children);let I;if(i.type===Ar.NG_CONTENT){let M=i.selectAttr,U=e.attrs.map(W=>this.visitAttribute(W));I=new ep(M,U,T,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(M)}else if(r){let M=this.categorizePropertyAttributes(e.name,m,y);I=new Mr(e.name,o,M.bound,s,w,[],T,a,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let M=this.categorizePropertyAttributes(e.name,m,y);I=new Es(e.name,o,M.bound,s,w,T,a,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n)}return d&&(I=this.wrapInTemplate(I,_,c,y,r,t)),t&&(this.inI18nBlock=!1),I}visitAttribute(e){return new Jd(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!qy(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let t=e.i18n,i={},r={};return Object.keys(t.placeholders).forEach(o=>{let s=t.placeholders[o];if(o.startsWith(z$)){let a=o.trim(),l=this.bindingParser.parseInterpolationExpression(s.text,s.sourceSpan);i[a]=new Xd(l,s.sourceSpan)}else r[o]=this._visitTextWithInterpolation(s.text,s.sourceSpan,null)}),new x3(i,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new r1(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,t){let i=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return i.errors.length===0&&i.ast instanceof Ki&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new ID(e.name,i,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let t=qy(e.i18n);if(t&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&CZ.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:i,boundEvents:r,references:o,templateVariables:s,elementHasInlineTemplate:a,parsedProperties:l,templateParsedProperties:c,i18nAttrsMeta:d}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(o);let m=this.extractDirectives(e),_;e.attrs.find(T=>T.name==="ngNonBindable")?_=qt(i3,e.children).flat(1/0):_=qt(this,e.children,e.children);let y=this.categorizePropertyAttributes(e.tagName,l,d),w=new rm(e.componentName,e.tagName,e.fullName,i,y.bound,r,m,_,o,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return a&&(w=this.wrapInTemplate(w,c,s,d,!1,t)),t&&(this.inI18nBlock=!1),w}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,t){let i=Array.isArray(t)?t.indexOf(e):-1;if(i===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let r=null;switch(e.name){case"defer":r=fZ(e,this.findConnectedBlocks(i,t,dD),this,this.bindingParser);break;case"switch":r=UY(e,this,this.bindingParser);break;case"for":r=qY(e,this.findConnectedBlocks(i,t,QP),this,this.bindingParser);break;case"if":r=jY(e,this.findConnectedBlocks(i,t,YP),this,this.bindingParser);break;default:let o;dD(e.name)?(o=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):QP(e.name)?(o=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):YP(e.name)?(o=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):o=`Unrecognized block @${e.name}.`,r={node:new v_(e.name,e.sourceSpan,e.nameSpan),errors:[new Ae(e.sourceSpan,o)]};break}return this.errors.push(...r.errors),r.node}findConnectedBlocks(e,t,i){let r=[];for(let o=e+1;o<t.length;o++){let s=t[o];if(!(s instanceof Ym)){if(s instanceof Uc&&s.value.trim().length===0){this.processedNodes.add(s);continue}if(!(s instanceof Xr)||!i(s.name))break;r.push(s),this.processedNodes.add(s)}}return r}categorizePropertyAttributes(e,t,i){let r=[],o=[];return t.forEach(s=>{let a=i[s.name];if(s.isLiteral)o.push(new Jd(s.name,s.expression.source||"",s.sourceSpan,s.keySpan,s.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,s,!0,!1);r.push(mE.fromBoundElementProperty(l,a))}}),{bound:r,literal:o}}prepareAttributes(e,t){let i=[],r=[],o=[],s=[],a=[],l={},c=[],d=[],m=!1;for(let _ of e){let y=!1,w=r3(_.name),T=!1;if(_.i18n&&(l[_.name]=_.i18n),w.startsWith(YS)){m&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",_.sourceSpan),T=!0,m=!0;let I=_.value,M=w.substring(YS.length),U=[],W=_.valueSpan?_.valueSpan.fullStart.offset:_.sourceSpan.fullStart.offset+_.name.length;this.bindingParser.parseInlineTemplateBinding(M,I,_.sourceSpan,W,[],c,U,!0),d.push(...U.map(N=>new pl(N.name,N.value,N.sourceSpan,N.keySpan,N.valueSpan)))}else y=this.parseAttribute(t,_,[],i,r,o,s);!y&&!T&&a.push(this.visitAttribute(_))}return{attributes:a,boundEvents:r,references:s,variables:o,templateVariables:d,elementHasInlineTemplate:m,parsedProperties:i,templateParsedProperties:c,i18nAttrsMeta:l}}parseAttribute(e,t,i,r,o,s,a){let l=r3(t.name),c=t.value,d=t.sourceSpan,m=t.valueSpan?t.valueSpan.fullStart.offset:d.fullStart.offset;function _(M,U,W){let N=t.name.length-l.length,X=M.start.moveBy(U.length+N),Y=X.moveBy(W.length);return new ke(X,Y,X,W)}let y=l.match(_Z);if(y){if(y[JP]!=null){let M=y[Zh],U=_(d,y[JP],M);this.bindingParser.parsePropertyBinding(M,c,!1,!1,d,m,t.valueSpan,i,r,U)}else if(y[KP])if(e){let M=y[Zh],U=_(d,y[KP],M);this.parseVariable(M,c,d,U,t.valueSpan,s)}else this.reportError('"let-" is only supported on ng-template elements.',d);else if(y[e3]){let M=y[Zh],U=_(d,y[e3],M);this.parseReference(M,c,d,U,t.valueSpan,a)}else if(y[t3]){let M=[],U=y[Zh],W=_(d,y[t3],U);this.bindingParser.parseEvent(U,c,!1,d,t.valueSpan||d,i,M,W),ZS(M,o)}else if(y[n3]){let M=y[Zh],U=_(d,y[n3],M);this.bindingParser.parsePropertyBinding(M,c,!1,!0,d,m,t.valueSpan,i,r,U),this.parseAssignmentEvent(M,c,d,t.valueSpan,i,o,U,m)}else if(y[bZ]){let M=_(d,"",l);this.bindingParser.parseLiteralAttr(l,c,d,m,t.valueSpan,i,r,M)}return!0}let w=null;if(l.startsWith(nl.BANANA_BOX.start)?w=nl.BANANA_BOX:l.startsWith(nl.PROPERTY.start)?w=nl.PROPERTY:l.startsWith(nl.EVENT.start)&&(w=nl.EVENT),w!==null&&l.endsWith(w.end)&&l.length>w.start.length+w.end.length){let M=l.substring(w.start.length,l.length-w.end.length),U=_(d,w.start,M);if(w.start===nl.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(M,c,!1,!0,d,m,t.valueSpan,i,r,U),this.parseAssignmentEvent(M,c,d,t.valueSpan,i,o,U,m);else if(w.start===nl.PROPERTY.start)this.bindingParser.parsePropertyBinding(M,c,!1,!1,d,m,t.valueSpan,i,r,U);else{let W=[];this.bindingParser.parseEvent(M,c,!1,d,t.valueSpan||d,i,W,U),ZS(W,o)}return!0}let T=_(d,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,d,t.valueSpan,i,r,T,t.valueTokens??null)}extractDirectives(e){let t=e instanceof er?e.tagName:e.name,i=[],r=new Set;for(let o of e.directives){let s=!1;for(let y of o.attrs)y.name.startsWith(YS)?(s=!0,this.reportError(`Shorthand template syntax "${y.name}" is not supported inside a directive context`,y.sourceSpan)):xZ.has(y.name)&&(s=!0,this.reportError(`Attribute "${y.name}" is not supported in a directive context`,y.sourceSpan));if(!s&&r.has(o.name)&&(s=!0,this.reportError(`Cannot apply directive "${o.name}" multiple times on the same element`,o.sourceSpan)),s)continue;let{attributes:a,parsedProperties:l,boundEvents:c,references:d,i18nAttrsMeta:m}=this.prepareAttributes(o.attrs,!1);this.validateSelectorlessReferences(d);let{bound:_}=this.categorizePropertyAttributes(t,l,m);for(let y of _)y.type!==lt.Property&&y.type!==lt.TwoWay&&(s=!0,this.reportError("Binding is not supported in a directive context",y.sourceSpan));s||(r.add(o.name),i.push(new C3(o.name,a,_,c,d,o.sourceSpan,o.startSourceSpan,o.endSourceSpan,void 0)))}return i}filterAnimationAttributes(e){return e.filter(t=>!t.name.startsWith("animate."))}filterAnimationInputs(e){return e.filter(t=>t.type!==lt.Animation)}wrapInTemplate(e,t,i,r,o,s){let a=this.categorizePropertyAttributes("ng-template",t,r),l=[];a.literal.forEach(_=>l.push(_)),a.bound.forEach(_=>l.push(_));let c={attributes:[],inputs:[],outputs:[]};(e instanceof Es||e instanceof rm)&&(c.attributes.push(...this.filterAnimationAttributes(e.attributes)),c.inputs.push(...this.filterAnimationInputs(e.inputs)),c.outputs.push(...e.outputs));let d=o&&s?void 0:e.i18n,m;return e instanceof rm?m=e.tagName:e instanceof Mr?m=null:m=e.name,new Mr(m,c.attributes,c.inputs,c.outputs,[],l,[e],[],i,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,d)}_visitTextWithInterpolation(e,t,i,r){let o=dO(e),s=this.bindingParser.parseInterpolation(o,t,i);return s?new Xd(s,t,r):new _c(o,t)}parseVariable(e,t,i,r,o,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',i):e.length===0&&this.reportError("Variable does not have a name",i),s.push(new pl(e,t,i,r,o))}parseReference(e,t,i,r,o,s){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',i):e.length===0?this.reportError("Reference does not have a name",i):s.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,i),s.push(new Rm(e,t,i,r,o))}parseAssignmentEvent(e,t,i,r,o,s,a,l){let c=[];this.bindingParser.parseEvent(`${e}Change`,t,!0,i,r||i,o,c,a),ZS(c,s)}validateSelectorlessReferences(e){if(e.length===0)return;let t=new Set;for(let i of e)i.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",i.valueSpan||i.sourceSpan):t.has(i.name)?this.reportError("Duplicate reference names are not allowed",i.sourceSpan):t.add(i.name)}reportError(e,t,i=al.ERROR){this.errors.push(new Ae(t,e,i))}},fD=class{visitElement(e){let t=FO(e);if(t.type===Ar.SCRIPT||t.type===Ar.STYLE||t.type===Ar.STYLESHEET)return null;let i=qt(this,e.children,null);return new Es(e.name,qt(this,e.attrs),[],[],[],i,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid)}visitComment(e){return null}visitAttribute(e){return new Jd(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new _c(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,t){let i=[new _c(e.startSourceSpan.toString(),e.startSourceSpan),...qt(this,e.children)];return e.endSourceSpan!==null&&i.push(new _c(e.endSourceSpan.toString(),e.endSourceSpan)),i}visitBlockParameter(e,t){return null}visitLetDeclaration(e,t){return new _c(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,t){let i=qt(this,e.children,null);return new Es(e.fullName,qt(this,e.attrs),[],[],[],i,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,!1)}visitDirective(e,t){return null}},i3=new fD;function r3(n){return/^data-/i.test(n)?n.substring(5):n}function ZS(n,e){e.push(...n.map(t=>gE.fromParsedEvent(t)))}function SZ(n){return n.children.length!==1||!(n.children[0]instanceof Uc)?null:n.children[0].value}var EZ=[" ",`
`,"\r","	"];function DZ(n,e,t={}){let{interpolationConfig:i,preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:o}=t,s=t.enableSelectorless??!1,a=J_(i,s),c=new sD().parse(n,e,J(F({leadingTriviaChars:EZ},t),{tokenizeExpansionForms:!0,tokenizeBlocks:t.enableBlockSyntax??!0,tokenizeLet:t.enableLetSyntax??!0,selectorlessEnabled:s}));if(!t.alwaysAttemptHtmlToR3AstConversion&&c.errors&&c.errors.length>0){let X={interpolationConfig:i,preserveWhitespaces:r,errors:c.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(X.commentNodes=[]),X}let d=c.rootNodes,m=!(t.preserveSignificantWhitespace??!0),_=new $_(i,!r,o,void 0,t.preserveSignificantWhitespace,m),y=_.visitAllWithErrors(d);if(!t.alwaysAttemptHtmlToR3AstConversion&&y.errors&&y.errors.length>0){let X={interpolationConfig:i,preserveWhitespaces:r,errors:y.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return t.collectCommentNodes&&(X.commentNodes=[]),X}d=y.rootNodes,r||(d=qt(new q_(!0,void 0,!1),d),_.hasI18nMeta&&(d=qt(new $_(i,!1,void 0,void 0,!0,m),d)));let{nodes:w,errors:T,styleUrls:I,styles:M,ngContentSelectors:U,commentNodes:W}=wZ(d,a,{collectCommentNodes:!!t.collectCommentNodes});T.push(...c.errors,...y.errors);let N={interpolationConfig:i,preserveWhitespaces:r,errors:T.length>0?T:null,nodes:w,styleUrls:I,styles:M,ngContentSelectors:U};return t.collectCommentNodes&&(N.commentNodes=W),N}var AZ=new cp;function J_(n=_s,e=!1){return new aD(new U_(new Jm,e),n,AZ,[])}var K_=class extends l_{visit(e){e instanceof Er?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(t=>this.visit(e.vars[t])),Object.keys(e.placeholders).forEach(t=>this.visit(e.placeholders[t]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof d_&&this.visit(e.value)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.cases)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){e.expression&&this.visit(e.expression),e.expressionAlias?.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let t of e)this.visit(t)}};var XS="animate.leave";function TZ(n){let e=new hD;return By(e,n),e.hasAnimations}var hD=class extends K_{hasAnimations=!1;visitElement(e){for(let t of e.attributes)t.name===XS&&(this.hasAnimations=!0);for(let t of e.inputs)t.name===XS&&(this.hasAnimations=!0);for(let t of e.outputs)t.name===XS&&(this.hasAnimations=!0);super.visitElement(e)}},BO="%COMP%",IZ=`_nghost-${BO}`,MZ=`_ngcontent-${BO}`,JS="animate.leave";function VO(n,e,t){let i=new ml,r=SD(n.selector);return i.set("type",n.type.value),r.length>0&&i.set("selectors",Fd(r)),n.queries.length>0&&i.set("contentQueries",yY(n.queries,e,n.name)),n.viewQueries.length&&i.set("viewQuery",vY(n.viewQueries,e,n.name)),i.set("hostBindings",BZ(n.host,n.typeSourceSpan,t,e,n.selector||"",n.name,i)),i.set("inputs",jN(n.inputs,!0)),i.set("outputs",jN(n.outputs)),n.exportAs!==null&&i.set("exportAs",mt(n.exportAs.map(o=>$(o)))),n.isStandalone===!1&&i.set("standalone",$(!1)),n.isSignal&&i.set("signals",$(!0)),i}function o3(n){return n.host.attributes[JS]!==void 0||n.host.properties[JS]!==void 0||n.host.listeners[JS]!==void 0}function jO(n,e){let t=[],i=e.providers,r=e.viewProviders;if(i||r){let s=[i||new Lo([])];r&&s.push(r),t.push(ue(P.ProvidersFeature).callFn(s))}if(e.hostDirectives?.length&&t.push(ue(P.HostDirectivesFeature).callFn([$Z(e.hostDirectives)])),e.usesInheritance&&t.push(ue(P.InheritDefinitionFeature)),e.fullInheritance&&t.push(ue(P.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&t.push(ue(P.NgOnChangesFeature)),"externalStyles"in e&&e.externalStyles?.length){let s=e.externalStyles.map(a=>$(a));t.push(ue(P.ExternalStylesFeature).callFn([mt(s)]))}let o=e.template;(o3(e)||o&&o.nodes.length>0)&&(o3(e)||TZ(o.nodes))&&t.push(ue(P.AnimationsFeature).callFn([])),t.length&&n.set("features",mt(t))}function kZ(n,e,t){let i=VO(n,e,t);jO(i,n);let r=ue(P.defineDirective).callFn([i.toLiteralMap()],void 0,!0),o=LZ(n);return{expression:r,type:o,statements:[]}}function RZ(n,e,t){let i=VO(n,e,t);jO(i,n);let r=n.selector&&zd.parse(n.selector),o=r&&r[0];if(o){let w=o.getAttrs();w.length&&i.set("attrs",e.getConstLiteral(mt(w.map(T=>T!=null?$(T):$(void 0))),!0))}let s=n.name,a=null;if(n.defer.mode===1&&n.defer.dependenciesFn!==null){let w=`${s}_DeferFn`;e.statements.push(new kn(w,n.defer.dependenciesFn,void 0,di.Final)),a=We(w)}let l=n.isStandalone&&!n.hasDirectiveDependencies?wr.DomOnly:wr.Full,c=GQ(n.name,n.template.nodes,e,l,n.relativeContextFilePath,n.i18nUseExternalIds,n.defer,a,n.relativeTemplatePath,hY());EO(c,ne.Tmpl);let d=$Q(c,e);if(c.contentSelectors!==null&&i.set("ngContentSelectors",c.contentSelectors),i.set("decls",$(c.root.decls)),i.set("vars",$(c.root.vars)),c.consts.length>0&&(c.constsInitializers.length>0?i.set("consts",Bo([],[...c.constsInitializers,new pi(mt(c.consts))])):i.set("consts",mt(c.consts))),i.set("template",d),n.declarationListEmitMode!==3&&n.declarations.length>0)i.set("dependencies",PZ(mt(n.declarations.map(w=>w.type)),n.declarationListEmitMode));else if(n.declarationListEmitMode===3){let w=[n.type.value];n.rawImports&&w.push(n.rawImports),i.set("dependencies",ue(P.getComponentDepsFactory).callFn(w))}n.encapsulation===null&&(n.encapsulation=fc.Emulated);let m=!!n.externalStyles?.length;if(n.styles&&n.styles.length){let T=(n.encapsulation==fc.Emulated?UZ(n.styles,MZ,IZ):n.styles).reduce((I,M)=>(M.trim().length>0&&I.push(e.getConstLiteral($(M))),I),[]);T.length>0&&(m=!0,i.set("styles",mt(T)))}!m&&n.encapsulation===fc.Emulated&&(n.encapsulation=fc.None),n.encapsulation!==fc.Emulated&&i.set("encapsulation",$(n.encapsulation)),n.animations!==null&&i.set("data",Ui([{key:"animation",value:n.animations,quoted:!1}])),n.changeDetection!==null&&(typeof n.changeDetection=="number"&&n.changeDetection!==wD.Default?i.set("changeDetection",$(n.changeDetection)):typeof n.changeDetection=="object"&&i.set("changeDetection",n.changeDetection));let _=ue(P.defineComponent).callFn([i.toLiteralMap()],void 0,!0),y=NZ(n);return{expression:_,type:y,statements:[]}}function NZ(n){let e=qO(n);return e.push(gD(n.template.ngContentSelectors)),e.push(fi($(n.isStandalone))),e.push(UO(n)),n.isSignal&&e.push(fi($(n.isSignal))),fi(ue(P.ComponentDeclaration,e))}function PZ(n,e){switch(e){case 0:return n;case 1:return Bo([],n);case 2:let t=n.prop("map").callFn([ue(P.resolveForwardRef)]);return Bo([],t);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function OZ(n){return fi($(n))}function mD(n){let e=Object.keys(n).map(t=>{let i=Array.isArray(n[t])?n[t][0]:n[t];return{key:t,value:$(i),quoted:!0}});return Ui(e)}function gD(n){return n.length>0?fi(mt(n.map(e=>$(e)))):Cs}function qO(n){let e=n.selector!==null?n.selector.replace(/\n/g,""):null;return[i1(n.type.type,n.typeArgumentCount),e!==null?OZ(e):Cs,n.exportAs!==null?gD(n.exportAs):Cs,fi(FZ(n)),fi(mD(n.outputs)),gD(n.queries.map(t=>t.propertyName))]}function FZ(n){return Ui(Object.keys(n.inputs).map(e=>{let t=n.inputs[e],i=[{key:"alias",value:$(t.bindingPropertyName),quoted:!0},{key:"required",value:$(t.required),quoted:!0}];return t.isSignal&&i.push({key:"isSignal",value:$(t.isSignal),quoted:!0}),{key:e,value:Ui(i),quoted:!0}}))}function LZ(n){let e=qO(n);return e.push(Cs),e.push(fi($(n.isStandalone))),e.push(UO(n)),n.isSignal&&e.push(fi($(n.isSignal))),fi(ue(P.DirectiveDeclaration,e))}function BZ(n,e,t,i,r,o,s){let a=t.createBoundHostProperties(n.properties,e),l=t.createDirectiveHostEventAsts(n.listeners,e);n.specialAttributes.styleAttr&&(n.attributes.style=$(n.specialAttributes.styleAttr)),n.specialAttributes.classAttr&&(n.attributes.class=$(n.specialAttributes.classAttr));let c=QQ({componentName:o,componentSelector:r,properties:a,events:l,attributes:n.attributes},t,i);EO(c,ne.Host),s.set("hostAttrs",c.root.attributes);let d=c.root.vars;return d!==null&&d>0&&s.set("hostVars",$(d)),HQ(c)}var VZ=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function jZ(n){let e={},t={},i={},r={};for(let o of Object.keys(n)){let s=n[o],a=o.match(VZ);if(a===null)switch(o){case"class":if(typeof s!="string")throw new Error("Class binding must be string");r.classAttr=s;break;case"style":if(typeof s!="string")throw new Error("Style binding must be string");r.styleAttr=s;break;default:typeof s=="string"?e[o]=$(s):e[o]=s}else if(a[1]!=null){if(typeof s!="string")throw new Error("Property binding must be string");i[a[1]]=s}else if(a[2]!=null){if(typeof s!="string")throw new Error("Event binding must be string");t[a[2]]=s}}return{attributes:e,listeners:t,properties:i,specialAttributes:r}}function qZ(n,e){let t=J_();return t.createDirectiveHostEventAsts(n.listeners,e),t.createBoundHostProperties(n.properties,e),t.errors}function UZ(n,e,t){let i=new IE;return n.map(r=>i.shimCssText(r,e,t))}function UO(n){return n.hostDirectives?.length?fi(mt(n.hostDirectives.map(e=>Ui([{key:"directive",value:rg(e.directive.type),quoted:!1},{key:"inputs",value:mD(e.inputs||{}),quoted:!1},{key:"outputs",value:mD(e.outputs||{}),quoted:!1}])))):Cs}function $Z(n){let e=[],t=!1;for(let i of n){if(!i.inputs&&!i.outputs)e.push(i.directive.type);else{let r=[{key:"directive",value:i.directive.type,quoted:!1}];if(i.inputs){let o=s3(i.inputs);o&&r.push({key:"inputs",value:o,quoted:!1})}if(i.outputs){let o=s3(i.outputs);o&&r.push({key:"outputs",value:o,quoted:!1})}e.push(Ui(r))}i.isForwardReference&&(t=!0)}return t?new cl([],[new pi(mt(e))]):mt(e)}function s3(n){let e=[];for(let t in n)n.hasOwnProperty(t)&&e.push($(t),$(n[t]));return e.length>0?mt(e):null}var vD=class{directiveMatcher;constructor(e){this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let t=new Map,i=[],r=new Set,o=new Map,s=new Map,a=new Map,l=new Map,c=new Map,d=new Map,m=new Set,_=new Set,y=[];if(e.template){let w=e1.apply(e.template);HZ(w,a),yD.apply(e.template,this.directiveMatcher,t,i,r,o,s),t1.applyWithScope(e.template,w,l,c,d,m,_,y)}return e.host&&(t.set(e.host.node,e.host.directives),t1.applyWithScope(e.host.node,e1.apply(e.host.node),l,c,d,m,_,y)),new _D(e,t,i,r,o,s,l,c,d,a,m,_,y)}},e1=class n{parentScope;rootNode;namedEntities=new Map;elementLikeInScope=new Set;childScopes=new Map;isDeferred;constructor(e,t){this.parentScope=e,this.rootNode=t,this.isDeferred=e!==null&&e.isDeferred?!0:t instanceof Fc}static newRootScope(){return new n(null,null)}static apply(e){let t=n.newRootScope();return t.ingest(e),t}ingest(e){e instanceof Mr?(e.variables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof wc?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(t=>t.visit(this))):e instanceof Kd?(this.visitVariable(e.item),e.contextVariables.forEach(t=>this.visitVariable(t)),e.children.forEach(t=>t.visit(this))):e instanceof Mm||e instanceof km||e instanceof Fc||e instanceof Im||e instanceof Am||e instanceof Tm||e instanceof ep?e.children.forEach(t=>t.visit(this)):e instanceof Nm||e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(t=>t.visit(this)),e.references.forEach(t=>this.visitReference(t)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(t=>this.visitReference(t))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(t=>t.visit(this)),e.references.forEach(t=>this.visitReference(t)),e.children.forEach(t=>t.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let t=this.childScopes.get(e);if(t===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return t}ingestScopedNode(e){let t=new n(this,e);t.ingest(e),this.childScopes.set(e,t)}},yD=class n{directiveMatcher;directives;eagerDirectives;missingDirectives;bindings;references;isInDeferBlock=!1;constructor(e,t,i,r,o,s){this.directiveMatcher=e,this.directives=t,this.eagerDirectives=i,this.missingDirectives=r,this.bindings=o,this.references=s}static apply(e,t,i,r,o,s,a){new n(t,i,r,o,s,a).ingest(e)}ingest(e){e.forEach(t=>t.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){let t=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(i=>i.visit(this)),this.isInDeferBlock=t,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockError(e){e.children.forEach(t=>t.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(t=>t.visit(this))}visitSwitchBlock(e){e.cases.forEach(t=>t.visit(this))}visitSwitchBlockCase(e){e.children.forEach(t=>t.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(t=>t.visit(this))}visitIfBlock(e){e.branches.forEach(t=>t.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(t=>t.visit(this))}visitContent(e){e.children.forEach(t=>t.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof $y){let t=this.directiveMatcher.match(e.componentName);t.length>0?this.trackSelectorlessMatchesAndDirectives(e,t):this.missingDirectives.add(e.componentName)}e.directives.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof $y){let t=this.directiveMatcher.match(e.name);t.length>0?this.trackSelectorlessMatchesAndDirectives(e,t):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof Uy){let t=[],i=Q$(e);this.directiveMatcher.match(i,(r,o)=>t.push(...o)),this.trackSelectorBasedBindingsAndDirectives(e,t)}else e.references.forEach(t=>{t.value.trim()===""&&this.references.set(t,e)});e.directives.forEach(t=>t.visit(this)),e.children.forEach(t=>t.visit(this))}trackMatchedDirectives(e,t){t.length>0&&(this.directives.set(e,t),this.isInDeferBlock||this.eagerDirectives.push(...t))}trackSelectorlessMatchesAndDirectives(e,t){if(t.length===0)return;this.trackMatchedDirectives(e,t);let i=(r,o,s)=>{r[s].hasBindingPropertyName(o.name)&&this.bindings.set(o,r)};for(let r of t)e.inputs.forEach(o=>i(r,o,"inputs")),e.attributes.forEach(o=>i(r,o,"inputs")),e.outputs.forEach(o=>i(r,o,"outputs"));e.references.forEach(r=>this.references.set(r,{directive:t[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,t){this.trackMatchedDirectives(e,t),e.references.forEach(r=>{let o=null;if(r.value.trim()==="")o=t.find(s=>s.isComponent)||null;else if(o=t.find(s=>s.exportAs!==null&&s.exportAs.some(a=>a===r.value))||null,o===null)return;o!==null?this.references.set(r,{directive:o,node:e}):this.references.set(r,e)});let i=(r,o)=>{let s=t.find(l=>l[o].hasBindingPropertyName(r.name)),a=s!==void 0?s:e;this.bindings.set(r,a)};e.inputs.forEach(r=>i(r,"inputs")),e.attributes.forEach(r=>i(r,"inputs")),e instanceof Mr&&e.templateAttrs.forEach(r=>i(r,"inputs")),e.outputs.forEach(r=>i(r,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},t1=class n extends K_{bindings;symbols;usedPipes;eagerPipes;deferBlocks;nestingLevel;scope;rootNode;level;visitNode=e=>e.visit(this);constructor(e,t,i,r,o,s,a,l,c){super(),this.bindings=e,this.symbols=t,this.usedPipes=i,this.eagerPipes=r,this.deferBlocks=o,this.nestingLevel=s,this.scope=a,this.rootNode=l,this.level=c}static applyWithScope(e,t,i,r,o,s,a,l){let c=e instanceof Mr?e:null;new n(i,r,s,a,l,o,t,c,0).ingest(e)}ingest(e){if(e instanceof Mr)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof wc)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Kd)this.visitNode(e.item),e.contextVariables.forEach(t=>this.visitNode(t)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Fc){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof Mm||e instanceof km||e instanceof Im||e instanceof Am||e instanceof Tm||e instanceof ep?(e.children.forEach(t=>t.visit(this)),this.nestingLevel.set(e,this.level)):e instanceof Nm?this.nestingLevel.set(e,0):e.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.directives.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.hydrateTriggers.when?.value.visit(this),e.hydrateTriggers.never?.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){super.visitLetDeclaration(e),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,t){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,t)}visitPropertyRead(e,t){return this.maybeMap(e,e.name),super.visitPropertyRead(e,t)}visitSafePropertyRead(e,t){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,t)}ingestScopedNode(e){let t=this.scope.getChildScope(e);new n(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,t,e,this.level+1).ingest(e)}maybeMap(e,t){if(!(e.receiver instanceof Ss)||e.receiver instanceof Pc)return;let i=this.scope.lookup(t);i!==null&&this.bindings.set(e,i)}},_D=class{target;directives;eagerDirectives;missingDirectives;bindings;references;exprTargets;symbols;nestingLevel;scopedNodeEntities;usedPipes;eagerPipes;deferredBlocks;deferredScopes;constructor(e,t,i,r,o,s,a,l,c,d,m,_,y){this.target=e,this.directives=t,this.eagerDirectives=i,this.missingDirectives=r,this.bindings=o,this.references=s,this.exprTargets=a,this.symbols=l,this.nestingLevel=c,this.scopedNodeEntities=d,this.usedPipes=m,this.eagerPipes=_,this.deferredBlocks=y.map(w=>w[0]),this.deferredScopes=new Map(y)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(t=>t.forEach(i=>e.add(i))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,t){if(!(t instanceof f_)&&!(t instanceof h_)&&!(t instanceof p_))return null;let i=t.reference;if(i===null){let o=null;if(e.placeholder!==null){for(let s of e.placeholder.children)if(!(s instanceof r1)){if(o!==null)return null;s instanceof Es&&(o=s)}}return o}let r=this.findEntityInScope(e,i);if(r instanceof Rm&&this.getDefinitionNodeOfSymbol(r)!==e){let o=this.getReferenceTarget(r);if(o!==null)return this.referenceTargetToElement(o)}if(e.placeholder!==null){let o=this.findEntityInScope(e.placeholder,i),s=o instanceof Rm?this.getReferenceTarget(o):null;if(s!==null)return this.referenceTargetToElement(s)}return null}isDeferred(e){for(let t of this.deferredBlocks){if(!this.deferredScopes.has(t))continue;let i=[this.deferredScopes.get(t)];for(;i.length>0;){let r=i.pop();if(r.elementLikeInScope.has(e))return!0;i.push(...r.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,t){let i=this.getEntitiesInScope(e);for(let r of i)if(r.name===t)return r;return null}referenceTargetToElement(e){return e instanceof Es?e:e instanceof Mr||e.node instanceof rm||e.node instanceof C3||e.node instanceof Nm?null:this.referenceTargetToElement(e.node)}};function HZ(n,e){let t=new Map;function i(o){if(t.has(o.rootNode))return t.get(o.rootNode);let s=o.namedEntities,a;return o.parentScope!==null?a=new Map([...i(o.parentScope),...s]):a=new Map(s),t.set(o.rootNode,a),a}let r=[n];for(;r.length>0;){let o=r.pop();for(let s of o.childScopes.values())r.push(s);i(o)}for(let[o,s]of t)e.set(o,new Set(s.values()))}var bD=class{},CD=class{jitEvaluator;FactoryTarget=ua;ResourceLoader=bD;elementSchemaRegistry=new cp;constructor(e=new DE){this.jitEvaluator=e}compilePipe(e,t,i){let r={name:i.name,type:In(i.type),typeArgumentCount:0,deps:null,pipeName:i.pipeName,pure:i.pure,isStandalone:i.isStandalone},o=XN(r);return this.jitExpression(o.expression,e,t,[])}compilePipeDeclaration(e,t,i){let r=aX(i),o=XN(r);return this.jitExpression(o.expression,e,t,[])}compileInjectable(e,t,i){let{expression:r,statements:o}=qN({name:i.name,type:In(i.type),typeArgumentCount:i.typeArgumentCount,providedIn:p3(i.providedIn),useClass:Nd(i,"useClass"),useFactory:d3(i,"useFactory"),useValue:Nd(i,"useValue"),useExisting:Nd(i,"useExisting"),deps:i.deps?.map(WO)},!0);return this.jitExpression(r,e,t,o)}compileInjectableDeclaration(e,t,i){let{expression:r,statements:o}=qN({name:i.type.name,type:In(i.type),typeArgumentCount:0,providedIn:p3(i.providedIn),useClass:Nd(i,"useClass"),useFactory:d3(i,"useFactory"),useValue:Nd(i,"useValue"),useExisting:Nd(i,"useExisting"),deps:i.deps?.map(f3)},!0);return this.jitExpression(r,e,t,o)}compileInjector(e,t,i){let r={name:i.name,type:In(i.type),providers:i.providers&&i.providers.length>0?new Xe(i.providers):null,imports:i.imports.map(s=>new Xe(s))},o=ZN(r);return this.jitExpression(o.expression,e,t,[])}compileInjectorDeclaration(e,t,i){let r=lX(i),o=ZN(r);return this.jitExpression(o.expression,e,t,[])}compileNgModule(e,t,i){let r={kind:ll.Global,type:In(i.type),bootstrap:i.bootstrap.map(In),declarations:i.declarations.map(In),publicDeclarationTypes:null,imports:i.imports.map(In),includeImportTypes:!0,exports:i.exports.map(In),selectorScopeMode:S_.Inline,containsForwardDecls:!1,schemas:i.schemas?i.schemas.map(In):null,id:i.id?new Xe(i.id):null},o=v7(r);return this.jitExpression(o.expression,e,t,[])}compileNgModuleDeclaration(e,t,i){let r=y7(i);return this.jitExpression(r,e,t,[])}compileDirective(e,t,i){let r=c3(i);return this.compileDirectiveFromMeta(e,t,r)}compileDirectiveDeclaration(e,t,i){let r=this.createParseSourceSpan("Directive",i.type.name,t),o=HO(i,r);return this.compileDirectiveFromMeta(e,t,o)}compileDirectiveFromMeta(e,t,i){let r=new Ky,o=J_(),s=kZ(i,r,o);return this.jitExpression(s.expression,e,t,r.statements)}compileComponent(e,t,i){let{template:r,interpolation:o,defer:s}=zO(i.template,i.name,t,i.preserveWhitespaces,i.interpolation,void 0),a=J(F(F({},i),c3(i)),{selector:i.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:i.declarations.map(QZ),declarationListEmitMode:0,defer:s,styles:[...i.styles,...r.styles],encapsulation:i.encapsulation,interpolation:o,changeDetection:i.changeDetection??null,animations:i.animations!=null?new Xe(i.animations):null,viewProviders:i.viewProviders!=null?new Xe(i.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),l=`ng:///${i.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,t,i){let r=this.createParseSourceSpan("Component",i.type.name,t),o=GZ(i,r,t);return this.compileComponentFromMeta(e,t,o)}compileComponentFromMeta(e,t,i){let r=new Ky,o=J_(i.interpolation),s=RZ(i,r,o);return this.jitExpression(s.expression,e,t,r.statements)}compileFactory(e,t,i){let r=hc({name:i.name,type:In(i.type),typeArgumentCount:i.typeArgumentCount,deps:XZ(i.deps),target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}compileFactoryDeclaration(e,t,i){let r=hc({name:i.type.name,type:In(i.type),typeArgumentCount:0,deps:Array.isArray(i.deps)?i.deps.map(f3):i.deps,target:i.target});return this.jitExpression(r.expression,e,t,r.statements)}createParseSourceSpan(e,t,i){return u7(e,t,i)}jitExpression(e,t,i,r){let o=[...r,new kn("$def",e,void 0,di.Exported)];return this.jitEvaluator.evaluateStatements(i,o,new TE(t),!0).$def}};function a3(n){return J(F({},n),{isSignal:n.isSignal,predicate:$O(n.predicate),read:n.read?new Xe(n.read):null,static:n.static,emitDistinctChangesOnly:n.emitDistinctChangesOnly})}function l3(n){return{propertyName:n.propertyName,first:n.first??!1,predicate:$O(n.predicate),descendants:n.descendants??!1,read:n.read?new Xe(n.read):null,static:n.static??!1,emitDistinctChangesOnly:n.emitDistinctChangesOnly??!0,isSignal:!!n.isSignal}}function $O(n){return Array.isArray(n)?n:TD(new Xe(n),1)}function c3(n){let e=sX(n.inputs||[]),t=eE(n.outputs||[]),i=n.propMetadata,r={},o={};for(let a in i)i.hasOwnProperty(a)&&i[a].forEach(l=>{nX(l)?r[a]={bindingPropertyName:l.alias||a,classPropertyName:a,required:l.required||!1,isSignal:!!l.isSignal,transformFunction:l.transform!=null?new Xe(l.transform):null}:iX(l)&&(o[a]=l.alias||a)});let s=n.hostDirectives?.length?n.hostDirectives.map(a=>typeof a=="function"?{directive:In(a),inputs:null,outputs:null,isForwardReference:!1}:{directive:In(a.directive),isForwardReference:!1,inputs:a.inputs?eE(a.inputs):null,outputs:a.outputs?eE(a.outputs):null}):null;return J(F({},n),{typeArgumentCount:0,typeSourceSpan:n.typeSourceSpan,type:In(n.type),deps:null,host:F({},KZ(n.propMetadata,n.typeSourceSpan,n.host)),inputs:F(F({},e),r),outputs:F(F({},t),o),queries:n.queries.map(a3),providers:n.providers!=null?new Xe(n.providers):null,viewQueries:n.viewQueries.map(a3),fullInheritance:!1,hostDirectives:s})}function HO(n,e){let t=n.hostDirectives?.length?n.hostDirectives.map(i=>({directive:In(i.directive),isForwardReference:!1,inputs:i.inputs?u3(i.inputs):null,outputs:i.outputs?u3(i.outputs):null})):null;return{name:n.type.name,type:In(n.type),typeSourceSpan:e,selector:n.selector??null,inputs:n.inputs?rX(n.inputs):{},outputs:n.outputs??{},host:zZ(n.host),queries:(n.queries??[]).map(l3),viewQueries:(n.viewQueries??[]).map(l3),providers:n.providers!==void 0?new Xe(n.providers):null,exportAs:n.exportAs??null,usesInheritance:n.usesInheritance??!1,lifecycle:{usesOnChanges:n.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:n.isStandalone??b3(n.version),isSignal:n.isSignal??!1,hostDirectives:t}}function zZ(n={}){return{attributes:WZ(n.attributes??{}),listeners:n.listeners??{},properties:n.properties??{},specialAttributes:{classAttr:n.classAttribute,styleAttr:n.styleAttribute}}}function u3(n){let e=null;for(let t=1;t<n.length;t+=2)e=e||{},e[n[t-1]]=n[t];return e}function WZ(n){let e={};for(let t of Object.keys(n))e[t]=new Xe(n[t]);return e}function GZ(n,e,t){let{template:i,interpolation:r,defer:o}=zO(n.template,n.type.name,t,n.preserveWhitespaces??!1,n.interpolation,n.deferBlockDependencies),s=[];if(n.dependencies)for(let l of n.dependencies)switch(l.kind){case"directive":case"component":s.push(KS(l));break;case"pipe":s.push(ZZ(l));break}else(n.components||n.directives||n.pipes)&&(n.components&&s.push(...n.components.map(l=>KS(l,!0))),n.directives&&s.push(...n.directives.map(l=>KS(l))),n.pipes&&s.push(...YZ(n.pipes)));let a=s.some(({kind:l})=>l===ip.Directive||l===ip.NgModule);return J(F({},HO(n,e)),{template:i,styles:n.styles??[],declarations:s,viewProviders:n.viewProviders!==void 0?new Xe(n.viewProviders):null,animations:n.animations!==void 0?new Xe(n.animations):null,defer:o,changeDetection:n.changeDetection??wD.Default,encapsulation:n.encapsulation??fc.Emulated,interpolation:r,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:a})}function QZ(n){return J(F({},n),{type:new Xe(n.type)})}function KS(n,e=null){return{kind:ip.Directive,isComponent:e||n.kind==="component",selector:n.selector,type:new Xe(n.type),inputs:n.inputs??[],outputs:n.outputs??[],exportAs:n.exportAs??null}}function YZ(n){return n?Object.keys(n).map(e=>({kind:ip.Pipe,name:e,type:new Xe(n[e])})):[]}function ZZ(n){return{kind:ip.Pipe,name:n.name,type:new Xe(n.type)}}function zO(n,e,t,i,r,o){let s=r?__.fromArray(r):_s,a=DZ(n,t,{preserveWhitespaces:i,interpolationConfig:s});if(a.errors!==null){let d=a.errors.map(m=>m.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${d}`)}let c=new vD(null).bind({template:a.nodes});return{template:a,interpolation:s,defer:JZ(c,o)}}function Nd(n,e){if(n.hasOwnProperty(e))return TD(new Xe(n[e]),0)}function d3(n,e){if(n.hasOwnProperty(e))return new Xe(n[e])}function p3(n){let e=typeof n=="function"?new Xe(n):new hi(n??null);return TD(e,0)}function XZ(n){return n==null?null:n.map(WO)}function WO(n){let e=n.attribute!=null,t=n.token===null?null:new Xe(n.token),i=e?new Xe(n.attribute):t;return GO(i,e,n.host,n.optional,n.self,n.skipSelf)}function f3(n){let e=n.attribute??!1,t=n.token===null?null:new Xe(n.token);return GO(t,e,n.host??!1,n.optional??!1,n.self??!1,n.skipSelf??!1)}function GO(n,e,t,i,r,o){let s=e?$("unknown"):null;return{token:n,attributeNameType:s,host:t,optional:i,self:r,skipSelf:o}}function JZ(n,e){let t=n.getDeferBlocks(),i=new Map;for(let r=0;r<t.length;r++){let o=e?.[r];i.set(t[r],o?new Xe(o):null)}return{mode:0,blocks:i}}function KZ(n,e,t){let i=jZ(t||{}),r=qZ(i,e);if(r.length)throw new Error(r.map(o=>o.msg).join(`
`));for(let o in n)n.hasOwnProperty(o)&&n[o].forEach(s=>{eX(s)?i.properties[s.hostPropertyName||o]=M$("this",o):tX(s)&&(i.listeners[s.eventName||o]=`${o}(${(s.args||[]).join(",")})`)});return i}function eX(n){return n.ngMetadataName==="HostBinding"}function tX(n){return n.ngMetadataName==="HostListener"}function nX(n){return n.ngMetadataName==="Input"}function iX(n){return n.ngMetadataName==="Output"}function rX(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return typeof i=="string"||Array.isArray(i)?e[t]=oX(i):e[t]={bindingPropertyName:i.publicName,classPropertyName:t,transformFunction:i.transformFunction!==null?new Xe(i.transformFunction):null,required:i.isRequired,isSignal:i.isSignal},e},{})}function oX(n){return typeof n=="string"?{bindingPropertyName:n,classPropertyName:n,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:n[0],classPropertyName:n[1],transformFunction:n[2]?new Xe(n[2]):null,required:!1,isSignal:!1}}function sX(n){return n.reduce((e,t)=>{if(typeof t=="string"){let[i,r]=QO(t);e[r]={bindingPropertyName:i,classPropertyName:r,required:!1,isSignal:!1,transformFunction:null}}else e[t.name]={bindingPropertyName:t.alias||t.name,classPropertyName:t.name,required:t.required||!1,isSignal:!1,transformFunction:t.transform!=null?new Xe(t.transform):null};return e},{})}function eE(n){return n.reduce((e,t)=>{let[i,r]=QO(t);return e[r]=i,e},{})}function QO(n){let[e,t]=n.split(":",2).map(i=>i.trim());return[t??e,e]}function aX(n){return{name:n.type.name,type:In(n.type),typeArgumentCount:0,pipeName:n.name,deps:null,pure:n.pure??!0,isStandalone:n.isStandalone??b3(n.version)}}function lX(n){return{name:n.type.name,type:In(n.type),providers:n.providers!==void 0&&n.providers.length>0?new Xe(n.providers):null,imports:n.imports!==void 0?n.imports.map(e=>new Xe(e)):[]}}function cX(n){let e=n.ng||(n.ng={});e.\u0275compilerFacade=new CD}var xD=class{closedByParent=!1;implicitNamespacePrefix=null;isVoid=!1;ignoreFirstLf=!1;canSelfClose=!0;preventNamespaceInheritance=!1;requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return ys.PARSABLE_DATA}},l1e=new xD;var c1e=new sE("20.2.4");cX(im);var YD;function u1(){return YD}function Is(n){let e=YD;return YD=n,e}var YO=Symbol("NotFound");function gp(n){return n===YO||n?.name==="\u0275NotFound"}function m1(n,e){return Object.is(n,e)}var Ti=null,d1=!1,ZD=1,uX=null,Gn=Symbol("SIGNAL");function Pe(n){let e=Ti;return Ti=n,e}function g1(){return Ti}var $c={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vp(n){if(d1)throw new Error("");if(Ti===null)return;Ti.consumerOnSignalRead(n);let e=Ti.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=Ti.recomputing;if(i&&(t=e!==void 0?e.nextProducer:Ti.producers,t!==void 0&&t.producer===n)){Ti.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===Ti&&(!i||pX(r,Ti)))return;let o=bp(Ti),s={producer:n,consumer:Ti,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};Ti.producersTail=s,e!==void 0?e.nextProducer=s:Ti.producers=s,o&&XO(n,s)}function ZO(){ZD++}function v1(n){if(!(bp(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ZD)){if(!n.producerMustRecompute(n)&&!_p(n)){h1(n);return}n.producerRecomputeValue(n),h1(n)}}function XD(n){if(n.consumers===void 0)return;let e=d1;d1=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||dX(i)}}finally{d1=e}}function JD(){return Ti?.consumerAllowSignalWrites!==!1}function dX(n){n.dirty=!0,XD(n),n.consumerMarkedDirty?.(n)}function h1(n){n.dirty=!1,n.lastCleanEpoch=ZD}function Hc(n){return n&&(n.producersTail=void 0,n.recomputing=!0),Pe(n)}function yp(n,e){if(Pe(e),!n)return;n.recomputing=!1;let t=n.producersTail,i=t!==void 0?t.nextProducer:n.producers;if(i!==void 0){if(bp(n))do i=KD(i);while(i!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function _p(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(v1(t),i!==t.version))return!0}return!1}function zc(n){if(bp(n)){let e=n.producers;for(;e!==void 0;)e=KD(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function XO(n,e){let t=n.consumersTail,i=bp(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)XO(r.producer,r)}function KD(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!bp(e)){let o=e.producers;for(;o!==void 0;)o=KD(o)}return t}function bp(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function y1(n){uX?.(n)}function pX(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function cg(n,e){let t=Object.create(fX);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(v1(t),vp(t),t.value===lg)throw t.error;return t.value};return i[Gn]=t,y1(t),i}var p1=Symbol("UNSET"),f1=Symbol("COMPUTING"),lg=Symbol("ERRORED"),fX=J(F({},$c),{value:p1,dirty:!0,error:null,equal:m1,kind:"computed",producerMustRecompute(n){return n.value===p1||n.value===f1},producerRecomputeValue(n){if(n.value===f1)throw new Error("");let e=n.value;n.value=f1;let t=Hc(n),i,r=!1;try{i=n.computation(),Pe(null),r=e!==p1&&e!==lg&&i!==lg&&n.equal(e,i)}catch(o){i=lg,n.error=o}finally{yp(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function hX(){throw new Error}var JO=hX;function KO(n){JO(n)}function e2(n){JO=n}var mX=null;function t2(n,e){let t=Object.create(_1);t.value=n,e!==void 0&&(t.equal=e);let i=()=>eF(t);return i[Gn]=t,y1(t),[i,s=>Cp(t,s),s=>n2(t,s)]}function eF(n){return vp(n),n.value}function Cp(n,e){JD()||KO(n),n.equal(n.value,e)||(n.value=e,gX(n))}function n2(n,e){JD()||KO(n),Cp(n,e(n.value))}var _1=J(F({},$c),{equal:m1,value:void 0,kind:"signal"});function gX(n){n.version++,ZO(),XD(n),mX?.(n)}function Ge(n){return typeof n=="function"}function xp(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var b1=xp(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ug(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var bn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(Ge(i))try{i()}catch(o){e=o instanceof b1?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{tF(o)}catch(s){e=e??[],s instanceof b1?e=[...e,...s.errors]:e.push(s)}}if(e)throw new b1(e)}}add(e){var t;if(e&&e!==this)if(this.closed)tF(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ug(t,e)}remove(e){let{_finalizers:t}=this;t&&ug(t,e),e instanceof n&&e._removeParent(this)}};bn.EMPTY=(()=>{let n=new bn;return n.closed=!0,n})();var i2=bn.EMPTY;function C1(n){return n instanceof bn||n&&"closed"in n&&Ge(n.remove)&&Ge(n.add)&&Ge(n.unsubscribe)}function tF(n){Ge(n)?n():n.unsubscribe()}var qo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wp={setTimeout(n,e,...t){let{delegate:i}=wp;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=wp;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function x1(n){wp.setTimeout(()=>{let{onUnhandledError:e}=qo;if(e)e(n);else throw n})}function dg(){}var nF=r2("C",void 0,void 0);function iF(n){return r2("E",void 0,n)}function rF(n){return r2("N",n,void 0)}function r2(n,e,t){return{kind:n,value:e,error:t}}var Wc=null;function Sp(n){if(qo.useDeprecatedSynchronousErrorHandling){let e=!Wc;if(e&&(Wc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Wc;if(Wc=null,t)throw i}}else n()}function oF(n){qo.useDeprecatedSynchronousErrorHandling&&Wc&&(Wc.errorThrown=!0,Wc.error=n)}var Gc=class extends bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,C1(e)&&e.add(this)):this.destination=_X}static create(e,t,i){return new Ep(e,t,i)}next(e){this.isStopped?s2(rF(e),this):this._next(e)}error(e){this.isStopped?s2(iF(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?s2(nF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vX=Function.prototype.bind;function o2(n,e){return vX.call(n,e)}var a2=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){w1(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){w1(i)}else w1(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){w1(t)}}},Ep=class extends Gc{constructor(e,t,i){super();let r;if(Ge(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&qo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&o2(e.next,o),error:e.error&&o2(e.error,o),complete:e.complete&&o2(e.complete,o)}):r=e}this.destination=new a2(r)}};function w1(n){qo.useDeprecatedSynchronousErrorHandling?oF(n):x1(n)}function yX(n){throw n}function s2(n,e){let{onStoppedNotification:t}=qo;t&&wp.setTimeout(()=>t(n,e))}var _X={closed:!0,next:dg,error:yX,complete:dg};var Dp=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Or(n){return n}function l2(...n){return c2(n)}function c2(n){return n.length===0?Or:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var it=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=CX(t)?t:new Ep(t,i,r);return Sp(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=sF(i),new i((r,o)=>{let s=new Ep({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Dp](){return this}pipe(...t){return c2(t)(this)}toPromise(t){return t=sF(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function sF(n){var e;return(e=n??qo.Promise)!==null&&e!==void 0?e:Promise}function bX(n){return n&&Ge(n.next)&&Ge(n.error)&&Ge(n.complete)}function CX(n){return n&&n instanceof Gc||bX(n)&&C1(n)}function u2(n){return Ge(n?.lift)}function pt(n){return e=>{if(u2(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(n,e,t,i,r){return new d2(n,e,t,i,r)}var d2=class extends Gc{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ap(){return pt((n,e)=>{let t=null;n._refCount++;let i=ot(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Tp=class extends it{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,u2(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bn;let t=this.getSubject();e.add(this.source.subscribe(ot(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bn.EMPTY)}return e}refCount(){return Ap()(this)}};var aF=xp(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Cn=(()=>{class n extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new S1(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new aF}next(t){Sp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Sp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Sp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?i2:(this.currentObservers=null,o.push(t),new bn(()=>{this.currentObservers=null,ug(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new it;return t.source=this,t}}return n.create=(e,t)=>new S1(e,t),n})(),S1=class extends Cn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:i2}};var gi=class extends Cn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var sr=new it(n=>n.complete());function lF(n){return n&&Ge(n.schedule)}function cF(n){return n[n.length-1]}function E1(n){return Ge(cF(n))?n.pop():void 0}function Cl(n){return lF(cF(n))?n.pop():void 0}function dF(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(m){s(m)}}function l(d){try{c(i.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function uF(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qc(n){return this instanceof Qc?(this.v=n,this):new Qc(n)}function pF(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(y){return function(w){return Promise.resolve(w).then(y,m)}}function a(y,w){i[y]&&(r[y]=function(T){return new Promise(function(I,M){o.push([y,T,I,M])>1||l(y,T)})},w&&(r[y]=w(r[y])))}function l(y,w){try{c(i[y](w))}catch(T){_(o[0][3],T)}}function c(y){y.value instanceof Qc?Promise.resolve(y.value.v).then(d,m):_(o[0][2],y)}function d(y){l("next",y)}function m(y){l("throw",y)}function _(y,w){y(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function fF(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof uF=="function"?uF(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var D1=n=>n&&typeof n.length=="number"&&typeof n!="function";function A1(n){return Ge(n?.then)}function T1(n){return Ge(n[Dp])}function I1(n){return Symbol.asyncIterator&&Ge(n?.[Symbol.asyncIterator])}function M1(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xX(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var k1=xX();function R1(n){return Ge(n?.[k1])}function N1(n){return pF(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Qc(t.read());if(r)return yield Qc(void 0);yield yield Qc(i)}}finally{t.releaseLock()}})}function P1(n){return Ge(n?.getReader)}function xn(n){if(n instanceof it)return n;if(n!=null){if(T1(n))return wX(n);if(D1(n))return SX(n);if(A1(n))return EX(n);if(I1(n))return hF(n);if(R1(n))return DX(n);if(P1(n))return AX(n)}throw M1(n)}function wX(n){return new it(e=>{let t=n[Dp]();if(Ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SX(n){return new it(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function EX(n){return new it(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,x1)})}function DX(n){return new it(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function hF(n){return new it(e=>{TX(n,e).catch(t=>e.error(t))})}function AX(n){return hF(N1(n))}function TX(n,e){var t,i,r,o;return dF(this,void 0,void 0,function*(){try{for(t=fF(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function ar(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function O1(n,e=0){return pt((t,i)=>{t.subscribe(ot(i,r=>ar(i,n,()=>i.next(r),e),()=>ar(i,n,()=>i.complete(),e),r=>ar(i,n,()=>i.error(r),e)))})}function F1(n,e=0){return pt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function mF(n,e){return xn(n).pipe(F1(e),O1(e))}function gF(n,e){return xn(n).pipe(F1(e),O1(e))}function vF(n,e){return new it(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function yF(n,e){return new it(t=>{let i;return ar(t,e,()=>{i=n[k1](),ar(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>Ge(i?.return)&&i.return()})}function L1(n,e){if(!n)throw new Error("Iterable cannot be null");return new it(t=>{ar(t,e,()=>{let i=n[Symbol.asyncIterator]();ar(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function _F(n,e){return L1(N1(n),e)}function bF(n,e){if(n!=null){if(T1(n))return mF(n,e);if(D1(n))return vF(n,e);if(A1(n))return gF(n,e);if(I1(n))return L1(n,e);if(R1(n))return yF(n,e);if(P1(n))return _F(n,e)}throw M1(n)}function Wt(n,e){return e?bF(n,e):xn(n)}function _e(...n){let e=Cl(n);return Wt(n,e)}function Ip(n,e){let t=Ge(n)?n:()=>n,i=r=>r.error(t());return new it(e?r=>e.schedule(i,0,r):i)}function p2(n){return!!n&&(n instanceof it||Ge(n.lift)&&Ge(n.subscribe))}var xa=xp(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Be(n,e){return pt((t,i)=>{let r=0;t.subscribe(ot(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:IX}=Array;function MX(n,e){return IX(e)?n(...e):n(e)}function B1(n){return Be(e=>MX(n,e))}var{isArray:kX}=Array,{getPrototypeOf:RX,prototype:NX,keys:PX}=Object;function V1(n){if(n.length===1){let e=n[0];if(kX(e))return{args:e,keys:null};if(OX(e)){let t=PX(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function OX(n){return n&&typeof n=="object"&&RX(n)===NX}function j1(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function pg(...n){let e=Cl(n),t=E1(n),{args:i,keys:r}=V1(n);if(i.length===0)return Wt([],e);let o=new it(FX(i,e,r?s=>j1(r,s):Or));return t?o.pipe(B1(t)):o}function FX(n,e,t=Or){return i=>{CF(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)CF(e,()=>{let c=Wt(n[l],e),d=!1;c.subscribe(ot(i,m=>{o[l]=m,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function CF(n,e,t){n?ar(t,n,e):e()}function xF(n,e,t,i,r,o,s,a){let l=[],c=0,d=0,m=!1,_=()=>{m&&!l.length&&!c&&e.complete()},y=T=>c<i?w(T):l.push(T),w=T=>{o&&e.next(T),c++;let I=!1;xn(t(T,d++)).subscribe(ot(e,M=>{r?.(M),o?y(M):e.next(M)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;l.length&&c<i;){let M=l.shift();s?ar(e,s,()=>w(M)):w(M)}_()}catch(M){e.error(M)}}))};return n.subscribe(ot(e,y,()=>{m=!0,_()})),()=>{a?.()}}function sn(n,e,t=1/0){return Ge(e)?sn((i,r)=>Be((o,s)=>e(i,o,r,s))(xn(n(i,r))),t):(typeof e=="number"&&(t=e),pt((i,r)=>xF(i,r,n,t)))}function Mp(n=1/0){return sn(Or,n)}function wF(){return Mp(1)}function kp(...n){return wF()(Wt(n,Cl(n)))}function fg(n){return new it(e=>{xn(n()).subscribe(e)})}function f2(...n){let e=E1(n),{args:t,keys:i}=V1(n),r=new it(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let m=!1;xn(t[d]).subscribe(ot(o,_=>{m||(m=!0,c--),a[d]=_},()=>l--,void 0,()=>{(!l||!m)&&(c||o.next(i?j1(i,a):a),o.complete())}))}});return e?r.pipe(B1(e)):r}function Ii(n,e){return pt((t,i)=>{let r=0;t.subscribe(ot(i,o=>n.call(e,o,r++)&&i.next(o)))})}function wa(n){return pt((e,t)=>{let i=null,r=!1,o;i=e.subscribe(ot(t,void 0,void 0,s=>{o=xn(n(s,wa(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function SF(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(ot(s,d=>{let m=c++;l=a?n(l,d,m):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Ms(n,e){return Ge(e)?sn(n,e,1):sn(n,1)}function xl(n){return pt((e,t)=>{let i=!1;e.subscribe(ot(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Sa(n){return n<=0?()=>sr:pt((e,t)=>{let i=0;e.subscribe(ot(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function q1(n=LX){return pt((e,t)=>{let i=!1;e.subscribe(ot(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function LX(){return new xa}function Yc(n){return pt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ea(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ii((r,o)=>n(r,o,i)):Or,Sa(1),t?xl(e):q1(()=>new xa))}function Rp(n){return n<=0?()=>sr:pt((e,t)=>{let i=[];e.subscribe(ot(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function h2(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Ii((r,o)=>n(r,o,i)):Or,Rp(1),t?xl(e):q1(()=>new xa))}function m2(n,e){return pt(SF(n,e,arguments.length>=2,!0))}function g2(...n){let e=Cl(n);return pt((t,i)=>{(e?kp(n,t,e):kp(n,t)).subscribe(i)})}function vi(n,e){return pt((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(ot(i,l=>{r?.unsubscribe();let c=0,d=o++;xn(n(l,d)).subscribe(r=ot(i,m=>i.next(e?e(l,m,d,c++):m),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function U1(n){return pt((e,t)=>{xn(n).subscribe(ot(t,()=>t.complete(),dg)),!t.closed&&e.subscribe(t)})}function Qn(n,e,t){let i=Ge(n)||e||t?{next:n,error:e,complete:t}:n;return i?pt((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(ot(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Or}function EF(n){let e=Pe(null);try{return n()}finally{Pe(e)}}var DF=J(F({},$c),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function AF(n){if(n.dirty=!1,n.hasRun&&!_p(n))return;n.hasRun=!0;let e=Hc(n);try{n.cleanup(),n.fn()}finally{yp(n,e)}}var G1="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ee=class extends Error{code;constructor(e,t){super(ks(e,t)),this.code=e}};function BX(n){return`NG0${Math.abs(n)}`}function ks(n,e){return`${BX(n)}${e?": "+e:""}`}var eu=globalThis;function Dt(n){for(let e in n)if(n[e]===Dt)return e;throw Error("")}function MF(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Aa(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Aa).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Q1(n,e){return n?e?`${n} ${e}`:n:e||""}var VX=Dt({__forward_ref__:Dt});function Pn(n){return n.__forward_ref__=Pn,n.toString=function(){return Aa(this())},n}function yi(n){return A2(n)?n():n}function A2(n){return typeof n=="function"&&n.hasOwnProperty(VX)&&n.__forward_ref__===Pn}function kF(n,e){n==null&&T2(e,n,null,"!=")}function T2(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(i==null?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}function te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function lr(n){return{providers:n.providers||[],imports:n.imports||[]}}function _g(n){return jX(n,Y1)}function I2(n){return _g(n)!==null}function jX(n,e){return n.hasOwnProperty(e)&&n[e]||null}function qX(n){let e=n?.[Y1]??null;return e||null}function y2(n){return n&&n.hasOwnProperty(H1)?n[H1]:null}var Y1=Dt({\u0275prov:Dt}),H1=Dt({\u0275inj:Dt}),le=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function M2(n){return n&&!!n.\u0275providers}var k2=Dt({\u0275cmp:Dt}),R2=Dt({\u0275dir:Dt}),N2=Dt({\u0275pipe:Dt}),P2=Dt({\u0275mod:Dt}),gg=Dt({\u0275fac:Dt}),tu=Dt({__NG_ELEMENT_ID__:Dt}),TF=Dt({__NG_ENV_ID__:Dt});function Uo(n){return typeof n=="string"?n:n==null?"":String(n)}function z1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Uo(n)}var O2=Dt({ngErrorCode:Dt}),RF=Dt({ngErrorMessage:Dt}),mg=Dt({ngTokenPath:Dt});function F2(n,e){return NF("",-200,e)}function Z1(n,e){throw new ee(-201,!1)}function UX(n,e){n[mg]??=[];let t=n[mg],i;typeof e=="object"&&"multi"in e&&e?.multi===!0?(kF(e.provide,"Token with multi: true should have a provide property"),i=z1(e.provide)):i=z1(e),t[0]!==i&&n[mg].unshift(i)}function $X(n,e){let t=n[mg],i=n[O2],r=n[RF]||n.message;return n.message=zX(r,i,t,e),n}function NF(n,e,t){let i=new ee(e,n);return i[O2]=e,i[RF]=n,t&&(i[mg]=t),i}function HX(n){return n[O2]}function zX(n,e,t=[],i=null){let r="";t&&t.length>1&&(r=` Path: ${t.join(" -> ")}.`);let o=i?` Source: ${i}.`:"";return ks(e,`${n}${o}${r}`)}var _2;function PF(){return _2}function $i(n){let e=_2;return _2=n,e}function L2(n,e,t){let i=_g(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;Z1(n,"Injector")}var WX={},Zc=WX,GX="__NG_DI_FLAG__",b2=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=Xc(t)||0;try{return this.injector.get(e,i&8?null:Zc,i)}catch(r){if(gp(r))return r;throw r}}};function QX(n,e=0){let t=u1();if(t===void 0)throw new ee(-203,!1);if(t===null)return L2(n,void 0,e);{let i=YX(e),r=t.retrieve(n,i);if(gp(r)){if(i.optional)return null;throw r}return r}}function be(n,e=0){return(PF()||QX)(yi(n),e)}function L(n,e){return be(n,Xc(e))}function Xc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function YX(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function C2(n){let e=[];for(let t=0;t<n.length;t++){let i=yi(n[t]);if(Array.isArray(i)){if(i.length===0)throw new ee(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=ZX(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(be(r,o))}else e.push(be(i))}return e}function ZX(n){return n[GX]}function wl(n,e){let t=n.hasOwnProperty(gg);return t?n[gg]:null}function OF(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function FF(n){return n.flat(Number.POSITIVE_INFINITY)}function X1(n,e){n.forEach(t=>Array.isArray(t)?X1(t,e):e(t))}function B2(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function bg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function LF(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function BF(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function J1(n,e,t){let i=Pp(n,e);return i>=0?n[i|1]=t:(i=~i,BF(n,i,e,t)),i}function K1(n,e){let t=Pp(n,e);if(t>=0)return n[t|1]}function Pp(n,e){return XX(n,e,1)}function XX(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var El={},Mi=[],Dl=new le(""),V2=new le("",-1),j2=new le(""),vg=class{get(e,t=Zc){if(t===Zc){let r=NF("",-201);throw r.name="\u0275NotFound",r}return t}};function q2(n){return n[P2]||null}function Ta(n){return n[k2]||null}function U2(n){return n[R2]||null}function VF(n){return n[N2]||null}function Al(n){return{\u0275providers:n}}function jF(...n){return{\u0275providers:$2(!0,n),\u0275fromNgModule:!0}}function $2(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return X1(e,s=>{let a=s;W1(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&qF(r,o),t}function qF(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];H2(r,o=>{e(o,i)})}}function W1(n,e,t,i){if(n=yi(n),!n)return!1;let r=null,o=y2(n),s=!o&&Ta(n);if(!o&&!s){let l=n.ngModule;if(o=y2(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)W1(c,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{X1(o.imports,d=>{W1(d,e,t,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&qF(c,e)}if(!a){let c=wl(r)||(()=>new r);e({provide:r,useFactory:c,deps:Mi},r),e({provide:j2,useValue:r,multi:!0},r),e({provide:Dl,useValue:()=>be(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=n;H2(l,d=>{e(d,c)})}}else return!1;return r!==n&&n.providers!==void 0}function H2(n,e){for(let t of n)M2(t)&&(t=t.\u0275providers),Array.isArray(t)?H2(t,e):e(t)}var JX=Dt({provide:String,useValue:Dt});function UF(n){return n!==null&&typeof n=="object"&&JX in n}function KX(n){return!!(n&&n.useExisting)}function eJ(n){return!!(n&&n.useFactory)}function Jc(n){return typeof n=="function"}function $F(n){return!!n.useClass}var Cg=new le(""),$1={},IF={},v2;function xg(){return v2===void 0&&(v2=new vg),v2}var hn=class{},Kc=class extends hn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,w2(e,s=>this.processProvider(s)),this.records.set(V2,Np(void 0,this)),r.has("environment")&&this.records.set(hn,Np(void 0,this));let o=this.records.get(Cg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(j2,Mi,{self:!0}))}retrieve(e,t){let i=Xc(t)||0;try{return this.get(e,Zc,i)}catch(r){if(gp(r))return r;throw r}}destroy(){hg(this),this._destroyed=!0;let e=Pe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return hg(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){hg(this);let t=Is(this),i=$i(void 0),r;try{return e()}finally{Is(t),$i(i)}}get(e,t=Zc,i){if(hg(this),e.hasOwnProperty(TF))return e[TF](this);let r=Xc(i),o,s=Is(this),a=$i(void 0);try{if(!(r&4)){let c=this.records.get(e);if(c===void 0){let d=oJ(e)&&_g(e);d&&this.injectableDefInScope(d)?c=Np(x2(e),$1):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let l=r&2?xg():this.parent;return t=r&8&&t===Zc?null:t,l.get(e,t)}catch(l){let c=HX(l);throw c===-200||c===-201?new ee(c,null):l}finally{$i(a),Is(s)}}resolveInjectorInitializers(){let e=Pe(null),t=Is(this),i=$i(void 0),r;try{let o=this.get(Dl,Mi,{self:!0});for(let s of o)s()}finally{Is(t),$i(i),Pe(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Aa(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=yi(e);let t=Jc(e)?e:yi(e&&e.provide),i=nJ(e);if(!Jc(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Np(void 0,$1,!0),r.factory=()=>C2(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=Pe(null);try{if(t.value===IF)throw F2(Aa(e));return t.value===$1&&(t.value=IF,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&rJ(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=yi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function x2(n){let e=_g(n),t=e!==null?e.factory:wl(n);if(t!==null)return t;if(n instanceof le)throw new ee(204,!1);if(n instanceof Function)return tJ(n);throw new ee(204,!1)}function tJ(n){if(n.length>0)throw new ee(204,!1);let t=qX(n);return t!==null?()=>t.factory(n):()=>new n}function nJ(n){if(UF(n))return Np(void 0,n.useValue);{let e=z2(n);return Np(e,$1)}}function z2(n,e,t){let i;if(Jc(n)){let r=yi(n);return wl(r)||x2(r)}else if(UF(n))i=()=>yi(n.useValue);else if(eJ(n))i=()=>n.useFactory(...C2(n.deps||[]));else if(KX(n))i=(r,o)=>be(yi(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=yi(n&&(n.useClass||n.provide));if(iJ(n))i=()=>new r(...C2(n.deps));else return wl(r)||x2(r)}return i}function hg(n){if(n.destroyed)throw new ee(205,!1)}function Np(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function iJ(n){return!!n.deps}function rJ(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function oJ(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function w2(n,e){for(let t of n)Array.isArray(t)?w2(t,e):t&&M2(t)?w2(t.\u0275providers,e):e(t)}function mn(n,e){let t;n instanceof Kc?(hg(n),t=n):t=new b2(n);let i,r=Is(t),o=$i(void 0);try{return e()}finally{Is(r),$i(o)}}function HF(){return PF()!==void 0||u1()!=null}var $o=0,Te=1,Le=2,Rn=3,co=4,Hi=5,nu=6,Op=7,gn=8,iu=9,Rs=10,Ft=11,Fp=12,W2=13,ru=14,zi=15,Tl=16,ou=17,Ns=18,wg=19,G2=20,Da=21,eb=22,Ia=23,Lr=24,su=25,Zt=26,zF=1,Q2=6,Il=7,Sg=8,au=9,Yn=10;function Ps(n){return Array.isArray(n)&&typeof n[zF]=="object"}function Ho(n){return Array.isArray(n)&&n[zF]===!0}function Y2(n){return(n.flags&4)!==0}function Ma(n){return n.componentOffset>-1}function Lp(n){return(n.flags&1)===1}function Os(n){return!!n.template}function Bp(n){return(n[Le]&512)!==0}function lu(n){return(n[Le]&256)===256}var Z2="svg",WF="math";function uo(n){for(;Array.isArray(n);)n=n[$o];return n}function X2(n,e){return uo(e[n])}function po(n,e){return uo(e[n.index])}function Eg(n,e){return n.data[e]}function tb(n,e){return n[e]}function J2(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function fo(n,e){let t=e[n];return Ps(t)?t:t[$o]}function GF(n){return(n[Le]&4)===4}function nb(n){return(n[Le]&128)===128}function QF(n){return Ho(n[Rn])}function ho(n,e){return e==null?null:n[e]}function K2(n){n[ou]=0}function eA(n){n[Le]&1024||(n[Le]|=1024,nb(n)&&Ml(n))}function YF(n,e){for(;n>0;)e=e[ru],n--;return e}function Dg(n){return!!(n[Le]&9216||n[Lr]?.dirty)}function ib(n){n[Rs].changeDetectionScheduler?.notify(8),n[Le]&64&&(n[Le]|=1024),Dg(n)&&Ml(n)}function Ml(n){n[Rs].changeDetectionScheduler?.notify(0);let e=Sl(n);for(;e!==null&&!(e[Le]&8192||(e[Le]|=8192,!nb(e)));)e=Sl(e)}function tA(n,e){if(lu(n))throw new ee(911,!1);n[Da]===null&&(n[Da]=[]),n[Da].push(e)}function ZF(n,e){if(n[Da]===null)return;let t=n[Da].indexOf(e);t!==-1&&n[Da].splice(t,1)}function Sl(n){let e=n[Rn];return Ho(e)?e[Rn]:e}function nA(n){return n[Op]??=[]}function iA(n){return n.cleanup??=[]}function XF(n,e,t,i){let r=nA(e);r.push(t),n.firstCreatePass&&iA(n).push(i,r.length-1)}var Qe={lFrame:lL(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ag=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(Ag||{}),sJ=0,S2=!1;function JF(){return Qe.lFrame.elementDepthCount}function KF(){Qe.lFrame.elementDepthCount++}function rA(){Qe.lFrame.elementDepthCount--}function rb(){return Qe.bindingsEnabled}function oA(){return Qe.skipHydrationRootTNode!==null}function sA(n){return Qe.skipHydrationRootTNode===n}function aA(){Qe.skipHydrationRootTNode=null}function Ee(){return Qe.lFrame.lView}function Xt(){return Qe.lFrame.tView}function S(n){return Qe.lFrame.contextLView=n,n[gn]}function E(n){return Qe.lFrame.contextLView=null,n}function On(){let n=lA();for(;n!==null&&n.type===64;)n=n.parent;return n}function lA(){return Qe.lFrame.currentTNode}function eL(){let n=Qe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Vp(n,e){let t=Qe.lFrame;t.currentTNode=n,t.isParent=e}function cA(){return Qe.lFrame.isParent}function uA(){Qe.lFrame.isParent=!1}function tL(){return Qe.lFrame.contextLView}function dA(n){T2("Must never be called in production mode"),sJ=n}function pA(){return S2}function jp(n){let e=S2;return S2=n,e}function qp(){let n=Qe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function fA(){return Qe.lFrame.bindingIndex}function nL(n){return Qe.lFrame.bindingIndex=n}function ka(){return Qe.lFrame.bindingIndex++}function Tg(n){let e=Qe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function iL(){return Qe.lFrame.inI18n}function rL(n,e){let t=Qe.lFrame;t.bindingIndex=t.bindingRootIndex=n,ob(e)}function oL(){return Qe.lFrame.currentDirectiveIndex}function ob(n){Qe.lFrame.currentDirectiveIndex=n}function sL(n){let e=Qe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function sb(){return Qe.lFrame.currentQueryIndex}function Ig(n){Qe.lFrame.currentQueryIndex=n}function aJ(n){let e=n[Te];return e.type===2?e.declTNode:e.type===1?n[Hi]:null}function hA(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=aJ(o),r===null||(o=o[ru],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=Qe.lFrame=aL();return i.currentTNode=e,i.lView=n,!0}function ab(n){let e=aL(),t=n[Te];Qe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function aL(){let n=Qe.lFrame,e=n===null?null:n.child;return e===null?lL(n):e}function lL(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function cL(){let n=Qe.lFrame;return Qe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var mA=cL;function lb(){let n=cL();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function uL(n){return(Qe.lFrame.contextLView=YF(n,Qe.lFrame.contextLView))[gn]}function zo(){return Qe.lFrame.selectedIndex}function kl(n){Qe.lFrame.selectedIndex=n}function Mg(){let n=Qe.lFrame;return Eg(n.tView,n.selectedIndex)}function Oe(){Qe.lFrame.currentNamespace=Z2}function Ue(){lJ()}function lJ(){Qe.lFrame.currentNamespace=null}function dL(){return Qe.lFrame.currentNamespace}var pL=!0;function cb(){return pL}function kg(n){pL=n}var cJ={elements:void 0};function ub(){return cJ}function E2(n,e=null,t=null,i){let r=gA(n,e,t,i);return r.resolveInjectorInitializers(),r}function gA(n,e=null,t=null,i,r=new Set){let o=[t||Mi,jF(n)];return i=i||(typeof n=="object"?void 0:Aa(n)),new Kc(o,e||xg(),i||null,r)}var Nn=class n{static THROW_IF_NOT_FOUND=Zc;static NULL=new vg;static create(e,t){if(Array.isArray(e))return E2({name:""},t,e,"");{let i=e.name??"";return E2({name:i},e.parent,e.providers,i)}}static \u0275prov=te({token:n,providedIn:"any",factory:()=>be(V2)});static __NG_ELEMENT_ID__=-1},dn=new le(""),cr=(()=>{class n{static __NG_ELEMENT_ID__=uJ;static __NG_ENV_ID__=t=>t}return n})(),yg=class extends cr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return lu(this._lView)}onDestroy(e){let t=this._lView;return tA(t,e),()=>ZF(t,e)}};function uJ(){return new yg(Ee())}var Fr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Br=new le("",{providedIn:"root",factory:()=>{let n=L(hn),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Fr),e.handleError(t))}}}),fL={provide:Dl,useValue:()=>void L(Fr),multi:!0};function vA(n){return typeof n=="function"&&n[Gn]!==void 0}function B(n,e){let[t,i,r]=t2(n,e?.equal),o=t,s=o[Gn];return o.set=i,o.update=r,o.asReadonly=yA.bind(o),o}function yA(){let n=this[Gn];if(n.readonlyFn===void 0){let e=()=>this();e[Gn]=n,n.readonlyFn=e}return n.readonlyFn}function _A(n){return vA(n)&&typeof n.set=="function"}var lo=class{},Rg=new le("",{providedIn:"root",factory:()=>!1});var bA=new le(""),db=new le("");var Up=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=dJ}return n})();function dJ(){return new Up(Ee(),On())}var Fs=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new gi(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new it(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ng=(()=>{class n{internalPendingTasks=L(Fs);scheduler=L(lo);errorHandler=L(Br);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})();function cu(...n){}var Pg=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>new D2})}return n})(),D2=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function zg(n){return{toString:n}.toString()}function vJ(n){return typeof n=="function"}var yb=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function UL(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var Yo=(()=>{let n=()=>$L;return n.ngInherit=!0,n})();function $L(n){return n.type.prototype.ngOnChanges&&(n.setInput=_J),yJ}function yJ(){let n=zL(this),e=n?.current;if(e){let t=n.previous;if(t===El)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function _J(n,e,t,i,r){let o=this.declaredInputs[i],s=zL(n)||bJ(n,{previous:El,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new yb(c&&c.currentValue,t,l===El),UL(n,e,r,t)}var HL="__ngSimpleChanges__";function zL(n){return n[HL]||null}function bJ(n,e){return n[HL]=e}var hL=[];var Mt=function(n,e=null,t){for(let i=0;i<hL.length;i++){let r=hL[i];r(n,e,t)}};function CJ(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=$L(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function WL(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function fb(n,e,t){GL(n,e,3,t)}function hb(n,e,t,i){(n[Le]&3)===t&&GL(n,e,t,i)}function CA(n,e){let t=n[Le];(t&3)===e&&(t&=16383,t+=1,n[Le]=t)}function GL(n,e,t,i){let r=i!==void 0?n[ou]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[ou]+=65536),(a<o||o==-1)&&(xJ(n,t,e,l),n[ou]=(n[ou]&4294901760)+l+2),l++}function mL(n,e){Mt(4,n,e);let t=Pe(null);try{e.call(n)}finally{Pe(t),Mt(5,n,e)}}function xJ(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[Le]>>14<n[ou]>>16&&(n[Le]&3)===e&&(n[Le]+=16384,mL(a,o)):mL(a,o)}var Hp=-1,pu=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function wJ(n){return(n.flags&8)!==0}function SJ(n){return(n.flags&16)!==0}function EJ(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];AJ(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function DJ(n){return n===3||n===4||n===6}function AJ(n){return n.charCodeAt(0)===64}function zp(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?gL(n,t,r,null,e[++i]):gL(n,t,r,null,null))}}return n}function gL(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function QL(n){return n!==Hp}function _b(n){return n&32767}function TJ(n){return n>>16}function bb(n,e){let t=TJ(n),i=e;for(;t>0;)i=i[ru],t--;return i}var RA=!0;function Cb(n){let e=RA;return RA=n,e}var IJ=256,YL=IJ-1,ZL=5,MJ=0,Ls={};function kJ(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(tu)&&(i=t[tu]),i==null&&(i=t[tu]=MJ++);let r=i&YL,o=1<<r;e.data[n+(r>>ZL)]|=o}function xb(n,e){let t=XL(n,e);if(t!==-1)return t;let i=e[Te];i.firstCreatePass&&(n.injectorIndex=e.length,xA(i.data,n),xA(e,null),xA(i.blueprint,null));let r=lT(n,e),o=n.injectorIndex;if(QL(r)){let s=_b(r),a=bb(r,e),l=a[Te].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function xA(n,e){n.push(0,0,0,0,0,0,0,0,e)}function XL(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function lT(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=n8(r),i===null)return Hp;if(t++,r=r[ru],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Hp}function NA(n,e,t){kJ(n,e,t)}function JL(n,e,t){if(t&8||n!==void 0)return n;Z1(e,"NodeInjector")}function KL(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[iu],o=$i(void 0);try{return r?r.get(e,i,t&8):L2(e,i,t&8)}finally{$i(o)}}return JL(i,e,t)}function e8(n,e,t,i=0,r){if(n!==null){if(e[Le]&2048&&!(i&2)){let s=OJ(n,e,t,i,Ls);if(s!==Ls)return s}let o=t8(n,e,t,i,Ls);if(o!==Ls)return o}return KL(e,t,i,r)}function t8(n,e,t,i,r){let o=NJ(t);if(typeof o=="function"){if(!hA(e,n,i))return i&1?JL(r,t,i):KL(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Z1(t);else return s}finally{mA()}}else if(typeof o=="number"){let s=null,a=XL(n,e),l=Hp,c=i&1?e[zi][Hi]:null;for((a===-1||i&4)&&(l=a===-1?lT(n,e):e[a+8],l===Hp||!yL(i,!1)?a=-1:(s=e[Te],a=_b(l),e=bb(l,e)));a!==-1;){let d=e[Te];if(vL(o,a,d.data)){let m=RJ(a,e,t,s,i,c);if(m!==Ls)return m}l=e[a+8],l!==Hp&&yL(i,e[Te].data[a+8]===c)&&vL(o,a,e)?(s=d,a=_b(l),e=bb(l,e)):a=-1}}return r}function RJ(n,e,t,i,r,o){let s=e[Te],a=s.data[n+8],l=i==null?Ma(a)&&RA:i!=s&&(a.type&3)!==0,c=r&1&&o===a,d=mb(a,s,t,l,c);return d!==null?Bg(e,s,d,a,r):Ls}function mb(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,d=o>>20,m=i?a:a+d,_=r?a+d:c;for(let y=m;y<_;y++){let w=s[y];if(y<l&&t===w||y>=l&&w.type===t)return y}if(r){let y=s[l];if(y&&Os(y)&&y.type===t)return l}return null}function Bg(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof pu){let a=o;if(a.resolving){let y=z1(s[t]);throw F2(y)}let l=Cb(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],d,m=a.injectImpl?$i(a.injectImpl):null,_=hA(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&CJ(t,s[t],e)}finally{m!==null&&$i(m),Cb(l),a.resolving=!1,mA()}}return o}function NJ(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(tu)?n[tu]:void 0;return typeof e=="number"?e>=0?e&YL:PJ:e}function vL(n,e,t){let i=1<<n;return!!(t[e+(n>>ZL)]&i)}function yL(n,e){return!(n&2)&&!(n&1&&e)}var du=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return e8(this._tNode,this._lView,e,Xc(i),t)}};function PJ(){return new du(On(),Ee())}function ki(n){return zg(()=>{let e=n.prototype.constructor,t=e[gg]||PA(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[gg]||PA(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function PA(n){return A2(n)?()=>{let e=PA(yi(n));return e&&e()}:wl(n)}function OJ(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[Le]&2048&&!Bp(s);){let a=t8(o,s,t,i|2,Ls);if(a!==Ls)return a;let l=o.parent;if(!l){let c=s[G2];if(c){let d=c.get(t,Ls,i);if(d!==Ls)return d}l=n8(s),s=s[ru]}o=l}return r}function n8(n){let e=n[Te],t=e.type;return t===2?e.declTNode:t===1?n[Hi]:null}function FJ(){return Yp(On(),Ee())}function Yp(n,e){return new Fn(po(n,e))}var Fn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=FJ}return n})();function i8(n){return n instanceof Fn?n.nativeElement:n}function LJ(){return this._results[Symbol.iterator]()}var wb=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Cn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=FF(e);(this._changesDetected=!OF(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=LJ};function r8(n){return(n.flags&128)===128}var cT=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(cT||{}),o8=new Map,BJ=0;function VJ(){return BJ++}function jJ(n){o8.set(n[wg],n)}function OA(n){o8.delete(n[wg])}var _L="__ngContext__";function Wp(n,e){Ps(e)?(n[_L]=e[wg],jJ(e)):n[_L]=e}function s8(n){return l8(n[Fp])}function a8(n){return l8(n[co])}function l8(n){for(;n!==null&&!Ho(n);)n=n[co];return n}var FA;function uT(n){FA=n}function c8(){if(FA!==void 0)return FA;if(typeof document<"u")return document;throw new ee(210,!1)}var Vb=new le("",{providedIn:"root",factory:()=>qJ}),qJ="ng",jb=new le(""),Zp=new le("",{providedIn:"platform",factory:()=>"unknown"});var qb=new le("",{providedIn:"root",factory:()=>c8().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var UJ="h",$J="b";var u8="r";var d8="di";var p8=!1,f8=new le("",{providedIn:"root",factory:()=>p8});var dT=new le("");var HJ=(n,e,t,i)=>{};function zJ(n,e,t,i){HJ(n,e,t,i)}function Ub(n){return(n.flags&32)===32}var WJ=()=>null;function h8(n,e,t=!1){return WJ(n,e,t)}function m8(n,e){let t=n.contentQueries;if(t!==null){let i=Pe(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];Ig(o),a.contentQueries(2,e[s],s)}}}finally{Pe(i)}}}function LA(n,e,t){Ig(0);let i=Pe(null);try{e(n,t)}finally{Pe(i)}}function pT(n,e,t){if(Y2(e)){let i=Pe(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Pe(i)}}}var Ra=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Ra||{});var Sb=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${G1})`}};function Wg(n){return n instanceof Sb?n.changingThisBreaksApplicationSecurity:n}function g8(n,e){let t=v8(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${G1})`)}return t===e}function v8(n){return n instanceof Sb&&n.getTypeName()||null}var GJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function y8(n){return n=String(n),n.match(GJ)?n:"unsafe:"+n}var fT=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(fT||{});function dr(n){let e=QJ();return e?e.sanitize(fT.URL,n)||"":g8(n,"URL")?Wg(n):y8(Uo(n))}function QJ(){let n=Ee();return n&&n[Rs].sanitizer}var YJ=/^>|^->|<!--|-->|--!>|<!-$/g,ZJ=/(<|>)/g,XJ="\u200B$1\u200B";function JJ(n){return n.replace(YJ,e=>e.replace(ZJ,XJ))}function hT(n){return n.ownerDocument}function _8(n){return n instanceof Function?n():n}function KJ(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var b8="ng-template";function eK(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&KJ(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(mT(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function mT(n){return n.type===4&&n.value!==b8}function tK(n,e,t){let i=n.type===4&&!t?b8:n.value;return e===i}function nK(n,e,t){let i=4,r=n.attrs,o=r!==null?oK(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Wo(i)&&!Wo(l))return!1;if(s&&Wo(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!tK(n,l,t)||l===""&&e.length===1){if(Wo(i))return!1;s=!0}}else if(i&8){if(r===null||!eK(n,r,l,t)){if(Wo(i))return!1;s=!0}}else{let c=e[++a],d=iK(l,r,mT(n),t);if(d===-1){if(Wo(i))return!1;s=!0;continue}if(c!==""){let m;if(d>o?m="":m=r[d+1].toLowerCase(),i&2&&c!==m){if(Wo(i))return!1;s=!0}}}}return Wo(i)||s}function Wo(n){return(n&1)===0}function iK(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return sK(e,n)}function C8(n,e,t=!1){for(let i=0;i<e.length;i++)if(nK(n,e[i],t))return!0;return!1}function rK(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function oK(n){for(let e=0;e<n.length;e++){let t=n[e];if(DJ(t))return e}return n.length}function sK(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function aK(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function bL(n,e){return n?":not("+e.trim()+")":e}function lK(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Wo(s)&&(e+=bL(o,r),r=""),i=s,o=o||!Wo(i);t++}return r!==""&&(e+=bL(o,r)),e}function cK(n){return n.map(lK).join(",")}function uK(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Wo(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Zn={};function dK(n,e){return n.createText(e)}function pK(n,e,t){n.setValue(e,t)}function fK(n,e){return n.createComment(JJ(e))}function x8(n,e,t){return n.createElement(e,t)}function Eb(n,e,t,i,r){n.insertBefore(e,t,i,r)}function w8(n,e,t){n.appendChild(e,t)}function CL(n,e,t,i,r){i!==null?Eb(n,e,t,i,r):w8(n,e,t)}function S8(n,e,t){n.removeChild(null,e,t)}function hK(n,e,t){n.setAttribute(e,"style",t)}function mK(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function E8(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&EJ(n,e,i),r!==null&&mK(n,e,r),o!==null&&hK(n,e,o)}function gT(n,e,t,i,r,o,s,a,l,c,d){let m=Zt+i,_=m+r,y=gK(m,_),w=typeof c=="function"?c():c;return y[Te]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:d}}function gK(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Zn);return t}function vK(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=gT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function vT(n,e,t,i,r,o,s,a,l,c,d){let m=e.blueprint.slice();return m[$o]=r,m[Le]=i|4|128|8|64|1024,(c!==null||n&&n[Le]&2048)&&(m[Le]|=2048),K2(m),m[Rn]=m[ru]=n,m[gn]=t,m[Rs]=s||n&&n[Rs],m[Ft]=a||n&&n[Ft],m[iu]=l||n&&n[iu]||null,m[Hi]=o,m[wg]=VJ(),m[nu]=d,m[G2]=c,m[zi]=e.type==2?n[zi]:m,m}function yK(n,e,t){let i=po(e,n),r=vK(t),o=n[Rs].rendererFactory,s=yT(n,vT(n,r,null,D8(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function D8(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function A8(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function yT(n,e){return n[Fp]?n[W2][co]=e:n[Fp]=e,n[W2]=e,e}function u(n=1){T8(Xt(),Ee(),zo()+n,!1)}function T8(n,e,t,i){if(!i)if((e[Le]&3)===3){let o=n.preOrderCheckHooks;o!==null&&fb(e,o,t)}else{let o=n.preOrderHooks;o!==null&&hb(e,o,0,t)}kl(t)}var $b=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})($b||{});function BA(n,e,t,i){let r=Pe(null);try{let[o,s,a]=n.inputs[t],l=null;(s&$b.SignalBased)!==0&&(l=e[o][Gn]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,o):UL(e,l,o,i)}finally{Pe(r)}}var Qo=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Qo||{}),_K;function _T(n,e){return _K(n,e)}function $p(n,e,t,i,r){if(i!=null){let o,s=!1;Ho(i)?o=i:Ps(i)&&(s=!0,i=i[$o]);let a=uo(i);n===0&&t!==null?r==null?w8(e,t,a):Eb(e,t,a,r||null,!0):n===1&&t!==null?Eb(e,t,a,r||null,!0):n===2?S8(e,a,s):n===3&&e.destroyNode(a),o!=null&&IK(e,n,o,t,r)}}function bK(n,e){I8(n,e),e[$o]=null,e[Hi]=null}function CK(n,e,t,i,r,o){i[$o]=r,i[Hi]=e,zb(n,i,t,1,r,o)}function I8(n,e){e[Rs].changeDetectionScheduler?.notify(9),zb(n,e,e[Ft],2,null,null)}function xK(n){let e=n[Fp];if(!e)return wA(n[Te],n);for(;e;){let t=null;if(Ps(e))t=e[Fp];else{let i=e[Yn];i&&(t=i)}if(!t){for(;e&&!e[co]&&e!==n;)Ps(e)&&wA(e[Te],e),e=e[Rn];e===null&&(e=n),Ps(e)&&wA(e[Te],e),t=e&&e[co]}e=t}}function bT(n,e){let t=n[au],i=t.indexOf(e);t.splice(i,1)}function Hb(n,e){if(lu(e))return;let t=e[Ft];t.destroyNode&&zb(n,e,t,3,null,null),xK(e)}function wA(n,e){if(lu(e))return;let t=Pe(null);try{e[Le]&=-129,e[Le]|=256,e[Lr]&&zc(e[Lr]),SK(n,e),wK(n,e),e[Te].type===1&&e[Ft].destroy();let i=e[Tl];if(i!==null&&Ho(e[Rn])){i!==e[Rn]&&bT(i,e);let r=e[Ns];r!==null&&r.detachView(n)}OA(e)}finally{Pe(t)}}function wK(n,e){let t=n.cleanup,i=e[Op];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[Op]=null);let r=e[Da];if(r!==null){e[Da]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[Ia];if(o!==null){e[Ia]=null;for(let s of o)s.destroy()}}function SK(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof pu)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Mt(4,a,l);try{l.call(a)}finally{Mt(5,a,l)}}else{Mt(4,r,o);try{o.call(r)}finally{Mt(5,r,o)}}}}}function M8(n,e,t){return EK(n,e.parent,t)}function EK(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[$o];if(Ma(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===Ra.None||r===Ra.Emulated)return null}return po(i,t)}function k8(n,e,t){return AK(n,e,t)}function DK(n,e,t){return n.type&40?po(n,t):null}var AK=DK,xL;function CT(n,e,t,i){let r=M8(n,i,e),o=e[Ft],s=i.parent||e[Hi],a=k8(s,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)CL(o,r,t[l],a,!1);else CL(o,r,t,a,!1);xL!==void 0&&xL(o,i,e,t,r)}function Og(n,e){if(e!==null){let t=e.type;if(t&3)return po(e,n);if(t&4)return VA(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Og(n,i);{let r=n[e.index];return Ho(r)?VA(-1,r):uo(r)}}else{if(t&128)return Og(n,e.next);if(t&32)return _T(e,n)()||uo(n[e.index]);{let i=R8(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Sl(n[zi]);return Og(r,i)}else return Og(n,e.next)}}}return null}function R8(n,e){if(e!==null){let i=n[zi][Hi],r=e.projection;return i.projection[r]}return null}function VA(n,e){let t=Yn+n+1;if(t<e.length){let i=e[t],r=i[Te].firstChild;if(r!==null)return Og(i,r)}return e[Il]}function xT(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&e===0&&(a&&Wp(uo(a),i),t.flags|=2),!Ub(t))if(l&8)xT(n,e,t.child,i,r,o,!1),$p(e,n,r,a,o);else if(l&32){let c=_T(t,i),d;for(;d=c();)$p(e,n,r,d,o);$p(e,n,r,a,o)}else l&16?N8(n,e,i,t,r,o):$p(e,n,r,a,o);t=s?t.projectionNext:t.next}}function zb(n,e,t,i,r,o){xT(t,i,n.firstChild,e,r,o,!1)}function TK(n,e,t){let i=e[Ft],r=M8(n,t,e),o=t.parent||e[Hi],s=k8(o,t,e);N8(i,0,e,t,r,s)}function N8(n,e,t,i,r,o){let s=t[zi],l=s[Hi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];$p(e,n,r,d,o)}else{let c=l,d=s[Rn];r8(i)&&(c.flags|=128),xT(n,e,c,d,r,o,!0)}}function IK(n,e,t,i,r){let o=t[Il],s=uo(t);o!==s&&$p(e,n,i,o,r);for(let a=Yn;a<t.length;a++){let l=t[a];zb(l[Te],l,n,e,i,o)}}function MK(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Qo.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Qo.Important),n.setStyle(t,i,r,o))}}function P8(n,e,t,i,r){let o=zo(),s=i&2;try{kl(-1),s&&e.length>Zt&&T8(n,e,Zt,!1),Mt(s?2:0,r,t),t(i,r)}finally{kl(o),Mt(s?3:1,r,t)}}function Wb(n,e,t){FK(n,e,t),(t.flags&64)===64&&LK(n,e,t)}function Gg(n,e,t=po){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function kK(n,e,t,i){let o=i.get(f8,p8)||t===Ra.ShadowDom,s=n.selectRootElement(e,o);return RK(s),s}function RK(n){NK(n)}var NK=()=>null;function PK(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function O8(n,e,t,i,r,o){let s=e[Te];if(Gb(n,s,e,t,i)){Ma(n)&&F8(e,n.index);return}n.type&3&&(t=PK(t)),OK(n,e,t,i,r,o)}function OK(n,e,t,i,r,o){if(n.type&3){let s=po(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function F8(n,e){let t=fo(e,n);t[Le]&16||(t[Le]|=64)}function FK(n,e,t){let i=t.directiveStart,r=t.directiveEnd;Ma(t)&&yK(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||xb(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],l=Bg(e,n,s,t);if(Wp(l,e),o!==null&&jK(e,s-i,l,a,t,o),Os(a)){let c=fo(t.index,e);c[gn]=Bg(e,n,s,t)}}}function LK(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=oL();try{kl(o);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];ob(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&BK(l,c)}}finally{kl(-1),ob(s)}}function BK(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function wT(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];C8(e,o.selectors,!1)&&(i??=[],Os(o)?i.unshift(o):i.push(o))}return i}function VK(n,e,t,i,r,o){let s=po(n,e);L8(e[Ft],s,o,n.value,t,i,r)}function L8(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Uo(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function jK(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];BA(i,t,l,c)}}function ST(n,e,t,i,r){let o=Zt+t,s=e[Te],a=r(s,e,n,i,t);e[o]=a,Vp(n,!0);let l=n.type===2;return l?(E8(e[Ft],a,n),(JF()===0||Lp(n))&&Wp(a,e),KF()):Wp(a,e),cb()&&(!l||!Ub(n))&&CT(s,e,a,n),n}function ET(n){let e=n;return cA()?uA():(e=e.parent,Vp(e,!1)),e}function qK(n,e){let t=n[iu];if(!t)return;let i;try{i=t.get(Br,null)}catch{i=null}i?.(e)}function Gb(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],m=e.data[c];BA(m,t[c],d,r),a=!0}if(o)for(let l of o){let c=t[l],d=e.data[l];BA(d,c,i,r),a=!0}return a}function UK(n,e){let t=fo(e,n),i=t[Te];$K(i,t);let r=t[$o];r!==null&&t[nu]===null&&(t[nu]=h8(r,t[iu])),Mt(18),DT(i,t,t[gn]),Mt(19,t[gn])}function $K(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function DT(n,e,t){ab(e);try{let i=n.viewQuery;i!==null&&LA(1,i,t);let r=n.template;r!==null&&P8(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ns]?.finishViewCreation(n),n.staticContentQueries&&m8(n,e),n.staticViewQueries&&LA(2,n.viewQuery,t);let o=n.components;o!==null&&HK(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Le]&=-5,lb()}}function HK(n,e){for(let t=0;t<e.length;t++)UK(n,e[t])}function Qg(n,e,t,i){let r=Pe(null);try{let o=e.tView,a=n[Le]&4096?4096:16,l=vT(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[Tl]=c;let d=n[Ns];return d!==null&&(l[Ns]=d.createEmbeddedView(o)),DT(o,l,t),l}finally{Pe(r)}}function Gp(n,e){return!e||e.firstChild===null||r8(n)}var wL=!1,zK=new le("");function Vg(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(uo(o)),Ho(o)&&B8(o,i);let s=t.type;if(s&8)Vg(n,e,t.child,i);else if(s&32){let a=_T(t,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=R8(e,t);if(Array.isArray(a))i.push(...a);else{let l=Sl(e[zi]);Vg(l[Te],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function B8(n,e){for(let t=Yn;t<n.length;t++){let i=n[t],r=i[Te].firstChild;r!==null&&Vg(i[Te],i,r,e)}n[Il]!==n[$o]&&e.push(n[Il])}function V8(n){if(n[su]!==null){for(let e of n[su])e.impl.addSequence(e);n[su].length=0}}var j8=[];function WK(n){return n[Lr]??GK(n)}function GK(n){let e=j8.pop()??Object.create(YK);return e.lView=n,e}function QK(n){n.lView[Lr]!==n&&(n.lView=null,j8.push(n))}var YK=J(F({},$c),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ml(n.lView)},consumerOnSignalRead(){this.lView[Lr]=this}});function ZK(n){let e=n[Lr]??Object.create(XK);return e.lView=n,e}var XK=J(F({},$c),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Sl(n.lView);for(;e&&!q8(e[Te]);)e=Sl(e);e&&eA(e)},consumerOnSignalRead(){this.lView[Lr]=this}});function q8(n){return n.type!==2}function U8(n){if(n[Ia]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[Ia])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[Le]&8192)}}var JK=100;function AT(n,e=0){let i=n[Rs].rendererFactory,r=!1;r||i.begin?.();try{KK(n,e)}finally{r||i.end?.()}}function KK(n,e){let t=pA();try{jp(!0),jA(n,e);let i=0;for(;Dg(n);){if(i===JK)throw new ee(103,!1);i++,jA(n,1)}}finally{jp(t)}}function $8(n,e){dA(e?Ag.Exhaustive:Ag.OnlyDirtyViews);try{AT(n)}finally{dA(Ag.Off)}}function eee(n,e,t,i){if(lu(e))return;let r=e[Le],o=!1,s=!1;ab(e);let a=!0,l=null,c=null;o||(q8(n)?(c=WK(e),l=Hc(c)):g1()===null?(a=!1,c=ZK(e),l=Hc(c)):e[Lr]&&(zc(e[Lr]),e[Lr]=null));try{K2(e),nL(n.bindingStartIndex),t!==null&&P8(n,e,t,2,i);let d=(r&3)===3;if(!o)if(d){let y=n.preOrderCheckHooks;y!==null&&fb(e,y,null)}else{let y=n.preOrderHooks;y!==null&&hb(e,y,0,null),CA(e,0)}if(s||tee(e),U8(e),H8(e,0),n.contentQueries!==null&&m8(n,e),!o)if(d){let y=n.contentCheckHooks;y!==null&&fb(e,y)}else{let y=n.contentHooks;y!==null&&hb(e,y,1),CA(e,1)}iee(n,e);let m=n.components;m!==null&&W8(e,m,0);let _=n.viewQuery;if(_!==null&&LA(2,_,i),!o)if(d){let y=n.viewCheckHooks;y!==null&&fb(e,y)}else{let y=n.viewHooks;y!==null&&hb(e,y,2),CA(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[eb]){for(let y of e[eb])y();e[eb]=null}o||(V8(e),e[Le]&=-73)}catch(d){throw o||Ml(e),d}finally{c!==null&&(yp(c,l),a&&QK(c)),lb()}}function H8(n,e){for(let t=s8(n);t!==null;t=a8(t))for(let i=Yn;i<t.length;i++){let r=t[i];z8(r,e)}}function tee(n){for(let e=s8(n);e!==null;e=a8(e)){if(!(e[Le]&2))continue;let t=e[au];for(let i=0;i<t.length;i++){let r=t[i];eA(r)}}}function nee(n,e,t){Mt(18);let i=fo(e,n);z8(i,t),Mt(19,i[gn])}function z8(n,e){nb(n)&&jA(n,e)}function jA(n,e){let i=n[Te],r=n[Le],o=n[Lr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&_p(o)),s||=!1,o&&(o.dirty=!1),n[Le]&=-9217,s)eee(i,n,i.template,n[gn]);else if(r&8192){let a=Pe(null);try{U8(n),H8(n,1);let l=i.components;l!==null&&W8(n,l,1),V8(n)}finally{Pe(a)}}}function W8(n,e,t){for(let i=0;i<e.length;i++)nee(n,e[i],t)}function iee(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)kl(~r);else{let o=r,s=t[++i],a=t[++i];rL(s,o);let l=e[o];Mt(24,l),a(2,l),Mt(25,l)}}}finally{kl(-1)}}function TT(n,e){let t=pA()?64:1088;for(n[Rs].changeDetectionScheduler?.notify(e);n;){n[Le]|=t;let i=Sl(n);if(Bp(n)&&!i)return n;n=i}return null}function G8(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Q8(n,e){let t=Yn+e;if(t<n.length)return n[t]}function Yg(n,e,t,i=!0){let r=e[Te];if(ree(r,e,n,t),i){let s=VA(t,n),a=e[Ft],l=a.parentNode(n[Il]);l!==null&&CK(r,n[Hi],a,e,l,s)}let o=e[nu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Y8(n,e){let t=jg(n,e);return t!==void 0&&Hb(t[Te],t),t}function jg(n,e){if(n.length<=Yn)return;let t=Yn+e,i=n[t];if(i){let r=i[Tl];r!==null&&r!==n&&bT(r,i),e>0&&(n[t-1][co]=i[co]);let o=bg(n,Yn+e);bK(i[Te],i);let s=o[Ns];s!==null&&s.detachView(o[Te]),i[Rn]=null,i[co]=null,i[Le]&=-129}return i}function ree(n,e,t,i){let r=Yn+i,o=t.length;i>0&&(t[r-1][co]=e),i<o-Yn?(e[co]=t[r],B2(t,Yn+i,e)):(t.push(e),e[co]=null),e[Rn]=t;let s=e[Tl];s!==null&&t!==s&&Z8(s,e);let a=e[Ns];a!==null&&a.insertView(n),ib(e),e[Le]|=128}function Z8(n,e){let t=n[au],i=e[Rn];if(Ps(i))n[Le]|=2;else{let r=i[Rn][zi];e[zi]!==r&&(n[Le]|=2)}t===null?n[au]=[e]:t.push(e)}var Rl=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Te];return Vg(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return lu(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rn];if(Ho(e)){let t=e[Sg],i=t?t.indexOf(this):-1;i>-1&&(jg(e,i),bg(t,i))}this._attachedToViewContainer=!1}Hb(this._lView[Te],this._lView)}onDestroy(e){tA(this._lView,e)}markForCheck(){TT(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Le]&=-129}reattach(){ib(this._lView),this._lView[Le]|=128}detectChanges(){this._lView[Le]|=1024,AT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bp(this._lView),t=this._lView[Tl];t!==null&&!e&&bT(t,this._lView),I8(this._lView[Te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let t=Bp(this._lView),i=this._lView[Tl];i!==null&&!t&&Z8(i,this._lView),ib(this._lView)}};var Na=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=oee;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=Qg(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Rl(o)}}return n})();function oee(){return IT(On(),Ee())}function IT(n,e){return n.type&4?new Na(e,n,Yp(n,e)):null}function Xp(n,e,t,i,r){let o=n.data[e];if(o===null)o=see(n,e,t,i,r),iL()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=eL();o.injectorIndex=s===null?-1:s.injectorIndex}return Vp(o,!0),o}function see(n,e,t,i,r){let o=lA(),s=cA(),a=s?o:o&&o.parent,l=n.data[e]=lee(n,a,t,e,i,r);return aee(n,l,o,s),l}function aee(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function lee(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return oA()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var SDe=new RegExp(`^(\\d+)*(${$J}|${UJ})*(.*)`);function cee(n){let e=n[Q2]??[],i=n[Rn][Ft],r=[];for(let o of e)o.data[d8]!==void 0?r.push(o):uee(o,i);n[Q2]=r}function uee(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[u8];for(;t<r;){let o=i.nextSibling;S8(e,i,!1),i=o,t++}}}var dee=()=>null,pee=()=>null;function Db(n,e){return dee(n,e)}function X8(n,e,t){return pee(n,e,t)}var J8=class{},Qb=class{},qA=class{resolveComponentFactory(e){throw new ee(917,!1)}},Zg=class{static NULL=new qA},fu=class{},mo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>fee()}return n})();function fee(){let n=Ee(),e=On(),t=fo(e.index,n);return(Ps(t)?t:n)[Ft]}var K8=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>null})}return n})();var gb={},UA=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,gb,i);return r!==gb||t===gb?r:this.parentInjector.get(e,t,i)}};function Ab(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Q1(r,a);else if(o==2){let l=a,c=e[++s];i=Q1(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function we(n,e=0){let t=Ee();if(t===null)return be(n,e);let i=On();return e8(i,t,yi(n),e)}function MT(){let n="invalid";throw new Error(n)}function eB(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}gee(n,e,t,a,o,l,c)}o!==null&&i!==null&&hee(t,i,o)}function hee(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new ee(-301,!1);i.push(e[r],o)}}function mee(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function gee(n,e,t,i,r,o,s){let a=i.length,l=!1;for(let _=0;_<a;_++){let y=i[_];!l&&Os(y)&&(l=!0,mee(n,t,_)),NA(xb(t,e),n,y.type)}xee(t,n.data.length,a);for(let _=0;_<a;_++){let y=i[_];y.providersResolver&&y.providersResolver(y)}let c=!1,d=!1,m=A8(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let _=0;_<a;_++){let y=i[_];if(t.mergedAttrs=zp(t.mergedAttrs,y.hostAttrs),yee(n,t,e,m,y),Cee(m,y,r),s!==null&&s.has(y)){let[T,I]=s.get(y);t.directiveToIndex.set(y.type,[m,T+t.directiveStart,I+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,m);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let w=y.type.prototype;!c&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),m++}vee(n,t,o)}function vee(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))SL(0,e,r,i),SL(1,e,r,i),DL(e,i,!1);else{let o=t.get(r);EL(0,e,o,i),EL(1,e,o,i),DL(e,i,!0)}}}function SL(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),tB(e,o)}}function EL(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),tB(e,s)}}function tB(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function DL(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||mT(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let c=r[l];for(let d of c)if(d===e){s??=[],s.push(l,i[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function yee(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=wl(r.type,!0)),s=new pu(o,Os(r),we,null);n.blueprint[i]=s,t[i]=s,_ee(n,e,i,A8(n,t,r.hostVars,Zn),r)}function _ee(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;bee(s)!=a&&s.push(a),s.push(t,i,o)}}function bee(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Cee(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Os(e)&&(t[""]=n)}}function xee(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function kT(n,e,t,i,r,o,s,a){let l=e[Te],c=l.consts,d=ho(c,s),m=Xp(l,n,t,i,d);return o&&eB(l,e,m,ho(c,a),r),m.mergedAttrs=zp(m.mergedAttrs,m.attrs),m.attrs!==null&&Ab(m,m.attrs,!1),m.mergedAttrs!==null&&Ab(m,m.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,m),m}function RT(n,e){WL(n,e),Y2(e)&&n.queries.elementEnd(e)}function wee(n,e,t,i,r,o){let s=e.consts,a=ho(s,r),l=Xp(e,n,t,i,a);if(l.mergedAttrs=zp(l.mergedAttrs,l.attrs),o!=null){let c=ho(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&Ab(l,l.attrs,!1),l.mergedAttrs!==null&&Ab(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function NT(n){return Yb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function nB(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function Yb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Zb(n,e,t){return n[e]=t}function See(n,e){return n[e]}function ur(n,e,t){if(t===Zn)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function PT(n,e,t,i){let r=ur(n,e,t);return ur(n,e+1,i)||r}function iB(n,e,t,i,r){let o=PT(n,e,t,i);return ur(n,e+2,r)||o}function vb(n,e,t){return function i(r){let o=Ma(n)?fo(n.index,e):e;TT(o,5);let s=e[gn],a=AL(e,s,t,r),l=i.__ngNextListenerFn__;for(;l;)a=AL(e,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function AL(n,e,t,i){let r=Pe(null);try{return Mt(6,e,t),t(i)!==!1}catch(o){return qK(n,o),!1}finally{Mt(7,e,t),Pe(r)}}function rB(n,e,t,i,r,o,s,a){let l=Lp(n),c=!1,d=null;if(!i&&l&&(d=Eee(e,t,o,n.index)),d!==null){let m=d.__ngLastListenerFn__||d;m.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let m=po(n,t),_=i?i(m):m;zJ(t,_,o,a);let y=r.listen(_,o,a),w=i?T=>i(uo(T[n.index])):n.index;oB(w,e,t,o,a,y,!1)}return c}function Eee(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Op],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function oB(n,e,t,i,r,o,s){let a=e.firstCreatePass?iA(e):null,l=nA(t),c=l.length;l.push(r,o),a&&a.push(i,n,c,(c+1)*(s?-1:1))}function TL(n,e,t,i,r,o){let s=e[t],a=e[Te],c=a.data[t].outputs[i],m=s[c].subscribe(o);oB(n.index,a,e,r,o,m,!0)}var $A=Symbol("BINDING");var Tb=class extends Zg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ta(e);return new hu(t,this.ngModule)}};function Dee(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&$b.SignalBased)!==0};return r&&(o.transform=r),o})}function Aee(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Tee(n,e,t){let i=e instanceof hn?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new UA(t,i):t}function Iee(n){let e=n.get(fu,null);if(e===null)throw new ee(407,!1);let t=n.get(K8,null),i=n.get(lo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function Mee(n,e){let t=sB(n);return x8(e,t,t==="svg"?Z2:t==="math"?WF:null)}function sB(n){return(n.selectors[0][0]||"div").toLowerCase()}var hu=class extends Qb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Dee(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Aee(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=cK(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){Mt(22);let a=Pe(null);try{let l=this.componentDef,c=kee(i,l,s,o),d=Tee(l,r||this.ngModule,e),m=Iee(d),_=m.rendererFactory.createRenderer(null,l),y=i?kK(_,i,l.encapsulation,d):Mee(l,_),w=s?.some(IL)||o?.some(M=>typeof M!="function"&&M.bindings.some(IL)),T=vT(null,c,null,512|D8(l),null,null,m,_,d,null,h8(y,d,!0));T[Zt]=y,ab(T);let I=null;try{let M=kT(Zt,T,2,"#host",()=>c.directiveRegistry,!0,0);y&&(E8(_,y,M),Wp(y,T)),Wb(c,T,M),pT(c,M,T),RT(c,M),t!==void 0&&Nee(M,this.ngContentSelectors,t),I=fo(M.index,T),T[gn]=I[gn],DT(c,T,null)}catch(M){throw I!==null&&OA(I),OA(T),M}finally{Mt(23),lb()}return new Ib(this.componentType,T,!!w)}finally{Pe(a)}}};function kee(n,e,t,i){let r=n?["ng-version","20.2.4"]:uK(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[$A].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(i)for(let d=0;d<i.length;d++){let m=i[d];if(typeof m!="function")for(let _ of m.bindings){a+=_[$A].requiredVars;let y=d+1;_.create&&(_.targetIdx=y,(o??=[]).push(_)),_.update&&(_.targetIdx=y,(s??=[]).push(_))}}let l=[e];if(i)for(let d of i){let m=typeof d=="function"?d:d.type,_=U2(m);l.push(_)}return gT(0,null,Ree(o,s),1,a,l,null,null,null,[r],null)}function Ree(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function IL(n){let e=n[$A].kind;return e==="input"||e==="twoWay"}var Ib=class extends J8{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=Eg(t[Te],Zt),this.location=Yp(this._tNode,t),this.instance=fo(this._tNode.index,t)[gn],this.hostView=this.changeDetectorRef=new Rl(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=Gb(i,r[Te],r,e,t);this.previousInputValues.set(e,t);let s=fo(i.index,r);TT(s,1)}get injector(){return new du(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Nee(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Zo=(()=>{class n{static __NG_ELEMENT_ID__=Pee}return n})();function Pee(){let n=On();return lB(n,Ee())}var Oee=Zo,aB=class extends Oee{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Yp(this._hostTNode,this._hostLView)}get injector(){return new du(this._hostTNode,this._hostLView)}get parentInjector(){let e=lT(this._hostTNode,this._hostLView);if(QL(e)){let t=bb(e,this._hostLView),i=_b(e),r=t[Te].data[i+8];return new du(r,t)}else return new du(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ML(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yn}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Db(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Gp(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let l=e&&!vJ(e),c;if(l)c=t;else{let I=t||{};c=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,a=I.bindings}let d=l?e:new hu(Ta(e)),m=i||this.parentInjector;if(!o&&d.ngModule==null){let M=(l?m:this.parentInjector).get(hn,null);M&&(o=M)}let _=Ta(d.componentType??{}),y=Db(this._lContainer,_?.id??null),w=y?.firstChild??null,T=d.create(m,r,w,o,s,a);return this.insertImpl(T.hostView,c,Gp(this._hostTNode,y)),T}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(QF(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Rn],c=new aB(l,l[Hi],l[Rn]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Yg(s,r,o,i),e.attachToViewContainerRef(),B2(SA(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ML(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=jg(this._lContainer,t);i&&(bg(SA(this._lContainer),t),Hb(i[Te],i))}detach(e){let t=this._adjustIndex(e,-1),i=jg(this._lContainer,t);return i&&bg(SA(this._lContainer),t)!=null?new Rl(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function ML(n){return n[Sg]}function SA(n){return n[Sg]||(n[Sg]=[])}function lB(n,e){let t,i=e[n.index];return Ho(i)?t=i:(t=G8(i,e,null,n),e[n.index]=t,yT(e,t)),Lee(t,e,n,i),new aB(t,n,e)}function Fee(n,e){let t=n[Ft],i=t.createComment(""),r=po(e,n),o=t.parentNode(r);return Eb(t,o,i,t.nextSibling(r),!1),i}var Lee=jee,Bee=()=>!1;function Vee(n,e,t){return Bee(n,e,t)}function jee(n,e,t,i){if(n[Il])return;let r;t.type&8?r=uo(i):r=Fee(e,t),n[Il]=r}var HA=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},zA=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)FT(e,t).matches!==null&&this.queries[t].setDirty()}},Mb=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=Wee(e):this.predicate=e}},WA=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},GA=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,qee(t,o)),this.matchTNodeWithReadOption(e,t,mb(t,e,o,!1,!1))}else i===Na?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,mb(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Fn||r===Zo||r===Na&&t.type&4)this.addMatch(t.index,-2);else{let o=mb(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function qee(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function Uee(n,e){return n.type&11?Yp(n,e):n.type&4?IT(n,e):null}function $ee(n,e,t,i){return t===-1?Uee(e,n):t===-2?Hee(n,e,i):Bg(n,n[Te],t,e)}function Hee(n,e,t){if(t===Fn)return Yp(e,n);if(t===Na)return IT(e,n);if(t===Zo)return lB(e,n)}function cB(n,e,t,i){let r=e[Ns].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push($ee(e,d,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function QA(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=cB(n,e,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let m=Yn;m<d.length;m++){let _=d[m];_[Tl]===_[Rn]&&QA(_[Te],_,c,i)}if(d[au]!==null){let m=d[au];for(let _=0;_<m.length;_++){let y=m[_];QA(y[Te],y,c,i)}}}}}return i}function OT(n,e){return n[Ns].queries[e].queryList}function uB(n,e,t){let i=new wb((t&4)===4);return XF(n,e,i,i.destroy),(e[Ns]??=new zA).queries.push(new HA(i))-1}function dB(n,e,t){let i=Xt();return i.firstCreatePass&&(pB(i,new Mb(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),uB(i,Ee(),e)}function zee(n,e,t,i){let r=Xt();if(r.firstCreatePass){let o=On();pB(r,new Mb(e,t,i),o.index),Gee(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return uB(r,Ee(),t)}function Wee(n){return n.split(",").map(e=>e.trim())}function pB(n,e,t){n.queries===null&&(n.queries=new WA),n.queries.track(new GA(e,t))}function Gee(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function FT(n,e){return n.queries.getByIndex(e)}function fB(n,e){let t=n[Te],i=FT(t,e);return i.crossesNgTemplate?QA(t,n,e,[]):cB(t,n,i,e)}function hB(n,e,t){let i,r=cg(()=>{i._dirtyCounter();let o=Yee(i,n);if(e&&o===void 0)throw new ee(-951,!1);return o});return i=r[Gn],i._dirtyCounter=B(0),i._flatValue=void 0,r}function mB(n){return hB(!0,!1,n)}function gB(n){return hB(!0,!0,n)}function Qee(n,e){let t=n[Gn];t._lView=Ee(),t._queryIndex=e,t._queryList=OT(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function Yee(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[Le]&4)return e?void 0:Mi;let r=OT(t,i),o=fB(t,i);return r.reset(o,i8),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}var kL=new Set;function Xo(n){kL.has(n)||(kL.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var mu=class{},Xb=class{};var kb=class extends mu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Tb(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=q2(e);this._bootstrapComponents=_8(o.bootstrap),this._r3Injector=gA(e,t,[{provide:mu,useValue:this},{provide:Zg,useValue:this.componentFactoryResolver},...i],Aa(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rb=class extends Xb{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new kb(this.moduleType,e,[])}};var qg=class extends mu{injector;componentFactoryResolver=new Tb(this);instance=null;constructor(e){super();let t=new Kc([...e.providers,{provide:mu,useValue:this},{provide:Zg,useValue:this.componentFactoryResolver}],e.parent||xg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Jp(n,e,t=null){return new qg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Zee=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=$2(!1,t.type),r=i.length>0?Jp([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=te({token:n,providedIn:"environment",factory:()=>new n(be(hn))})}return n})();function ce(n){return zg(()=>{let e=vB(n),t=J(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===cT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(Zee).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ra.Emulated,styles:n.styles||Mi,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Xo("NgStandalone"),yB(t);let i=n.dependencies;return t.directiveDefs=RL(i,Xee),t.pipeDefs=RL(i,VF),t.id=ete(t),t})}function Xee(n){return Ta(n)||U2(n)}function Vr(n){return zg(()=>({type:n.type,bootstrap:n.bootstrap||Mi,declarations:n.declarations||Mi,imports:n.imports||Mi,exports:n.exports||Mi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Jee(n,e){if(n==null)return El;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=$b.None,l=null),t[o]=[i,a,l],e[o]=s}return t}function Kee(n){if(n==null)return El;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ut(n){return zg(()=>{let e=vB(n);return yB(e),e})}function vu(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function vB(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||El,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Mi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Jee(n.inputs,e),outputs:Kee(n.outputs),debugInfo:null}}function yB(n){n.features?.forEach(e=>e(n))}function RL(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function ete(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tte(n){return Object.getPrototypeOf(n.prototype).constructor}function wn(n){let e=tte(n.type),t=!0,i=[n];for(;e;){let r;if(Os(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=EA(n.inputs),s.declaredInputs=EA(n.declaredInputs),s.outputs=EA(n.outputs);let a=r.hostBindings;a&&ste(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&rte(n,l),c&&ote(n,c),nte(n,r),MF(n.outputs,r.outputs),Os(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===wn&&(t=!1)}}e=Object.getPrototypeOf(e)}ite(i)}function nte(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function ite(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=zp(r.hostAttrs,t=zp(t,r.hostAttrs))}}function EA(n){return n===El?{}:n===Mi?[]:n}function rte(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function ote(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function ste(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function _B(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=zp(n.mergedAttrs,n.attrs);let d=n.tView=gT(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Vp(n,!1);let l=lte(t,e,n,i);cb()&&CT(t,e,l,n),Wp(l,e);let c=G8(l,e,l,n);e[i+Zt]=c,yT(e,c),Vee(c,n,e)}function ate(n,e,t,i,r,o,s,a,l,c,d){let m=t+Zt,_;return e.firstCreatePass?(_=Xp(e,m,4,s||null,a||null),rb()&&eB(e,n,_,ho(e.consts,c),wT),WL(e,_)):_=e.data[m],_B(_,n,e,t,i,r,o,l),Lp(_)&&Wb(e,n,_),c!=null&&Gg(n,_,d),_}function Ug(n,e,t,i,r,o,s,a,l,c,d){let m=t+Zt,_;if(e.firstCreatePass){if(_=Xp(e,m,4,s||null,a||null),c!=null){let y=ho(e.consts,c);_.localNames=[];for(let w=0;w<y.length;w+=2)_.localNames.push(y[w],-1)}}else _=e.data[m];return _B(_,n,e,t,i,r,o,l),c!=null&&Gg(n,_,d),_}function he(n,e,t,i,r,o,s,a){let l=Ee(),c=Xt(),d=ho(c.consts,o);return ate(l,c,n,e,t,i,r,d,void 0,s,a),he}var lte=cte;function cte(n,e,t,i){return kg(!0),e[Ft].createComment("")}var Jb=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Jb||{}),yu=new le(""),bB=!1,YA=class extends Cn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,HF()&&(this.destroyRef=L(cr,{optional:!0})??void 0,this.pendingTasks=L(Fs,{optional:!0})??void 0)}emit(e){let t=Pe(null);try{super.next(e)}finally{Pe(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof bn&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},vt=YA;function CB(n){let e,t;function i(){n=cu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function NL(n){return queueMicrotask(()=>n()),()=>{n=cu}}var LT="isAngularZone",Nb=LT+"_ID",ute=0,an=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vt(!1);onMicrotaskEmpty=new vt(!1);onStable=new vt(!1);onError=new vt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=bB}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,fte(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(LT)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ee(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,dte,cu,cu);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},dte={};function BT(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pte(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){CB(()=>{n.callbackScheduled=!1,ZA(n),n.isCheckStableRunning=!0,BT(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ZA(n)}function fte(n){let e=()=>{pte(n)},t=ute++;n._inner=n._inner.fork({name:"angular",properties:{[LT]:!0,[Nb]:t,[Nb+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(hte(l))return i.invokeTask(o,s,a,l);try{return PL(n),i.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),OL(n)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return PL(n),i.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!mte(l)&&e(),OL(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ZA(n),BT(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ZA(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function PL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OL(n){n._nesting--,BT(n)}var $g=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vt;onMicrotaskEmpty=new vt;onStable=new vt;onError=new vt;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function hte(n){return xB(n,"__ignore_ng_zone__")}function mte(n){return xB(n,"__scheduler_tick__")}function xB(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var VT=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})(),wB=[0,1,2,3],SB=(()=>{class n{ngZone=L(an);scheduler=L(lo);errorHandler=L(Fr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){L(yu,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Mt(16),this.executing=!0;for(let i of wB)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Mt(17)}register(t){let{view:i}=t;i!==void 0?((i[su]??=[]).push(t),Ml(i),i[Le]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Jb.AFTER_NEXT_RENDER,t):t()}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})(),Pb=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[su];e&&(this.view[su]=e.filter(t=>t!==this))}};function Xg(n,e){let t=e?.injector??L(Nn);return Xo("NgAfterNextRender"),vte(n,t,e,!0)}function gte(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function vte(n,e,t,i){let r=e.get(VT);r.impl??=e.get(SB);let o=e.get(yu,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(cr):null,a=e.get(Up,null,{optional:!0}),l=new Pb(r.impl,gte(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(l),l}var jT=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var qT=new le("");function Nl(n){return!!n&&typeof n.then=="function"}function UT(n){return!!n&&typeof n.subscribe=="function"}var $T=new le("");function Kb(n){return Al([{provide:$T,multi:!0,useValue:n}])}var HT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=L($T,{optional:!0})??[];injector=L(Nn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=mn(this.injector,r);if(Nl(o))t.push(o);else if(UT(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jg=new le("");function EB(){e2(()=>{let n="";throw new ee(600,n)})}function DB(n){return n.isBoundToModule}var yte=10;var Pa=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(Br);afterRenderManager=L(VT);zonelessEnabled=L(Rg);rootEffectScheduler=L(Pg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Cn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(Fs);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Be(t=>!t))}constructor(){L(yu,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=L(hn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Nn.NULL){return this._injector.get(an).run(()=>{Mt(10);let s=t instanceof Qb;if(!this._injector.get(HT).done){let w="";throw new ee(405,w)}let l;s?l=t:l=this._injector.get(Zg).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=DB(l)?void 0:this._injector.get(mu),d=i||l.selector,m=l.create(r,[],d,c),_=m.location.nativeElement,y=m.injector.get(qT,null);return y?.registerApplication(_),m.onDestroy(()=>{this.detachView(m.hostView),Fg(this.components,m),y?.unregisterApplication(_)}),this._loadComponent(m),Mt(11,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Mt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ee(101,!1);let t=Pe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Pe(t),this.afterTick.next(),Mt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fu,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<yte;)Mt(14),this.synchronizeOnce(),Mt(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Dg(r))continue;let o=i&&!this.zonelessEnabled?0:1;AT(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Dg(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Fg(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(Jg,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ee(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fg(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var DA="aria";function kt(n,e){let t=Ee(),i=ka();if(ur(t,i,e)){let r=Xt(),o=Mg();if(Gb(o,r,t,n,e))Ma(o)&&F8(t,o.index);else{let a=po(o,t),l=_te(n);L8(t[Ft],a,null,o.value,l,e,null)}}return kt}function _te(n){return n.charAt(DA.length)!=="-"?DA+"-"+n.slice(DA.length).toLowerCase():n}function et(n,e,t,i){let r=Ee(),o=ka();if(ur(r,o,e)){let s=Xt(),a=Mg();VK(a,r,n,e,t,i)}return et}var zT=new le("",{providedIn:"root",factory:()=>!1}),WT=new le("",{providedIn:"root",factory:()=>bte}),bte=4e3;var kDe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var XA=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function AA(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function Cte(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=n.at(o),d=e[o],m=AA(o,c,o,d,t);if(m!==0){m<0&&n.updateValue(o,d),o++;continue}let _=n.at(s),y=e[l],w=AA(s,_,l,y,t);if(w!==0){w<0&&n.updateValue(s,y),s--,l--;continue}let T=t(o,c),I=t(s,_),M=t(o,d);if(Object.is(M,I)){let U=t(l,y);Object.is(U,T)?(n.swap(o,s),n.updateValue(s,y),l--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(i??=new Ob,r??=LL(n,o,s,t),JA(n,i,o,M))n.updateValue(o,d),o++,s++;else if(r.has(M))i.set(T,n.detach(o)),s--;else{let U=n.create(o,e[o]);n.attach(o,U),o++,s++}}for(;o<=l;)FL(n,i,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=n.at(o),m=c.value,_=AA(o,d,o,m,t);if(_!==0)_<0&&n.updateValue(o,m),o++,c=l.next();else{i??=new Ob,r??=LL(n,o,s,t);let y=t(o,m);if(JA(n,i,o,y))n.updateValue(o,m),o++,s++,c=l.next();else if(!r.has(y))n.attach(o,n.create(o,m)),o++,s++,c=l.next();else{let w=t(o,d);i.set(w,n.detach(o)),s--}}}for(;!c.done;)FL(n,i,t,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function JA(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function FL(n,e,t,i,r){if(JA(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function LL(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Ob=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function j(n,e,t,i,r,o,s,a){Xo("NgControlFlow");let l=Ee(),c=Xt(),d=ho(c.consts,o);return Ug(l,c,n,e,t,i,r,d,256,s,a),GT}function GT(n,e,t,i,r,o,s,a){Xo("NgControlFlow");let l=Ee(),c=Xt(),d=ho(c.consts,o);return Ug(l,c,n,e,t,i,r,d,512,s,a),GT}function q(n,e){Xo("NgControlFlow");let t=Ee(),i=ka(),r=t[i]!==Zn?t[i]:-1,o=r!==-1?Fb(t,Zt+r):void 0,s=0;if(ur(t,i,n)){let a=Pe(null);try{if(o!==void 0&&Y8(o,s),n!==-1){let l=Zt+n,c=Fb(t,l),d=nT(t[Te],l),m=X8(c,d,t),_=Qg(t,d,e,{dehydratedView:m});Yg(c,_,s,Gp(d,m))}}finally{Pe(a)}}else if(o!==void 0){let a=Q8(o,s);a!==void 0&&(a[gn]=e)}}var KA=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Yn}};function ln(n,e){return e}var eT=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function oe(n,e,t,i,r,o,s,a,l,c,d,m,_){Xo("NgControlFlow");let y=Ee(),w=Xt(),T=l!==void 0,I=Ee(),M=a?s.bind(I[zi][gn]):s,U=new eT(T,M);I[Zt+n]=U,Ug(y,w,n+1,e,t,i,r,ho(w.consts,o),256),T&&Ug(y,w,n+2,l,c,d,m,ho(w.consts,_),512)}var tT=class extends XA{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-Yn}at(e){return this.getLView(e)[gn].$implicit}attach(e,t){let i=t[nu];this.needsIndexUpdate||=e!==this.length,Yg(this.lContainer,t,e,Gp(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,xte(this.lContainer,e)}create(e,t){let i=Db(this.lContainer,this.templateTNode.tView.ssrId),r=Qg(this.hostLView,this.templateTNode,new KA(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Hb(e[Te],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[gn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[gn].$index=e}getLView(e){return wte(this.lContainer,e)}};function se(n){let e=Pe(null),t=zo();try{let i=Ee(),r=i[Te],o=i[t],s=t+1,a=Fb(i,s);if(o.liveCollection===void 0){let c=nT(r,s);o.liveCollection=new tT(a,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if(Cte(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=ka(),d=l.length===0;if(ur(i,c,d)){let m=t+2,_=Fb(i,m);if(d){let y=nT(r,m),w=X8(_,y,i),T=Qg(i,y,void 0,{dehydratedView:w});Yg(_,T,0,Gp(y,w))}else r.firstUpdatePass&&cee(_),Y8(_,0)}}}finally{Pe(e)}}function Fb(n,e){return n[e]}function xte(n,e){return jg(n,e)}function wte(n,e){return Q8(n,e)}function nT(n,e){return Eg(n,e)}function A(n,e,t){let i=Ee(),r=ka();if(ur(i,r,e)){let o=Xt(),s=Mg();O8(s,i,n,e,i[Ft],t)}return A}function iT(n,e,t,i,r){Gb(e,n,t,r?"class":"style",i)}function p(n,e,t,i){let r=Ee(),o=r[Te],s=n+Zt,a=o.firstCreatePass?kT(s,r,2,e,wT,rb(),t,i):o.data[s];if(ST(a,r,n,e,AB),Lp(a)){let l=r[Te];Wb(l,r,a),pT(l,a,r)}return i!=null&&Gg(r,a),p}function f(){let n=Xt(),e=On(),t=ET(e);return n.firstCreatePass&&RT(n,t),sA(t)&&aA(),rA(),t.classesWithoutHost!=null&&wJ(t)&&iT(n,t,Ee(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&SJ(t)&&iT(n,t,Ee(),t.stylesWithoutHost,!1),f}function k(n,e,t,i){return p(n,e,t,i),f(),k}function Ie(n,e,t,i){let r=Ee(),o=r[Te],s=n+Zt,a=o.firstCreatePass?wee(s,o,2,e,t,i):o.data[s];return ST(a,r,n,e,AB),i!=null&&Gg(r,a),Ie}function Ne(){let n=On(),e=ET(n);return sA(e)&&aA(),rA(),Ne}function Wi(n,e,t,i){return Ie(n,e,t,i),Ne(),Wi}var AB=(n,e,t,i,r)=>(kg(!0),x8(e[Ft],i,dL()));function Je(n,e,t){let i=Ee(),r=i[Te],o=n+Zt,s=r.firstCreatePass?kT(o,i,8,"ng-container",wT,rb(),e,t):r.data[o];if(ST(s,i,n,"ng-container",Ste),Lp(s)){let a=i[Te];Wb(a,i,s),pT(a,s,i)}return t!=null&&Gg(i,s),Je}function Ye(){let n=Xt(),e=On(),t=ET(e);return n.firstCreatePass&&RT(n,t),Ye}function Oa(n,e,t){return Je(n,e,t),Ye(),Oa}var Ste=(n,e,t,i,r)=>(kg(!0),fK(e[Ft],""));function H(){return Ee()}var uu=void 0;function Ete(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var Dte=["en",[["a","p"],["AM","PM"],uu],[["AM","PM"],uu,uu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uu,"{1} 'at' {0}",uu],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Ete],Lg={};function QT(n,e,t){typeof e!="string"&&(t=e,e=n[en.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Lg[e]=n,t&&(Lg[e][en.ExtraData]=t)}function pr(n){let e=Ate(n),t=BL(e);if(t)return t;let i=e.split("-")[0];if(t=BL(i),t)return t;if(i==="en")return Dte;throw new ee(701,!1)}function BL(n){return n in Lg||(Lg[n]=eu.ng&&eu.ng.common&&eu.ng.common.locales&&eu.ng.common.locales[n]),Lg[n]}var en=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(en||{});function Ate(n){return n.toLowerCase().replace(/_/g,"-")}var Kg="en-US";var Tte=Kg;function TB(n){typeof n=="string"&&(Tte=n.toLowerCase().replace(/_/g,"-"))}function D(n,e,t){let i=Ee(),r=Xt(),o=On();return IB(r,i,i[Ft],o,n,e,t),D}function fr(n,e,t){let i=Ee(),r=Xt(),o=On();return(o.type&3||t)&&rB(o,r,i,t,i[Ft],n,e,vb(o,i,e)),fr}function IB(n,e,t,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=vb(i,e,o),rB(i,n,e,s,t,r,o,l)&&(a=!1)),a){let c=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let m=0;m<d.length;m+=2){let _=d[m],y=d[m+1];l??=vb(i,e,o),TL(i,e,_,y,r,l)}if(c&&c.length)for(let m of c)l??=vb(i,e,o),TL(i,e,m,r,r,l)}}function b(n=1){return uL(n)}function Ite(n,e){let t=null,i=rK(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?C8(n,o,!0):aK(i,o))return r}return t}function e0(n){let e=Ee()[zi][Hi];if(!e.projection){let t=n?n.length:1,i=e.projection=LF(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?Ite(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function t0(n,e=0,t,i,r,o){let s=Ee(),a=Xt(),l=i?n+1:null;l!==null&&Ug(s,a,l,i,r,o,null,t);let c=Xp(a,Zt+n,16,null,t||null);c.projection===null&&(c.projection=e),uA();let m=!s[nu]||oA();s[zi][Hi].projection[c.projection]===null&&l!==null?Mte(s,a,l):m&&!Ub(c)&&TK(a,s,c)}function Mte(n,e,t){let i=Zt+t,r=e.data[i],o=n[i],s=Db(o,r.tView.ssrId),a=Qg(n,r,void 0,{dehydratedView:s});Yg(o,a,0,Gp(r,s))}function Xn(n,e,t,i){zee(n,e,t,i)}function _u(n,e,t){dB(n,e,t)}function cn(n){let e=Ee(),t=Xt(),i=sb();Ig(i+1);let r=FT(t,i);if(n.dirty&&GF(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=fB(e,i);n.reset(o,i8),n.notifyOnChanges()}return!0}return!1}function un(){return OT(Ee(),sb())}function Pl(n,e,t,i){Qee(n,dB(e,t,i))}function bu(n=1){Ig(sb()+n)}function Bs(n){let e=tL();return tb(e,Zt+n)}function pb(n,e){return n<<17|e<<2}function gu(n){return n>>17&32767}function kte(n){return(n&2)==2}function Rte(n,e){return n&131071|e<<17}function rT(n){return n|2}function Qp(n){return(n&131068)>>2}function TA(n,e){return n&-131069|e<<2}function Nte(n){return(n&1)===1}function oT(n){return n|1}function Pte(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=gu(s),l=Qp(s);n[i]=t;let c=!1,d;if(Array.isArray(t)){let m=t;d=m[1],(d===null||Pp(m,d)>0)&&(c=!0)}else d=t;if(r)if(l!==0){let _=gu(n[a+1]);n[i+1]=pb(_,a),_!==0&&(n[_+1]=TA(n[_+1],i)),n[a+1]=Rte(n[a+1],i)}else n[i+1]=pb(a,0),a!==0&&(n[a+1]=TA(n[a+1],i)),a=i;else n[i+1]=pb(l,0),a===0?a=i:n[l+1]=TA(n[l+1],i),l=i;c&&(n[i+1]=rT(n[i+1])),VL(n,d,i,!0),VL(n,d,i,!1),Ote(e,d,n,i,o),s=pb(a,l),o?e.classBindings=s:e.styleBindings=s}function Ote(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Pp(o,e)>=0&&(t[i+1]=oT(t[i+1]))}function VL(n,e,t,i){let r=n[t+1],o=e===null,s=i?gu(r):Qp(r),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];Fte(l,e)&&(a=!0,n[s+1]=i?oT(c):rT(c)),s=i?gu(c):Qp(c)}a&&(n[t+1]=i?rT(r):oT(r))}function Fte(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Pp(n,e)>=0:!1}var Go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Lte(n){return n.substring(Go.key,Go.keyEnd)}function Bte(n){return Vte(n),MB(n,kB(n,0,Go.textEnd))}function MB(n,e){let t=Go.textEnd;return t===e?-1:(e=Go.keyEnd=jte(n,Go.key=e,t),kB(n,e,t))}function Vte(n){Go.key=0,Go.keyEnd=0,Go.value=0,Go.valueEnd=0,Go.textEnd=n.length}function kB(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function jte(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Vs(n,e,t){return RB(n,e,t,!1),Vs}function yt(n,e){return RB(n,e,null,!0),yt}function me(n){Ute(Qte,qte,n,!0)}function qte(n,e){for(let t=Bte(e);t>=0;t=MB(e,t))J1(n,Lte(e),!0)}function RB(n,e,t,i){let r=Ee(),o=Xt(),s=Tg(2);if(o.firstUpdatePass&&PB(o,n,s,i),e!==Zn&&ur(r,s,e)){let a=o.data[zo()];OB(o,a,r,r[Ft],n,r[s+1]=Zte(e,t),i,s)}}function Ute(n,e,t,i){let r=Xt(),o=Tg(2);r.firstUpdatePass&&PB(r,null,o,i);let s=Ee();if(t!==Zn&&ur(s,o,t)){let a=r.data[zo()];if(FB(a,i)&&!NB(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Q1(l,t||"")),iT(r,a,s,t,i)}else Yte(r,a,s,s[Ft],s[o+1],s[o+1]=Gte(n,e,t),i,o)}}function NB(n,e){return e>=n.expandoStartIndex}function PB(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[zo()],s=NB(n,t);FB(o,i)&&e===null&&!s&&(e=!1),e=$te(r,o,e,i),Pte(r,o,e,t,s,i)}}function $te(n,e,t,i){let r=sL(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=IA(null,n,e,t,i),t=Hg(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=IA(r,n,e,t,i),o===null){let l=Hte(n,e,i);l!==void 0&&Array.isArray(l)&&(l=IA(null,n,e,l[1],i),l=Hg(l,e.attrs,i),zte(n,e,i,l))}else o=Wte(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function Hte(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Qp(i)!==0)return n[gu(i)]}function zte(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[gu(r)]=i}function Wte(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Hg(i,s,t)}return Hg(i,e.attrs,t)}function IA(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Hg(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Hg(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),J1(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Gte(n,e,t){if(t==null||t==="")return Mi;let i=[],r=Wg(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function Qte(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&J1(n,i,t)}function Yte(n,e,t,i,r,o,s,a){r===Zn&&(r=Mi);let l=0,c=0,d=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;d!==null||m!==null;){let _=l<r.length?r[l+1]:void 0,y=c<o.length?o[c+1]:void 0,w=null,T;d===m?(l+=2,c+=2,_!==y&&(w=m,T=y)):m===null||d!==null&&d<m?(l+=2,w=d):(c+=2,w=m,T=y),w!==null&&OB(n,e,t,i,w,T,s,a),d=l<r.length?r[l]:null,m=c<o.length?o[c]:null}}function OB(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=Nte(c)?jL(l,e,t,r,Qp(c),s):void 0;if(!Lb(d)){Lb(o)||kte(c)&&(o=jL(l,null,t,r,a,s));let m=X2(zo(),t);MK(i,s,m,r,o)}}function jL(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),d=c?l[1]:l,m=d===null,_=t[r+1];_===Zn&&(_=m?Mi:void 0);let y=m?K1(_,i):d===i?_:void 0;if(c&&!Lb(y)&&(y=K1(l,i)),Lb(y)&&(a=y,s))return a;let w=n[r+1];r=s?gu(w):Qp(w)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=K1(l,i))}return a}function Lb(n){return n!==void 0}function Zte(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Aa(Wg(n)))),n}function FB(n,e){return(n.flags&(e?8:16))!==0}function h(n,e=""){let t=Ee(),i=Xt(),r=n+Zt,o=i.firstCreatePass?Xp(i,r,1,e,null):i.data[r],s=Xte(i,t,o,e,n);t[r]=s,cb()&&CT(i,t,s,o),Vp(o,!1)}var Xte=(n,e,t,i,r)=>(kg(!0),dK(e[Ft],i));function LB(n,e,t,i=""){return ur(n,ka(),t)?e+Uo(t)+i:Zn}function Jte(n,e,t,i,r,o=""){let s=fA(),a=PT(n,s,t,r);return Tg(2),a?e+Uo(t)+i+Uo(r)+o:Zn}function Kte(n,e,t,i,r,o,s,a=""){let l=fA(),c=iB(n,l,t,r,s);return Tg(3),c?e+Uo(t)+i+Uo(r)+o+Uo(s)+a:Zn}function R(n){return C("",n),R}function C(n,e,t){let i=Ee(),r=LB(i,n,e,t);return r!==Zn&&YT(i,zo(),r),C}function je(n,e,t,i,r){let o=Ee(),s=Jte(o,n,e,t,i,r);return s!==Zn&&YT(o,zo(),s),je}function n0(n,e,t,i,r,o,s){let a=Ee(),l=Kte(a,n,e,t,i,r,o,s);return l!==Zn&&YT(a,zo(),l),n0}function YT(n,e,t){let i=X2(e,n);pK(n[Ft],i,t)}function Rt(n,e,t){_A(e)&&(e=e());let i=Ee(),r=ka();if(ur(i,r,e)){let o=Xt(),s=Mg();O8(s,i,n,e,i[Ft],t)}return Rt}function Lt(n,e){let t=_A(n);return t&&n.set(e),t}function Nt(n,e){let t=Ee(),i=Xt(),r=On();return IB(i,t,t[Ft],r,n,e),Nt}function ie(n){return ur(Ee(),ka(),n)?Uo(n):Zn}function Kp(n,e,t=""){return LB(Ee(),n,e,t)}function ene(n,e,t){let i=Xt();if(i.firstCreatePass){let r=Os(n);sT(t,i.data,i.blueprint,r,!0),sT(e,i.data,i.blueprint,r,!1)}}function sT(n,e,t,i,r){if(n=yi(n),Array.isArray(n))for(let o=0;o<n.length;o++)sT(n[o],e,t,i,r);else{let o=Xt(),s=Ee(),a=On(),l=Jc(n)?n:yi(n.provide),c=z2(n),d=a.providerIndexes&1048575,m=a.directiveStart,_=a.providerIndexes>>20;if(Jc(n)||!n.multi){let y=new pu(c,r,we,null),w=kA(l,e,r?d:d+_,m);w===-1?(NA(xb(a,s),o,l),MA(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[w]=y,s[w]=y)}else{let y=kA(l,e,d+_,m),w=kA(l,e,d,d+_),T=y>=0&&t[y],I=w>=0&&t[w];if(r&&!I||!r&&!T){NA(xb(a,s),o,l);let M=ine(r?nne:tne,t.length,r,i,c,n);!r&&I&&(t[w].providerFactory=M),MA(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=BB(t[r?w:y],c,!r&&i);MA(o,n,y>-1?y:w,M)}!r&&i&&I&&t[w].componentProviders++}}}function MA(n,e,t,i){let r=Jc(e),o=$F(e);if(r||o){let l=(o?yi(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[i,l]):c[d+1].push(i,l)}else c.push(t,l)}}}function BB(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function kA(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function tne(n,e,t,i,r){return aT(this.multi,[])}function nne(n,e,t,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Bg(i,i[Te],this.providerFactory.index,r);s=l.slice(0,a),aT(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],aT(o,s);return s}function aT(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function ine(n,e,t,i,r,o){let s=new pu(n,t,we,null);return s.multi=[],s.index=e,s.componentProviders=0,BB(s,r,i&&!t),s}function Ri(n,e=[]){return t=>{t.providersResolver=(i,r)=>ene(i,r?r(n):n,e)}}function i0(n,e,t){let i=qp()+n,r=Ee();return r[i]===Zn?Zb(r,i,t?e.call(t):e()):See(r,i)}function Jn(n,e,t,i){return VB(Ee(),qp(),n,e,t,i)}function eC(n,e,t,i,r,o){return one(Ee(),qp(),n,e,t,i,r,o)}function ZT(n,e){let t=n[e];return t===Zn?void 0:t}function VB(n,e,t,i,r,o){let s=e+t;return ur(n,s,r)?Zb(n,s+1,o?i.call(o,r):i(r)):ZT(n,s+1)}function rne(n,e,t,i,r,o,s){let a=e+t;return PT(n,a,r,o)?Zb(n,a+2,s?i.call(s,r,o):i(r,o)):ZT(n,a+2)}function one(n,e,t,i,r,o,s,a){let l=e+t;return iB(n,l,r,o,s)?Zb(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):ZT(n,l+3)}function g(n,e){let t=Xt(),i,r=n+Zt;t.firstCreatePass?(i=sne(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=wl(i.type,!0)),s,a=$i(we);try{let l=Cb(!1),c=o();return Cb(l),J2(t,Ee(),r,c),c}finally{$i(a)}}function sne(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function v(n,e,t){let i=n+Zt,r=Ee(),o=tb(r,i);return jB(r,i)?VB(r,qp(),e,o.transform,t,o):o.transform(t)}function Ke(n,e,t,i){let r=n+Zt,o=Ee(),s=tb(o,r);return jB(o,r)?rne(o,qp(),e,s.transform,t,i,s):s.transform(t,i)}function jB(n,e){return n[Te].data[e].pure}var Bb=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},XT=(()=>{class n{compileModuleSync(t){return new Rb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=q2(t),o=_8(r.declarations).reduce((s,a)=>{let l=Ta(a);return l&&s.push(new hu(l)),s},[]);return new Bb(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ane=(()=>{class n{zone=L(an);changeDetectionScheduler=L(lo);applicationRef=L(Pa);applicationErrorHandler=L(Br);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qB({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new an(J(F({},UB()),{scheduleInRootZone:t})),[{provide:an,useFactory:n},{provide:Dl,multi:!0,useFactory:()=>{let i=L(ane,{optional:!0});return()=>i.initialize()}},{provide:Dl,multi:!0,useFactory:()=>{let i=L(lne);return()=>{i.initialize()}}},e===!0?{provide:bA,useValue:!0}:[],{provide:db,useValue:t??bB},{provide:Br,useFactory:()=>{let i=L(an),r=L(hn),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Fr),o.handleError(s))})}}}]}function UB(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lne=(()=>{class n{subscription=new bn;initialized=!1;zone=L(an);pendingTasks=L(Fs);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{an.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{an.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JT=(()=>{class n{applicationErrorHandler=L(Br);appRef=L(Pa);taskService=L(Fs);ngZone=L(an);zonelessEnabled=L(Rg);tracing=L(yu,{optional:!0});disableScheduling=L(bA,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new bn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Nb):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(db,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $g||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?NL:CB;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nb+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,NL(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KT(){return Xo("NgZoneless"),Al([{provide:lo,useExisting:JT},{provide:an,useClass:$g},{provide:Rg,useValue:!0},{provide:db,useValue:!1},[]])}function cne(){return typeof $localize<"u"&&$localize.locale||Kg}var Ol=new le("",{providedIn:"root",factory:()=>L(Ol,{optional:!0,skipSelf:!0})||cne()});var tC=class{destroyed=!1;listeners=null;errorHandler=L(Fr,{optional:!0});destroyRef=L(cr);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new ee(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(ks(953,!1));return}if(this.listeners===null)return;let t=Pe(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{Pe(t)}}};function _i(n){return EF(n)}function K(n,e){return cg(n,e?.equal)}var eI=class{[Gn];constructor(e){this[Gn]=e}destroy(){this[Gn].destroy()}};function Ut(n,e){let t=e?.injector??L(Nn),i=e?.manualCleanup!==!0?t.get(cr):null,r,o=t.get(Up,null,{optional:!0}),s=t.get(lo);return o!==null?(r=pne(o.view,s,n),i instanceof yg&&i._lView===o.view&&(i=null)):r=fne(n,t.get(Pg),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new eI(r)}var $B=J(F({},DF),{cleanupFns:void 0,zone:null,onDestroyFn:cu,run(){let n=jp(!1);try{AF(this)}finally{jp(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=Pe(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Pe(n)}}}),une=J(F({},$B),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){zc(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),dne=J(F({},$B),{consumerMarkedDirty(){this.view[Le]|=8192,Ml(this.view),this.notifier.notify(13)},destroy(){zc(this),this.onDestroyFn(),this.cleanup(),this.view[Ia]?.delete(this)}});function pne(n,e,t){let i=Object.create(dne);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=HB(i,t),n[Ia]??=new Set,n[Ia].add(i),i.consumerMarkedDirty(i),i}function fne(n,e,t){let i=Object.create(une);return i.fn=HB(i,n),i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function HB(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var JB=Symbol("InputSignalNode#UNSET"),Ene=J(F({},_1),{transformFn:void 0,applyValueToInputSignal(n,e){Cp(n,e)}});function KB(n,e){let t=Object.create(Ene);t.value=n,t.transformFn=e?.transform;function i(){if(vp(t),t.value===JB){let r=null;throw new ee(-950,r)}return t.value}return i[Gn]=t,i}var Dne=new le("");Dne.__NG_ELEMENT_ID__=n=>{let e=On();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new ee(204,!1)};function de(n){return new tC}function zB(n,e){return KB(n,e)}function Ane(n){return KB(JB,n)}var ge=(zB.required=Ane,zB);function WB(n,e){return mB(e)}function Tne(n,e){return gB(e)}var Cu=(WB.required=Tne,WB);var tI=new le(""),Ine=new le("");function r0(n){return!n.moduleRef}function Mne(n){let e=r0(n)?n.r3Injector:n.moduleRef.injector,t=e.get(an);return t.run(()=>{r0(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Br),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),r0(n)){let o=()=>e.destroy(),s=n.platformInjector.get(tI);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(tI);s.add(o),n.moduleRef.onDestroy(()=>{Fg(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return Rne(i,t,()=>{let o=e.get(Fs),s=o.add(),a=e.get(HT);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(Ol,Kg);if(TB(l||Kg),!e.get(Ine,!0))return r0(n)?e.get(Pa):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(r0(n)){let d=e.get(Pa);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return kne?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var kne;function Rne(n,e,t){try{let i=t();return Nl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var nC=null;function Nne(n=[],e){return Nn.create({name:e,providers:[{provide:Cg,useValue:"platform"},{provide:tI,useValue:new Set([()=>nC=null])},...n]})}function Pne(n=[]){if(nC)return nC;let e=Nne(n);return nC=e,EB(),One(e),e}function One(n){let e=n.get(jb,null);mn(n,()=>{e?.forEach(t=>t())})}var js=(()=>{class n{static __NG_ELEMENT_ID__=Fne}return n})();function Fne(n){return Lne(On(),Ee(),(n&16)===16)}function Lne(n,e,t){if(Ma(n)&&!t){let i=fo(n.index,e);return new Rl(i,i)}else if(n.type&175){let i=e[zi];return new Rl(i,e)}return null}var nI=class{constructor(){}supports(e){return NT(e)}create(e){return new iI(e)}},Bne=(n,e)=>e,iI=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Bne}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<GB(i,r,o)?t:i,a=GB(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let _=0;_<c;_++){let y=_<o.length?o[_]:o[_]=0,w=y+_;d<=w&&w<c&&(o[_]=y+1)}let m=s.previousIndex;o[m]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!NT(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,nB(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new rI(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new iC),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new iC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rI=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},oI=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},iC=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new oI,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function GB(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var sI=class{constructor(){}supports(e){return e instanceof Map||Yb(e)}create(){return new aI}},aI=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Yb(e)))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new lI(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},lI=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function QB(){return new cI([new nI])}var cI=(()=>{class n{factories;static \u0275prov=te({token:n,providedIn:"root",factory:QB});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let i=L(n,{optional:!0,skipSelf:!0});return n.create(t,i||QB())}}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new ee(901,!1)}}return n})();function YB(){return new uI([new sI])}var uI=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:YB});factories;constructor(t){this.factories=t}static create(t,i){if(i){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let i=L(n,{optional:!0,skipSelf:!0});return n.create(t,i||YB())}}}find(t){let i=this.factories.find(r=>r.supports(t));if(i)return i;throw new ee(901,!1)}}return n})();function e4(n){Mt(8);try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=Pne(i),o=[qB({}),{provide:lo,useExisting:JT},fL,...t||[]],s=new qg({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return Mne({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Mt(9)}}function o0(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function t4(n){let e=Ta(n);if(!e)return null;let t=new hu(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var r4=null;function go(){return r4}function dI(n){r4??=n}var s0=class{},a0=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>L(o4),providedIn:"platform"})}return n})(),pI=new le(""),o4=(()=>{class n extends a0{_location;_history;_doc=L(dn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return go().getBaseHref(this._doc)}onPopState(t){let i=go().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=go().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function rC(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function n4(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Jo(n){return n&&n[0]!=="?"?`?${n}`:n}var Fa=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>L(sC),providedIn:"root"})}return n})(),oC=new le(""),sC=(()=>{class n extends Fa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rC(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Jo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Jo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Jo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(be(a0),be(oC,8))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fl=(()=>{class n{_subject=new Cn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=qne(n4(i4(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Jo(i))}normalize(t){return n.stripTrailingSlash(jne(this._basePath,i4(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Jo;static joinWithSlash=rC;static stripTrailingSlash=n4;static \u0275fac=function(i){return new(i||n)(be(Fa))};static \u0275prov=te({token:n,factory:()=>Vne(),providedIn:"root"})}return n})();function Vne(){return new Fl(be(Fa))}function jne(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function i4(n){return n.replace(/\/index.html$/,"")}function qne(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var bI=(()=>{class n extends Fa{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=rC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Jo(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Jo(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(be(a0),be(oC,8))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();var CI=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(CI||{});var Ni=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Ni||{}),Bt=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Bt||{}),hr=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(hr||{}),mr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function d4(n){return pr(n)[en.LocaleId]}function p4(n,e,t){let i=pr(n),r=[i[en.DayPeriodsFormat],i[en.DayPeriodsStandalone]],o=vo(r,e);return vo(o,t)}function f4(n,e,t){let i=pr(n),r=[i[en.DaysFormat],i[en.DaysStandalone]],o=vo(r,e);return vo(o,t)}function h4(n,e,t){let i=pr(n),r=[i[en.MonthsFormat],i[en.MonthsStandalone]],o=vo(r,e);return vo(o,t)}function m4(n,e){let i=pr(n)[en.Eras];return vo(i,e)}function l0(n,e){let t=pr(n);return vo(t[en.DateFormat],e)}function c0(n,e){let t=pr(n);return vo(t[en.TimeFormat],e)}function u0(n,e){let i=pr(n)[en.DateTimeFormat];return vo(i,e)}function qs(n,e){let t=pr(n),i=t[en.NumberSymbols][e];if(typeof i>"u"){if(e===mr.CurrencyDecimal)return t[en.NumberSymbols][mr.Decimal];if(e===mr.CurrencyGroup)return t[en.NumberSymbols][mr.Group]}return i}function g4(n,e){return pr(n)[en.NumberFormats][e]}function v4(n){if(!n[en.ExtraData])throw new ee(2303,!1)}function y4(n){let e=pr(n);return v4(e),(e[en.ExtraData][2]||[]).map(i=>typeof i=="string"?fI(i):[fI(i[0]),fI(i[1])])}function _4(n,e,t){let i=pr(n);v4(i);let r=[i[en.ExtraData][0],i[en.ExtraData][1]],o=vo(r,e)||[];return vo(o,t)||[]}function vo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new ee(2304,!1)}function fI(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var Une=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,aC={},$ne=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function b4(n,e,t,i){let r=Jne(n);e=La(t,e)||e;let s=[],a;for(;e;)if(a=$ne.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=x4(i,l),r=Xne(r,i));let c="";return s.forEach(d=>{let m=Yne(d);c+=m?m(r,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function pC(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function La(n,e){let t=d4(n);if(aC[t]??={},aC[t][e])return aC[t][e];let i="";switch(e){case"shortDate":i=l0(n,hr.Short);break;case"mediumDate":i=l0(n,hr.Medium);break;case"longDate":i=l0(n,hr.Long);break;case"fullDate":i=l0(n,hr.Full);break;case"shortTime":i=c0(n,hr.Short);break;case"mediumTime":i=c0(n,hr.Medium);break;case"longTime":i=c0(n,hr.Long);break;case"fullTime":i=c0(n,hr.Full);break;case"short":let r=La(n,"shortTime"),o=La(n,"shortDate");i=lC(u0(n,hr.Short),[r,o]);break;case"medium":let s=La(n,"mediumTime"),a=La(n,"mediumDate");i=lC(u0(n,hr.Medium),[s,a]);break;case"long":let l=La(n,"longTime"),c=La(n,"longDate");i=lC(u0(n,hr.Long),[l,c]);break;case"full":let d=La(n,"fullTime"),m=La(n,"fullDate");i=lC(u0(n,hr.Full),[d,m]);break}return i&&(aC[t][e]=i),i}function lC(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Ko(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function Hne(n,e){return Ko(n,3).substring(0,e)}function Sn(n,e,t=0,i=!1,r=!1){return function(o,s){let a=zne(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return Hne(a,e);let l=qs(s,mr.MinusSign);return Ko(a,e,l,i,r)}}function zne(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new ee(2301,!1)}}function Gt(n,e,t=Ni.Format,i=!1){return function(r,o){return Wne(r,o,n,e,t,i)}}function Wne(n,e,t,i,r,o){switch(t){case 2:return h4(e,r,i)[n.getMonth()];case 1:return f4(e,r,i)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=y4(e),d=_4(e,r,i),m=c.findIndex(_=>{if(Array.isArray(_)){let[y,w]=_,T=s>=y.hours&&a>=y.minutes,I=s<w.hours||s===w.hours&&a<w.minutes;if(y.hours<w.hours){if(T&&I)return!0}else if(T||I)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(m!==-1)return d[m]}return p4(e,r,i)[s<12?0:1];case 3:return m4(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new ee(2302,!1)}}function cC(n){return function(e,t,i){let r=-1*i,o=qs(t,mr.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Ko(s,2,o)+Ko(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Ko(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Ko(s,2,o)+":"+Ko(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+Ko(s,2,o)+":"+Ko(Math.abs(r%60),2,o);default:throw new ee(2302,!1)}}}var Gne=0,dC=4;function Qne(n){let e=pC(n,Gne,1).getDay();return pC(n,0,1+(e<=dC?dC:dC+7)-e)}function C4(n){let e=n.getDay(),t=e===0?-3:dC-e;return pC(n.getFullYear(),n.getMonth(),n.getDate()+t)}function hI(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=C4(t),s=Qne(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ko(r,n,qs(i,mr.MinusSign))}}function uC(n,e=!1){return function(t,i){let o=C4(t).getFullYear();return Ko(o,n,qs(i,mr.MinusSign),e)}}var mI={};function Yne(n){if(mI[n])return mI[n];let e;switch(n){case"G":case"GG":case"GGG":e=Gt(3,Bt.Abbreviated);break;case"GGGG":e=Gt(3,Bt.Wide);break;case"GGGGG":e=Gt(3,Bt.Narrow);break;case"y":e=Sn(0,1,0,!1,!0);break;case"yy":e=Sn(0,2,0,!0,!0);break;case"yyy":e=Sn(0,3,0,!1,!0);break;case"yyyy":e=Sn(0,4,0,!1,!0);break;case"Y":e=uC(1);break;case"YY":e=uC(2,!0);break;case"YYY":e=uC(3);break;case"YYYY":e=uC(4);break;case"M":case"L":e=Sn(1,1,1);break;case"MM":case"LL":e=Sn(1,2,1);break;case"MMM":e=Gt(2,Bt.Abbreviated);break;case"MMMM":e=Gt(2,Bt.Wide);break;case"MMMMM":e=Gt(2,Bt.Narrow);break;case"LLL":e=Gt(2,Bt.Abbreviated,Ni.Standalone);break;case"LLLL":e=Gt(2,Bt.Wide,Ni.Standalone);break;case"LLLLL":e=Gt(2,Bt.Narrow,Ni.Standalone);break;case"w":e=hI(1);break;case"ww":e=hI(2);break;case"W":e=hI(1,!0);break;case"d":e=Sn(2,1);break;case"dd":e=Sn(2,2);break;case"c":case"cc":e=Sn(7,1);break;case"ccc":e=Gt(1,Bt.Abbreviated,Ni.Standalone);break;case"cccc":e=Gt(1,Bt.Wide,Ni.Standalone);break;case"ccccc":e=Gt(1,Bt.Narrow,Ni.Standalone);break;case"cccccc":e=Gt(1,Bt.Short,Ni.Standalone);break;case"E":case"EE":case"EEE":e=Gt(1,Bt.Abbreviated);break;case"EEEE":e=Gt(1,Bt.Wide);break;case"EEEEE":e=Gt(1,Bt.Narrow);break;case"EEEEEE":e=Gt(1,Bt.Short);break;case"a":case"aa":case"aaa":e=Gt(0,Bt.Abbreviated);break;case"aaaa":e=Gt(0,Bt.Wide);break;case"aaaaa":e=Gt(0,Bt.Narrow);break;case"b":case"bb":case"bbb":e=Gt(0,Bt.Abbreviated,Ni.Standalone,!0);break;case"bbbb":e=Gt(0,Bt.Wide,Ni.Standalone,!0);break;case"bbbbb":e=Gt(0,Bt.Narrow,Ni.Standalone,!0);break;case"B":case"BB":case"BBB":e=Gt(0,Bt.Abbreviated,Ni.Format,!0);break;case"BBBB":e=Gt(0,Bt.Wide,Ni.Format,!0);break;case"BBBBB":e=Gt(0,Bt.Narrow,Ni.Format,!0);break;case"h":e=Sn(3,1,-12);break;case"hh":e=Sn(3,2,-12);break;case"H":e=Sn(3,1);break;case"HH":e=Sn(3,2);break;case"m":e=Sn(4,1);break;case"mm":e=Sn(4,2);break;case"s":e=Sn(5,1);break;case"ss":e=Sn(5,2);break;case"S":e=Sn(6,1);break;case"SS":e=Sn(6,2);break;case"SSS":e=Sn(6,3);break;case"Z":case"ZZ":case"ZZZ":e=cC(0);break;case"ZZZZZ":e=cC(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=cC(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=cC(2);break;default:return null}return mI[n]=e,e}function x4(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Zne(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Xne(n,e,t){let r=n.getTimezoneOffset(),o=x4(e,r);return Zne(n,-1*(o-r))}function Jne(n){if(s4(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return pC(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Une))return Kne(i)}let e=new Date(n);if(!s4(e))throw new ee(2302,!1);return e}function Kne(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,c),e}function s4(n){return n instanceof Date&&!isNaN(n.valueOf())}var eie=/^(\d+)?\.((\d+)(-(\d+))?)?$/,a4=22,fC=".",d0="0",tie=";",nie=",",gI="#";function iie(n,e,t,i,r,o,s=!1){let a="",l=!1;if(!isFinite(n))a=qs(t,mr.Infinity);else{let c=sie(n);s&&(c=oie(c));let d=e.minInt,m=e.minFrac,_=e.maxFrac;if(o){let U=o.match(eie);if(U===null)throw new ee(2306,!1);let W=U[1],N=U[3],X=U[5];W!=null&&(d=vI(W)),N!=null&&(m=vI(N)),X!=null?_=vI(X):N!=null&&m>_&&(_=m)}aie(c,m,_);let y=c.digits,w=c.integerLen,T=c.exponent,I=[];for(l=y.every(U=>!U);w<d;w++)y.unshift(0);for(;w<0;w++)y.unshift(0);w>0?I=y.splice(w,y.length):(I=y,y=[0]);let M=[];for(y.length>=e.lgSize&&M.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)M.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&M.unshift(y.join("")),a=M.join(qs(t,i)),I.length&&(a+=qs(t,r)+I.join("")),T&&(a+=qs(t,mr.Exponential)+"+"+T)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function w4(n,e,t){let i=g4(e,CI.Decimal),r=rie(i,qs(e,mr.MinusSign));return iie(n,r,e,mr.Group,mr.Decimal,t)}function rie(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(tie),r=i[0],o=i[1],s=r.indexOf(fC)!==-1?r.split(fC):[r.substring(0,r.lastIndexOf(d0)+1),r.substring(r.lastIndexOf(d0)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(gI));for(let d=0;d<l.length;d++){let m=l.charAt(d);m===d0?t.minFrac=t.maxFrac=d+1:m===gI?t.maxFrac=d+1:t.posSuf+=m}let c=a.split(nie);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=r.length-t.posPre.length-t.posSuf.length,m=o.indexOf(gI);t.negPre=o.substring(0,m).replace(/'/g,""),t.negSuf=o.slice(m+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function oie(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function sie(n){let e=Math.abs(n)+"",t=0,i,r,o,s,a;for((r=e.indexOf(fC))>-1&&(e=e.replace(fC,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===d0;o++);if(o===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===d0;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(e.charAt(o))}return r>a4&&(i=i.splice(0,a4-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function aie(n,e,t){if(e>t)throw new ee(2307,!1);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(e,r),t),s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let m=s;m<i.length;m++)i[m]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let m=1;m<s;m++)i[m]=0}if(a>=5)if(s-1<0){for(let m=0;m>s;m--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=e+n.integerLen,d=i.reduceRight(function(m,_,y,w){return _=_+m,w[y]=_<10?_:_-10,l&&(w[y]===0&&y>=c?w.pop():l=!1),_>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}function vI(n){let e=parseInt(n);if(isNaN(e))throw new ee(2305,!1);return e}var yI=/\s+/,l4=[],es=(()=>{class n{_ngEl;_renderer;initialClasses=l4;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(yI):l4}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(yI):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(yI).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(we(Fn),we(mo))};static \u0275dir=ut({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var hC=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new hC(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),c4(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);c4(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(we(Zo),we(Na),we(cI))};static \u0275dir=ut({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function c4(n,e){n.context.$implicit=e.item}var Ln=(()=>{class n{_viewContainer;_context=new mC;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){u4(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){u4(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(we(Zo),we(Na))};static \u0275dir=ut({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),mC=class{$implicit=null;ngIf=null};function u4(n,e){if(n&&!n.createEmbeddedView)throw new ee(2020,!1)}var _I=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},gC=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=t===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ut({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),xI=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new _I(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(i){return new(i||n)(we(Zo),we(Na),we(gC,9))};static \u0275dir=ut({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})();var wI=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){let[r,o]=t.split("."),s=r.indexOf("-")===-1?void 0:Qo.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||n)(we(Fn),we(uI),we(mo))};static \u0275dir=ut({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),SI=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(we(Zo))};static \u0275dir=ut({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Yo]})}return n})();function S4(n,e){return new ee(2100,!1)}var lie="mediumDate",E4=new le(""),D4=new le(""),Gi=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??lie,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return b4(t,s,o||this.locale,a)}catch(s){throw S4(n,s.message)}}static \u0275fac=function(i){return new(i||n)(we(Ol,16),we(E4,24),we(D4,24))};static \u0275pipe=vu({name:"date",type:n,pure:!0})}return n})();var EI=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=vu({name:"json",type:n,pure:!1})}return n})();var Qi=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,i,r){if(!cie(t))return null;r||=this._locale;try{let o=uie(t);return w4(o,r,i)}catch(o){throw S4(n,o.message)}}static \u0275fac=function(i){return new(i||n)(we(Ol,16))};static \u0275pipe=vu({name:"number",type:n,pure:!0})}return n})();function cie(n){return!(n==null||n===""||n!==n)}function uie(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new ee(2309,!1);return n}var pe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Vr({type:n});static \u0275inj=lr({})}return n})();function p0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var xu=class{};function vC(n,e,t){return QT(n,e,t)}var A4="browser";var T4=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>new DI(L(dn),window)})}return n})(),DI=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(J(F({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let i=pie(this.document,e);i&&(this.scrollToElement(i,t),i.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(ks(2400,!1))}}scrollToElement(e,t){let i=e.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(J(F({},t),{left:r-s[0],top:o-s[1]}))}};function pie(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var _C=new le(""),kI=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(be(_C),be(an))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),f0=class{_doc;constructor(e){this._doc=e}manager},AI="ng-app-id";function I4(n){for(let e of n)e.remove()}function M4(n,e){let t=e.createElement("style");return t.textContent=n,t}function fie(n,e,t,i){let r=n.head?.querySelectorAll(`style[${AI}="${e}"],link[${AI}="${e}"]`);if(r)for(let o of r)o.removeAttribute(AI),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function II(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var RI=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,fie(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,M4);i?.forEach(r=>this.addUsage(r,this.external,II))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(I4(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])I4(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,M4(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,II(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(be(dn),be(Vb),be(qb,8),be(Zp))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),TI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},NI=/%COMP%/g;var R4="%COMP%",hie=`_nghost-${R4}`,mie=`_ngcontent-${R4}`,gie=!0,vie=new le("",{providedIn:"root",factory:()=>gie});function yie(n){return mie.replace(NI,n)}function _ie(n){return hie.replace(NI,n)}function N4(n,e){return e.map(t=>t.replace(NI,n))}var PI=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,i,r,o,s,a,l,c=null,d,m,_=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=d,this.maxAnimationTimeout=m,this.tracingService=_,this.platformIsServer=!1,this.defaultRenderer=new h0(t,s,l,this.platformIsServer,this.tracingService,this.registry=ub(),this.maxAnimationTimeout)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof yC?r.applyToHost(t):r instanceof m0&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,m=this.platformIsServer,_=this.tracingService;switch(i.encapsulation){case Ra.Emulated:o=new yC(l,c,i,this.appId,d,s,a,m,_,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Ra.ShadowDom:return new MI(l,c,t,i,s,a,this.nonce,m,_,this.registry,this.maxAnimationTimeout);default:o=new m0(l,c,i,d,s,a,m,_,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(be(kI),be(RI),be(Vb),be(vie),be(dn),be(Zp),be(an),be(qb),be(zT),be(WT),be(yu,8))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),h0=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o,s,a){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(TI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(k4(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(k4(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){let{elements:i}=this.registry;if(i){i.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ee(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=TI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=TI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Qo.DashCase|Qo.Important)?e.style.setProperty(t,i,r&Qo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Qo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=go().getGlobalEventTarget(this.doc,e),!e))throw new ee(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function k4(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var MI=class extends h0{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,l,c,d,m){super(e,o,s,l,c,d,m),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let _=r.styles;_=N4(r.id,_);for(let w of _){let T=document.createElement("style");a&&T.setAttribute("nonce",a),T.textContent=w,this.shadowRoot.appendChild(T)}let y=r.getExternalStyles?.();if(y)for(let w of y){let T=II(w,o);a&&T.setAttribute("nonce",a),this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},m0=class extends h0{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,i,r,o,s,a,l,c,d,m,_){super(e,o,s,a,l,c,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this._animationDisabled=d;let y=i.styles;this.styles=_?N4(_,y):y,this.styleUrls=i.getExternalStyles?.(_)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},yC=class extends m0{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,l,c,d,m,_){let y=r+"-"+i.id;super(e,t,i,o,s,a,l,c,d,m,_,y),this.contentAttr=yie(y),this.hostAttr=_ie(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var bC=class n extends s0{supportsDOMEvents=!0;static makeCurrent(){dI(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=bie();return t==null?null:Cie(t)}resetBaseElement(){g0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return p0(document.cookie,e)}},g0=null;function bie(){return g0=g0||document.head.querySelector("base"),g0?g0.getAttribute("href"):null}function Cie(n){return new URL(n,document.baseURI).pathname}var xie=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),O4=(()=>{class n extends f0{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(be(dn))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),P4=["alt","control","meta","shift"],wie={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sie={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},F4=(()=>{class n extends f0{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>go().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),P4.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=wie[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),P4.forEach(s=>{if(s!==r){let a=Sie[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(be(dn))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function OI(n,e){let t=F({rootComponent:n},Eie(e));return e4(t)}function Eie(n){return{appProviders:[...Mie,...n?.providers??[]],platformProviders:Iie}}function Die(){bC.makeCurrent()}function Aie(){return new Fr}function Tie(){return uT(document),document}var Iie=[{provide:Zp,useValue:A4},{provide:jb,useValue:Die,multi:!0},{provide:dn,useFactory:Tie}];var Mie=[{provide:Cg,useValue:"root"},{provide:Fr,useFactory:Aie},{provide:_C,useClass:O4,multi:!0,deps:[dn]},{provide:_C,useClass:F4,multi:!0,deps:[dn]},PI,RI,kI,{provide:fu,useExisting:PI},{provide:xu,useClass:xie},[]];var tf=class{},nf=class{},$s=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var wC=class{encodeKey(e){return L4(e)}encodeValue(e){return L4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function kie(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var Rie=/%(\d[a-f0-9])/gi,Nie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function L4(n){return encodeURIComponent(n).replace(Rie,(e,t)=>Nie[t]??e)}function CC(n){return`${n}`}var Ba=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new wC,e.fromString){if(e.fromObject)throw new ee(2805,!1);this.map=kie(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(CC):[CC(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(CC(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(CC(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var SC=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Pie(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function B4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function V4(n){return typeof Blob<"u"&&n instanceof Blob}function j4(n){return typeof FormData<"u"&&n instanceof FormData}function Oie(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var v0="Content-Type",EC="Accept",jI="X-Request-URL",U4="text/plain",$4="application/json",H4=`${$4}, ${U4}, */*`,ef=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(Pie(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new ee(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new $s,this.context??=new SC,!this.params)this.params=new Ba,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||B4(this.body)||V4(this.body)||j4(this.body)||Oie(this.body)?this.body:this.body instanceof Ba?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||j4(this.body)?null:V4(this.body)?this.body.type||null:B4(this.body)?null:typeof this.body=="string"?U4:this.body instanceof Ba?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?$4:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,m=e.referrer||this.referrer,_=e.integrity||this.integrity,y=e.transferCache??this.transferCache,w=e.timeout??this.timeout,T=e.body!==void 0?e.body:this.body,I=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,U=e.headers||this.headers,W=e.params||this.params,N=e.context??this.context;return e.setHeaders!==void 0&&(U=Object.keys(e.setHeaders).reduce((X,Y)=>X.set(Y,e.setHeaders[Y]),U)),e.setParams&&(W=Object.keys(e.setParams).reduce((X,Y)=>X.set(Y,e.setParams[Y]),W)),new n(t,i,T,{params:W,headers:U,context:N,reportProgress:M,responseType:r,withCredentials:I,transferCache:y,keepalive:o,cache:a,priority:s,timeout:w,mode:l,redirect:c,credentials:d,referrer:m,integrity:_})}},Va=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Va||{}),rf=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,i="OK"){this.headers=e.headers||new $s,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},y0=class n extends rf{constructor(e={}){super(e)}type=Va.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},of=class n extends rf{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Va.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Us=class extends rf{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},z4=200,Fie=204;function FI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var AC=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof ef)o=t;else{let l;r.headers instanceof $s?l=r.headers:l=new $s(r.headers);let c;r.params&&(r.params instanceof Ba?c=r.params:c=new Ba({fromObject:r.params})),o=new ef(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let s=_e(o).pipe(Ms(l=>this.handler.handle(l)));if(t instanceof ef||r.observe==="events")return s;let a=s.pipe(Ii(l=>l instanceof of));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Be(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new ee(2806,!1);return l.body}));case"blob":return a.pipe(Be(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new ee(2807,!1);return l.body}));case"text":return a.pipe(Be(l=>{if(l.body!==null&&typeof l.body!="string")throw new ee(2808,!1);return l.body}));case"json":default:return a.pipe(Be(l=>l.body))}case"response":return a;default:throw new ee(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Ba().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,FI(r,i))}post(t,i,r={}){return this.request("POST",t,FI(r,i))}put(t,i,r={}){return this.request("PUT",t,FI(r,i))}static \u0275fac=function(i){return new(i||n)(be(tf))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),Lie=/^\)\]\}',?\n/;function q4(n){if(n.url)return n.url;let e=jI.toLocaleLowerCase();return n.headers.get(e)}var W4=new le(""),xC=(()=>{class n{fetchImpl=L(LI,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=L(an);destroyRef=L(cr);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(t){return new it(i=>{let r=new AbortController;this.doRequest(t,r.signal,i).then(BI,s=>i.error(new Us({error:s})));let o;return t.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{r.signal.aborted||r.abort(new DOMException("signal timed out","TimeoutError"))},t.timeout))),()=>{o!==void 0&&clearTimeout(o),r.abort()}})}async doRequest(t,i,r){let o=this.createRequestInit(t),s;try{let w=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,F({signal:i},o)));Bie(w),r.next({type:Va.Sent}),s=await w}catch(w){r.error(new Us({error:w,status:w.status??0,statusText:w.statusText,url:t.urlWithParams,headers:w.headers}));return}let a=new $s(s.headers),l=s.statusText,c=q4(s)??t.urlWithParams,d=s.status,m=null;if(t.reportProgress&&r.next(new y0({headers:a,status:d,statusText:l,url:c})),s.body){let w=s.headers.get("content-length"),T=[],I=s.body.getReader(),M=0,U,W,N=typeof Zone<"u"&&Zone.current,X=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyed){await I.cancel(),X=!0;break}let{done:ve,value:Ce}=await I.read();if(ve)break;if(T.push(Ce),M+=Ce.length,t.reportProgress){W=t.responseType==="text"?(W??"")+(U??=new TextDecoder).decode(Ce,{stream:!0}):void 0;let gt=()=>r.next({type:Va.DownloadProgress,total:w?+w:void 0,loaded:M,partialText:W});N?N.run(gt):gt()}}}),X){r.complete();return}let Y=this.concatChunks(T,M);try{let ve=s.headers.get(v0)??"";m=this.parseBody(t,Y,ve,d)}catch(ve){r.error(new Us({error:ve,headers:new $s(s.headers),status:s.status,statusText:s.statusText,url:q4(s)??t.urlWithParams}));return}}d===0&&(d=m?z4:0);let _=d>=200&&d<300,y=s.redirected;_?(r.next(new of({body:m,headers:a,status:d,statusText:l,url:c,redirected:y})),r.complete()):r.error(new Us({error:m,headers:a,status:d,statusText:l,url:c,redirected:y}))}parseBody(t,i,r,o){switch(t.responseType){case"json":let s=new TextDecoder().decode(i).replace(Lie,"");if(s==="")return null;try{return JSON.parse(s)}catch(a){if(o<200||o>=300)return s;throw a}case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r;if(r=t.credentials,t.withCredentials&&(r="include"),t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has(EC)||(i[EC]=H4),!t.headers.has(v0)){let o=t.detectContentTypeHeader();o!==null&&(i[v0]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r,keepalive:t.keepalive,cache:t.cache,priority:t.priority,mode:t.mode,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),LI=class{};function BI(){}function Bie(n){n.then(BI,BI)}function Vie(n,e){return e(n)}function jie(n,e,t){return(i,r)=>mn(t,()=>e(i,o=>n(o,r)))}var G4=new le(""),Q4=new le(""),Y4=new le("",{providedIn:"root",factory:()=>!0});var DC=(()=>{class n extends tf{backend;injector;chain=null;pendingTasks=L(Ng);contributeToStability=L(Y4);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(G4),...this.injector.get(Q4,[])]));this.chain=i.reduceRight((r,o)=>jie(r,o,this.injector),Vie)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Yc(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(be(nf),be(hn))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();var qie=/^\)\]\}',?\n/,Uie=RegExp(`^${jI}:`,"m");function $ie(n){return"responseURL"in n&&n.responseURL?n.responseURL:Uie.test(n.getAllResponseHeaders())?n.getResponseHeader(jI):null}var VI=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ee(-2800,!1);let i=this.xhrFactory;return _e(null).pipe(vi(()=>new it(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,M)=>s.setRequestHeader(I,M.join(","))),t.headers.has(EC)||s.setRequestHeader(EC,H4),!t.headers.has(v0)){let I=t.detectContentTypeHeader();I!==null&&s.setRequestHeader(v0,I)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let I=t.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let I=s.statusText||"OK",M=new $s(s.getAllResponseHeaders()),U=$ie(s)||t.url;return l=new y0({headers:M,status:s.status,statusText:I,url:U}),l},d=()=>{let{headers:I,status:M,statusText:U,url:W}=c(),N=null;M!==Fie&&(N=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=N?z4:0);let X=M>=200&&M<300;if(t.responseType==="json"&&typeof N=="string"){let Y=N;N=N.replace(qie,"");try{N=N!==""?JSON.parse(N):null}catch(ve){N=Y,X&&(X=!1,N={error:ve,text:N})}}X?(o.next(new of({body:N,headers:I,status:M,statusText:U,url:W||void 0})),o.complete()):o.error(new Us({error:N,headers:I,status:M,statusText:U,url:W||void 0}))},m=I=>{let{url:M}=c(),U=new Us({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(U)},_=m;t.timeout&&(_=I=>{let{url:M}=c(),U=new Us({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(U)});let y=!1,w=I=>{y||(o.next(c()),y=!0);let M={type:Va.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(M.total=I.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},T=I=>{let M={type:Va.UploadProgress,loaded:I.loaded};I.lengthComputable&&(M.total=I.total),o.next(M)};return s.addEventListener("load",d),s.addEventListener("error",m),s.addEventListener("timeout",_),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:Va.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",d),s.removeEventListener("timeout",_),t.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(be(xu))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),Z4=new le(""),Hie="XSRF-TOKEN",zie=new le("",{providedIn:"root",factory:()=>Hie}),Wie="X-XSRF-TOKEN",Gie=new le("",{providedIn:"root",factory:()=>Wie}),_0=class{},Qie=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=p0(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(be(dn),be(zie))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function Yie(n,e){let t=n.url.toLowerCase();if(!L(Z4)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=L(_0).getToken(),r=L(Gie);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var qI=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(qI||{});function Zie(n,e){return{\u0275kind:n,\u0275providers:e}}function UI(...n){let e=[AC,VI,DC,{provide:tf,useExisting:DC},{provide:nf,useFactory:()=>L(W4,{optional:!0})??L(VI)},{provide:G4,useValue:Yie,multi:!0},{provide:Z4,useValue:!0},{provide:_0,useClass:Qie}];for(let t of n)e.push(...t.\u0275providers);return Al(e)}function $I(){return Zie(qI.Fetch,[xC,{provide:W4,useExisting:xC},{provide:nf,useExisting:xC}])}var X4=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(be(dn))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ze="primary",R0=Symbol("RouteTitle"),QI=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Eu(n){return new QI(n)}function oV(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Kie(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hs(n[t],e[t]))return!1;return!0}function Hs(n,e){let t=n?YI(n):void 0,i=e?YI(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!sV(n[r],e[r]))return!1;return!0}function YI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function aV(n){return n.length>0?n[n.length-1]:null}function qa(n){return p2(n)?n:Nl(n)?Wt(Promise.resolve(n)):_e(n)}var ere={exact:cV,subset:uV},lV={exact:tre,subset:nre,ignored:()=>!0};function J4(n,e,t){return ere[t.paths](n.root,e.root,t.matrixParams)&&lV[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function tre(n,e){return Hs(n,e)}function cV(n,e,t){if(!wu(n.segments,e.segments)||!MC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!cV(n.children[i],e.children[i],t))return!1;return!0}function nre(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sV(n[t],e[t]))}function uV(n,e,t){return dV(n,e,e.segments,t)}function dV(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!wu(r,t)||e.hasChildren()||!MC(r,t,i))}else if(n.segments.length===t.length){if(!wu(n.segments,t)||!MC(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!uV(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!wu(n.segments,r)||!MC(n.segments,r,i)||!n.children[Ze]?!1:dV(n.children[Ze],e,o,i)}}function MC(n,e,t){return e.every((i,r)=>lV[t](n[r].parameters,i.parameters))}var Ws=class{root;queryParams;fragment;_queryParamMap;constructor(e=new xt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Eu(this.queryParams),this._queryParamMap}toString(){return ore.serialize(this)}},xt=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kC(this)}},Ll=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Eu(this.parameters),this._parameterMap}toString(){return fV(this)}};function ire(n,e){return wu(n,e)&&n.every((t,i)=>Hs(t.parameters,e[i].parameters))}function wu(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function rre(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ze&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ze&&(t=t.concat(e(r,i)))}),t}var Du=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>new Bl,providedIn:"root"})}return n})(),Bl=class{parse(e){let t=new XI(e);return new Ws(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${b0(e.root,!0)}`,i=lre(e.queryParams),r=typeof e.fragment=="string"?`#${sre(e.fragment)}`:"";return`${t}${i}${r}`}},ore=new Bl;function kC(n){return n.segments.map(e=>fV(e)).join("/")}function b0(n,e){if(!n.hasChildren())return kC(n);if(e){let t=n.children[Ze]?b0(n.children[Ze],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ze&&i.push(`${r}:${b0(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=rre(n,(i,r)=>r===Ze?[b0(n.children[Ze],!1)]:[`${r}:${b0(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ze]!=null?`${kC(n)}/${t[0]}`:`${kC(n)}/(${t.join("//")})`}}function pV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function TC(n){return pV(n).replace(/%3B/gi,";")}function sre(n){return encodeURI(n)}function ZI(n){return pV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function RC(n){return decodeURIComponent(n)}function K4(n){return RC(n.replace(/\+/g,"%20"))}function fV(n){return`${ZI(n.path)}${are(n.parameters)}`}function are(n){return Object.entries(n).map(([e,t])=>`;${ZI(e)}=${ZI(t)}`).join("")}function lre(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${TC(t)}=${TC(r)}`).join("&"):`${TC(t)}=${TC(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var cre=/^[^\/()?;#]+/;function HI(n){let e=n.match(cre);return e?e[0]:""}var ure=/^[^\/()?;=#]+/;function dre(n){let e=n.match(ure);return e?e[0]:""}var pre=/^[^=?&#]+/;function fre(n){let e=n.match(pre);return e?e[0]:""}var hre=/^[^&#]+/;function mre(n){let e=n.match(hre);return e?e[0]:""}var XI=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ze]=new xt(e,t)),i}parseSegment(){let e=HI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Ll(RC(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=dre(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=HI(this.remaining);r&&(i=r,this.capture(i))}e[RC(t)]=RC(i)}parseQueryParam(e){let t=fre(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=mre(this.remaining);s&&(i=s,this.capture(i))}let r=K4(t),o=K4(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=HI(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ee(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ze);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ze]:new xt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function hV(n){return n.segments.length>0?new xt([],{[Ze]:n}):n}function mV(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=mV(r);if(i===Ze&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new xt(n.segments,e);return gre(t)}function gre(n){if(n.numberOfChildren===1&&n.children[Ze]){let e=n.children[Ze];return new xt(n.segments.concat(e.segments),e.children)}return n}function df(n){return n instanceof Ws}function gV(n,e,t=null,i=null){let r=vV(n);return yV(r,e,t,i)}function vV(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new xt(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=hV(i);return e??r}function yV(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return zI(r,r,r,t,i);let o=vre(e);if(o.toRoot())return zI(r,r,new xt([],{}),t,i);let s=yre(o,r,n),a=s.processChildren?x0(s.segmentGroup,s.index,o.commands):bV(s.segmentGroup,s.index,o.commands);return zI(r,s.segmentGroup,a,t,i)}function NC(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function S0(n){return typeof n=="object"&&n!=null&&n.outlets}function zI(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===e?s=t:s=_V(n,e,t);let a=hV(mV(s));return new Ws(a,o,r)}function _V(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=_V(o,e,t)}),new xt(n.segments,i)}var PC=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&NC(i[0]))throw new ee(4003,!1);let r=i.find(S0);if(r&&r!==aV(i))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vre(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new PC(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new PC(t,e,i)}var lf=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function yre(n,e,t){if(n.isAbsolute)return new lf(e,!0,0);if(!t)return new lf(e,!1,NaN);if(t.parent===null)return new lf(t,!0,0);let i=NC(n.commands[0])?0:1,r=t.segments.length-1+i;return _re(t,r,n.numberOfDoubleDots)}function _re(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ee(4005,!1);r=i.segments.length}return new lf(i,!1,r-o)}function bre(n){return S0(n[0])?n[0].outlets:{[Ze]:n}}function bV(n,e,t){if(n??=new xt([],{}),n.segments.length===0&&n.hasChildren())return x0(n,e,t);let i=Cre(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new xt(n.segments.slice(0,i.pathIndex),{});return o.children[Ze]=new xt(n.segments.slice(i.pathIndex),n.children),x0(o,0,r)}else return i.match&&r.length===0?new xt(n.segments,{}):i.match&&!n.hasChildren()?JI(n,e,t):i.match?x0(n,0,r):JI(n,e,t)}function x0(n,e,t){if(t.length===0)return new xt(n.segments,{});{let i=bre(t),r={};if(Object.keys(i).some(o=>o!==Ze)&&n.children[Ze]&&n.numberOfChildren===1&&n.children[Ze].segments.length===0){let o=x0(n.children[Ze],e,t);return new xt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=bV(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new xt(n.segments,r)}}function Cre(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(S0(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!tV(l,c,s))return o;i+=2}else{if(!tV(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function JI(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(S0(o)){let l=xre(o.outlets);return new xt(i,l)}if(r===0&&NC(t[0])){let l=n.segments[e];i.push(new Ll(l.path,eV(t[0]))),r++;continue}let s=S0(o)?o.outlets[Ze]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&NC(a)?(i.push(new Ll(s,eV(a))),r+=2):(i.push(new Ll(s,{})),r++)}return new xt(i,{})}function xre(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=JI(new xt([],{}),0,i))}),e}function eV(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function tV(n,e,t){return n==t.path&&Hs(e,t.parameters)}var cf="imperative",Bn=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Bn||{}),qr=class{id;url;constructor(e,t){this.id=e,this.url=t}},Vl=class extends qr{type=Bn.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ns=class extends qr{urlAfterRedirects;type=Bn.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yi=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Yi||{}),pf=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(pf||{}),zs=class extends qr{reason;code;type=Bn.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gs=class extends qr{reason;code;type=Bn.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},ff=class extends qr{error;target;type=Bn.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},E0=class extends qr{urlAfterRedirects;state;type=Bn.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},OC=class extends qr{urlAfterRedirects;state;type=Bn.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FC=class extends qr{urlAfterRedirects;state;shouldActivate;type=Bn.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},LC=class extends qr{urlAfterRedirects;state;type=Bn.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},BC=class extends qr{urlAfterRedirects;state;type=Bn.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},VC=class{route;type=Bn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jC=class{route;type=Bn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qC=class{snapshot;type=Bn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},UC=class{snapshot;type=Bn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$C=class{snapshot;type=Bn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},HC=class{snapshot;type=Bn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hf=class{routerEvent;position;anchor;type=Bn.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},D0=class{},mf=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wre(n){return!(n instanceof D0)&&!(n instanceof mf)}function Sre(n,e){return n.providers&&!n._injector&&(n._injector=Jp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ts(n){return n.outlet||Ze}function Ere(n,e){let t=n.filter(i=>ts(i)===e);return t.push(...n.filter(i=>ts(i)!==e)),t}function yf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var zC=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yf(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Au(this.rootInjector)}},Au=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new zC(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(be(hn))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WC=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=KI(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=KI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=eM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return eM(e,this._root).map(t=>t.value)}};function KI(n,e){if(n===e.value)return e;for(let t of e.children){let i=KI(n,t);if(i)return i}return null}function eM(n,e){if(n===e.value)return[e];for(let t of e.children){let i=eM(n,t);if(i.length)return i.unshift(e),i}return[]}var jr=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function af(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var A0=class extends WC{snapshot;constructor(e,t){super(e),this.snapshot=t,lM(this,e)}toString(){return this.snapshot.toString()}};function CV(n){let e=Dre(n),t=new gi([new Ll("",{})]),i=new gi({}),r=new gi({}),o=new gi({}),s=new gi(""),a=new ja(t,i,o,s,r,Ze,n,e.root);return a.snapshot=e.root,new A0(new jr(a,[]),e)}function Dre(n){let e={},t={},i={},o=new Su([],e,i,"",t,Ze,n,null,{});return new T0("",new jr(o,[]))}var ja=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Be(c=>c[R0]))??_e(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Be(e=>Eu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Be(e=>Eu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function GC(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),r?.data),n._resolvedData)}:i={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},r&&wV(r)&&(i.resolve[R0]=r.title),i}var Su=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[R0]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Eu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Eu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},T0=class extends WC{url;constructor(e,t){super(t),this.url=e,lM(this,t)}toString(){return xV(this._root)}};function lM(n,e){e.value._routerState=n,e.children.forEach(t=>lM(n,t))}function xV(n){let e=n.children.length>0?` { ${n.children.map(xV).join(", ")} } `:"";return`${n.value}${e}`}function WI(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hs(e.params,t.params)||n.paramsSubject.next(t.params),Kie(e.url,t.url)||n.urlSubject.next(t.url),Hs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function tM(n,e){let t=Hs(n.params,e.params)&&ire(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||tM(n.parent,e.parent))}function wV(n){return typeof n.title=="string"||n.title===null}var SV=new le(""),N0=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ze;activateEvents=new vt;deactivateEvents=new vt;attachEvents=new vt;detachEvents=new vt;routerOutletData=ge(void 0);parentContexts=L(Au);location=L(Zo);changeDetector=L(js);inputBinder=L(P0,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new nM(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ut({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Yo]})}return n})(),nM=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===ja?this.route:e===Au?this.childContexts:e===SV?this.outletData:this.parent.get(e,t)}},P0=new le(""),cM=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=pg([i.queryParams,i.params,i.data]).pipe(vi(([o,s,a],l)=>(a=F(F(F({},o),s),a),l===0?_e(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=t4(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),uM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ce({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&k(0,"router-outlet")},dependencies:[N0],encapsulation:2})}return n})();function dM(n){let e=n.children&&n.children.map(dM),t=e?J(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ze&&(t.component=uM),t}function Are(n,e,t){let i=I0(n,e._root,t?t._root:void 0);return new A0(i,e)}function I0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=Tre(n,e,t);return new jr(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>I0(n,a)),s}}let i=Ire(e.value),r=e.children.map(o=>I0(n,o));return new jr(i,r)}}function Tre(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return I0(n,i,r);return I0(n,i)})}function Ire(n){return new ja(new gi(n.url),new gi(n.params),new gi(n.queryParams),new gi(n.fragment),new gi(n.data),n.outlet,n.component,n)}var gf=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},EV="ngNavigationCancelingError";function QC(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=df(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=DV(!1,Yi.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function DV(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[EV]=!0,t.cancellationCode=e,t}function Mre(n){return AV(n)&&df(n.url)}function AV(n){return!!n&&n[EV]}var kre=(n,e,t,i)=>Be(r=>(new iM(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),iM=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),WI(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=af(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=af(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=af(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=af(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new HC(o.value.snapshot))}),e.children.length&&this.forwardEvent(new UC(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(WI(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),WI(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},YC=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},uf=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Rre(n,e,t){let i=n._root,r=e?e._root:null;return C0(i,r,t,[i.value])}function Nre(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function _f(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!I2(n)?n:e.get(n):i}function C0(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=af(e);return n.children.forEach(s=>{Pre(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>w0(a,t.getContext(s),r)),r}function Pre(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Ore(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new YC(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?C0(n,e,a?a.children:null,i,r):C0(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new uf(a.outlet.component,s))}else s&&w0(e,a,r),r.canActivateChecks.push(new YC(i)),o.component?C0(n,null,a?a.children:null,i,r):C0(n,null,t,i,r);return r}function Ore(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!wu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wu(n.url,e.url)||!Hs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tM(n,e)||!Hs(n.queryParams,e.queryParams);case"paramsChange":default:return!tM(n,e)}}function w0(n,e,t){let i=af(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?w0(s,e.children.getContext(o),t):w0(s,null,t):w0(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new uf(e.outlet.component,r)):t.canDeactivateChecks.push(new uf(null,r)):t.canDeactivateChecks.push(new uf(null,r))}function O0(n){return typeof n=="function"}function Fre(n){return typeof n=="boolean"}function Lre(n){return n&&O0(n.canLoad)}function Bre(n){return n&&O0(n.canActivate)}function Vre(n){return n&&O0(n.canActivateChild)}function jre(n){return n&&O0(n.canDeactivate)}function qre(n){return n&&O0(n.canMatch)}function TV(n){return n instanceof xa||n?.name==="EmptyError"}var IC=Symbol("INITIAL_VALUE");function vf(){return vi(n=>pg(n.map(e=>e.pipe(Sa(1),g2(IC)))).pipe(Be(e=>{for(let t of e)if(t!==!0){if(t===IC)return IC;if(t===!1||Ure(t))return t}return!0}),Ii(e=>e!==IC),Sa(1)))}function Ure(n){return df(n)||n instanceof gf}function $re(n,e){return sn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?_e(J(F({},t),{guardsResult:!0})):Hre(s,i,r,n).pipe(sn(a=>a&&Fre(a)?zre(i,o,n,e):_e(a)),Be(a=>J(F({},t),{guardsResult:a})))})}function Hre(n,e,t,i){return Wt(n).pipe(sn(r=>Zre(r.component,r.route,t,e,i)),Ea(r=>r!==!0,!0))}function zre(n,e,t,i){return Wt(e).pipe(Ms(r=>kp(Gre(r.route.parent,i),Wre(r.route,i),Yre(n,r.path,t),Qre(n,r.route,t))),Ea(r=>r!==!0,!0))}function Wre(n,e){return n!==null&&e&&e(new $C(n)),_e(!0)}function Gre(n,e){return n!==null&&e&&e(new qC(n)),_e(!0)}function Qre(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return _e(!0);let r=i.map(o=>fg(()=>{let s=yf(e)??t,a=_f(o,s),l=Bre(a)?a.canActivate(e,n):mn(s,()=>a(e,n));return qa(l).pipe(Ea())}));return _e(r).pipe(vf())}function Yre(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Nre(s)).filter(s=>s!==null).map(s=>fg(()=>{let a=s.guards.map(l=>{let c=yf(s.node)??t,d=_f(l,c),m=Vre(d)?d.canActivateChild(i,n):mn(c,()=>d(i,n));return qa(m).pipe(Ea())});return _e(a).pipe(vf())}));return _e(o).pipe(vf())}function Zre(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return _e(!0);let s=o.map(a=>{let l=yf(e)??r,c=_f(a,l),d=jre(c)?c.canDeactivate(n,e,t,i):mn(l,()=>c(n,e,t,i));return qa(d).pipe(Ea())});return _e(s).pipe(vf())}function Xre(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return _e(!0);let o=r.map(s=>{let a=_f(s,n),l=Lre(a)?a.canLoad(e,t):mn(n,()=>a(e,t));return qa(l)});return _e(o).pipe(vf(),IV(i))}function IV(n){return l2(Qn(e=>{if(typeof e!="boolean")throw QC(n,e)}),Be(e=>e===!0))}function Jre(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return _e(!0);let o=r.map(s=>{let a=_f(s,n),l=qre(a)?a.canMatch(e,t):mn(n,()=>a(e,t));return qa(l)});return _e(o).pipe(vf(),IV(i))}var M0=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},k0=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function sf(n){return Ip(new M0(n))}function Kre(n){return Ip(new ee(4e3,!1))}function eoe(n){return Ip(DV(!1,Yi.GuardRejected))}var rM=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return _e(i);if(r.numberOfChildren>1||!r.children[Ze])return Kre(`${e.redirectTo}`);r=r.children[Ze]}}applyRedirectCommands(e,t,i,r,o){return toe(t,r,o).pipe(Be(s=>{if(s instanceof Ws)throw new k0(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,i);if(s[0]==="/")throw new k0(a);return a}))}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Ws(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new xt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new ee(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}};function toe(n,e,t){if(typeof n=="string")return _e(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:d,title:m}=e;return qa(mn(t,()=>i({params:c,data:d,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,title:m})))}var oM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function noe(n,e,t,i,r){let o=MV(n,e,t);return o.matched?(i=Sre(e,i),Jre(i,e,t,r).pipe(Be(s=>s===!0?o:F({},oM)))):_e(o)}function MV(n,e,t){if(e.path==="**")return ioe(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},oM):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||oV)(t,n,e);if(!r)return F({},oM);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?F(F({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function ioe(n){return{matched:!0,parameters:n.length>0?aV(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nV(n,e,t,i){return t.length>0&&soe(n,t,i)?{segmentGroup:new xt(e,ooe(i,new xt(t,n.children))),slicedSegments:[]}:t.length===0&&aoe(n,t,i)?{segmentGroup:new xt(n.segments,roe(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new xt(n.segments,n.children),slicedSegments:t}}function roe(n,e,t,i){let r={};for(let o of t)if(XC(n,e,o)&&!i[ts(o)]){let s=new xt([],{});r[ts(o)]=s}return F(F({},i),r)}function ooe(n,e){let t={};t[Ze]=e;for(let i of n)if(i.path===""&&ts(i)!==Ze){let r=new xt([],{});t[ts(i)]=r}return t}function soe(n,e,t){return t.some(i=>XC(n,e,i)&&ts(i)!==Ze)}function aoe(n,e,t){return t.some(i=>XC(n,e,i))}function XC(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function loe(n,e,t){return e.length===0&&!n.children[t]}var sM=class{};function coe(n,e,t,i,r,o,s="emptyOnly"){return new aM(n,e,t,i,r,s,o).recognize()}var uoe=31,aM=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rM(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=nV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Be(({children:t,rootSnapshot:i})=>{let r=new jr(i,t),o=new T0("",r),s=gV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Su([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ze,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ze,t).pipe(Be(i=>({children:i,rootSnapshot:t})),wa(i=>{if(i instanceof k0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof M0?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(Be(s=>s instanceof jr?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Wt(o).pipe(Ms(s=>{let a=i.children[s],l=Ere(t,s);return this.processSegmentGroup(e,l,a,s,r)}),m2((s,a)=>(s.push(...a),s)),xl(null),h2(),sn(s=>{if(s===null)return sf(i);let a=kV(s);return doe(a),_e(a)}))}processSegment(e,t,i,r,o,s,a){return Wt(t).pipe(Ms(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,o,s,a).pipe(wa(c=>{if(c instanceof M0)return _e(null);throw c}))),Ea(l=>!!l),wa(l=>{if(TV(l))return loe(i,r,o)?_e(new sM):sf(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,l){return ts(i)!==s&&(s===Ze||!XC(r,o,i))?sf(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,l):sf(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:m,remainingSegments:_}=MV(t,r,o);if(!l)return sf(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uoe&&(this.allowRedirects=!1));let y=new Su(o,c,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,iV(r),ts(r),r.component??r._loadedComponent??null,r,rV(r)),w=GC(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(w.params),y.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(d,r.redirectTo,m,y,e).pipe(vi(I=>this.applyRedirects.lineralizeSegments(r,I)),sn(I=>this.processSegment(e,i,t,I.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=noe(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(vi(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(vi(({routes:c})=>{let d=i._loadedInjector??e,{parameters:m,consumedSegments:_,remainingSegments:y}=l,w=new Su(_,m,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,iV(i),ts(i),i.component??i._loadedComponent??null,i,rV(i)),T=GC(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(T.params),w.data=Object.freeze(T.data);let{segmentGroup:I,slicedSegments:M}=nV(t,_,y,c);if(M.length===0&&I.hasChildren())return this.processChildren(d,c,I,w).pipe(Be(W=>new jr(w,W)));if(c.length===0&&M.length===0)return _e(new jr(w,[]));let U=ts(i)===o;return this.processSegment(d,c,I,M,U?Ze:o,!0,w).pipe(Be(W=>new jr(w,W instanceof jr?[W]:[])))}))):sf(t)))}getChildConfig(e,t,i){return t.children?_e({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?_e({routes:t._loadedRoutes,injector:t._loadedInjector}):Xre(e,t,i,this.urlSerializer).pipe(sn(r=>r?this.configLoader.loadChildren(e,t).pipe(Qn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):eoe(t))):_e({routes:[],injector:e})}};function doe(n){n.sort((e,t)=>e.value.outlet===Ze?-1:t.value.outlet===Ze?1:e.value.outlet.localeCompare(t.value.outlet))}function poe(n){let e=n.value.routeConfig;return e&&e.path===""}function kV(n){let e=[],t=new Set;for(let i of n){if(!poe(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=kV(i.children);e.push(new jr(i.value,r))}return e.filter(i=>!t.has(i))}function iV(n){return n.data||{}}function rV(n){return n.resolve||{}}function foe(n,e,t,i,r,o){return sn(s=>coe(n,e,t,i,s.extractedUrl,r,o).pipe(Be(({state:a,tree:l})=>J(F({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function hoe(n,e){return sn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return _e(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of RV(l))s.add(c);let a=0;return Wt(s).pipe(Ms(l=>o.has(l)?moe(l,i,n,e):(l.data=GC(l,l.parent,n).resolve,_e(void 0))),Qn(()=>a++),Rp(1),sn(l=>a===s.size?_e(t):sr))})}function RV(n){let e=n.children.map(t=>RV(t)).flat();return[n,...e]}function moe(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!wV(r)&&(o[R0]=r.title),fg(()=>(n.data=GC(n,n.parent,t).resolve,goe(o,n,e,i).pipe(Be(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function goe(n,e,t,i){let r=YI(n);if(r.length===0)return _e({});let o={};return Wt(r).pipe(sn(s=>voe(n[s],e,t,i).pipe(Ea(),Qn(a=>{if(a instanceof gf)throw QC(new Bl,a);o[s]=a}))),Rp(1),Be(()=>o),wa(s=>TV(s)?sr:Ip(s)))}function voe(n,e,t,i){let r=yf(e)??i,o=_f(n,r),s=o.resolve?o.resolve(e,t):mn(r,()=>o(e,t));return qa(s)}function GI(n){return vi(e=>{let t=n(e);return t?Wt(t).pipe(Be(()=>e)):_e(e)})}var pM=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ze);return i}getResolvedTitleForRoute(t){return t.data[R0]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>L(NV),providedIn:"root"})}return n})(),NV=(()=>{class n extends pM{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(be(X4))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tu=new le("",{providedIn:"root",factory:()=>({})}),Iu=new le(""),JC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(XT);loadComponent(t,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return _e(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=qa(mn(t,()=>i.loadComponent())).pipe(Be(OV),vi(FV),Qn(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Yc(()=>{this.componentLoaders.delete(i)})),o=new Tp(r,()=>new Cn).pipe(Ap());return this.componentLoaders.set(i,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return _e({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=PV(i,this.compiler,t,this.onLoadEndListener).pipe(Yc(()=>{this.childrenLoaders.delete(i)})),s=new Tp(o,()=>new Cn).pipe(Ap());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PV(n,e,t,i){return qa(mn(t,()=>n.loadChildren())).pipe(Be(OV),vi(FV),sn(r=>r instanceof Xb||Array.isArray(r)?_e(r):Wt(e.compileModuleAsync(r))),Be(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Iu,[],{optional:!0,self:!0}).flat()),{routes:s.map(dM),injector:o}}))}function yoe(n){return n&&typeof n=="object"&&"default"in n}function OV(n){return yoe(n)?n.default:n}function FV(n){return _e(n)}var KC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>L(_oe),providedIn:"root"})}return n})(),_oe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fM=new le(""),hM=new le("");function LV(n,e,t){let i=n.get(hM),r=n.get(dn);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),boe(n)));a.ready.catch(c=>{});let{onViewTransitionCreated:l}=i;return l&&mn(n,()=>l({transition:a,from:e,to:t})),s}function boe(n){return new Promise(e=>{Xg({read:()=>setTimeout(e)},{injector:n})})}var mM=new le(""),ex=(()=>{class n{currentNavigation=B(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Cn;transitionAbortWithErrorSubject=new Cn;configLoader=L(JC);environmentInjector=L(hn);destroyRef=L(cr);urlSerializer=L(Du);rootContexts=L(Au);location=L(Fl);inputBindingEnabled=L(P0,{optional:!0})!==null;titleStrategy=L(pM);options=L(Tu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(KC);createViewTransition=L(fM,{optional:!0});navigationErrorHandler=L(mM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>_e(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new VC(r)),i=r=>this.events.next(new jC(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;_i(()=>{this.transitions?.next(J(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(t){return this.transitions=new gi(null),this.transitions.pipe(Ii(i=>i!==null),vi(i=>{let r=!1;return _e(i).pipe(vi(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Yi.SupersededByNewNavigation),sr;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?J(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Gs(o.id,this.urlSerializer.serialize(o.rawUrl),"",pf.IgnoredSameUrlNavigation)),o.resolve(!1),sr;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return _e(o).pipe(vi(l=>(this.events.next(new Vl(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?sr:Promise.resolve(l))),foe(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qn(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=l.urlAfterRedirects,d));let c=new E0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:m,extras:_}=o,y=new Vl(l,this.urlSerializer.serialize(c),d,m);this.events.next(y);let w=CV(this.rootComponentType).snapshot;return this.currentTransition=i=J(F({},o),{targetSnapshot:w,urlAfterRedirects:c,extras:J(F({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(T=>(T.finalUrl=c,T)),_e(i)}else return this.events.next(new Gs(o.id,this.urlSerializer.serialize(o.extractedUrl),"",pf.IgnoredByUrlHandlingStrategy)),o.resolve(!1),sr}),Qn(o=>{let s=new OC(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Be(o=>(this.currentTransition=i=J(F({},o),{guards:Rre(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),$re(this.environmentInjector,o=>this.events.next(o)),Qn(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw QC(this.urlSerializer,o.guardsResult);let s=new FC(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ii(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Yi.GuardRejected),!1)),GI(o=>{if(o.guards.canActivateChecks.length!==0)return _e(o).pipe(Qn(s=>{let a=new LC(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),vi(s=>{let a=!1;return _e(s).pipe(hoe(this.paramsInheritanceStrategy,this.environmentInjector),Qn({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Yi.NoDataFromResolver)}}))}),Qn(s=>{let a=new BC(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),GI(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=yf(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Qn(d=>{a.component=d}),Be(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return pg(s(o.targetSnapshot.root)).pipe(xl(null),Sa(1))}),GI(()=>this.afterPreactivation()),vi(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Wt(a).pipe(Be(()=>i)):_e(i)}),Be(o=>{let s=Are(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=J(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),i}),Qn(()=>{this.events.next(new D0)}),kre(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Sa(1),U1(new it(o=>{let s=i.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ii(()=>!r&&!i.targetRouterState),Qn(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",Yi.Aborted)}))),Qn({next:o=>{r=!0,this.lastSuccessfulNavigation=_i(this.currentNavigation),this.events.next(new ns(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),U1(this.transitionAbortWithErrorSubject.pipe(Qn(o=>{throw o}))),Yc(()=>{r||this.cancelNavigationTransition(i,"",Yi.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),wa(o=>{if(this.destroyed)return i.resolve(!1),sr;if(r=!0,AV(o))this.events.next(new zs(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),Mre(o)?this.events.next(new mf(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new ff(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let a=mn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof gf){let{message:l,cancellationCode:c}=QC(this.urlSerializer,a);this.events.next(new zs(i.id,this.urlSerializer.serialize(i.extractedUrl),l,c)),this.events.next(new mf(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return sr}))}))}cancelNavigationTransition(t,i,r){let o=new zs(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=_i(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return t.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Coe(n){return n!==cf}var BV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>L(xoe),providedIn:"root"})}return n})(),ZC=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},xoe=(()=>{class n extends ZC{static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VV=(()=>{class n{urlSerializer=L(Du);options=L(Tu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(Fl);urlHandlingStrategy=L(KC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ws;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof Ws?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=CV(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>L(woe),providedIn:"root"})}return n})(),woe=(()=>{class n extends VV{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Vl?this.updateStateMemento():t instanceof Gs?this.commitTransition(i):t instanceof E0?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof D0?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof zs&&t.code!==Yi.SupersededByNewNavigation&&t.code!==Yi.Redirect?this.restoreHistory(i):t instanceof ff?this.restoreHistory(i,!0):t instanceof ns&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=F(F({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",l)}else{let a=F(F({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tx(n,e){n.events.pipe(Ii(t=>t instanceof ns||t instanceof zs||t instanceof ff||t instanceof Gs),Be(t=>t instanceof ns||t instanceof Gs?0:(t instanceof zs?t.code===Yi.Redirect||t.code===Yi.SupersededByNewNavigation:!1)?2:1),Ii(t=>t!==2),Sa(1)).subscribe(()=>{e()})}var Soe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Eoe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(jT);stateManager=L(VV);options=L(Tu,{optional:!0})||{};pendingTasks=L(Fs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(ex);urlSerializer=L(Du);location=L(Fl);urlHandlingStrategy=L(KC);injector=L(hn);_events=new Cn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(BV);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(Iu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(P0,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new bn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=_i(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof zs&&i.code!==Yi.Redirect&&i.code!==Yi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ns)this.navigated=!0;else if(i instanceof mf){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=F({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Coe(r.source)},s);this.scheduleNavigation(a,cf,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}wre(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=F({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o).catch(l=>{this.disposed||this.injector.get(Br)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return _i(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(dM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let m;try{let _=r?r.snapshot:this.routerState.snapshot.root;m=vV(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return yV(m,t,d,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=df(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,cf,null,i)}navigate(t,i={skipLocationChange:!1}){return Doe(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=F({},Soe):i===!1?r=F({},Eoe):r=i,df(t))return J4(this.currentUrlTree,t,r);let o=this.parseUrl(t);return J4(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((m,_)=>{a=m,l=_});let d=this.pendingTasks.add();return tx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Doe(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ee(4008,!1)}var F0=class{};var jV=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(t=>t instanceof ns),Ms(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Jp(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Wt(r).pipe(Mp())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=_e(null);let o=r.pipe(sn(s=>s===null?_e(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(t,i);return Wt([o,s]).pipe(Mp())}else return o})}static \u0275fac=function(i){return new(i||n)(be(Zi),be(hn),be(F0),be(JC))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qV=new le(""),Aoe=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=cf;restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ns?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Gs&&t.code===pf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(async()=>{await new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new hf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){MT()};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function vM(n,...e){return Al([{provide:Iu,multi:!0,useValue:n},[],{provide:ja,useFactory:UV,deps:[Zi]},{provide:Jg,multi:!0,useFactory:$V},e.map(t=>t.\u0275providers)])}function UV(n){return n.routerState.root}function L0(n,e){return{\u0275kind:n,\u0275providers:e}}function $V(){let n=L(Nn);return e=>{let t=n.get(Pa);if(e!==t.components[0])return;let i=n.get(Zi),r=n.get(HV);n.get(yM)===1&&i.initialNavigation(),n.get(GV,null,{optional:!0})?.setUpPreloading(),n.get(qV,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var HV=new le("",{factory:()=>new Cn}),yM=new le("",{providedIn:"root",factory:()=>1});function zV(){let n=[{provide:dT,useValue:!0},{provide:yM,useValue:0},Kb(()=>{let e=L(Nn);return e.get(pI,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(Zi),o=e.get(HV);tx(r,()=>{i(!0)}),e.get(ex).afterPreactivation=()=>(i(!0),o.closed?_e(void 0):o),r.initialNavigation()}))})];return L0(2,n)}function WV(){let n=[Kb(()=>{L(Zi).setUpLocationChangeListener()}),{provide:yM,useValue:2}];return L0(3,n)}var GV=new le("");function QV(n){return L0(0,[{provide:GV,useExisting:jV},{provide:F0,useExisting:n}])}function YV(){return L0(8,[cM,{provide:P0,useExisting:cM}])}function ZV(n){Xo("NgRouterViewTransitions");let e=[{provide:fM,useValue:LV},{provide:hM,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return L0(9,e)}var XV=[Fl,{provide:Du,useClass:Bl},Zi,Au,{provide:ja,useFactory:UV,deps:[Zi]},JC,[]],_M=(()=>{class n{constructor(){}static forRoot(t,i){return{ngModule:n,providers:[XV,[],{provide:Iu,multi:!0,useValue:t},[],i?.errorHandler?{provide:mM,useValue:i.errorHandler}:[],{provide:Tu,useValue:i||{}},i?.useHash?Ioe():Moe(),Toe(),i?.preloadingStrategy?QV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?koe(i):[],i?.bindToComponentInputs?YV().\u0275providers:[],i?.enableViewTransitions?ZV().\u0275providers:[],Roe()]}}static forChild(t){return{ngModule:n,providers:[{provide:Iu,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Vr({type:n});static \u0275inj=lr({})}return n})();function Toe(){return{provide:qV,useFactory:()=>{let n=L(T4),e=L(an),t=L(Tu),i=L(ex),r=L(Du);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Aoe(r,i,n,e,t)}}}function Ioe(){return{provide:Fa,useClass:bI}}function Moe(){return{provide:Fa,useClass:sC}}function koe(n){return[n.initialNavigation==="disabled"?WV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?zV().\u0275providers:[]]}var gM=new le("");function Roe(){return[{provide:gM,useFactory:$V},{provide:Jg,multi:!0,useExisting:gM}]}var s5=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(we(mo),we(Fn))};static \u0275dir=ut({type:n})}return n})(),Sf=(()=>{class n extends s5{static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,features:[wn]})}return n})(),Mu=new le(""),Ooe={provide:Mu,useExisting:Pn(()=>SM),multi:!0},SM=(()=>{class n extends Sf{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&D("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ri([Ooe]),wn]})}return n})(),Foe={provide:Mu,useExisting:Pn(()=>Vt),multi:!0};function Loe(){let n=go()?go().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Boe=new le(""),Vt=(()=>{class n extends s5{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Loe())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(we(mo),we(Fn),we(Boe,8))};static \u0275dir=ut({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&D("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Ri([Foe]),wn]})}return n})();function a5(n){return n==null||EM(n)===0}function EM(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ql=new le(""),l5=new le("");function Voe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function joe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function qoe(n){return a5(n.value)?{required:!0}:null}function Uoe(n){return e=>{let t=e.value?.length??EM(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function $oe(n){return e=>{let t=e.value?.length??EM(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Hoe(n){if(!n)return bM;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(a5(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function bM(n){return null}function c5(n){return n!=null}function u5(n){return Nl(n)?Wt(n):n}function d5(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function p5(n,e){return e.map(t=>t(n))}function zoe(n){return!n.validate}function f5(n){return n.map(e=>zoe(e)?e:t=>e.validate(t))}function Woe(n){if(!n)return null;let e=n.filter(c5);return e.length==0?null:function(t){return d5(p5(t,e))}}function DM(n){return n!=null?Woe(f5(n)):null}function Goe(n){if(!n)return null;let e=n.filter(c5);return e.length==0?null:function(t){let i=p5(t,e).map(u5);return f2(i).pipe(Be(d5))}}function AM(n){return n!=null?Goe(f5(n)):null}function JV(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Qoe(n){return n._rawValidators}function Yoe(n){return n._rawAsyncValidators}function CM(n){return n?Array.isArray(n)?n:[n]:[]}function ix(n,e){return Array.isArray(n)?n.includes(e):n===e}function KV(n,e){let t=CM(e);return CM(n).forEach(r=>{ix(t,r)||t.push(r)}),t}function e5(n,e){return CM(e).filter(t=>!ix(n,t))}var rx=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},xf=class extends rx{name;get formDirective(){return null}get path(){return null}},wf=class extends rx{_parent=null;name=null;valueAccessor=null},ox=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Zoe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},HPe=J(F({},Zoe),{"[class.ng-submitted]":"isSubmitted"}),Qt=(()=>{class n extends ox{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(we(wf,2))};static \u0275dir=ut({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&yt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[wn]})}return n})(),ti=(()=>{class n extends ox{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(we(xf,10))};static \u0275dir=ut({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&yt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[wn]})}return n})();var B0="VALID",nx="INVALID",bf="PENDING",V0="DISABLED",jl=class{},sx=class extends jl{value;source;constructor(e,t){super(),this.value=e,this.source=t}},q0=class extends jl{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},U0=class extends jl{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Cf=class extends jl{status;source;constructor(e,t){super(),this.status=e,this.source=t}},xM=class extends jl{source;constructor(e){super(),this.source=e}},wM=class extends jl{source;constructor(e){super(),this.source=e}};function h5(n){return(cx(n)?n.validators:n)||null}function Xoe(n){return Array.isArray(n)?DM(n):n||null}function m5(n,e){return(cx(e)?e.asyncValidators:n)||null}function Joe(n){return Array.isArray(n)?AM(n):n||null}function cx(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Koe(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new ee(1e3,"");if(!i[t])throw new ee(1001,"")}function ese(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new ee(1002,"")})}var ax=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return _i(this.statusReactive)}set status(e){_i(()=>this.statusReactive.set(e))}_status=K(()=>this.statusReactive());statusReactive=B(void 0);get valid(){return this.status===B0}get invalid(){return this.status===nx}get pending(){return this.status==bf}get disabled(){return this.status===V0}get enabled(){return this.status!==V0}errors;get pristine(){return _i(this.pristineReactive)}set pristine(e){_i(()=>this.pristineReactive.set(e))}_pristine=K(()=>this.pristineReactive());pristineReactive=B(!0);get dirty(){return!this.pristine}get touched(){return _i(this.touchedReactive)}set touched(e){_i(()=>this.touchedReactive.set(e))}_touched=K(()=>this.touchedReactive());touchedReactive=B(!1);get untouched(){return!this.touched}_events=new Cn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(e5(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(e5(e,this._rawAsyncValidators))}hasValidator(e){return ix(this._rawValidators,e)}hasAsyncValidator(e){return ix(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(J(F({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new U0(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new U0(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(J(F({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new q0(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new q0(!0,i))}markAsPending(e={}){this.status=bf;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cf(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(J(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=V0,this.errors=null,this._forEachChild(r=>{r.disable(J(F({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sx(this.value,i)),this._events.next(new Cf(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=B0,this._forEachChild(i=>{i.enable(J(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(J(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B0||this.status===bf)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sx(this.value,t)),this._events.next(new Cf(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(J(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?V0:B0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bf,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=u5(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Cf(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?V0:this.errors?nx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bf)?bf:this._anyControlsHaveStatus(nx)?nx:B0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new q0(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new U0(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cx(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Xoe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Joe(this._rawAsyncValidators)}},lx=class extends ax{constructor(e,t,i){super(h5(t),m5(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ese(this,!0,e),Object.keys(e).forEach(i=>{Koe(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ux=new le("",{providedIn:"root",factory:()=>dx}),dx="always";function tse(n,e){return[...e.path,n]}function g5(n,e,t=dx){v5(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),ise(n,e),ose(n,e),rse(n,e),nse(n,e)}function t5(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nse(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function v5(n,e){let t=Qoe(n);e.validator!==null?n.setValidators(JV(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Yoe(n);e.asyncValidator!==null?n.setAsyncValidators(JV(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();t5(e._rawValidators,r),t5(e._rawAsyncValidators,r)}function ise(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&y5(n,e)})}function rse(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&y5(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function y5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ose(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function sse(n,e){n==null,v5(n,e)}function ase(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function lse(n){return Object.getPrototypeOf(n.constructor)===Sf}function cse(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function use(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Vt?t=o:lse(o)?i=o:r=o}),r||i||t||null}var dse={provide:xf,useExisting:Pn(()=>Vn)},j0=Promise.resolve(),Vn=(()=>{class n extends xf{callSetDisabledState;get submitted(){return _i(this.submittedReactive)}_submitted=K(()=>this.submittedReactive());submittedReactive=B(!1);_directives=new Set;form;ngSubmit=new vt;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new lx({},DM(t),AM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){j0.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),g5(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){j0.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){j0.then(()=>{let i=this._findContainer(t.path),r=new lx({});sse(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){j0.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){j0.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),cse(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new xM(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new wM(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(we(ql,10),we(l5,10),we(ux,8))};static \u0275dir=ut({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&D("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ri([dse]),wn]})}return n})();function n5(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function i5(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var pse=class extends ax{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(h5(t),m5(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cx(t)&&(t.nonNullable||t.initialValueIsDefault)&&(i5(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){n5(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){n5(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){i5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var fse={provide:wf,useExisting:Pn(()=>$t)},r5=Promise.resolve(),$t=(()=>{class n extends wf{_changeDetectorRef;callSetDisabledState;control=new pse;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new vt;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=use(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ase(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){g5(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){r5.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&o0(i);r5.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?tse(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(we(xf,9),we(ql,10),we(l5,10),we(Mu,10),we(js,8),we(ux,8))};static \u0275dir=ut({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ri([fse]),wn,Yo]})}return n})();var ni=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ut({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),hse={provide:Mu,useExisting:Pn(()=>TM),multi:!0},TM=(()=>{class n extends Sf{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&D("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ri([hse]),wn]})}return n})(),mse={provide:Mu,useExisting:Pn(()=>IM),multi:!0};var gse=(()=>{class n{_accessors=[];add(t,i){this._accessors.push([t,i])}remove(t){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===t){this._accessors.splice(i,1);return}}select(t){this._accessors.forEach(i=>{this._isSameGroup(i,t)&&i[1]!==t&&i[1].fireUncheck(t.value)})}_isSameGroup(t,i){return t[0].control?t[0]._parent===i._control._parent&&t[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IM=(()=>{class n extends Sf{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=L(ux,{optional:!0})??dx;constructor(t,i,r,o){super(t,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(wf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(we(mo),we(Fn),we(gse),we(Nn))};static \u0275dir=ut({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&D("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Ri([mse]),wn]})}return n})();var vse={provide:Mu,useExisting:Pn(()=>yo),multi:!0};function _5(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function yse(n){return n.split(":")[0]}var yo=(()=>{class n extends Sf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=L(Pa).injector;destroyRef=L(cr);cdr=L(js);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Xg({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let i=this._getOptionId(t),r=_5(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=yse(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&D("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ri([vse]),wn]})}return n})(),ii=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(_5(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(we(Fn),we(mo),we(yo,9))};static \u0275dir=ut({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),_se={provide:Mu,useExisting:Pn(()=>b5),multi:!0};function o5(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function bse(n){return n.split(":")[0]}var b5=(()=>{class n extends Sf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=bse(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&D("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ri([_se]),wn]})}return n})(),ri=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(o5(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(o5(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(we(Fn),we(mo),we(b5,9))};static \u0275dir=ut({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function C5(n){return typeof n=="number"?n:parseInt(n,10)}function x5(n){return typeof n=="number"?n:parseFloat(n)}var Ef=(()=>{class n{_validator=bM;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):bM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ut({type:n,features:[Yo]})}return n})(),Cse={provide:ql,useExisting:Pn(()=>MM),multi:!0},MM=(()=>{class n extends Ef{max;inputName="max";normalizeInput=t=>x5(t);createValidator=t=>joe(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&et("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[Ri([Cse]),wn]})}return n})(),xse={provide:ql,useExisting:Pn(()=>kM),multi:!0},kM=(()=>{class n extends Ef{min;inputName="min";normalizeInput=t=>x5(t);createValidator=t=>Voe(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&et("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Ri([xse]),wn]})}return n})(),wse={provide:ql,useExisting:Pn(()=>bi),multi:!0};var bi=(()=>{class n extends Ef{required;inputName="required";normalizeInput=o0;createValidator=t=>qoe;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&et("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ri([wse]),wn]})}return n})();var Sse={provide:ql,useExisting:Pn(()=>RM),multi:!0},RM=(()=>{class n extends Ef{minlength;inputName="minlength";normalizeInput=t=>C5(t);createValidator=t=>Uoe(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&et("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Ri([Sse]),wn]})}return n})(),Ese={provide:ql,useExisting:Pn(()=>NM),multi:!0},NM=(()=>{class n extends Ef{maxlength;inputName="maxlength";normalizeInput=t=>C5(t);createValidator=t=>$oe(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&et("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Ri([Ese]),wn]})}return n})(),Dse={provide:ql,useExisting:Pn(()=>$0),multi:!0},$0=(()=>{class n extends Ef{pattern;inputName="pattern";normalizeInput=t=>t;createValidator=t=>Hoe(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static \u0275dir=ut({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&et("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Ri([Dse]),wn]})}return n})();var Ase=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Vr({type:n});static \u0275inj=lr({})}return n})();var ft=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ux,useValue:t.callSetDisabledState??dx}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Vr({type:n});static \u0275inj=lr({imports:[Ase]})}return n})();var Tse={en:{signIn:"Sign In",createAccount:"Create Account",email:"Email",password:"Password",name:"Full Name",role:"Role",client:"Client",professional:"Professional",register:"Register",login:"Login",logout:"Logout",dashboard:"Dashboard",schedule:"Schedule",search:"Search",profile:"Profile",admin:"Admin",language:"Language",english:"English",portuguese:"Portugu\xEAs",currency:"EUR",unassigned:"Unassigned",unknownClient:"Unknown Client",noChangesDetected:"No changes detected.",errorInvalidFileFormat:"Invalid file format. Please use JPG, PNG, or GIF.",errorImageTooLarge:"Image is too large. Maximum size is 2MB.",errorCameraNotSupported:"Camera access is not supported by your browser.",errorAccessingCamera:"Error accessing camera.",pushNotificationsBlocked:"Push notifications are blocked. Please enable them in your browser settings.",noDataToExport:"No financial data to export.",reportExported:"Financial report exported successfully.",confirmRejectRegistration:"Are you sure you want to reject this registration?",confirmDeleteCategory:'Are you sure you want to delete the category "{category}"?',backToHome:"Back to Home",forgotPassword:"Forgot your password?",dontHaveAccount:"Don't have an account?",streetAddress:"Complete Address",streetAddressPlaceholder:"Street/Avenue, number, floor (e.g.: Rua Augusta, 123, 2\xBA)",postalCode:"Postal Code",postalCodePlaceholder:"0000-000",locality:"Locality",localityPlaceholder:"Lisbon, Porto, Coimbra...",district:"District",selectDistrict:"Select district",concelho:"Municipality (Optional)",concelhoPlaceholder:"Lisbon, Porto, Sintra...",freguesia:"Parish (Optional)",postalCodeInvalidFormat:"Format: 0000-000",itemsPerPage:"Items per page",showing:"Showing",to:"to",of:"of",results:"results",pendingApproval:"Pending",activeRequests:"Active",completed:"Completed",myRequests:"My Requests",noRequestsFound:"No requests found",activeJobs:"Active Jobs",completedJobs:"Completed Jobs",totalEarnings:"Total Earnings",totalRevenue:"Total Revenue",pendingApprovals:"Pending Approvals",activeServices:"Active Services",totalProfessionals:"Total Professionals",csvId:"ID",csvClient:"Client",csvProfessional:"Professional",csvService:"Service",csvCompletionDate:"Completion Date",csvPaymentStatus:"Payment Status",csvBaseValue:"Base Value",csvTax:"Tax (7%)",csvTotalValue:"Total Value",awaitingQuote:"Awaiting Quote",mobileRotateDeviceTip:"Tip: Rotate device for better calendar view",selectTime:"Select a time",serviceDetails:"Service Details",serviceRequestDetails:"Service Request Details",noCategoriesAvailable:"No categories available",description:"Description",category:"Category",address:"Address",appName:"HomeService",menu:"Menu",newRequest:"New Request",loadingUser:"Loading user...",accountVerification:"Account Verification",verificationCodeSentTo:"A verification code was sent to",checkEmailBeforeAccess:"Please check your email and enter the verification code to access the application.",verificationCode:"Verification Code",verify:"Verify",resendCode:"Resend Code",noServiceRequestsFound:"No service requests found",viewRequestDetails:"View Request Details",chat:"Chat",approve:"Approve",reject:"Reject",payNow:"Pay Now",choosePaymentMethod:"Choose Payment Method",confirmPayment:"Confirm Payment",paid:"Paid",requested:"Requested",scheduled:"Scheduled",validateQuote:"Validate Quote",emailVerificationRequired:"Email verification required. Please check your inbox.",exportToCsv:"Export to CSV",addProfessional:"Add Professional",serviceCategories:"Service Categories",totalSubcategories:"Total Subcategories",subcategories:"Subcategories",subcategoriesOf:"Subcategories of {category}",noSubcategories:"No subcategories",expand:"Expand",collapse:"Collapse",subcategoryName:"New subcategory",addSubcategory:"Add Subcategory",deleteSubcategory:"Delete Subcategory",editSubcategory:"Edit Subcategory",subcategoryDetails:"Subcategory Details",priced:"Priced",quoted:"Quoted",averageTime:"Average Time",type:"Type",noDescription:"No description provided",confirmDeleteSubcategory:"Confirm deletion of subcategory: {subcategory}?",editCategory:"Edit Category",save:"Save",companyAddress:"123 Service Lane, Anytown",invoice:"Invoice",appNameFull:"HomeService Solutions",quote:"Quote",details:"Details",scheduleAppointmentFor:"Schedule Appointment for",selectProfessional:"Select Professional",selectAProfessional:"Select a Professional",selectDate:"Select Date",cancel:"Cancel",confirmSchedule:"Confirm Schedule",pendingActions:"Pending Actions",request:"Request",status:"Status",actions:"Actions",availableActions:"Available Actions",viewQuote:"View Quote",provideQuote:"Provide Quote",provideClarification:"Provide Clarification",approveQuote:"Approve Quote",requestRevision:"Request Revision",assign:"Assign",assignProfessional:"Assign Professional",noRequestsNeedAttention:"No requests need attention",service:"Service",cost:"Cost",pendingRegistrations:"Pending Registrations",phone:"Phone",noPendingRegistrations:"No pending registrations",completedServices:"Completed Services",totalTax:"Total Tax",outstandingAmount:"Outstanding Amount",registrationSuccessful:"Registration Successful",password_reset_success:"Password reset successful! You can now log in with your new password.",newServiceRequest:"New Service Request",title:"Title",titlePlaceholder:"Enter service title...",selectCategory:"Select a category...",subcategory:"Subcategory",selectSubcategory:"Select a subcategory",descriptionPlaceholder:"Describe what you need...",dateTime:"Date & Time",dateTimePlaceholder:"Select preferred date and time",requestedDateTimeHelp:"When would you like this service to be performed?",validFutureDateTime:"Please select a valid future date and time",complement:"Address Complement",complementPlaceholder:"Apartment, floor, reference (optional)",submitting:"Submitting",submitRequest:"Submit Request",requestedClarification:"Requested Clarification",yourClarification:"Your Clarification",enterClarificationPlaceholder:"Please provide the requested clarification...",clarificationHelp:"Provide as much detail as possible to help us understand your requirements.",sendClarification:"Send Clarification",clarifications:"Clarifications",unread:"unread",addNewQuestion:"Add New Question",questionTitle:"Question Title",questionTitlePlaceholder:"Brief summary of your question...",questionContent:"Question Details",questionContentPlaceholder:"Describe your question in detail...",addQuestion:"Add Question",question:"Question",answer:"Answer",new:"New",by:"by",delete:"Delete",addAnswer:"Add Answer",answerTitle:"Answer Title",answerTitlePlaceholder:"Brief summary of your answer...",answerContent:"Answer Details",answerContentPlaceholder:"Provide your detailed answer...",noClarificationsYet:"No clarifications yet",addFirstQuestion:"Add the first question to start a discussion",confirmDeleteClarification:"Are you sure you want to delete this clarification?",timeControl:"Time Control",requestedDateTime:"Requested Date & Time",scheduledStartDateTime:"Scheduled Start Date & Time",estimatedDuration:"Estimated Duration",actualDuration:"Actual Duration",actualStartDateTime:"Actual Start Date & Time",actualEndDateTime:"Actual End Date & Time",startWork:"Start Work",finishWork:"Finish Work",serviceCompleted:"Service Completed",serviceInProgress:"Service In Progress",awaitingSchedule:"Awaiting Schedule",noActionAvailable:"No Action Available",adminActions:"Admin Actions",useSchedulerToManage:"Use the scheduler to manage this service",scheduleService:"Schedule Service",serviceInformation:"Service Information",notSpecified:"Not Specified",selectOption:"Select an option",specialist:"Specialist",noProfessionalsAvailable:"No professionals available for this category",scheduledDate:"Scheduled Date",scheduledTime:"Scheduled Time",hours:"Hours",minutes:"Minutes",totalDuration:"Total Duration",serviceDescription:"Service Description",serviceAddress:"Service Address",timeReports:"Time Reports",exportCSV:"Export CSV",filters:"Filters",period:"Period",today:"Today",lastWeek:"Last Week",lastMonth:"Last Month",customPeriod:"Custom Period",allCategories:"All Categories",startDate:"Start Date",endDate:"End Date",totalRequests:"Total Requests",completionRate:"Completion Rate",averageDuration:"Average Duration",onTimePercentage:"On Time Percentage",professionalProductivity:"Professional Productivity",completedServicesCount:"Completed Services",noDataAvailable:"No data available",todayScheduledServices:"Today's Scheduled Services",delayedServices:"Delayed Services",delayed:"Delayed",detailedServiceList:"Detailed Service List",professionalName:"Professional",scheduledLabel:"Scheduled",duration:"Duration",estimated:"Estimated",actual:"Actual",accessDenied:"Access Denied",adminAccessRequired:"Administrator access required",schedulingInformation:"Scheduling Information",inMinutes:"in minutes",durationHelpText:"Duration in minutes (minimum 15, increments of 15)",quickSelect:"Quick Select",clientRequestedFor:"Client requested for",assignAndSchedule:"Assign & Schedule",professionalAssigned:"Professional {professional} assigned to request #{id}.",professionalAssignedAndScheduled:"Professional {professional} assigned to request #{id} and scheduled for {date}.",newExecutionDateProposed:"New Execution Date Proposed",executionDateProposedMessage:"Proposed date: {date} at {time}. Notes: {notes}",executionDateApprovedByClient:"Execution Date Approved by Client",executionDateRejectedByClient:"Execution Date Rejected by Client",executionDateApprovedMessage:"The client approved the execution date for request #{requestId}.",executionDateRejectedMessage:"The client rejected the execution date for request #{requestId}. Reason: {reason}",approveExecutionDate:"Approve Date",rejectExecutionDate:"Reject Date",executionDateProposed:"Execution date proposed for request #{id}",executionDateApproved:"Execution date approved for request #{id}",executionDateRejected:"Execution date rejected for request #{id}",errorCameraPermissionDenied:"Camera permission was denied. Please allow camera access and try again.",errorNoCameraFound:"No camera found on this device.",errorCameraInUse:"Camera is already in use by another application.",errorCameraConstraints:"Camera constraints are not supported by your device.",errorVideoNotAvailable:"Video stream is not available.",errorVideoNotReady:"Video is not ready for capture. Please wait a moment.",errorCanvasNotSupported:"Canvas is not supported by your browser.",errorCapturingPhoto:"Error capturing photo. Please try again.",errorUploadingPhoto:"Error uploading photo. Please try again.",errorVideoPlayback:"Error playing video stream.",photoUploadedSuccessfully:"Photo uploaded successfully!",uploadPhoto:"Upload Photo",useCamera:"Use Camera",capturePhoto:"Capture Photo",capture:"Capture",saveChanges:"Save Changes",mySpecialties:"My Specialties",emailAddress:"Email Address",loadingCamera:"Loading camera...",cameraInstructions:"Position yourself in the frame and click capture when ready.",solutionPermissionDenied:"\u{1F4A1} Solution: Click the camera icon in the address bar and allow camera access, then reload the page.",solutionNoCameraFound:"\u{1F4A1} Solution: Connect a camera to your device or check if it's working in other apps.",solutionCameraInUse:"\u{1F4A1} Solution: Close other apps that might be using the camera (Teams, Zoom, Skype, etc.) and try again.",solutionCameraConstraints:"\u{1F4A1} Solution: Try using a different camera or check camera settings.",solutionCameraAborted:"\u{1F4A1} Solution: The operation was cancelled. Please try again.",solutionCameraTypeError:"\u{1F4A1} Solution: This appears to be a browser compatibility issue. Try using Chrome or updating your browser.",errorCameraAborted:"Camera operation was cancelled.",errorCameraTypeError:"Browser compatibility issue with camera access.",forgotPasswordDescription:"Enter your email address and we'll send you a verification code to reset your password.",sendResetCode:"Send Reset Code",resetCodeSent:"Reset code sent!",resetCodeSentDescription:"We've sent a 6-digit verification code to:",proceedToVerification:"I have the code",rememberPassword:"Remember your password?",backToLogin:"Back to Login",sending:"Sending...",resending:"Resending...",verifyCode:"Verify Code",verifyCodeDescription:"Enter the 6-digit code we sent to your email:",codeFromEmail:"Check your email for the 6-digit code",verifying:"Verifying...",newPassword:"New Password",newPasswordDescription:"Choose a strong password for your account.",newPasswordPlaceholder:"Enter your new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your new password",passwordRequirements:"Minimum 6 characters",passwordStrength:"Password Strength",updatePassword:"Update Password",updatingPassword:"Updating...",backToCodeVerification:"Back to Code Verification",emailPlaceholder:"Enter your email address",or:"or",ok:"OK",landingAboutTitle:"About Us",landingAboutText1:"Natan Construtora has been operating in the civil construction market for over 20 years, focusing on quality, innovation, and meeting deadlines. Our mission is to build with quality, responsibility, and purpose, delivering projects that exceed expectations and turn dreams into reality, with commitment to deadlines, safety, and technical excellence.",landingAboutText2:"Our vision is to be a reference in civil construction, recognized for innovation, reliability, and positive impact in the communities where we operate, becoming the first choice for clients and partners.",landingServicesTitle:"Our Services",landingServicesProjects:"Projects",landingServicesProjects1:"Houses, condominiums, and buildings",landingServicesProjects2:"Stores, offices, warehouses",landingServicesConstruction:"Construction",landingServicesConstruction1:"Commercial",landingServicesConstruction2:"Residential",landingServicesRenovation:"Renovations and Expansions",landingServicesRenovation1:"Modernizations and adaptations",landingServicesRenovation2:"Technical coordination and schedules",landingServicesConsulting:"Technical Consulting",landingServicesConsulting1:"Structural support",landingServicesConsulting2:"Legalizations",landingServicesFooter:"From foundation to key handover",landingContactsTitle:"Contacts",landingContactsEmail:"Email:",landingContactsPhone:"Phone:",landingContactsMobile:"Mobile:",landingDescription:"Connect with trusted home service professionals in your area. Quality work, verified experts, and reliable service you can count on.",registerTitle:"Create a new account",registerLoginLink:"sign in to your existing account",loggingIn:"Logging in...",iAmA:"I am a",emailNotVerifiedLogin:"Please verify your email before logging in. Check your email for the verification link.",welcomeBack:"Welcome!",dashboardSummary:"Here is a summary of your activity.",requestDate:"Request Date",costAndPayment:"Cost and Payment",paymentStatus:"Payment Status",assignedProfessional:"Assigned Professional",professionalId:"Professional ID",requestId:"Request ID",close:"Close",month:"Month",week:"Week",day:"Day",agenda:"Agenda",allDay:"All Day",noEventsForDay:"No events for this day",moreEvents:"more events",Requested:"Requested",InAnalysis:"In Analysis",AwaitingClarifications:"Awaiting Clarifications",QuoteSent:"Quote Sent",AwaitingQuoteApproval:"Awaiting Quote Approval",QuoteApproved:"Quote Approved",QuoteRejected:"Quote Rejected",AwaitingExecutionDate:"Awaiting Execution Date",DateProposedByAdmin:"Date Proposed by Admin",AwaitingDateApproval:"Awaiting Date Approval",DateApprovedByClient:"Date Approved by Client",DateRejectedByClient:"Date Rejected by Client",SearchingProfessional:"Searching Professional",ProfessionalSelected:"Professional Selected",AwaitingProfessionalConfirmation:"Awaiting Professional Confirmation",Scheduled:"Scheduled",InProgress:"In Progress",CompletedAwaitingApproval:"Completed - Awaiting Approval",Completed:"Completed",Cancelled:"Cancelled",statusQuoted:"Quoted",statusApproved:"Approved",statusScheduled:"Scheduled",statusInProgress:"In Progress",statusCompleted:"Completed",statusCancelled:"Cancelled",statusAwaitingExecutionDate:"Awaiting Execution Date",statusDateProposedByAdmin:"Date Proposed by Admin",statusAwaitingDateApproval:"Awaiting Date Approval",statusDateApprovedByClient:"Date Approved by Client",statusDateRejectedByClient:"Date Rejected by Client",statusAnalyzing:"Analyzing",statusAwaitingClarification:"Awaiting Clarification",statusAwaitingQuoteApproval:"Awaiting Quote Approval",statusQuoteRejected:"Quote Rejected",statusSearchingProfessional:"Searching Professional",statusProfessionalSelected:"Professional Selected",statusAwaitingProfessionalConfirmation:"Awaiting Professional Confirmation",statusCompletedAwaitingApproval:"Completed - Awaiting Approval",statusRequested:"Requested",statusInAnalysis:"In Analysis",statusAwaitingClarifications:"Awaiting Clarifications",statusQuoteSent:"Quote Sent",statusScheduledEn:"Scheduled",statusCompletedEn:"Completed",statusPending:"Pending",notifications:"Notifications",noNewNotifications:"You have no new notifications.",markAllAsRead:"Mark all as read",clearAll:"Clear All",noMessages:"No messages yet. Start the conversation!",typeMessage:"Type your message...",searchServiceRequests:"Search Service Requests",searchTerm:"Search Term",searchTermPlaceholder:"Enter search term...",completedRequests:"Completed Requests",fullName:"Full Name",statusChangedFromTo:'Request #{id} status changed from "{from}" to "{to}"',paymentStatusChanged:'Request #{id} payment status changed to "{status}"',professionalApproved:"Professional {name} has been approved",professionalRejected:"Professional {name} has been rejected",userStatusUpdated:'User #{id} status updated to "{status}"',overview:"Overview",requests:"Requests",approvals:"Approvals",finances:"Finances",professionals:"Professionals",categories:"Categories",clients:"Clients",financialDetails:"Financial Details",date:"Date",payment:"Payment",total:"Total",action:"Action",generateInvoice:"Generate Invoice",manageProfessionals:"Manage Professionals",addNewProfessional:"Add New Professional",specialties:"Specialties",edit:"Edit",addNewCategory:"Add New Category",categoryName:"Category Name",add:"Add",quoteFor:"Quote for",quoteValue:"Quote Value",submit:"Submit",assignProfessionalToScheduled:"Assign Professional to Scheduled Service",selectProfessionalFor:"Select a professional for",editProfessional:"Edit Professional",proposeExecutionDate:"Propose Execution Date",proposeExecutionDateFor:"Propose execution date for",proposedDate:"Proposed Date",proposedTime:"Proposed Time",notesForClient:"Notes for Client",optional:"Optional",notesForClientPlaceholder:"Additional information about the proposed date...",approvedAmount:"Approved Amount",clientOriginallyRequestedFor:"Client originally requested for",proposeDate:"Propose Date",billedTo:"Billed To",serviceProvidedBy:"Service Provided By",subtotal:"Subtotal",tax:"Tax",grandTotal:"Grand Total",thankYou:"Thank you for your business!",print:"Print",quoteSubmitted:"Quote submitted for request #{id}",quoteApproved:"Quote approved for request #{id}",quoteRejected:"Quote rejected for request #{id}",fillRequiredFields:"Please fill in all required fields",professionalAdded:"Professional {name} added successfully",professionalUpdated:"Professional {name} updated successfully",categoryAdded:"Category '{category}' added successfully",categoryAlreadyExists:"Category already exists",categoryUpdated:"Category updated from '{old}' to '{new}'",categoryDeleted:"Category '{category}' deleted successfully",analyzeRequest:"Analyze Request",requestClarification:"Request Clarification",sendQuote:"Send Quote",requestAnalysisStarted:"Analysis started for '{title}'",errorAnalyzingRequest:"Error analyzing request. Please try again.",enterClarificationRequest:"Enter your clarification request:",clarificationRequestSent:"Clarification request sent for '{title}'",errorRequestingClarification:"Error requesting clarification. Please try again.",manageClients:"Manage Clients",clientManagementDescription:"View and manage all registered clients in the system",services:"Services",totalSpent:"Total Spent",lastService:"Last Service",activateClient:"Activate Client",deactivateClient:"Deactivate Client",approveClient:"Approve Client",rejectClient:"Reject Client",confirmDeactivateClient:"Are you sure you want to deactivate client?",clientActivated:"Client {name} has been activated",clientDeactivated:"Client {name} has been deactivated",noClientsFound:"No Clients Found",noClientsDescription:"No clients have registered yet. Clients will appear here once they create accounts.",emailNotVerified:"Email not verified",never:"Never",viewDetails:"View Details",totalServices:"Total Services",activate:"Activate",deactivate:"Deactivate",professionalResponses:"Professional Responses",requestInformation:"Request Information",loadingServiceRequest:"Loading service request...",startService:"Start Service",finishService:"Finish Service",completeService:"Complete Service",nameNotAvailable:"Name not available",pending:"Pending",createdAt:"Created At",priority:"Priority",high:"High",medium:"Medium",low:"Low",responded:"Responded",accepted:"Accepted",rejected:"Rejected",workflow_progress:"Workflow Progress",phase:"Phase",current_status:"Current Status",in_progress:"In Progress",possible_states:"Possible States",timing_information:"Timing Information",requested_at:"Requested At",scheduled_for:"Scheduled For",started_at:"Started At",completed_at:"Completed At",creditCard:"Credit Card",mbway:"MB WAY",bankTransfer:"Bank Transfer",statusGraphTitle:"Service Status Overview",categoryDistributionTitle:"Order Distribution by Category",categoryDistributionChart:"Category Distribution Chart",ordersByCategory:"Orders by Category",totalOrders:"Total Orders",activeClients:"Active Clients",noCategory:"No Category",quickActions:"Quick Actions",newService:"New Service",generateReport:"Generate Report",viewAllRequests:"View All Requests",manageUsers:"Manage Users",vsLastMonth:"vs last month",vsLastWeek:"vs last week",newToday:"new today",urgentItems:"urgent items",featureComingSoon:"Feature coming soon",temporalEvolutionTitle:"Request Evolution (Last 30 Days)",recentActivities:"Recent Activities",lastUpdate:"Last update",noRecentActivities:"No recent activities",requestCreated:"Request created",requestUpdated:"Request updated",requestCompleted:"Request completed",userRegistered:"User registered",paymentReceived:"Payment received",minutesAgo:"minutes ago",hoursAgo:"hours ago",daysAgo:"days ago",clearFilters:"Clear Filters",quickFilters:"Quick Filters",all:"All",searchPlaceholder:"Search by title, ID or postal code...",activeFilters:"Active Filters",sortBy:"Sort by",sortByDate:"Date",sortByStatus:"Status",sortById:"ID",sortByCategory:"Category",sortByClient:"Client",sortByProfessional:"Professional",ascending:"Ascending",descending:"Descending",clickToSort:"Click to sort",landingCtaQuote:"Request a Quote",landingCtaServices:"Explore Our Services",landingStatsYears:"Years of Experience",landingStatsProjects:"Projects Completed",landingStatsSatisfaction:"Customer Satisfaction",landingDifferential1Title:"Guaranteed Quality",landingDifferential1Text:"Top-quality materials and skilled workmanship",landingDifferential2Title:"On-Time Delivery",landingDifferential2Text:"Strict commitment to established schedules",landingDifferential3Title:"Total Satisfaction",landingDifferential3Text:"Personalized service from start to finish",landingDifferential4Title:"Constant Innovation",landingDifferential4Text:"Modern techniques and sustainable solutions",landingContactsInfo:"Get in Touch",landingSocialMedia:"Follow us",landingQuoteFormTitle:"Request a Quote",landingFormName:"Name",landingFormNamePlaceholder:"Your full name",landingFormEmail:"Email",landingFormEmailPlaceholder:"youremail@example.com",landingFormPhone:"Phone",landingFormPhonePlaceholder:"+351 000 000 000",landingFormService:"Service Type",landingFormServiceSelect:"Select a service",landingFormMessage:"Message",landingFormMessagePlaceholder:"Describe your project...",landingFormSubmit:"Send Request",landingWhatsAppMessage:"Hello! I would like to request a quote.",landingFooterTagline:"Building dreams for over 20 years",landingFooterPrivacy:"Privacy Policy",landingFooterTerms:"Terms of Use",landingFooterContact:"Contact",streetPlaceholder:"Street/Avenue, number, floor (e.g.: Rua Augusta, 123, 2\xBA)",numberPlaceholder:"Number",cityPlaceholder:"City",statePlaceholder:"State",zipPlaceholder:"ZIP Code",createServiceRequest:"Create Service Request"},pt:{signIn:"Entrar",createAccount:"Criar Conta",email:"E-mail",password:"Senha",name:"Nome Completo",role:"Fun\xE7\xE3o",client:"Cliente",professional:"Profissional",register:"Registrar",login:"Login",logout:"Sair",dashboard:"Painel",schedule:"Agenda",search:"Buscar",profile:"Perfil",admin:"Admin",language:"Idioma",english:"English",portuguese:"Portugu\xEAs",currency:"EUR",unassigned:"N\xE3o atribu\xEDdo",unknownClient:"Cliente desconhecido",noChangesDetected:"Nenhuma altera\xE7\xE3o detectada.",errorInvalidFileFormat:"Formato de arquivo inv\xE1lido. Use JPG, PNG ou GIF.",errorImageTooLarge:"A imagem \xE9 muito grande. O tamanho m\xE1ximo \xE9 2MB.",errorCameraNotSupported:"O acesso \xE0 c\xE2mera n\xE3o \xE9 suportado pelo seu navegador.",errorAccessingCamera:"Erro ao acessar a c\xE2mera.",pushNotificationsBlocked:"As notifica\xE7\xF5es push est\xE3o bloqueadas. Por favor, habilite-as nas configura\xE7\xF5es do seu navegador.",noDataToExport:"Nenhum dado financeiro para exportar.",reportExported:"Relat\xF3rio financeiro exportado com sucesso.",confirmRejectRegistration:"Tem certeza de que deseja rejeitar este registro?",confirmDeleteCategory:'Tem certeza de que deseja excluir a categoria "{category}"?',backToHome:"Voltar para In\xEDcio",forgotPassword:"Esqueceu sua senha?",dontHaveAccount:"N\xE3o tem uma conta?",streetAddress:"Morada Completa",streetAddressPlaceholder:"Rua/Avenida, n\xFAmero, andar (ex: Rua Augusta, 123, 2\xBA)",postalCode:"C\xF3digo Postal",postalCodePlaceholder:"0000-000",locality:"Localidade",localityPlaceholder:"Lisboa, Porto, Coimbra...",district:"Distrito",selectDistrict:"Selecione o distrito",concelho:"Concelho (Opcional)",concelhoPlaceholder:"Lisboa, Porto, Sintra...",freguesia:"Freguesia (Opcional)",postalCodeInvalidFormat:"Formato: 0000-000",itemsPerPage:"Itens por p\xE1gina",showing:"Mostrando",to:"at\xE9",of:"de",results:"resultados",pendingApproval:"Pendentes",activeRequests:"Ativas",completed:"Conclu\xEDdas",myRequests:"Minhas Solicita\xE7\xF5es",noRequestsFound:"Nenhuma solicita\xE7\xE3o encontrada",activeJobs:"Trabalhos Ativos",completedJobs:"Trabalhos Conclu\xEDdos",totalEarnings:"Ganhos Totais",totalRevenue:"Receita Total",pendingApprovals:"Aprova\xE7\xF5es Pendentes",activeServices:"Servi\xE7os Ativos",totalProfessionals:"Total de Profissionais",csvId:"ID",csvClient:"Cliente",csvProfessional:"Profissional",csvService:"Servi\xE7o",csvCompletionDate:"Data de Conclus\xE3o",csvPaymentStatus:"Status do Pagamento",csvBaseValue:"Valor Base",csvTax:"Imposto (7%)",csvTotalValue:"Valor Total",awaitingQuote:"Aguardando or\xE7amento",mobileRotateDeviceTip:"Dica: Gire o dispositivo para melhor visualiza\xE7\xE3o da agenda",selectTime:"Selecione um hor\xE1rio",serviceDetails:"Detalhes do Servi\xE7o",serviceRequestDetails:"Detalhes da Solicita\xE7\xE3o de Servi\xE7o",noCategoriesAvailable:"Nenhuma categoria dispon\xEDvel",description:"Descri\xE7\xE3o",category:"Categoria",address:"Endere\xE7o",appName:"HomeService",menu:"Menu",newRequest:"Nova Solicita\xE7\xE3o",loadingUser:"Carregando usu\xE1rio...",accountVerification:"Verifica\xE7\xE3o de Conta",verificationCodeSentTo:"Um c\xF3digo de verifica\xE7\xE3o foi enviado para",checkEmailBeforeAccess:"Por favor, verifique seu e-mail e insira o c\xF3digo de verifica\xE7\xE3o para acessar a aplica\xE7\xE3o.",verificationCode:"C\xF3digo de Verifica\xE7\xE3o",verify:"Verificar",resendCode:"Reenviar C\xF3digo",noServiceRequestsFound:"Nenhuma solicita\xE7\xE3o de servi\xE7o encontrada",viewRequestDetails:"Ver Detalhes da Solicita\xE7\xE3o",chat:"Chat",approve:"Aprovar",reject:"Rejeitar",payNow:"Pagar Agora",choosePaymentMethod:"Escolher M\xE9todo de Pagamento",confirmPayment:"Confirmar Pagamento",paid:"Pago",requested:"Solicitado",scheduled:"Agendado",validateQuote:"Validar Or\xE7amento",emailVerificationRequired:"Verifica\xE7\xE3o de e-mail necess\xE1ria. Verifique sua caixa de entrada.",exportToCsv:"Exportar para CSV",addProfessional:"Adicionar Profissional",serviceCategories:"Categorias de Servi\xE7o",totalSubcategories:"Total de Subcategorias",subcategories:"Subcategorias",subcategoriesOf:"Subcategorias de {category}",noSubcategories:"Sem subcategorias",expand:"Expandir",collapse:"Colapsar",subcategoryName:"Nova subcategoria",addSubcategory:"Adicionar Subcategoria",deleteSubcategory:"Excluir Subcategoria",editSubcategory:"Editar Subcategoria",subcategoryDetails:"Detalhes da Subcategoria",priced:"Precificado",quoted:"Or\xE7amentado",averageTime:"Tempo M\xE9dio",type:"Tipo",noDescription:"Nenhuma descri\xE7\xE3o fornecida",confirmDeleteSubcategory:"Confirma a exclus\xE3o da subcategoria: {subcategory}?",editCategory:"Editar Categoria",save:"Salvar",actions:"A\xE7\xF5es",companyAddress:"Rua dos Servi\xE7os, 123, Lisboa",invoice:"Fatura",appNameFull:"HomeService Solutions",quote:"Or\xE7amento",details:"Detalhes",scheduleAppointmentFor:"Agendar Compromisso para",selectProfessional:"Selecionar Profissional",selectAProfessional:"Selecione um Profissional",selectDate:"Selecionar Data",cancel:"Cancelar",confirmSchedule:"Confirmar Agendamento",pendingActions:"A\xE7\xF5es Pendentes",request:"Solicita\xE7\xE3o",status:"Status",availableActions:"A\xE7\xF5es Dispon\xEDveis",viewQuote:"Ver Or\xE7amento",provideQuote:"Fornecer Or\xE7amento",provideClarification:"Fornecer Esclarecimento",approveQuote:"Aprovar Or\xE7amento",requestRevision:"Solicitar Revis\xE3o",assign:"Atribuir",assignProfessional:"Atribuir Profissional",noRequestsNeedAttention:"Nenhuma solicita\xE7\xE3o precisa de aten\xE7\xE3o",service:"Servi\xE7o",cost:"Custo",pendingRegistrations:"Registros Pendentes",phone:"Telefone",noPendingRegistrations:"Nenhum registro pendente",completedServices:"Servi\xE7os Conclu\xEDdos",totalTax:"Imposto Total",outstandingAmount:"Valor em Aberto",registrationSuccessful:"Registro Bem-sucedido",password_reset_success:"Senha redefinida com sucesso! Agora pode fazer login com a sua nova senha.",newServiceRequest:"Nova Solicita\xE7\xE3o de Servi\xE7o",title:"T\xEDtulo",titlePlaceholder:"Digite o t\xEDtulo do servi\xE7o...",selectCategory:"Selecione uma categoria...",subcategory:"Subcategoria",selectSubcategory:"Selecione uma subcategoria",descriptionPlaceholder:"Descreva o que voc\xEA precisa...",dateTime:"Data e Hora",dateTimePlaceholder:"Selecione a data e hora desejadas",requestedDateTimeHelp:"Quando voc\xEA gostaria que este servi\xE7o fosse realizado?",validFutureDateTime:"Selecione uma data e hora futura v\xE1lidas",complement:"Complemento",complementPlaceholder:"Apartamento, andar, refer\xEAncia (opcional)",submitting:"Enviando",submitRequest:"Enviar Solicita\xE7\xE3o",requestedClarification:"Esclarecimentos Solicitados",yourClarification:"Seus Esclarecimentos",enterClarificationPlaceholder:"Por favor, forne\xE7a os esclarecimentos solicitados...",clarificationHelp:"Forne\xE7a o m\xE1ximo de detalhes poss\xEDvel para nos ajudar a compreender seus requisitos.",sendClarification:"Enviar Esclarecimentos",clarifications:"Esclarecimentos",unread:"n\xE3o lidos",addNewQuestion:"Adicionar Nova Pergunta",questionTitle:"T\xEDtulo da Pergunta",questionTitlePlaceholder:"Resumo breve da sua pergunta...",questionContent:"Detalhes da Pergunta",questionContentPlaceholder:"Descreva sua pergunta em detalhes...",addQuestion:"Adicionar Pergunta",question:"Pergunta",answer:"Resposta",new:"Novo",by:"por",delete:"Eliminar",addAnswer:"Adicionar Resposta",answerTitle:"T\xEDtulo da Resposta",answerTitlePlaceholder:"Resumo breve da sua resposta...",answerContent:"Detalhes da Resposta",answerContentPlaceholder:"Forne\xE7a sua resposta detalhada...",noClarificationsYet:"Ainda n\xE3o h\xE1 esclarecimentos",addFirstQuestion:"Adicione a primeira pergunta para iniciar uma discuss\xE3o",confirmDeleteClarification:"Tem certeza de que deseja eliminar este esclarecimento?",timeControl:"Controle de Tempo",requestedDateTime:"Data e Hora Solicitada",scheduledStartDateTime:"Data e Hora Agendada para In\xEDcio",estimatedDuration:"Dura\xE7\xE3o Estimada",actualDuration:"Dura\xE7\xE3o Real",actualStartDateTime:"Data e Hora Real de In\xEDcio",actualEndDateTime:"Data e Hora Real do Final",startWork:"Iniciar Trabalho",finishWork:"Finalizar Trabalho",serviceCompleted:"Servi\xE7o Conclu\xEDdo",serviceInProgress:"Servi\xE7o em Progresso",awaitingSchedule:"Aguardando Agendamento",noActionAvailable:"Nenhuma A\xE7\xE3o Dispon\xEDvel",adminActions:"A\xE7\xF5es do Administrador",useSchedulerToManage:"Use o agendador para gerir este servi\xE7o",scheduleService:"Agendar Servi\xE7o",serviceInformation:"Informa\xE7\xF5es do Servi\xE7o",notSpecified:"N\xE3o Especificado",selectOption:"Selecione uma op\xE7\xE3o",specialist:"Especialista",noProfessionalsAvailable:"Nenhum profissional dispon\xEDvel para esta categoria",scheduledDate:"Data Agendada",scheduledTime:"Hora Agendada",hours:"Horas",minutes:"Minutos",totalDuration:"Dura\xE7\xE3o Total",serviceDescription:"Descri\xE7\xE3o do Servi\xE7o",serviceAddress:"Endere\xE7o do Servi\xE7o",timeReports:"Relat\xF3rios de Tempo",exportCSV:"Exportar CSV",filters:"Filtros",period:"Per\xEDodo",today:"Hoje",lastWeek:"\xDAltima Semana",lastMonth:"\xDAltimo M\xEAs",customPeriod:"Per\xEDodo Personalizado",allCategories:"Todas as Categorias",startDate:"Data de In\xEDcio",endDate:"Data de Fim",totalRequests:"Total de Pedidos",completionRate:"Taxa de Conclus\xE3o",averageDuration:"Dura\xE7\xE3o M\xE9dia",onTimePercentage:"Percentagem No Hor\xE1rio",professionalProductivity:"Produtividade dos Profissionais",completedServicesCount:"Servi\xE7os Conclu\xEDdos",noDataAvailable:"Nenhum dado dispon\xEDvel",todayScheduledServices:"Servi\xE7os Agendados para Hoje",delayedServices:"Servi\xE7os Atrasados",delayed:"Atrasado",detailedServiceList:"Lista Detalhada de Servi\xE7os",professionalName:"Profissional",scheduledLabel:"Agendado",duration:"Dura\xE7\xE3o",estimated:"Estimado",actual:"Real",accessDenied:"Acesso Negado",adminAccessRequired:"Acesso de administrador necess\xE1rio",schedulingInformation:"Informa\xE7\xF5es de Agendamento",inMinutes:"em minutos",durationHelpText:"Dura\xE7\xE3o em minutos (m\xEDnimo 15, incrementos de 15)",quickSelect:"Sele\xE7\xE3o R\xE1pida",clientRequestedFor:"Cliente solicitou para",assignAndSchedule:"Atribuir e Agendar",professionalAssigned:"Profissional {professional} atribu\xEDdo \xE0 solicita\xE7\xE3o #{id}.",professionalAssignedAndScheduled:"Profissional {professional} atribu\xEDdo \xE0 solicita\xE7\xE3o #{id} e agendado para {date}.",newExecutionDateProposed:"Nova Data de Execu\xE7\xE3o Proposta",executionDateProposedMessage:"Data proposta: {date} \xE0s {time}. Observa\xE7\xF5es: {notes}",executionDateApprovedByClient:"Data de Execu\xE7\xE3o Aprovada pelo Cliente",executionDateRejectedByClient:"Data de Execu\xE7\xE3o Rejeitada pelo Cliente",executionDateApprovedMessage:"O cliente aprovou a data de execu\xE7\xE3o para a solicita\xE7\xE3o #{requestId}.",executionDateRejectedMessage:"O cliente rejeitou a data de execu\xE7\xE3o para a solicita\xE7\xE3o #{requestId}. Motivo: {reason}",approveExecutionDate:"Aprovar Data",rejectExecutionDate:"Rejeitar Data",executionDateProposed:"Data de execu\xE7\xE3o proposta para solicita\xE7\xE3o #{id}",executionDateApproved:"Data de execu\xE7\xE3o aprovada para solicita\xE7\xE3o #{id}",executionDateRejected:"Data de execu\xE7\xE3o rejeitada para solicita\xE7\xE3o #{id}",assignProfessionalToScheduled:"Atribuir Profissional ao Servi\xE7o Agendado",selectProfessionalFor:"Selecione um profissional para",assigningProfessional:"Atribuindo profissional...",assignmentSuccess:"Profissional atribu\xEDdo com sucesso!",assignmentError:"Erro ao atribuir profissional. Tente novamente.",assignmentTitle:"Atribuir Profissional",assignmentDescription:"Selecione um profissional e agende o servi\xE7o.",profileUpdatedSuccessfully:"Perfil atualizado com sucesso!",errorCameraPermissionDenied:"Permiss\xE3o da c\xE2mera foi negada. Por favor, permita o acesso \xE0 c\xE2mera e tente novamente.",errorNoCameraFound:"Nenhuma c\xE2mera encontrada neste dispositivo.",errorCameraInUse:"A c\xE2mera j\xE1 est\xE1 sendo usada por outro aplicativo.",errorCameraConstraints:"As configura\xE7\xF5es da c\xE2mera n\xE3o s\xE3o suportadas pelo seu dispositivo.",errorVideoNotAvailable:"O fluxo de v\xEDdeo n\xE3o est\xE1 dispon\xEDvel.",errorVideoNotReady:"O v\xEDdeo n\xE3o est\xE1 pronto para captura. Por favor, aguarde um momento.",errorCanvasNotSupported:"Canvas n\xE3o \xE9 suportado pelo seu navegador.",errorCapturingPhoto:"Erro ao capturar foto. Por favor, tente novamente.",errorUploadingPhoto:"Erro ao fazer upload da foto. Por favor, tente novamente.",errorVideoPlayback:"Erro na reprodu\xE7\xE3o do fluxo de v\xEDdeo.",photoUploadedSuccessfully:"Foto enviada com sucesso!",uploadPhoto:"Enviar Foto",useCamera:"Usar C\xE2mera",capturePhoto:"Capturar Foto",capture:"Capturar",saveChanges:"Salvar Altera\xE7\xF5es",mySpecialties:"Minhas Especialidades",emailAddress:"Endere\xE7o de E-mail",loadingCamera:"Carregando c\xE2mera...",cameraInstructions:"Posicione-se no quadro e clique em capturar quando estiver pronto.",solutionPermissionDenied:"\u{1F4A1} Solu\xE7\xE3o: Clique no \xEDcone da c\xE2mera na barra de endere\xE7os e permita o acesso, depois recarregue a p\xE1gina.",solutionNoCameraFound:"\u{1F4A1} Solu\xE7\xE3o: Conecte uma c\xE2mera ao seu dispositivo ou verifique se est\xE1 funcionando em outros apps.",solutionCameraInUse:"\u{1F4A1} Solu\xE7\xE3o: Feche outros aplicativos que possam estar usando a c\xE2mera (Teams, Zoom, Skype, etc.) e tente novamente.",solutionCameraConstraints:"\u{1F4A1} Solu\xE7\xE3o: Tente usar uma c\xE2mera diferente ou verifique as configura\xE7\xF5es da c\xE2mera.",solutionCameraAborted:"\u{1F4A1} Solu\xE7\xE3o: A opera\xE7\xE3o foi cancelada. Por favor, tente novamente.",solutionCameraTypeError:"\u{1F4A1} Solu\xE7\xE3o: Parece ser um problema de compatibilidade do navegador. Tente usar o Chrome ou atualize seu navegador.",errorCameraAborted:"Opera\xE7\xE3o da c\xE2mera foi cancelada.",errorCameraTypeError:"Problema de compatibilidade do navegador com acesso \xE0 c\xE2mera.",forgotPasswordDescription:"Digite seu endere\xE7o de e-mail e enviaremos um c\xF3digo de verifica\xE7\xE3o para redefinir sua senha.",sendResetCode:"Enviar C\xF3digo",resetCodeSent:"C\xF3digo enviado!",resetCodeSentDescription:"Enviamos um c\xF3digo de 6 d\xEDgitos para:",proceedToVerification:"Tenho o c\xF3digo",rememberPassword:"Lembra da sua senha?",backToLogin:"Voltar ao Login",sending:"Enviando...",resending:"Reenviando...",verifyCode:"Verificar C\xF3digo",verifyCodeDescription:"Digite o c\xF3digo de 6 d\xEDgitos que enviamos para seu e-mail:",codeFromEmail:"Verifique seu e-mail para o c\xF3digo de 6 d\xEDgitos",verifying:"Verificando...",newPassword:"Nova Senha",newPasswordDescription:"Escolha uma senha forte para sua conta.",newPasswordPlaceholder:"Digite sua nova senha",confirmPassword:"Confirmar Senha",confirmPasswordPlaceholder:"Confirme sua nova senha",passwordRequirements:"M\xEDnimo 6 caracteres",passwordStrength:"For\xE7a da Senha",updatePassword:"Atualizar Senha",updatingPassword:"Atualizando...",backToCodeVerification:"Voltar \xE0 Verifica\xE7\xE3o do C\xF3digo",emailPlaceholder:"Digite seu endere\xE7o de e-mail",or:"ou",ok:"OK",landingAboutTitle:"Quem Somos",landingAboutText1:"A Natan Construtora atua no mercado da constru\xE7\xE3o civil h\xE1 mais de 20 anos, com foco em qualidade, inova\xE7\xE3o e respeito aos prazos. Nossa miss\xE3o \xE9 construir com qualidade, responsabilidade e prop\xF3sito, entregando obras que superem expectativas e transformem sonhos em realidade, com compromisso com prazos, seguran\xE7a e excel\xEAncia t\xE9cnica.",landingAboutText2:"Nossa vis\xE3o \xE9 ser refer\xEAncia na constru\xE7\xE3o civil, reconhecida pela inova\xE7\xE3o, confiabilidade e impacto positivo nas comunidades onde atuamos, tornando-se a primeira escolha de clientes e parceiros.",landingServicesTitle:"Nossos Servi\xE7os",landingServicesProjects:"Projetos",landingServicesProjects1:"Casas, condom\xEDnios e edif\xEDcios",landingServicesProjects2:"Lojas, escrit\xF3rios, galp\xF5es",landingServicesConstruction:"Constru\xE7\xE3o",landingServicesConstruction1:"Comercial",landingServicesConstruction2:"Residencial",landingServicesRenovation:"Reformas e Amplia\xE7\xF5es",landingServicesRenovation1:"Moderniza\xE7\xF5es e adapta\xE7\xF5es",landingServicesRenovation2:"Coordena\xE7\xE3o t\xE9cnica e cronogramas",landingServicesConsulting:"Consultoria T\xE9cnica",landingServicesConsulting1:"Suporte estrutural",landingServicesConsulting2:"Legaliza\xE7\xF5es",landingServicesFooter:"Desde a funda\xE7\xE3o at\xE9 a entrega da chave",landingContactsTitle:"Contactos",landingContactsEmail:"Email:",landingContactsPhone:"Telefone:",landingContactsMobile:"Telem\xF3vel:",landingDescription:"Conecte-se com profissionais de servi\xE7os dom\xE9sticos de confian\xE7a na sua \xE1rea. Trabalho de qualidade, especialistas verificados e servi\xE7o confi\xE1vel em que pode confiar.",registerTitle:"Crie uma nova conta",registerLoginLink:"fa\xE7a login na sua conta existente",loggingIn:"Fazendo login...",iAmA:"Eu sou um(a)",emailNotVerifiedLogin:"Por favor, verifique seu email antes de fazer login. Verifique seu email pelo link de verifica\xE7\xE3o.",welcomeBack:"Bem-vindo(a)!",dashboardSummary:"Aqui est\xE1 um resumo da sua atividade.",basicInformation:"Informa\xE7\xF5es B\xE1sicas",requestDate:"Data da Solicita\xE7\xE3o",costAndPayment:"Custo e Pagamento",paymentStatus:"Status do Pagamento",assignedProfessional:"Profissional Designado",professionalId:"ID do Profissional",requestId:"ID da Solicita\xE7\xE3o",close:"Fechar",month:"M\xEAs",week:"Semana",day:"Dia",agenda:"Agenda",allDay:"Dia Todo",noEventsForDay:"Nenhum evento para este dia",moreEvents:"mais eventos",Requested:"Solicitado",InAnalysis:"Em An\xE1lise",AwaitingClarifications:"Aguardando Esclarecimentos",QuoteSent:"Or\xE7amento Enviado",AwaitingQuoteApproval:"Aguardando Aprova\xE7\xE3o do Or\xE7amento",QuoteApproved:"Or\xE7amento Aprovado",QuoteRejected:"Or\xE7amento Rejeitado",AwaitingExecutionDate:"Aguardando Data de Execu\xE7\xE3o",DateProposedByAdmin:"Data Proposta pelo Administrador",AwaitingDateApproval:"Aguardando Aprova\xE7\xE3o da Data",DateApprovedByClient:"Data Aprovada pelo Cliente",DateRejectedByClient:"Data Rejeitada pelo Cliente",SearchingProfessional:"Buscando Profissional",ProfessionalSelected:"Profissional Selecionado",AwaitingProfessionalConfirmation:"Aguardando Confirma\xE7\xE3o do Profissional",Scheduled:"Agendado",InProgress:"Em Execu\xE7\xE3o",CompletedAwaitingApproval:"Conclu\xEDdo - Aguardando Aprova\xE7\xE3o",Completed:"Finalizado",Cancelled:"Cancelado",statusQuoted:"Or\xE7amentado",statusApproved:"Aprovado",statusScheduled:"Agendado",statusInProgress:"Em Andamento",statusCompleted:"Conclu\xEDdo",statusCancelled:"Cancelado",statusAwaitingExecutionDate:"Aguardando Data de Execu\xE7\xE3o",statusDateProposedByAdmin:"Data Proposta pelo Administrador",statusAwaitingDateApproval:"Aguardando Aprova\xE7\xE3o da Data",statusDateApprovedByClient:"Data Aprovada pelo Cliente",statusDateRejectedByClient:"Data Rejeitada pelo Cliente",statusAnalyzing:"Em An\xE1lise",statusAwaitingClarification:"Aguardando Esclarecimentos",statusAwaitingQuoteApproval:"Aguardando Aprova\xE7\xE3o do Or\xE7amento",statusQuoteRejected:"Or\xE7amento Rejeitado",statusSearchingProfessional:"Buscando Profissional",statusProfessionalSelected:"Profissional Selecionado",statusAwaitingProfessionalConfirmation:"Aguardando Confirma\xE7\xE3o do Profissional",statusCompletedAwaitingApproval:"Conclu\xEDdo - Aguardando Aprova\xE7\xE3o",statusRequested:"Solicitado",statusInAnalysis:"Em An\xE1lise",statusAwaitingClarifications:"Aguardando Esclarecimentos",statusQuoteSent:"Or\xE7amento Enviado",statusScheduledEn:"Agendado",statusCompletedEn:"Conclu\xEDdo",statusPending:"Pendente",notifications:"Notifica\xE7\xF5es",noNewNotifications:"Voc\xEA n\xE3o tem novas notifica\xE7\xF5es.",markAllAsRead:"Marcar todas como lidas",clearAll:"Limpar todas",noMessages:"Ainda n\xE3o h\xE1 mensagens. Comece a conversa!",typeMessage:"Digite sua mensagem...",searchServiceRequests:"Buscar Solicita\xE7\xF5es de Servi\xE7o",searchTerm:"Termo de Busca",searchTermPlaceholder:"Digite o termo de busca...",completedRequests:"Solicita\xE7\xF5es Conclu\xEDdas",fullName:"Nome Completo",statusChangedFromTo:'Solicita\xE7\xE3o #{id} mudou status de "{from}" para "{to}"',paymentStatusChanged:'Solicita\xE7\xE3o #{id} mudou status de pagamento para "{status}"',professionalApproved:"Profissional {name} foi aprovado",professionalRejected:"Profissional {name} foi rejeitado",userStatusUpdated:'Usu\xE1rio #{id} status atualizado para "{status}"',overview:"Vis\xE3o Geral",requests:"Solicita\xE7\xF5es",approvals:"Aprova\xE7\xF5es",finances:"Finan\xE7as",professionals:"Profissionais",categories:"Categorias",clients:"Clientes",financialDetails:"Detalhes Financeiros",date:"Data",payment:"Pagamento",total:"Total",action:"A\xE7\xE3o",generateInvoice:"Gerar Fatura",manageProfessionals:"Gerenciar Profissionais",addNewProfessional:"Adicionar Novo Profissional",specialties:"Especialidades",edit:"Editar",addNewCategory:"Adicionar Nova Categoria",categoryName:"Nome da Categoria",add:"Adicionar",quoteFor:"Or\xE7amento para",quoteValue:"Valor do Or\xE7amento",submit:"Enviar",editProfessional:"Editar Profissional",proposeExecutionDate:"Propor Data de Execu\xE7\xE3o",proposeExecutionDateFor:"Propor data de execu\xE7\xE3o para",proposedDate:"Data Proposta",proposedTime:"Hora Proposta",notesForClient:"Observa\xE7\xF5es para o Cliente",optional:"Opcional",notesForClientPlaceholder:"Informa\xE7\xF5es adicionais sobre a data proposta...",approvedAmount:"Valor Aprovado",clientOriginallyRequestedFor:"Cliente originalmente solicitou para",proposeDate:"Propor Data",billedTo:"Faturado para",serviceProvidedBy:"Servi\xE7o Prestado por",subtotal:"Subtotal",tax:"Imposto",grandTotal:"Total Geral",thankYou:"Obrigado pelo seu neg\xF3cio!",print:"Imprimir",quoteSubmitted:"Or\xE7amento enviado para solicita\xE7\xE3o #{id}",quoteApproved:"Or\xE7amento aprovado para solicita\xE7\xE3o #{id}",quoteRejected:"Or\xE7amento rejeitado para solicita\xE7\xE3o #{id}",fillRequiredFields:"Por favor, preencha todos os campos obrigat\xF3rios",professionalAdded:"Profissional {name} adicionado com sucesso",professionalUpdated:"Profissional {name} atualizado com sucesso",categoryAdded:"Categoria '{category}' adicionada com sucesso",categoryAlreadyExists:"Categoria j\xE1 existe",categoryUpdated:"Categoria atualizada de '{old}' para '{new}'",categoryDeleted:"Categoria '{category}' exclu\xEDda com sucesso",analyzeRequest:"Analisar Solicita\xE7\xE3o",requestClarification:"Solicitar Esclarecimentos",sendQuote:"Enviar Or\xE7amento",requestAnalysisStarted:"An\xE1lise iniciada para '{title}'",errorAnalyzingRequest:"Erro ao analisar solicita\xE7\xE3o. Tente novamente.",enterClarificationRequest:"Digite sua solicita\xE7\xE3o de esclarecimentos:",clarificationRequestSent:"Solicita\xE7\xE3o de esclarecimentos enviada para '{title}'",errorRequestingClarification:"Erro ao solicitar esclarecimentos. Tente novamente.",manageClients:"Gerenciar Clientes",clientManagementDescription:"Visualizar e gerenciar todos os clientes cadastrados no sistema",services:"Servi\xE7os",totalSpent:"Total Gasto",lastService:"\xDAltimo Servi\xE7o",activateClient:"Ativar Cliente",deactivateClient:"Desativar Cliente",approveClient:"Aprovar Cliente",rejectClient:"Rejeitar Cliente",confirmDeactivateClient:"Tem certeza de que deseja desativar este cliente?",clientActivated:"Cliente {name} foi ativado",clientDeactivated:"Cliente {name} foi desativado",noClientsFound:"Nenhum Cliente Encontrado",noClientsDescription:"Ainda n\xE3o h\xE1 clientes cadastrados. Os clientes aparecer\xE3o aqui quando criarem contas.",emailNotVerified:"Email n\xE3o verificado",never:"Nunca",viewDetails:"Ver Detalhes",totalServices:"Total de Servi\xE7os",activate:"Ativar",deactivate:"Desativar",professionalResponses:"Respostas dos Profissionais",requestInformation:"Informa\xE7\xF5es da Solicita\xE7\xE3o",loadingServiceRequest:"Carregando solicita\xE7\xE3o de servi\xE7o...",startService:"Iniciar Servi\xE7o",finishService:"Finalizar Servi\xE7o",completeService:"Completar Servi\xE7o",nameNotAvailable:"Nome n\xE3o dispon\xEDvel",pending:"Pendente",createdAt:"Criado em",priority:"Prioridade",high:"Alta",medium:"M\xE9dia",low:"Baixa",responded:"Respondeu",accepted:"Aceito",rejected:"Rejeitado",workflow_progress:"Progresso do Fluxo de Trabalho",phase:"Fase",current_status:"Status Atual",in_progress:"Em Progresso",possible_states:"Estados Poss\xEDveis",timing_information:"Informa\xE7\xF5es de Timing",requested_at:"Solicitado em",scheduled_for:"Agendado para",started_at:"Iniciado em",completed_at:"Conclu\xEDdo em",selectConcelho:"Selecione o concelho",creditCard:"Cart\xE3o de Cr\xE9dito",mbway:"MB WAY",bankTransfer:"Transfer\xEAncia Banc\xE1ria",statusGraphTitle:"Distribui\xE7\xE3o dos Pedidos por Status",categoryDistributionTitle:"Distribui\xE7\xE3o de Pedidos por Categoria",categoryDistributionChart:"Gr\xE1fico de Distribui\xE7\xE3o por Categoria",ordersByCategory:"Pedidos por Categoria",totalOrders:"Total de Pedidos",activeClients:"Clientes Ativos",noCategory:"Sem Categoria",quickActions:"A\xE7\xF5es R\xE1pidas",newService:"Novo Servi\xE7o",generateReport:"Gerar Relat\xF3rio",viewAllRequests:"Ver Todas as Solicita\xE7\xF5es",manageUsers:"Gerenciar Usu\xE1rios",vsLastMonth:"vs m\xEAs anterior",vsLastWeek:"vs semana anterior",newToday:"novos hoje",urgentItems:"itens urgentes",featureComingSoon:"Funcionalidade em breve",temporalEvolutionTitle:"Evolu\xE7\xE3o das Solicita\xE7\xF5es (\xDAltimos 30 Dias)",recentActivities:"Atividades Recentes",lastUpdate:"\xDAltima atualiza\xE7\xE3o",noRecentActivities:"Nenhuma atividade recente",requestCreated:"Solicita\xE7\xE3o criada",requestUpdated:"Solicita\xE7\xE3o atualizada",requestCompleted:"Solicita\xE7\xE3o conclu\xEDda",userRegistered:"Usu\xE1rio registrado",paymentReceived:"Pagamento recebido",minutesAgo:"minutos atr\xE1s",hoursAgo:"horas atr\xE1s",daysAgo:"dias atr\xE1s",clearFilters:"Limpar Filtros",quickFilters:"Filtros R\xE1pidos",all:"Todos",searchPlaceholder:"Pesquisar por t\xEDtulo, ID ou c\xF3digo postal...",activeFilters:"Filtros Ativos",sortBy:"Ordenar por",sortByDate:"Data",sortByStatus:"Status",sortById:"ID",sortByCategory:"Categoria",sortByClient:"Cliente",sortByProfessional:"Profissional",ascending:"Crescente",descending:"Decrescente",clickToSort:"Clique para ordenar",landingCtaQuote:"Solicitar Or\xE7amento",landingCtaServices:"Ver Servi\xE7os",landingStatsYears:"Anos de Experi\xEAncia",landingStatsProjects:"Projetos Realizados",landingStatsSatisfaction:"Satisfa\xE7\xE3o do Cliente",landingDifferential1Title:"Qualidade Garantida",landingDifferential1Text:"Materiais de primeira linha e m\xE3o de obra especializada",landingDifferential2Title:"Prazos Cumpridos",landingDifferential2Text:"Compromisso rigoroso com cronogramas estabelecidos",landingDifferential3Title:"Satisfa\xE7\xE3o Total",landingDifferential3Text:"Atendimento personalizado do in\xEDcio ao fim",landingDifferential4Title:"Inova\xE7\xE3o Constante",landingDifferential4Text:"T\xE9cnicas modernas e solu\xE7\xF5es sustent\xE1veis",landingContactsInfo:"Entre em Contacto",landingSocialMedia:"Siga-nos",landingQuoteFormTitle:"Solicite um Or\xE7amento",landingFormName:"Nome",landingFormNamePlaceholder:"O seu nome completo",landingFormEmail:"Email",landingFormEmailPlaceholder:"seuemail@exemplo.com",landingFormPhone:"Telefone",landingFormPhonePlaceholder:"+351 000 000 000",landingFormService:"Tipo de Servi\xE7o",landingFormServiceSelect:"Selecione um servi\xE7o",landingFormMessage:"Mensagem",landingFormMessagePlaceholder:"Descreva o seu projeto...",landingFormSubmit:"Enviar Pedido",landingWhatsAppMessage:"Ol\xE1! Gostaria de solicitar um or\xE7amento.",landingFooterTagline:"Construindo sonhos h\xE1 mais de 20 anos",landingFooterPrivacy:"Pol\xEDtica de Privacidade",landingFooterTerms:"Termos de Uso",landingFooterContact:"Contacto",streetPlaceholder:"Rua Exemplo",numberPlaceholder:"123",cityPlaceholder:"Lisboa",statePlaceholder:"Lisboa",countryPlaceholder:"Portugal",createServiceRequest:"Criar Solicita\xE7\xE3o de Servi\xE7o"}},ku=class ku{constructor(){this.language=B("en");let e=localStorage.getItem("homeservice-language");e&&(e==="en"||e==="pt")&&(this.language.set(e),console.log(`\u{1F30D} [I18N] Idioma carregado do localStorage: ${e}`)),console.log(`\u{1F30D} [I18N] Idioma inicial: ${this.language()}`)}getCurrentLanguage(){return this.language()}setLanguage(e){this.language.set(e),localStorage.setItem("homeservice-language",e),console.log(`\u{1F30D} [I18N] Idioma alterado para: ${e}`),globalThis.location.reload()}translate(e,t){let i=this.language(),s=Tse[i][e]||e;if(t)for(let a of Object.keys(t))s=s.replace(`{${a}}`,String(t[a]));return s}};ku.\u0275fac=function(t){return new(t||ku)},ku.\u0275prov=te({token:ku,factory:ku.\u0275fac,providedIn:"root"});var $e=ku;var Ur={Requested:"Solicitado",InAnalysis:"Em an\xE1lise",AwaitingClarifications:"Aguardando esclarecimentos",QuoteSent:"Or\xE7amento enviado",AwaitingQuoteApproval:"Aguardando aprova\xE7\xE3o do or\xE7amento",QuoteApproved:"Or\xE7amento aprovado",QuoteRejected:"Or\xE7amento rejeitado",AwaitingExecutionDate:"Aguardando data de execu\xE7\xE3o",DateProposedByAdmin:"Data proposta pelo administrador",AwaitingDateApproval:"Aguardando aprova\xE7\xE3o da data",DateApprovedByClient:"Data aprovada",DateRejectedByClient:"Data rejeitada",SearchingProfessional:"Buscando profissional",ProfessionalSelected:"Profissional selecionado",AwaitingProfessionalConfirmation:"Aguardando confirma\xE7\xE3o do profissional",Scheduled:"Agendado",InProgress:"Em execu\xE7\xE3o",CompletedAwaitingApproval:"Conclu\xEDdo - Aguardando aprova\xE7\xE3o",Completed:"Finalizado",Cancelled:"Cancelado"};var w5=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-BJFKT52B.js").then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};var H0=class extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}},px=class extends H0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},fx=class extends H0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},hx=class extends H0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Ise=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(m){s(m)}}function l(d){try{c(i.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},z0=class{constructor(e,{headers:t={},customFetch:i}={}){this.url=e,this.headers=t,this.fetch=w5(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return Ise(this,void 0,void 0,function*(){try{let{headers:r,method:o,body:s}=t,a={},l;s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let c=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:l}).catch(y=>{throw new px(y)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new fx(c);if(!c.ok)throw new hx(c);let m=((i=c.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield c.json():m==="application/octet-stream"?_=yield c.blob():m==="multipart/form-data"?_=yield c.formData():_=yield c.text(),{data:_,error:null}}catch(r){return{data:null,error:r}}})}};var mx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var W0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=yy:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let i=this.fetch,r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,d=null,m=null,_=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){let M=await o.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=M:d=JSON.parse(M))}let T=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),I=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");T&&I&&I.length>1&&(m=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,_=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let T=await o.text();try{c=JSON.parse(T),Array.isArray(c)&&o.status===404&&(d=[],c=null,_=200,y="OK")}catch{o.status===404&&T===""?(_=204,y="No Content"):c={message:T}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,_=200,y="OK"),c&&this.shouldThrowOnError)throw new mx(c)}return{error:c,data:d,count:m,status:_,statusText:y}});return this.shouldThrowOnError||(r=r.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}};var G0=class extends W0{select(e){let t=!1,i=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:r,referencedTable:o=r}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){let r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:r=i}={}){let o=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:o=!1,format:s="text"}={}){var a;let l=[e?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var is=class extends G0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let i=t.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");let s=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){let r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}};var Q0=class{constructor(e,{headers:t={},schema:i,fetch:r}){this.url=e,this.headers=t,this.schema=i,this.fetch=r}select(e,{head:t=!1,count:i}={}){let r=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer=`count=${i}`),new is({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:i=!0}={}){let r="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new is({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:r,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){let c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new is({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new is({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new is({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var S5="1.9.2";var E5={"X-Client-Info":`postgrest-js/${S5}`};var Y0=class n{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},E5),t),this.schemaName=i,this.fetch=r}from(e){let t=new URL(`${this.url}/${e}`);return new Q0(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,count:r}={}){let o,s=new URL(`${this.url}/rpc/${e}`),a;i?(o="HEAD",Object.entries(t).forEach(([c,d])=>{s.searchParams.append(c,`${d}`)})):(o="POST",a=t);let l=Object.assign({},this.headers);return r&&(l.Prefer=`count=${r}`),new is({method:o,url:s,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var D5="2.9.3";var A5={"X-Client-Info":`realtime-js/${D5}`},T5="1.0.0",gx=1e4,I5=1e3,Df=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(Df||{}),$r=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})($r||{}),_o=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(_o||{}),PM=(function(n){return n.websocket="websocket",n})(PM||{}),Ru=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(Ru||{});var Af=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var vx=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){let r=t.getUint8(1),o=t.getUint8(2),s=this.HEADER_LENGTH+2,a=i.decode(e.slice(s,s+r));s=s+r;let l=i.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(i.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Tf=class{constructor(e,t,i={},r=gx){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Z0=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,r,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},r=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=n.syncDiff(this.state,r,o,s),a())}),this.onJoin((r,o,s)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:s})}),this.onLeave((r,o,s)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){let o=this.cloneDeep(e),s=this.transformState(t),a={},l={};return this.map(o,(c,d)=>{s[c]||(l[c]=d)}),this.map(s,(c,d)=>{let m=o[c];if(m){let _=d.map(I=>I.presence_ref),y=m.map(I=>I.presence_ref),w=d.filter(I=>y.indexOf(I.presence_ref)<0),T=m.filter(I=>_.indexOf(I.presence_ref)<0);w.length>0&&(a[c]=w),T.length>0&&(l[c]=T)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},i,r)}static syncDiff(e,t,i,r){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(o,(a,l)=>{var c;let d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){let m=e[a].map(y=>y.presence_ref),_=d.filter(y=>m.indexOf(y.presence_ref)<0);e[a].unshift(..._)}i(a,d,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;let d=l.map(m=>m.presence_ref);c=c.filter(m=>d.indexOf(m.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{let r=e[i];return"metas"in r?t[i]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Jt=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(Jt||{}),FM=(n,e,t={})=>{var i;let r=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((o,s)=>(o[s]=Mse(s,n,e,r),o),{})},Mse=(n,e,t,i)=>{let r=e.find(a=>a.name===n),o=r?.type,s=t[n];return o&&!i.includes(o)?M5(o,s):OM(s)},M5=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return Pse(e,t)}switch(n){case Jt.bool:return kse(e);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return Rse(e);case Jt.json:case Jt.jsonb:return Nse(e);case Jt.timestamp:return Ose(e);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return OM(e);default:return OM(e)}},OM=n=>n,kse=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Rse=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Nse=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Pse=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let o,s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>M5(e,a))}return n},Ose=n=>typeof n=="string"?n.replace(" ","T"):n;var X0=class n{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=$r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Tf(this,_o.join,this.params,this.timeout),this.rejoinTimer=new Af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$r.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_o.reply,{},(r,o)=>{this._trigger(this._replyEventName(o),r)}),this.presence=new Z0(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));let a={},l={broadcast:o,presence:s,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(c=>c.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{let m=this.bindings.postgres_changes,_=(d=m?.length)!==null&&d!==void 0?d:0,y=[];for(let w=0;w<_;w++){let T=m[w],{filter:{event:I,schema:M,table:U,filter:W}}=T,N=c&&c[w];if(N&&N.event===I&&N.schema===M&&N.table===U&&N.filter===W)y.push(Object.assign(Object.assign({},T),{id:N.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this._on(e,t,i)}async send(e,t={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){let{event:o,payload:s}=e,a={method:"POST",headers:{apikey:(i=this.socket.apiKey)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=t.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$r.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_o.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{let r=new Tf(this,_o.leave,{},e);r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,i){let r=new AbortController,o=setTimeout(()=>r.abort(),i),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),s}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Tf(this,e,t,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,o;let s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=_o;if(i&&[a,l,c,d].indexOf(s)>=0&&i!==this._joinRef())return;let _=this._onMessage(s,t,i);if(t&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(y=>{var w,T,I;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((I=(T=y.filter)===null||T===void 0?void 0:T.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===s}).map(y=>y.callback(_,i)):(o=this.bindings[s])===null||o===void 0||o.filter(y=>{var w,T,I,M,U,W;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in y){let N=y.id,X=(w=y.filter)===null||w===void 0?void 0:w.event;return N&&((T=t.ids)===null||T===void 0?void 0:T.includes(N))&&(X==="*"||X?.toLocaleLowerCase()===((I=t.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{let N=(U=(M=y?.filter)===null||M===void 0?void 0:M.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return N==="*"||N===((W=t?.event)===null||W===void 0?void 0:W.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===s}).map(y=>{if(typeof _=="object"&&"ids"in _){let w=_.data,{schema:T,table:I,commit_timestamp:M,type:U,errors:W}=w;_=Object.assign(Object.assign({},{schema:T,table:I,commit_timestamp:M,eventType:U,new:{},old:{},errors:W}),this._getPayloadRecords(w))}y.callback(_,i)})}_isClosed(){return this.state===$r.closed}_isJoined(){return this.state===$r.joined}_isJoining(){return this.state===$r.joining}_isLeaving(){return this.state===$r.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){let r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){let i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&n.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_o.close,{},e)}_onError(e){this._on(_o.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$r.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=FM(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=FM(e.columns,e.old_record)),t}};var Lse=()=>{},Bse=typeof WebSocket<"u",J0=class{constructor(e,t){var i;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=A5,this.params={},this.timeout=gx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lse,this.conn=null,this.sendBuffer=[],this.serializer=new vx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-BJFKT52B.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${PM.websocket}`,t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let r=(i=t?.params)===null||i===void 0?void 0:i.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,s)=>s(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Af(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Bse){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new LM(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-7DXTWEC4.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Df.connecting:return Ru.Connecting;case Df.open:return Ru.Open;case Df.closing:return Ru.Closing;default:return Ru.Closed}}isConnected(){return this.connectionState()===Ru.Open}channel(e,t={config:{}}){let i=new X0(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){let{topic:t,event:i,payload:r,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${i} (${o})`,r),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(_o.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:T5}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:r,payload:o,ref:s}=t;(s&&s===this.pendingHeartbeatRef||r===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${r} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(r,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(_o.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(I5,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var LM=class{constructor(e,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Df.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}};var If=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function oi(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var yx=class extends If{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},K0=class extends If{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var Vse=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(m){s(m)}}function l(d){try{c(i.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},_x=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-BJFKT52B.js").then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},k5=()=>Vse(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BJFKT52B.js")).Response:Response});var Mf=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(m){s(m)}}function l(d){try{c(i.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},BM=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),jse=(n,e)=>Mf(void 0,void 0,void 0,function*(){let t=yield k5();n instanceof t?n.json().then(i=>{e(new yx(BM(i),n.status||500))}).catch(i=>{e(new K0(BM(i),i))}):e(new K0(BM(n),n))}),qse=(n,e,t,i)=>{let r={method:n,headers:e?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};function bx(n,e,t,i,r,o){return Mf(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,qse(e,i,r,o)).then(l=>{if(!l.ok)throw l;return i?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>jse(l,a))})})}function ev(n,e,t,i){return Mf(this,void 0,void 0,function*(){return bx(n,"GET",e,t,i)})}function Qs(n,e,t,i,r){return Mf(this,void 0,void 0,function*(){return bx(n,"POST",e,i,r,t)})}function R5(n,e,t,i,r){return Mf(this,void 0,void 0,function*(){return bx(n,"PUT",e,i,r,t)})}function Cx(n,e,t,i,r){return Mf(this,void 0,void 0,function*(){return bx(n,"DELETE",e,i,r,t)})}var bo=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(m){s(m)}}function l(d){try{c(i.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},Use={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},xx=class{constructor(e,t={},i,r){this.url=e,this.headers=t,this.bucketId=i,this.fetch=_x(r)}uploadOrUpdate(e,t,i,r){return bo(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},N5),r),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",s.cacheControl)):(o=i,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);let l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),m=yield d.json();return d.ok?{data:{path:l,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(oi(o))return{data:null,error:o};throw o}})}upload(e,t,i){return bo(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,r){return bo(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:N5.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);let m=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),_=yield m.json();return m.ok?{data:{path:o,fullPath:_.Key},error:null}:{data:null,error:_}}catch(l){if(oi(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return bo(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),i=yield Qs(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+i.url),o=r.searchParams.get("token");if(!o)throw new If("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:o},error:null}}catch(t){if(oi(t))return{data:null,error:t};throw t}})}update(e,t,i){return bo(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t){return bo(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(i){if(oi(i))return{data:null,error:i};throw i}})}copy(e,t){return bo(this,void 0,void 0,function*(){try{return{data:{path:(yield Qs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(i){if(oi(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,i){return bo(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Qs(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(r){if(oi(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,i){return bo(this,void 0,void 0,function*(){try{let r=yield Qs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(r){if(oi(r))return{data:null,error:r};throw r}})}download(e,t){return bo(this,void 0,void 0,function*(){let r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield ev(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(oi(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){let i=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(e){return bo(this,void 0,void 0,function*(){try{return{data:yield Cx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(oi(t))return{data:null,error:t};throw t}})}list(e,t,i){return bo(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},Use),t),{prefix:e||""});return{data:yield Qs(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(oi(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};var P5="2.5.5";var O5={"X-Client-Info":`storage-js/${P5}`};var kf=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(m){s(m)}}function l(d){try{c(i.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},wx=class{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},O5),t),this.fetch=_x(i)}listBuckets(){return kf(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(oi(e))return{data:null,error:e};throw e}})}getBucket(e){return kf(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(oi(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return kf(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(oi(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return kf(this,void 0,void 0,function*(){try{return{data:yield R5(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(oi(i))return{data:null,error:i};throw i}})}emptyBucket(e){return kf(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(oi(t))return{data:null,error:t};throw t}})}deleteBucket(e){return kf(this,void 0,void 0,function*(){try{return{data:yield Cx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(oi(t))return{data:null,error:t};throw t}})}};var tv=class extends wx{constructor(e,t={},i){super(e,t,i)}from(e){return new xx(this.url,this.headers,e,this.fetch)}};var F5="2.39.7";var nv="";typeof Deno<"u"?nv="deno":typeof document<"u"?nv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nv="react-native":nv="node";var $se={"X-Client-Info":`supabase-js-${nv}/${F5}`},L5={headers:$se},B5={schema:"public"},V5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j5={};var Hse=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(m){s(m)}}function l(d){try{c(i.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},zse=n=>{let e;return n?e=n:typeof fetch>"u"?e=yy:e=fetch,(...t)=>e(...t)},Wse=()=>typeof Headers>"u"?wN:Headers,q5=(n,e,t)=>{let i=zse(t),r=Wse();return(o,s)=>Hse(void 0,void 0,void 0,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:n,c=new r(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(o,Object.assign(Object.assign({},s),{headers:c}))})};function U5(n){return n.replace(/\/$/,"")}function $5(n,e){let{db:t,auth:i,realtime:r,global:o}=n,{db:s,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),o)}}function H5(n){return Math.round(Date.now()/1e3)+n}function z5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var Co=()=>typeof document<"u",Nu={tested:!1,writable:!1},Ul=()=>{if(!Co())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nu.tested)return Nu.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Nu.tested=!0,Nu.writable=!0}catch{Nu.tested=!0,Nu.writable=!1}return Nu.writable};function Sx(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return t.searchParams.forEach((i,r)=>{e[r]=i}),e}var Ex=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-BJFKT52B.js").then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},W5=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",$l=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},rv=async(n,e)=>{let t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Dx=async(n,e)=>{await n.removeItem(e)};function Gse(n){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",i,r,o,s,a,l,c,d=0;for(n=n.replace("-","+").replace("_","/");d<n.length;)s=e.indexOf(n.charAt(d++)),a=e.indexOf(n.charAt(d++)),l=e.indexOf(n.charAt(d++)),c=e.indexOf(n.charAt(d++)),i=s<<2|a>>4,r=(a&15)<<4|l>>2,o=(l&3)<<6|c,t=t+String.fromCharCode(i),l!=64&&r!=0&&(t=t+String.fromCharCode(r)),c!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}var iv=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};iv.promiseConstructor=Promise;function VM(n){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");let i=t[1];return JSON.parse(Gse(i))}async function G5(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Q5(n,e){return new Promise((i,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await n(o);if(!e(o,null,s)){i(s);return}}catch(s){if(!e(o,s)){r(s);return}}})()})}function Qse(n){return("0"+n.toString(16)).substr(-2)}function Pu(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length,r="";for(let o=0;o<56;o++)r+=t.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,Qse).join("")}async function Yse(n){let t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(i);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}function Zse(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ou(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=await Yse(n);return Zse(t)}var ov=class extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}};function rt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Ax=class extends ov{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function Y5(n){return rt(n)&&n.name==="AuthApiError"}var Rf=class extends ov{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Ua=class extends ov{constructor(e,t,i){super(e),this.name=t,this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}},$a=class extends Ua{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Nf=class extends Ua{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Fu=class extends Ua{constructor(e){super(e,"AuthInvalidCredentialsError",400)}},Lu=class extends Ua{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},sv=class extends Ua{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Pf=class extends Ua{constructor(e,t){super(e,"AuthRetryableFetchError",t)}};function Ix(n){return rt(n)&&n.name==="AuthRetryableFetchError"}var Tx=class extends Ua{constructor(e,t,i){super(e,"AuthWeakPasswordError",t),this.reasons=i}};var Xse=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},Of=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Jse=[502,503,504];async function Z5(n){if(!W5(n))throw new Pf(Of(n),0);if(Jse.includes(n.status))throw new Pf(Of(n),n.status);let e;try{e=await n.json()}catch(t){throw new Rf(Of(t),t)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)?new Tx(Of(e),n.status,e.weak_password.reasons):new Ax(Of(e),n.status||500)}var Kse=(n,e,t,i)=>{let r={method:n,headers:e?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};async function st(n,e,t,i){var r;let o=Object.assign({},i?.headers);i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);let s=(r=i?.query)!==null&&r!==void 0?r:{};i?.redirectTo&&(s.redirect_to=i.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await eae(n,e,t+a,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(l):{data:Object.assign({},l),error:null}}async function eae(n,e,t,i,r,o){let s=Kse(e,i,r,o),a;try{a=await n(t,s)}catch(l){throw console.error(l),new Pf(Of(l),0)}if(a.ok||await Z5(a),i?.noResolveJson)return a;try{return await a.json()}catch(l){await Z5(l)}}function Hl(n){var e;let t=null;tae(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=H5(n.expires_in)));let i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function jM(n){let e=Hl(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Ys(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function X5(n){return{data:n,error:null}}function J5(n){let{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o}=n,s=Xse(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function K5(n){return n}function tae(n){return n.access_token&&n.refresh_token&&n.expires_in}var nae=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},Ff=class{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Ex(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ys})}catch(i){if(rt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{let{options:t}=e,i=nae(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:J5,redirectTo:t?.redirectTo})}catch(t){if(rt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ys})}catch(t){if(rt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,r,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},d=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:K5});if(d.error)throw d.error;let m=await d.json(),_=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(w=>{let T=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(w.split(";")[1].split("=")[1]);c[`${I}Page`]=T}),c.total=parseInt(_)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(rt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await st(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ys})}catch(t){if(rt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ys})}catch(i){if(rt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ys})}catch(i){if(rt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{let{data:t,error:i}=await st(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:i}}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(rt(t))return{data:null,error:t};throw t}}};var Mx="0.0.0";var ej="http://localhost:9999",tj="supabase.auth.token";var nj={"X-Client-Info":`gotrue-js/${Mx}`},qM=10;var ij={getItem:n=>Ul()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Ul()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Ul()&&globalThis.localStorage.removeItem(n)}};function UM(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function rj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Bu={debug:!!(globalThis&&Ul()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},av=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},kx=class extends av{};async function $M(n,e,t){Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new kx(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Bu.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}rj();var iae={url:ej,storageKey:tj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nj,flowType:"implicit",debug:!1},lv=30*1e3,oj=3;async function sj(n,e,t){return await t()}var Rx=(()=>{class n{constructor(t){var i,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Co()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},iae),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ff({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ex(o.fetch),this.lock=o.lock||sj,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,o.lock?this.lock=o.lock:Co()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=$M:this.lock=sj,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Ul()?this.storage=ij:(this.memoryStorage={},this.storage=UM(this.memoryStorage)):(this.memoryStorage={},this.storage=UM(this.memoryStorage)),Co()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{let t=Co()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:i,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),r?.message==="Identity is already linked"||r?.message==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});let{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return rt(t)?{error:t}:{error:new Rf("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var i,r,o;try{await this._removeSession();let s;if("email"in t){let{email:m,password:_,options:y}=t,w=null,T=null;if(this.flowType==="pkce"){let I=Pu();await $l(this.storage,`${this.storageKey}-code-verifier`,I),w=await Ou(I),T=I===w?"plain":"s256"}s=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:_,data:(i=y?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:T},xform:Hl})}else if("phone"in t){let{phone:m,password:_,options:y}=t;s=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:_,data:(r=y?.data)!==null&&r!==void 0?r:{},channel:(o=y?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Hl})}else throw new Fu("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(rt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{await this._removeSession();let i;if("email"in t){let{email:s,password:a,options:l}=t;i=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:jM})}else if("phone"in t){let{phone:s,password:a,options:l}=t;i=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:jM})}else throw new Fu("You must provide either an email or phone number and a password");let{data:r,error:o}=i;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Nf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(t){var i,r,o,s;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){let i=await rv(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(i??"").split("/"),{data:s,error:a}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Hl});return await Dx(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Nf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}async signInWithIdToken(t){await this._removeSession();try{let{options:i,provider:r,token:o,access_token:s,nonce:a}=t,l=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Hl}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Nf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(t){var i,r,o,s,a;try{if(await this._removeSession(),"email"in t){let{email:l,options:c}=t,d=null,m=null;if(this.flowType==="pkce"){let y=Pu();await $l(this.storage,`${this.storageKey}-code-verifier`,y),d=await Ou(y),m=y===d?"plain":"s256"}let{error:_}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:m},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in t){let{phone:l,options:c}=t,{data:d,error:m}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:m}}throw new Fu("You must provide either an email or phone number.")}catch(l){if(rt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var i,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let o,s;"options"in t&&(o=(i=t.options)===null||i===void 0?void 0:i.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);let{data:a,error:l}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Hl});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,d=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(rt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var i,r,o;try{await this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let l=Pu();await $l(this.storage,`${this.storageKey}-code-verifier`,l),s=await Ou(l),a=l===s?"plain":"s256"}return await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:X5})}catch(s){if(rt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:i},error:r}=t;if(r)throw r;if(!i)throw new $a;let{error:o}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();let i=`${this.url}/resend`;if("email"in t){let{email:r,type:o,options:s}=t,{error:a}=await st(this.fetch,"POST",i,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:r,type:o,options:s}=t,{data:a,error:l}=await st(this.fetch,"POST",i,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Fu("You must provide either an email or phone number and a type")}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let r=i();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,i=await rv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};let{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ys}):await this._useSession(async i=>{var r,o;let{data:s,error:a}=i;if(a)throw a;return await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Ys})})}catch(i){if(rt(i))return{data:{user:null},error:i};throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async r=>{let{data:o,error:s}=r;if(s)throw s;if(!o.session)throw new $a;let a=o.session,l=null,c=null;if(this.flowType==="pkce"&&t.email!=null){let _=Pu();await $l(this.storage,`${this.storageKey}-code-verifier`,_),l=await Ou(_),c=_===l?"plain":"s256"}let{data:d,error:m}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ys});if(m)throw m;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return VM(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $a;let i=Date.now()/1e3,r=i,o=!0,s=null,a=VM(t.access_token);if(a.exp&&(r=a.exp,o=r<=i),o){let{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-i,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(i){if(rt(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var r;if(!t){let{data:a,error:l}=i;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new $a;let{session:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(t){try{if(!Co())throw new Lu("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Lu("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new sv("Not a valid PKCE flow url.");let i=Sx(window.location.href);if(t){if(!i.code)throw new sv("No code detected.");let{data:W,error:N}=await this._exchangeCodeForSession(i.code);if(N)throw N;let X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:W.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new Lu(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});let{provider_token:r,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=i;if(!s||!l||!a||!d)throw new Lu("No session defined in URL");let m=Math.round(Date.now()/1e3),_=parseInt(l),y=m+_;c&&(y=parseInt(c));let w=y-m;w*1e3<=lv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);let T=y-_;m-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,y,m):m-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",T,y,m);let{data:I,error:M}=await this._getUser(s);if(M)throw M;let U={provider_token:r,provider_refresh_token:o,access_token:s,expires_in:_,expires_at:y,refresh_token:a,token_type:d,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:U,redirectType:i.type},error:null}}catch(i){if(rt(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantFlow(){let t=Sx(window.location.href);return!!(Co()&&(t.access_token||t.error_description))}async _isPKCEFlow(){let t=Sx(window.location.href),i=await rv(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var r;let{data:o,error:s}=i;if(s)return{error:s};let a=(r=o.session)===null||r===void 0?void 0:r.access_token;if(a){let{error:l}=await this.admin.signOut(a,t);if(l&&!(Y5(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dx(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){let i=z5(),r={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async i=>{var r,o;try{let{data:{session:s},error:a}=i;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,i={}){let r=null,o=null;if(this.flowType==="pkce"){let s=Pu();await $l(this.storage,`${this.storageKey}-code-verifier`,`${s}/PASSWORD_RECOVERY`),r=await Ou(s),o=s===r?"plain":"s256"}try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(s){if(rt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{let{data:i,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}}async linkIdentity(t){var i;try{let{data:r,error:o}=await this._useSession(async s=>{var a,l,c,d,m;let{data:_,error:y}=s;if(y)throw y;let w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",w,{headers:this.headers,jwt:(m=(d=_.session)===null||d===void 0?void 0:d.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Co()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(rt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async i=>{var r,o;let{data:s,error:a}=i;if(a)throw a;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){let i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{let r=Date.now();return await Q5(async o=>(await G5(o*200),this._debug(i,"refreshing attempt",o),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hl})),(o,s,a)=>a&&a.error&&Ix(a.error)&&Date.now()+(o+1)*200-r<lv)}catch(r){if(this._debug(i,"error",r),rt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){let r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",r),Co()&&!i.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let r=await rv(this.storage,this.storageKey);if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}let o=Math.round(Date.now()/1e3),s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<o+qM;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${qM}s`),s){if(this.autoRefreshToken&&r.refresh_token){let{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),Ix(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var i,r;if(!t)throw new $a;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new iv;let{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new $a;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),rt(s)){let a={session:null,error:s};return Ix(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,i,r=!0){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",i,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:i});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,i)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await $l(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Dx(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Co()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),lv);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async i=>{let{data:{session:r}}=i;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((r.expires_at*1e3-t)/lv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${lv}ms, refresh threshold is ${oj} ticks`),o<=oj&&await this._callRefreshToken(r.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof av)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Co()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,r){let o=[`provider=${encodeURIComponent(i)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){let s=Pu();await $l(this.storage,`${this.storageKey}-code-verifier`,s);let a=await Ou(s),l=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",l);let c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(r?.queryParams){let s=new URLSearchParams(r.queryParams);o.push(s.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;return s?{data:null,error:s}:await st(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async _enroll(t){try{return await this._useSession(async i=>{var r,o;let{data:s,error:a}=i;if(a)return{data:null,error:a};let{data:l,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((o=l?.totp)===null||o===void 0)&&o.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;if(s)return{data:null,error:s};let{data:a,error:l}=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(i){if(rt(i))return{data:null,error:i};throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var r;let{data:o,error:s}=i;return s?{data:null,error:s}:await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(i){if(rt(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(t){let{data:i,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){let{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};let r=t?.factors||[],o=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var i,r;let{data:{session:o},error:s}=t;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((r=(i=o.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let m=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:m},error:null}}))}}return n.nextInstanceID=0,n})();var Nx=class extends Rx{constructor(e){super(e)}};var rae=function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(m){s(m)}}function l(d){try{c(i.throw(d))}catch(m){s(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})},Px=class{constructor(e,t,i){var r,o,s,a,l,c,d,m;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let _=U5(e);this.realtimeUrl=`${_}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${_}/auth/v1`,this.storageUrl=`${_}/storage/v1`,this.functionsUrl=`${_}/functions/v1`;let y=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:B5,realtime:j5,auth:Object.assign(Object.assign({},V5),{storageKey:y}),global:L5},T=$5(i??{},w);this.storageKey=(o=(r=T.auth)===null||r===void 0?void 0:r.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=(s=T.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=T.auth)!==null&&l!==void 0?l:{},this.headers,(c=T.global)===null||c===void 0?void 0:c.fetch),this.fetch=q5(t,this._getAccessToken.bind(this),(d=T.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},T.realtime)),this.rest=new Y0(`${_}/rest/v1`,{headers:this.headers,schema:(m=T.db)===null||m===void 0?void 0:m.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new z0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tv(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return rae(this,void 0,void 0,function*(){let{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,storageKey:o,flowType:s,debug:a},l,c){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nx({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,flowType:s,debug:a,fetch:c})}_initRealtimeClient(e){return new J0(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i??null),this.changedAccessToken=i):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var aj=(n,e,t)=>new Px(n,e,t);var Pi={production:!1,supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVxcnZlbmxrcXVoZWFqdXZlZ2d2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwNzg4NDgsImV4cCI6MjA3MjY1NDg0OH0.ZdgBkvjC5irHh7E9fagqX_Pu797anPfE8jO91iNDRIc",supabaseUrl:"https://uqrvenlkquheajuveggv.supabase.co",apiUrl:"https://your-backend-url.com",supabaseRestUrl:"https://uqrvenlkquheajuveggv.supabase.co/rest/v1"};var Vu=class Vu{constructor(){this._currentUser=B(null);this.supabase=aj(Pi.supabaseUrl.toString().trim(),Pi.supabaseAnonKey),this.initializeCurrentUser(),this.client.auth.onAuthStateChange(async(e,t)=>{if(console.log("Auth state changed:",e,t?.user?.id),e==="SIGNED_IN"&&t?.user?.email_confirmed_at){console.log("\u2705 Email confirmado via link detectado:",t.user.email),console.log("\u{1F4E7} Data de confirma\xE7\xE3o:",t.user.email_confirmed_at);let i=localStorage.getItem("tempUserData");i&&(console.log("\u{1F504} Detectada confirma\xE7\xE3o via link com dados tempor\xE1rios"),console.log("\u{1F4E7} Processando confirma\xE7\xE3o via link..."),window.dispatchEvent(new CustomEvent("emailConfirmedViaLink",{detail:{user:t.user,tempData:i}})))}this._currentUser.set(t?.user??null)})}async signIn(e,t){console.log("Attempting login for:",e);try{let{data:i,error:r}=await this.supabase.auth.signInWithPassword({email:e.trim(),password:t});return r?(console.error("Login error:",r.message),{data:null,error:r}):(console.log("Login result:",{data:i,error:r}),{data:i,error:null})}catch(i){return console.error("Unexpected error:",i),{data:null,error:i}}}get client(){return this.supabase}async signUp(e,t){let{data:i,error:r}=await this.supabase.auth.signUp({email:e.trim(),password:t});return{data:i,error:r}}async initializeCurrentUser(){try{let{data:{user:e},error:t}=await this.client.auth.getUser();t?(console.error("Erro ao obter usu\xE1rio inicial:",t),this._currentUser.set(null)):this._currentUser.set(e)}catch(e){console.error("Erro inesperado ao inicializar usu\xE1rio:",e),this._currentUser.set(null)}}get currentUser(){return this._currentUser.asReadonly()}getCurrentUserSync(){return this._currentUser()}async getCurrentUserAsync(){let{data:{user:e},error:t}=await this.client.auth.getUser();return t?(console.error("Erro ao obter usu\xE1rio:",t),null):e}onAuthStateChange(e){return this.supabase.auth.onAuthStateChange((t,i)=>{e(i?.user||null)})}async signOut(){let{error:e}=await this.supabase.auth.signOut();return{error:e}}};Vu.\u0275fac=function(t){return new(t||Vu)},Vu.\u0275prov=te({token:Vu,factory:Vu.\u0275fac,providedIn:"root"});var xo=Vu;var ju=class ju{constructor(){this.supabase=L(xo);this.notificationIdCounter=1;this.notifications=B([]);this.enhancedNotifications=B([])}initializeForUser(e){this.loadEnhancedNotifications(e),this.listenToNotificationChanges(e)}addNotification(e){let t={id:this.notificationIdCounter++,message:e,timestamp:new Date,read:!1};this.notifications.update(i=>[t,...i]),setTimeout(()=>{this.notifications.update(i=>i.filter(r=>r.id!==t.id))},15e3)}markAsRead(e){this.notifications.update(t=>t.map(i=>i.id===e?J(F({},i),{read:!0}):i))}markAllAsRead(){this.notifications.update(e=>e.map(t=>t.read?t:J(F({},t),{read:!0})))}clearAll(){this.notifications.set([])}async createEnhancedNotification(e,t,i,r,o){let s={user_id:e,type:t,title:i,message:r,service_request_id:o?.serviceRequestId,action_required:o?.actionRequired||!1,priority:o?.priority||"medium",read:!1,timestamp:new Date,expires_at:o?.expiresInHours?new Date(Date.now()+o.expiresInHours*60*60*1e3):void 0},{data:a,error:l}=await this.supabase.client.from("enhanced_notifications").insert(s).select().single();if(l){console.error("Error creating enhanced notification:",l),this.addNotification(r);return}}async notifyByRole(e,t,i,r,o){let{data:s,error:a}=await this.supabase.client.from("users").select("id").in("role",e).eq("status","Active");if(a||!s){console.error("Error fetching users by role:",a);return}for(let l of s)await this.createEnhancedNotification(l.id,t,i,r,o)}async notifyServiceRequestStakeholders(e,t,i,r,o,s){let{data:a,error:l}=await this.supabase.client.from("service_requests").select("client_id, professional_id").eq("id",e).single();if(l||!a){console.error("Error fetching service request:",l);return}let c=[];if(o.includes("client")&&a.client_id&&c.push(a.client_id),o.includes("professional")&&a.professional_id&&c.push(a.professional_id),o.includes("admin")){let{data:d}=await this.supabase.client.from("users").select("id").eq("role","admin").eq("status","Active");d&&c.push(...d.map(m=>m.id))}for(let d of c)await this.createEnhancedNotification(d,t,i,r,F({serviceRequestId:e},s))}async markEnhancedAsRead(e){try{let{error:t}=await this.supabase.client.from("enhanced_notifications").update({read:!0}).eq("id",e);if(t){console.warn("Enhanced notifications not available:",t.message);return}this.enhancedNotifications.update(i=>i.map(r=>r.id===e?J(F({},r),{read:!0}):r))}catch{console.warn("Enhanced notifications feature not available")}}async markAllEnhancedAsRead(e){let{error:t}=await this.supabase.client.from("enhanced_notifications").update({read:!0}).eq("user_id",e).eq("read",!1);if(t){console.error("Error marking all notifications as read:",t);return}this.enhancedNotifications.update(i=>i.map(r=>r.read?r:J(F({},r),{read:!0})))}async deleteEnhancedNotification(e){let{error:t}=await this.supabase.client.from("enhanced_notifications").delete().eq("id",e);if(t){console.error("Error deleting notification:",t);return}this.enhancedNotifications.update(i=>i.filter(r=>r.id!==e))}async cleanupExpiredNotifications(){let{error:e}=await this.supabase.client.from("enhanced_notifications").delete().lt("expires_at",new Date().toISOString());if(e){console.error("Error cleaning up expired notifications:",e);return}await this.loadEnhancedNotifications()}getNotificationStats(){let e=this.enhancedNotifications(),t={total:e.length,unread:e.filter(i=>!i.read).length,actionRequired:e.filter(i=>i.action_required).length,highPriority:e.filter(i=>i.priority==="high").length,byType:{}};return e.forEach(i=>{t.byType[i.type]=(t.byType[i.type]||0)+1}),t}getFilteredNotifications(e){let t=this.enhancedNotifications();return e.type&&(t=t.filter(i=>i.type===e.type)),e.priority&&(t=t.filter(i=>i.priority===e.priority)),e.actionRequired!==void 0&&(t=t.filter(i=>i.action_required===e.actionRequired)),e.unreadOnly&&(t=t.filter(i=>!i.read)),e.serviceRequestId&&(t=t.filter(i=>i.service_request_id===e.serviceRequestId)),t}async loadEnhancedNotifications(e){if(!e)return;let t=["created_at","timestamp","date_created","id"],i=null,r=null;for(let o of t)try{let s=await this.supabase.client.from("enhanced_notifications").select("*").eq("user_id",e).order(o,{ascending:!1}).limit(100);if(s.error)r=s.error;else{i=s.data,r=null;break}}catch(s){r=s;continue}if(r){console.error("Error loading enhanced notifications:",r);return}i&&this.enhancedNotifications.set(i)}listenToNotificationChanges(e){e&&this.supabase.client.channel(`notifications:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"enhanced_notifications",filter:`user_id=eq.${e}`},()=>{this.loadEnhancedNotifications(e)}).subscribe()}async notifyQuoteRequest(e,t){await this.createEnhancedNotification(t,"quote_request","Or\xE7amento Solicitado","Um or\xE7amento foi solicitado para o seu pedido de servi\xE7o.",{serviceRequestId:e,actionRequired:!1,priority:"medium"})}async notifyQuoteSent(e,t,i){await this.createEnhancedNotification(t,"quote_sent","Or\xE7amento Recebido",`Voc\xEA recebeu um or\xE7amento de \u20AC${i.toFixed(2)}. Clique para revisar e aprovar.`,{serviceRequestId:e,actionRequired:!0,priority:"high",expiresInHours:168})}async notifyProfessionalAssignment(e,t){await this.createEnhancedNotification(t,"professional_assigned","Novo Trabalho Atribu\xEDdo","Um novo trabalho foi atribu\xEDdo a voc\xEA. Clique para aceitar ou rejeitar.",{serviceRequestId:e,actionRequired:!0,priority:"high",expiresInHours:48})}async notifyPaymentDue(e,t,i){await this.createEnhancedNotification(t,"payment_due","Pagamento Pendente",`Seu pagamento de \u20AC${i.toFixed(2)} est\xE1 pendente. Complete o pagamento para finalizar o servi\xE7o.`,{serviceRequestId:e,actionRequired:!0,priority:"high",expiresInHours:168})}async notifyDeadlineWarning(e,t,i){for(let r of t)await this.createEnhancedNotification(r,"deadline_warning","Prazo se Aproximando",`Aten\xE7\xE3o: O prazo para o pedido #${e} \xE9 em ${i}.`,{serviceRequestId:e,actionRequired:!1,priority:"medium"})}async notifyOverdue(e,t){for(let i of t)await this.createEnhancedNotification(i,"overdue_alert","Pedido em Atraso",`O pedido #${e} est\xE1 em atraso. A\xE7\xE3o imediata necess\xE1ria.`,{serviceRequestId:e,actionRequired:!0,priority:"high"})}};ju.\u0275fac=function(t){return new(t||ju)},ju.\u0275prov=te({token:ju,factory:ju.\u0275fac,providedIn:"root"});var jt=ju;var qu=class qu{constructor(){this.supabase=L(xo);this.notificationService=L(jt);this.supabaseUser=this.supabase.currentUser;this.appUser=B(null);this.pendingEmailConfirmation=B(null);Ut(async()=>{let e=this.supabaseUser();if(console.log("\u{1F50D} AuthService effect triggered. sUser:",e?.id),e){console.log("\u{1F464} Usu\xE1rio autenticado, buscando perfil..."),await this.fetchAppUser(e.id,!0);let t=this.appUser();t&&this.notificationService.initializeForUser(t.id)}else console.log("\u{1F464} Nenhum usu\xE1rio logado"),this.appUser.set(null),this.pendingEmailConfirmation.set(null)}),globalThis.addEventListener("emailConfirmedViaLink",async e=>{console.log("\u{1F517} Processando confirma\xE7\xE3o via link..."),await this.handleEmailConfirmedViaLink(e.detail)})}async refreshAppUser(e){await this.fetchAppUser(e,!1)}async fetchAppUser(e,t=!0){console.log("\u{1F50D} Buscando usu\xE1rio com auth_id:",e);let{data:i,error:r}=await this.supabase.client.from("users").select("*").eq("auth_id",e).single();if(r){console.error("\u274C Supabase fetchAppUser error:",r),r.code!=="PGRST116"&&this.handleAuthError(r,"fetching user profile"),this.appUser.set(null);return}let o=i;if(console.log("\u{1F464} Usu\xE1rio encontrado:",o.email),console.log("\u{1F4E7} Email verificado:",o.email_verified),!o.email_verified){await this.handleUnverifiedEmail(o,e,t);return}console.log("\u2705 Email verificado. Carregando usu\xE1rio"),this.pendingEmailConfirmation.set(null),this.appUser.set(o)}async handleUnverifiedEmail(e,t,i){console.log("\u26A0\uFE0F Email N\xC3O verificado na tabela users."),console.log("\u{1F50D} Verificando confirma\xE7\xE3o no Supabase...");let{data:r,error:o}=await this.supabase.client.auth.getUser();!o&&r.user?.email_confirmed_at?await this.syncEmailVerification(e,t):await this.handleEmailNotConfirmed(e,i)}async syncEmailVerification(e,t){console.log("\u2705 Email confirmado no Supabase! Atualizando tabela users...");let{error:i}=await this.supabase.client.from("users").update({email_verified:!0}).eq("auth_id",t);i?console.error("\u274C Erro ao atualizar email_verified:",i):(console.log("\u2705 Campo email_verified atualizado com sucesso"),e.email_verified=!0,this.pendingEmailConfirmation.set(null),this.appUser.set(e))}async handleEmailNotConfirmed(e,t){console.log("\u274C Email ainda n\xE3o confirmado no Supabase"),t?(console.log("\u{1F504} Chamada autom\xE1tica - fazendo logout silencioso"),await this.supabase.client.auth.signOut(),this.appUser.set(null)):(console.log("\u{1F4E7} Chamada manual - redirecionando para verifica\xE7\xE3o"),this.pendingEmailConfirmation.set(e.email),this.appUser.set(null),await this.supabase.client.auth.signOut())}handleAuthError(e,t){e&&(console.error(`Error ${t}:`,e.message),this.notificationService.addNotification(`Error: ${e.message}`))}async login(e,t){console.log("AuthService - Tentando login com:",e);try{if(!e||!t)throw new Error("Email e senha s\xE3o obrigat\xF3rios");console.log("Chamando signInWithPassword...");let i=await this.supabase.client.auth.signInWithPassword({email:e.trim(),password:t});if(console.log("Resposta do signInWithPassword:",{user:i.data?.user?.id,session:!!i.data?.session,error:i.error}),i.error)return console.error("Erro detalhado:",{message:i.error.message,status:i.error.status,name:i.error.name}),this.handleAuthError(i.error,"logging in"),i;if(i.data?.user){console.log("\u{1F50D} Login bem-sucedido, verificando email_verified...");let{data:r,error:o}=await this.supabase.client.from("users").select("email_verified").eq("auth_id",i.data.user.id).single();if(o)console.error("\u274C Erro ao verificar email_verified:",o);else if(r?.email_verified)console.log("\u2705 Email verificado, login permitido");else return console.log("\u26A0\uFE0F Email n\xE3o verificado, bloqueando login"),await this.supabase.client.auth.signOut(),this.notificationService.addNotification("Email n\xE3o verificado. Por favor, verifique seu email e clique no link de verifica\xE7\xE3o antes de fazer login."),{data:{user:null,session:null},error:{message:"Email n\xE3o verificado. Por favor, verifique seu email e clique no link de verifica\xE7\xE3o antes de fazer login.",name:"EmailNotVerified",status:400}}}return i}catch(i){console.error("Erro inesperado no login:",i);let r=i;return this.handleAuthError(r,"logging in"),{data:{user:null,session:null},error:r}}}async register(e,t,i,r){if(console.log("\u{1F680} AuthService.register() iniciado para:",t),console.log("\u{1F3AF} SOLU\xC7\xC3O ALTERNATIVA: Usando OTP em vez de signUp"),console.log("\u{1F3AF} Role recebido como par\xE2metro:",r),console.log("\u2705 Validando formato do e-mail..."),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){console.error("\u274C Formato de e-mail inv\xE1lido:",t),this.notificationService.addNotification("Por favor, insira um e-mail v\xE1lido (exemplo: usuario@email.com)");return}console.log("\u{1F50D} Verificando se e-mail j\xE1 existe na base de dados...");let{data:s}=await this.supabase.client.from("users").select("email").eq("email",t).single();if(s){console.log("\u26A0\uFE0F E-mail j\xE1 existe na tabela users"),this.notificationService.addNotification("E-mail j\xE1 cadastrado. Tente fazer login ou use outro e-mail.");return}console.log("\u{1F4E7} Enviando c\xF3digo de verifica\xE7\xE3o via OTP...");let{error:a}=await this.supabase.client.auth.signInWithOtp({email:t,options:{shouldCreateUser:!0,data:{name:e,role:r,password:i}}});if(a){console.error("\u274C Erro ao enviar OTP:",a),a.message.includes("User already registered")?this.notificationService.addNotification("E-mail j\xE1 cadastrado. Tente fazer login ou use outro e-mail."):a.message.includes("invalid format")?this.notificationService.addNotification("Formato de e-mail inv\xE1lido. Use o formato: usuario@email.com"):a.message.includes("email address")?this.notificationService.addNotification("E-mail inv\xE1lido. Verifique se digitou corretamente."):a.message.includes("rate limit")?this.notificationService.addNotification("Muitas tentativas. Aguarde alguns minutos e tente novamente."):this.handleAuthError(a,"sending verification code");return}console.log("\u2705 C\xF3digo de verifica\xE7\xE3o enviado com sucesso!");let l={name:e,email:t,password:i,role:r,timestamp:Date.now()};localStorage.setItem("tempUserData",JSON.stringify(l)),console.log("\u{1F4E7} Definindo e-mail pendente de confirma\xE7\xE3o:",t),this.pendingEmailConfirmation.set(t),console.log("\u{1F512} Fazendo logout obrigat\xF3rio para tela de verifica\xE7\xE3o"),await this.supabase.client.auth.signOut(),this.notificationService.addNotification("Um c\xF3digo de verifica\xE7\xE3o foi enviado para seu e-mail. Verifique sua caixa de entrada e spam.")}async verifyOtp(e,t){console.log("\u{1F50D} Verificando OTP para:",e);let i=await this.supabase.client.auth.verifyOtp({email:e,token:t,type:"email"});return i.error?(this.handleAuthError(i.error,"verifying OTP"),i):(i.data.user&&(console.log("\u2705 OTP verificado com sucesso!"),await this.handleSuccessfulOtpVerification(i.data.user)),i)}async handleSuccessfulOtpVerification(e){let t=localStorage.getItem("tempUserData");t?await this.createUserProfileFromTempData(e,t):(console.log("\u26A0\uFE0F Dados tempor\xE1rios n\xE3o encontrados, apenas marcando email como verificado"),await this.markEmailAsVerified(e.id))}async createUserProfileFromTempData(e,t){try{let i=JSON.parse(t);console.log("\u{1F4DD} Criando perfil do usu\xE1rio com dados tempor\xE1rios..."),await this.insertOrUpdateUserProfile(e.id,i),await this.setUserPassword(i.password),await this.markEmailAsVerified(e.id),localStorage.removeItem("tempUserData")}catch(i){console.error("\u274C Erro ao processar dados tempor\xE1rios:",i),localStorage.removeItem("tempUserData")}}async insertOrUpdateUserProfile(e,t){let i={auth_id:e,name:t.name,email:t.email,role:t.role,status:t.role==="professional"?"Pending":"Active",avatar_url:`https://i.pravatar.cc/150?u=${e}`,email_verified:!0},{error:r}=await this.supabase.client.from("users").insert(i);r?await this.handleInsertError(r,e,t):console.log("\u2705 Perfil criado com sucesso")}async handleInsertError(e,t,i){e.message.includes("duplicate key")?await this.updateExistingUserProfile(t,i):(console.error("\u274C Erro ao criar perfil:",e),this.handleAuthError(e,"creating user profile"))}async updateExistingUserProfile(e,t){console.log("\u26A0\uFE0F Usu\xE1rio j\xE1 existe, atualizando...");let{error:i}=await this.supabase.client.from("users").update({name:t.name,role:t.role,status:t.role==="professional"?"Pending":"Active",email_verified:!0}).eq("auth_id",e);i?(console.error("\u274C Erro no update:",i),this.handleAuthError(i,"updating user profile")):console.log("\u2705 Perfil atualizado com sucesso")}async setUserPassword(e){if(!e)return;console.log("\u{1F511} Definindo senha do usu\xE1rio...");let{error:t}=await this.supabase.client.auth.updateUser({password:e});t?console.error("\u274C Erro ao definir senha:",t):console.log("\u2705 Senha definida com sucesso")}async resendVerificationCode(e){try{console.log("\u{1F4E7} Reenviando c\xF3digo de verifica\xE7\xE3o para:",e);let{error:t}=await this.supabase.client.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1}});t?this.handleAuthError(t,"resending verification code"):this.notificationService.addNotification("Um novo c\xF3digo de verifica\xE7\xE3o foi enviado para seu e-mail.")}catch(t){console.error("Error resending verification code:",t),this.notificationService.addNotification("Erro ao reenviar c\xF3digo. Tente novamente.")}}async resetPassword(e){let{error:t}=await this.supabase.client.auth.resetPasswordForEmail(e,{redirectTo:globalThis.location.origin});this.handleAuthError(t,"requesting password reset"),t||this.notificationService.addNotification("Password reset link sent. Please check your email.")}async sendPasswordResetCode(e){console.log("\u{1F511} Enviando c\xF3digo de redefini\xE7\xE3o de senha para:",e);try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))throw new Error("Formato de e-mail inv\xE1lido");let{data:i}=await this.supabase.client.from("users").select("email, auth_id").eq("email",e).single();if(!i)throw new Error("E-mail n\xE3o encontrado em nosso sistema");let{error:r}=await this.supabase.client.auth.signInWithOtp({email:e,options:{shouldCreateUser:!1,data:{isPasswordReset:!0}}});if(r)throw console.error("\u274C Erro ao enviar c\xF3digo de redefini\xE7\xE3o:",r),new Error(r.message||"Erro ao enviar c\xF3digo de redefini\xE7\xE3o");console.log("\u2705 C\xF3digo de redefini\xE7\xE3o enviado com sucesso")}catch(t){throw console.error("\u274C Erro ao enviar c\xF3digo de redefini\xE7\xE3o:",t),t}}async verifyPasswordResetCode(e,t){console.log("\u{1F50D} Verificando c\xF3digo de redefini\xE7\xE3o:",t);try{let{data:i,error:r}=await this.supabase.client.auth.verifyOtp({email:e,token:t,type:"email"});return r?(console.error("\u274C Erro ao verificar c\xF3digo:",r),!1):i.user?(console.log("\u2705 C\xF3digo verificado com sucesso"),!0):!1}catch(i){return console.error("\u274C Erro inesperado ao verificar c\xF3digo:",i),!1}}async updatePasswordWithCode(e,t,i){console.log("\u{1F504} Atualizando senha ap\xF3s verifica\xE7\xE3o OTP");try{let{data:r,error:o}=await this.supabase.client.auth.verifyOtp({email:e,token:t,type:"email"});if(o||!r.user)throw console.error("\u274C Erro ao verificar c\xF3digo:",o),new Error("C\xF3digo inv\xE1lido ou expirado");console.log("\u2705 C\xF3digo verificado, atualizando senha...");let{error:s}=await this.supabase.client.auth.updateUser({password:i});if(s)throw console.error("\u274C Erro ao atualizar senha:",s),new Error(s.message||"Erro ao atualizar senha");console.log("\u2705 Senha atualizada com sucesso"),await this.supabase.client.auth.signOut()}catch(r){throw console.error("\u274C Erro ao atualizar senha:",r),r}}async handlePasswordResetFromUrl(e,t){console.log("\u{1F511} Configurando sess\xE3o para reset de senha");try{let{error:i}=await this.supabase.client.auth.setSession({access_token:e,refresh_token:t||""});if(i)throw console.error("\u274C Erro ao configurar sess\xE3o:",i),new Error("Erro ao configurar sess\xE3o para reset de senha");console.log("\u2705 Sess\xE3o configurada para reset de senha")}catch(i){throw console.error("\u274C Erro ao configurar sess\xE3o:",i),i}}async hasActiveSession(){try{let{data:{session:e}}=await this.supabase.client.auth.getSession();return{hasSession:!!e?.user,userEmail:e?.user?.email}}catch(e){return console.error("\u274C Erro ao verificar sess\xE3o:",e),{hasSession:!1}}}onAuthStateChange(e){return this.supabase.client.auth.onAuthStateChange(e)}async logout(){console.log("\u{1F513} AuthService - executando logout");try{let{data:{session:e}}=await this.supabase.client.auth.getSession();if(e){console.log("\u{1F4CB} Sess\xE3o encontrada, fazendo logout via API");let{error:t}=await this.supabase.client.auth.signOut();t?(console.warn("\u26A0\uFE0F Erro no logout via API, limpando localmente:",t.message),await this.clearLocalSession()):console.log("\u2705 Logout realizado com sucesso via API")}else console.log("\u{1F504} Nenhuma sess\xE3o ativa, limpando dados localmente"),await this.clearLocalSession();this.appUser.set(null),console.log("\u2705 Estado do usu\xE1rio limpo")}catch(e){console.error("\u274C Erro durante logout, limpando localmente:",e),await this.clearLocalSession(),this.appUser.set(null)}}async clearLocalSession(){localStorage.removeItem("supabase.auth.token"),sessionStorage.removeItem("supabase.auth.token");try{await this.supabase.client.auth.signOut({scope:"local"})}catch(e){console.log("\u{1F504} Limpeza local do Supabase conclu\xEDda com erro:",e)}}async markEmailAsVerified(e){console.log("\u2705 Marcando email como verificado para user:",e);let{error:t}=await this.supabase.client.from("users").update({email_verified:!0}).eq("auth_id",e);t?(console.error("\u274C Erro ao marcar email como verificado:",t),this.handleAuthError(t,"marking email as verified")):(console.log("\u2705 Email marcado como verificado com sucesso"),await this.fetchAppUser(e,!1))}async updateUserProfile(e){let t=this.appUser();if(!t)throw console.error("\u274C No user logged in for profile update"),new Error("No user logged in");console.log("\u{1F4DD} Updating user profile:",e);try{let{data:i,error:r}=await this.supabase.client.from("users").update(e).eq("id",t.id).select().single();if(r)throw console.error("\u274C Supabase error updating profile:",r),this.handleAuthError(r,"updating profile"),r;if(i)console.log("\u2705 Profile updated successfully:",i),this.appUser.set(i);else throw console.error("\u274C No data returned from profile update"),new Error("No data returned from profile update")}catch(i){throw console.error("\u274C Unexpected error updating profile:",i),i}}async updateAvatarUrl(e){let t=this.appUser();if(t)try{let{data:i,error:r}=await this.supabase.client.from("users").update({avatar_url:e}).eq("id",t.id).select().single();if(r){console.error("Error updating avatar URL:",r),this.notificationService.addNotification("Error updating avatar");return}i&&(this.appUser.set(i),console.log("\u2705 Avatar URL updated successfully"))}catch(i){console.error("Unexpected error updating avatar:",i),this.notificationService.addNotification("Error updating avatar")}}async deleteOldAvatar(e,t){try{let i=t.split("/"),r=i.indexOf("avatars");if(r===-1||r>=i.length-1){console.log("Could not extract file path from avatar URL");return}let o=i.slice(r+1).join("/");console.log(`\u{1F5D1}\uFE0F Deleting old avatar: ${o}`);let{error:s}=await this.supabase.client.storage.from("avatars").remove([o]);s?console.error("Error deleting old avatar:",s):console.log("\u2705 Old avatar deleted successfully")}catch(i){console.error("Unexpected error deleting old avatar:",i)}}async uploadAvatar(e){let t=this.appUser(),i=this.supabaseUser();if(!t||!i){this.notificationService.addNotification("No user logged in");return}try{t.avatar_url&&!t.avatar_url.includes("pravatar.cc")&&await this.deleteOldAvatar(i.id,t.avatar_url);let r=e.name.split(".").pop(),o=`${t.id}-${Date.now()}.${r}`,s=`${i.id}/${o}`;console.log(`\u{1F4E4} Uploading avatar: ${o} to path: ${s}`);let{error:a}=await this.supabase.client.storage.from("avatars").upload(s,e,{upsert:!0});if(a){console.error("Error uploading avatar:",a),a.message.includes("Bucket not found")?this.notificationService.addNotification("Storage bucket 'avatars' not found. Please check Supabase configuration."):a.message.includes("payload too large")?this.notificationService.addNotification("Image too large. Please use an image smaller than 2MB."):a.message.includes("file type")?this.notificationService.addNotification("Invalid file type. Please use JPG, PNG, GIF or WebP images."):this.notificationService.addNotification("Error uploading image. Please try again.");return}console.log(`\u2705 Upload successful: ${o}`);let{data:l}=this.supabase.client.storage.from("avatars").getPublicUrl(s);l?(console.log(`\u{1F4F7} Public URL: ${l.publicUrl}`),await this.updateAvatarUrl(l.publicUrl),this.notificationService.addNotification("Photo uploaded successfully!")):(console.error("Failed to generate public URL"),this.notificationService.addNotification("Error generating image URL"))}catch(r){console.error("Unexpected error uploading avatar:",r),this.notificationService.addNotification(`Upload failed: ${r.message||"Unknown error"}`)}}async handleEmailConfirmedViaLink(e){console.log("\u{1F517} Processando confirma\xE7\xE3o de email via link");try{let{user:t,tempData:i}=e,r=JSON.parse(i);console.log("\u{1F4DD} Dados tempor\xE1rios encontrados:",r),console.log("\u{1F464} Usu\xE1rio confirmado:",t.email);let{data:o}=await this.supabase.client.from("users").select("*").eq("auth_id",t.id).single();if(o){console.log("\u{1F4DD} Perfil j\xE1 existe, atualizando email_verified...");let{error:s}=await this.supabase.client.from("users").update({email_verified:!0}).eq("auth_id",t.id);s?console.error("\u274C Erro ao atualizar email_verified:",s):console.log("\u2705 email_verified atualizado com sucesso")}else{console.log("\u{1F4DD} Criando perfil para usu\xE1rio confirmado via link...");let s={auth_id:t.id,name:r.name,email:r.email,role:r.role,status:r.role==="professional"?"Pending":"Active",avatar_url:`https://i.pravatar.cc/150?u=${t.id}`,email_verified:!0},{error:a}=await this.supabase.client.from("users").insert(s);a?console.error("\u274C Erro ao criar perfil:",a):console.log("\u2705 Perfil criado com sucesso")}if(r.password){console.log("\u{1F511} Definindo senha para usu\xE1rio confirmado via link...");let{error:s}=await this.supabase.client.auth.updateUser({password:r.password});s?console.error("\u274C Erro ao definir senha:",s):console.log("\u2705 Senha definida com sucesso")}localStorage.removeItem("tempUserData"),console.log("\u{1F512} Fazendo logout para redirecionar para login..."),await this.supabase.client.auth.signOut(),this.notificationService.addNotification("Conta confirmada com sucesso! Fa\xE7a login com suas credenciais para acessar a aplica\xE7\xE3o."),this.pendingEmailConfirmation.set(null),console.log("\u2705 Confirma\xE7\xE3o via link processada com sucesso")}catch(t){console.error("\u274C Erro ao processar confirma\xE7\xE3o via link:",t),localStorage.removeItem("tempUserData")}}};qu.\u0275fac=function(t){return new(t||qu)},qu.\u0275prov=te({token:qu,factory:qu.\u0275fac,providedIn:"root"});var Oi=qu;var Uu=class Uu{constructor(){this.i18n=L($e);this.supabase=L(xo);this.notificationService=L(jt);this.authService=L(Oi);this.users=B([]);this.serviceRequests=B([]);this.chatMessages=B([]);this.categories=B([]);this.subcategories=B([]);this.serviceClarifications=B([]);this.listenToServiceRequestChanges(),this.listenToUserChanges()}async getPostalCodeInfo(e){let t=e.replaceAll(/\D/g,"");t.length===7?t=t.slice(0,4)+"-"+t.slice(4):t.length===8&&(t=t.slice(0,4)+"-"+t.slice(4,7)),console.log("[getPostalCodeInfo] Valor recebido:",e),console.log("[getPostalCodeInfo] Valor normalizado:",t),console.log("[getPostalCodeInfo] Query:",{table:"vw_enderecos_completos",select:"id, codigo_postal, distrito, concelho, localidade, designacao_postal, tipo_arteria, arteria_completa, local_arteria, porta, cliente",where:{codigo_postal:t}});let{data:i,error:r}=await this.supabase.client.from("vw_enderecos_completos").select("id, codigo_postal, distrito, concelho, localidade, designacao_postal, tipo_arteria, arteria_completa, local_arteria, porta, cliente").eq("codigo_postal",t).limit(1).single();return console.log("[getPostalCodeInfo] Resultado Supabase:",{data:i,error:r}),r||!i?null:{localidade:i.localidade||"",distrito:i.distrito||"",concelho:i.concelho||"",arteria_completa:i.arteria_completa||""}}buildSubcategoryPayload(e,t,i){let r={name:e,category_id:t};return i&&(i.type!==void 0&&(r.type=i.type),i.average_time_minutes!==void 0&&(r.average_time_minutes=i.average_time_minutes??null),i.price!==void 0&&(r.price=i.price??null),i.description!==void 0&&(r.description=i.description??null)),r}normalizeSubcategoryData(e){return J(F({},e),{category_id:typeof e.category_id=="string"?Number.parseInt(e.category_id,10):e.category_id,average_time_minutes:e.average_time_minutes===void 0?null:e.average_time_minutes,price:e.price===void 0?null:e.price})}async addSubcategory(e,t,i){let r=this.buildSubcategoryPayload(e,t,i),{data:o,error:s}=await this.supabase.client.from("service_subcategories").insert(r).select("id, name, category_id, type, average_time_minutes, price, description").single();if(s)return this.notificationService.addNotification("Erro ao criar subcategoria: "+s.message),null;if(o){let a=this.normalizeSubcategoryData(o);return this.subcategories.update(l=>[...l,a]),this.notificationService.addNotification("Subcategoria criada com sucesso!"),a}return null}async updateSubcategory(e,t){let i={};t.name!==void 0&&(i.name=t.name),t.type!==void 0&&(i.type=t.type),t.average_time_minutes!==void 0&&(i.average_time_minutes=t.average_time_minutes),t.price!==void 0&&(i.price=t.price),t.description!==void 0&&(i.description=t.description);let{data:r,error:o}=await this.supabase.client.from("service_subcategories").update(i).eq("id",e).select("id, name, category_id, type, average_time_minutes, price, description").single();if(o)return this.notificationService.addNotification("Erro ao atualizar subcategoria: "+o.message),null;if(r){let s=r,a=J(F({},s),{category_id:typeof s.category_id=="string"?Number.parseInt(s.category_id,10):s.category_id,average_time_minutes:s.average_time_minutes===void 0?null:s.average_time_minutes,price:s.price===void 0?null:s.price});return this.subcategories.update(l=>l.map(c=>c.id===e?a:c)),this.notificationService.addNotification("Subcategoria atualizada com sucesso!"),a}return null}async deleteSubcategory(e){let{error:t}=await this.supabase.client.from("service_subcategories").delete().eq("id",e);if(t)return this.notificationService.addNotification("Erro ao remover subcategoria: "+t.message),!1;let i=this.subcategories().filter(r=>r.id!==e);return this.subcategories.set(i),this.notificationService.addNotification("Subcategoria removida com sucesso!"),!0}async deleteCategory(e){let{error:t}=await this.supabase.client.from("service_categories").delete().eq("id",e);if(t)return this.notificationService.addNotification("Erro ao remover categoria: "+t.message),!1;let i=this.categories().filter(r=>r.id!==e);return this.categories.set(i),this.notificationService.addNotification("Categoria removida com sucesso!"),!0}async addCategory(e){let{data:t,error:i}=await this.supabase.client.from("service_categories").insert({name:e}).select("id, name").single();if(i)return this.notificationService.addNotification("Erro ao criar categoria: "+i.message),null;if(t){let r=[...this.categories(),t];return this.categories.set(r),this.notificationService.addNotification("Categoria criada com sucesso!"),t}return null}async updateCategory(e,t){let{data:i,error:r}=await this.supabase.client.from("service_categories").update({name:t}).eq("id",e).select("id, name").single();if(r)return this.notificationService.addNotification("Erro ao atualizar categoria: "+r.message),null;if(i){let o=this.categories().map(s=>s.id===e?J(F({},s),{name:i.name}):s);return this.categories.set(o),this.notificationService.addNotification("Categoria atualizada com sucesso!"),i}return null}setServiceStatus(e,t){this.updateServiceRequest(e,{status:Ur[t]})}async loadInitialData(e){await this.fetchUsers(),await this.fetchServiceRequests(e),await this.fetchCategories(),await this.fetchSubcategories()}clearData(){this.users.set([]),this.serviceRequests.set([]),this.chatMessages.set([]),this.categories.set([])}async fetchUsers(){let{data:e,error:t}=await this.supabase.client.from("users").select("*");t?(console.log("Error fetching users from Supabase, keeping sample data:",t.message),this.notificationService.addNotification("Using sample data - Error fetching users: "+t.message)):e&&e.length>0?(console.log("Loaded users from Supabase:",e.length),this.users.set(e)):console.log("No users found in Supabase, keeping sample data")}async fetchServiceRequests(e){let t=this.supabase.client.from("service_requests").select("*");e.role==="professional"&&(t=t.eq("professional_id",e.id));let{data:i,error:r}=await t;if(r)console.log("Error fetching service requests from Supabase, keeping sample data:",r.message),this.notificationService.addNotification("Using sample data - Error fetching service requests: "+r.message);else if(i&&i.length>0){let o=this.users(),s=i.map(a=>J(F({},a),{professional_name:o.find(l=>l.id===a.professional_id)?.name||"Unassigned"}));this.serviceRequests.set(s)}else this.serviceRequests.set([])}async fetchCategories(){let{data:e,error:t}=await this.supabase.client.from("service_categories").select("id, name").order("name");t?(console.log("Error fetching categories from Supabase, keeping sample data:",t.message),this.notificationService.addNotification("Using sample data - Error fetching categories: "+t.message)):e&&e.length>0?this.categories.set(e):console.log("No categories found in Supabase, keeping sample data")}async fetchSubcategories(){let{data:e,error:t}=await this.supabase.client.from("service_subcategories").select("id, name, category_id, type, average_time_minutes, price, description").order("name");t&&(console.log("Error fetching subcategories from Supabase:",t.message),this.notificationService.addNotification("Erro ao buscar subcategorias: "+t.message));try{console.debug("[DataService] fetchSubcategories raw response:",{data:e,error:t,currentUserId:this.authService?.appUser?.()?.id??null})}catch(i){console.error("[DataService] Error logging subcategories response:",i)}if(e&&e.length>0){let i=e.map(r=>J(F({},r),{category_id:typeof r.category_id=="string"?Number.parseInt(r.category_id,10):r.category_id,average_time_minutes:r.average_time_minutes===void 0?null:r.average_time_minutes,price:r.price===void 0?null:r.price}));try{if(console.debug(`[DataService] fetchSubcategories loaded ${i.length} items`),i.length>0){let r=i.slice(0,5).map(o=>({id:o.id,category_id_type:typeof o.category_id,category_id_value:o.category_id}));console.debug("[DataService] subcategories sample types:",r)}}catch(r){console.error("[DataService] Error logging subcategories debug info:",r)}this.subcategories.set(i)}else console.log("No subcategories found in Supabase.")}async addServiceRequest(e){let t=this.authService.appUser();if(!t)throw new Error("User not authenticated");let i=e.requested_datetime,{StatusService:r}=await import("./chunk-4S2A3DFB.js"),o={client_id:t.id,client_auth_id:t.auth_id,title:e.title,description:e.description,category_id:e.category_id,subcategory_id:e.subcategory_id,street:e.address.street,city:e.address.city,state:e.address.state,zip_code:e.address.zip_code,requested_datetime:i,status:Ur[r.Requested],payment_status:"Unpaid"},{error:s}=await this.supabase.client.from("service_requests").insert(o);if(s)throw this.notificationService.addNotification("Error creating service request: "+s.message),s;return this.notificationService.addNotification("Service request created successfully!"),t&&await this.fetchServiceRequests(t),!0}async addAdminServiceRequest(e){let t=this.authService.appUser();if(t?.role!=="admin")throw this.notificationService.addNotification("Apenas administradores podem criar pedidos de servi\xE7o."),new Error("Only admins can create admin service requests");let{StatusService:i}=await import("./chunk-4S2A3DFB.js"),r={title:e.title,description:e.description,category_id:e.category_id,subcategory_id:e.subcategory_id,status:Ur[i.SearchingProfessional],payment_status:"Unpaid",created_by_admin:!0,client_id:null,client_auth_id:null,requester_name:e.requester_name,requester_phone:e.requester_phone,requester_nif:e.requester_nif,street:e.street,postal_code:e.postal_code,locality:e.locality,district:e.district,location_details:e.location_details,location_access_notes:e.location_access_notes,urgency:e.urgency,service_deadline:e.service_deadline},{error:o}=await this.supabase.client.from("service_requests").insert(r);if(o)throw this.notificationService.addNotification("Error creating admin service request: "+o.message),o;return this.notificationService.addNotification("Admin service request created successfully!"),t&&await this.fetchServiceRequests(t),!0}getServiceRequestById(e){return this.serviceRequests().find(t=>t.id===e)}async updateServiceRequest(e,t){let i=this.getServiceRequestById(e),{error:r}=await this.supabase.client.from("service_requests").update(t).eq("id",e);if(r){this.notificationService.addNotification("Error updating request: "+r.message);return}t.status&&i&&i.status!==t.status&&this.notificationService.addNotification(this.i18n.translate("statusChangedFromTo",{id:e.toString(),from:i.status,to:t.status})),t.payment_status&&i&&i.payment_status!==t.payment_status&&this.notificationService.addNotification(this.i18n.translate("paymentStatusChanged",{id:e.toString(),status:t.payment_status}))}async respondToQuote(e,t){let i=t?"QuoteApproved":"QuoteRejected";await this.updateServiceRequest(e,{status:Ur[i]}),this.notificationService.addNotification(`Or\xE7amento do pedido #${e} foi ${t?"aprovado":"rejeitado"}.`)}async scheduleServiceRequest(e,t,i){let r={professional_id:t,scheduled_date:i.toISOString(),status:Ur.Scheduled};await this.updateServiceRequest(e,r),this.notificationService.addNotification(`Service request #${e} has been scheduled.`)}async proposeExecutionDate(e,t,i){let r=this.serviceRequests().find(s=>s.id===e);if(!r){console.error("Request n\u251C\xFAo encontrado:",e);return}let o={proposed_execution_date:t.toISOString(),proposed_execution_notes:i||null,execution_date_proposed_at:new Date().toISOString(),status:Ur.DateProposedByAdmin};await this.updateServiceRequest(e,o),this.notificationService.addNotification(this.i18n.translate("executionDateProposed",{id:e.toString()})),r.client_id&&await this.notificationService.createEnhancedNotification(r.client_id,"execution_date_proposal",this.i18n.translate("newExecutionDateProposed"),this.i18n.translate("executionDateProposedMessage",{date:t.toLocaleDateString(),time:t.toLocaleTimeString(),notes:i||""}),{serviceRequestId:e,actionRequired:!0,priority:"high"})}async respondToExecutionDate(e,t,i){let r=this.serviceRequests().find(d=>d.id===e);if(!r){console.error("Request n\u251C\xFAo encontrado:",e);return}let o={execution_date_approval:t?"approved":"rejected",execution_date_approved_at:new Date().toISOString(),execution_date_rejection_reason:t?null:i,status:t?Ur.DateApprovedByClient:Ur.DateRejectedByClient};t&&r?.proposed_execution_date&&(o.scheduled_start_datetime=r.proposed_execution_date,o.status=Ur.Scheduled),await this.updateServiceRequest(e,o),this.notificationService.addNotification(this.i18n.translate(t?"executionDateApproved":"executionDateRejected",{id:e.toString()}));let s=t?"execution_date_approved":"execution_date_rejected",a=t?"executionDateApprovedByClient":"executionDateRejectedByClient",l=t?"executionDateApprovedMessage":"executionDateRejectedMessage",c=this.users().filter(d=>d.role==="admin");for(let d of c)await this.notificationService.createEnhancedNotification(d.id,s,this.i18n.translate(a),this.i18n.translate(l,{requestId:e.toString(),reason:i||""}),{serviceRequestId:e,actionRequired:!t,priority:t?"medium":"high"});r.professional_id&&await this.notificationService.createEnhancedNotification(r.professional_id,s,this.i18n.translate(a),this.i18n.translate(l,{requestId:e.toString(),reason:i||""}),{serviceRequestId:e,actionRequired:!1,priority:"medium"})}async updatePaymentStatus(e,t){await this.updateServiceRequest(e,{payment_status:t}),this.notificationService.addNotification(this.i18n.translate("paymentStatusChanged",{id:e.toString(),status:t}))}async updateUser(e,t){let{error:i}=await this.supabase.client.from("users").update(t).eq("id",e);if(i){this.notificationService.addNotification("Error updating user: "+i.message);return}await this.fetchUsers(),t.status&&this.notificationService.addNotification(this.i18n.translate("userStatusUpdated",{userId:e.toString(),status:t.status}))}getProfessionalsByCategory(e){return this.users().filter(t=>t.role==="professional"&&t.status==="Active"&&(t.specialties?.includes(e)||!t.specialties?.length))}async fetchChatMessages(e){let{data:t,error:i}=await this.supabase.client.from("chat_messages").select("*").eq("request_id",e).order("timestamp",{ascending:!0});i?this.notificationService.addNotification("Error fetching messages: "+i.message):this.chatMessages.set(t)}async addChatMessage(e,t,i){let r=this.authService.appUser();if(!r)return;let o={request_id:e,sender_id:t,sender_auth_id:r.auth_id,text:i,timestamp:new Date().toISOString()},{error:s}=await this.supabase.client.from("chat_messages").insert(o);s&&this.notificationService.addNotification("Error sending message: "+s.message)}listenToServiceRequestChanges(){this.supabase.client.channel("public:service_requests").on("postgres_changes",{event:"*",schema:"public",table:"service_requests"},()=>{let e=this.authService.appUser();e&&this.fetchServiceRequests(e)}).subscribe()}listenToUserChanges(){this.supabase.client.channel("public:users").on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>{this.fetchUsers()}).subscribe()}async updateRequestedDateTime(e,t){let i={requested_datetime:t.toISOString()};await this.updateServiceRequest(e,i),this.notificationService.addNotification(`Data solicitada para o pedido #${e} foi atualizada.`)}async scheduleServiceStart(e,t,i,r){let o={professional_id:t,scheduled_start_datetime:i.toISOString(),estimated_duration_minutes:r,status:Ur.Scheduled};await this.updateServiceRequest(e,o),this.notificationService.addNotification(`Servi\u251C\xBAo #${e} foi agendado para ${i.toLocaleDateString()} \u251C\xE1s ${i.toLocaleTimeString()}.`)}async startServiceWork(e){let t={actual_start_datetime:new Date().toISOString(),status:Ur.InProgress};await this.updateServiceRequest(e,t),this.notificationService.addNotification(`Atendimento do servi\u251C\xBAo #${e} foi iniciado.`)}async finishServiceWork(e){let t={actual_end_datetime:new Date().toISOString(),status:Ur.CompletedAwaitingApproval};await this.updateServiceRequest(e,t),this.notificationService.addNotification(`Atendimento do servi\u251C\xBAo #${e} foi finalizado.`)}async updateEstimatedDuration(e,t){let i={estimated_duration_minutes:t};await this.updateServiceRequest(e,i),this.notificationService.addNotification(`Previs\u251C\xFAo de dura\u251C\xBA\u251C\xFAo do servi\u251C\xBAo #${e} foi atualizada para ${t} minutos.`)}calculateActualDuration(e){if(!e.actual_start_datetime||!e.actual_end_datetime)return null;let t=new Date(e.actual_start_datetime),i=new Date(e.actual_end_datetime);return Math.round((i.getTime()-t.getTime())/(1e3*60))}calculateDurationVariance(e){let t=this.calculateActualDuration(e);return!t||!e.estimated_duration_minutes?null:t-e.estimated_duration_minutes}getSchedulingStatus(e){let t=new Date;if(e.status==="Finalizado"&&e.actual_end_datetime)return"Completed";if(e.actual_start_datetime&&!e.actual_end_datetime)return"In Progress";if(e.scheduled_start_datetime&&!e.actual_start_datetime&&new Date(e.scheduled_start_datetime).getTime()+1800*1e3<t.getTime())return"Delayed";if(e.scheduled_start_datetime){let i=new Date(e.scheduled_start_datetime),r=new Date;if(i.toDateString()===r.toDateString())return"Scheduled Today"}return e.scheduled_start_datetime&&new Date(e.scheduled_start_datetime)>t?"Scheduled":e.requested_datetime&&!e.scheduled_start_datetime?"Awaiting Schedule":"Pending"}getTodayScheduledRequests(){let e=new Date,t=this.serviceRequests();console.log("[AGENDA] serviceRequests sinal:",t);let i=t.filter(r=>r.scheduled_start_datetime?new Date(r.scheduled_start_datetime).toDateString()===e.toDateString():!1);return console.log("[AGENDA] Pedidos agendados para hoje:",i),i}getDelayedRequests(){return this.serviceRequests().filter(e=>this.getSchedulingStatus(e)==="Delayed")}getProfessionalProductivityReport(){return this.users().filter(t=>t.role==="professional").map(t=>{let i=this.serviceRequests().filter(a=>a.professional_id===t.id&&a.status==="Finalizado"),r=i.length,o=0,s=0;for(let a of i){let l=this.calculateActualDuration(a);if(l&&(o+=l),a.scheduled_start_datetime&&a.actual_start_datetime){let c=new Date(a.scheduled_start_datetime),m=(new Date(a.actual_start_datetime).getTime()-c.getTime())/(1e3*60);Math.abs(m)<=15&&s++}}return{professional_id:t.id,professional_name:t.name,completed_services:r,average_duration_minutes:r>0?Math.round(o/r):0,on_time_percentage:r>0?Math.round(s/r*100):0}})}async fetchServiceClarifications(e){let{data:t,error:i}=await this.supabase.client.from("service_clarifications_with_user").select("*").eq("service_request_id",e).order("created_at",{ascending:!0});if(i)return console.error("Error fetching service clarifications:",i),this.notificationService.addNotification("Erro ao buscar esclarecimentos: "+i.message),[];let r=t;return this.serviceClarifications.set(r),r}async addClarificationQuestion(e,t,i){let r=this.authService.appUser();if(!r)throw new Error("User not authenticated");let o={service_request_id:e,user_id:r.id,type:"question",title:t,content:i,is_read:!1},{data:s,error:a}=await this.supabase.client.from("service_clarifications").insert(o).select().single();if(a)throw console.error("Error adding clarification question:",a),this.notificationService.addNotification("Erro ao adicionar pergunta: "+a.message),a;return this.notificationService.addNotification("Pergunta adicionada com sucesso!"),await this.fetchServiceClarifications(e),await this.createClarificationNotification(e,"clarification_requested","Nova pergunta adicionada",`${r.name} fez uma nova pergunta: ${t}`),s}async addClarificationAnswer(e,t,i,r){let o=this.authService.appUser();if(!o)throw new Error("User not authenticated");let s={service_request_id:e,user_id:o.id,parent_id:t,type:"answer",title:i,content:r,is_read:!1},{data:a,error:l}=await this.supabase.client.from("service_clarifications").insert(s).select().single();if(l)throw console.error("Error adding clarification answer:",l),this.notificationService.addNotification("Erro ao adicionar resposta: "+l.message),l;return this.notificationService.addNotification("Resposta adicionada com sucesso!"),await this.fetchServiceClarifications(e),await this.createClarificationNotification(e,"clarification_provided","Nova resposta adicionada",`${o.name} respondeu: ${i}`),a}async markClarificationsAsRead(e){let t=this.authService.appUser();if(!t)return;let{data:i,error:r}=await this.supabase.client.rpc("mark_clarifications_as_read",{req_id:e,reader_user_id:t.id});r?console.error("Error marking clarifications as read:",r):(console.log(`Marked ${i} clarifications as read`),await this.fetchServiceClarifications(e))}async countUnreadClarifications(e){let t=this.authService.appUser();if(!t)return 0;let{data:i,error:r}=await this.supabase.client.rpc("count_unread_clarifications",{req_id:e,reader_user_id:t.id});return r?(console.error("Error counting unread clarifications:",r),0):i||0}async deleteClarification(e,t){let{error:i}=await this.supabase.client.from("service_clarifications").delete().eq("id",e);if(i)throw console.error("Error deleting clarification:",i),this.notificationService.addNotification("Erro ao deletar esclarecimento: "+i.message),i;this.notificationService.addNotification("Esclarecimento deletado com sucesso!"),await this.fetchServiceClarifications(t)}async createClarificationNotification(e,t,i,r){try{let o=this.getServiceRequestById(e);if(!o)return;let s=this.authService.appUser();if(!s)return;let a=[o.client_id];o.professional_id&&a.push(o.professional_id);let l=a.filter(c=>c!==s.id);for(let c of l)await this.supabase.client.from("enhanced_notifications").insert({user_id:c,type:t,title:i,message:r,service_request_id:e,action_required:!0,priority:"medium"})}catch(o){console.error("Error creating clarification notification:",o)}}getClarificationThreads(e){let t=this.serviceClarifications();return t.filter(r=>r.service_request_id===e&&r.type==="question").map(r=>({question:r,answers:t.filter(o=>o.parent_id===r.id)}))}};Uu.\u0275fac=function(t){return new(t||Uu)},Uu.\u0275prov=te({token:Uu,factory:Uu.\u0275fac,providedIn:"root"});var At=Uu;var Lf=class Lf{constructor(){this.i18n=L($e)}transform(e,t){let i=this.i18n.language();return this.i18n.translate(e,t)}};Lf.\u0275fac=function(t){return new(t||Lf)},Lf.\u0275pipe=vu({name:"i18n",type:Lf,pure:!1});var Se=Lf;function oae(n,e){n&1&&(p(0,"div",44)(1,"div",45),Oe(),p(2,"svg",46),k(3,"circle",47)(4,"path",48),f(),Ue(),p(5,"span",49),h(6),g(7,"i18n"),f()()()),n&2&&(u(6),R(v(7,1,"loading")))}function sae(n,e){if(n&1&&(Je(0),p(1,"option",50),h(2),f(),Ye()),n&2){let t=e.$implicit;u(),A("value",t.id),u(),R(t.name)}}function aae(n,e){n&1&&(p(0,"span",51),h(1),g(2,"i18n"),f()),n&2&&(u(),R(v(2,1,"selectCategory")))}function lae(n,e){if(n&1&&(Je(0),p(1,"option",50),h(2),f(),Ye()),n&2){let t=e.$implicit;u(),A("value",t.id),u(),R(t.name)}}function cae(n,e){n&1&&(p(0,"span",51),h(1),g(2,"i18n"),f()),n&2&&(u(),R(v(2,1,"selectSubcategory")))}function uae(n,e){n&1&&(p(0,"span",52),Oe(),p(1,"svg",53),k(2,"path",54),f()())}function dae(n,e){n&1&&(p(0,"span",55),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"titleMinLength")," "))}function pae(n,e){n&1&&(p(0,"span",52),Oe(),p(1,"svg",53),k(2,"path",54),f()())}function fae(n,e){n&1&&(p(0,"span",56),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"descriptionMinLength")," "))}function hae(n,e){n&1&&(p(0,"span",52),Oe(),p(1,"svg",53),k(2,"path",54),f()())}function mae(n,e){n&1&&(p(0,"span",57),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"validFutureDateTime")," "))}function gae(n,e){n&1&&(p(0,"span",52),Oe(),p(1,"svg",53),k(2,"path",54),f()())}function vae(n,e){if(n&1&&(p(0,"span",58),h(1),g(2,"i18n"),f()),n&2){let t=b();u(),C(" ",t.formError()?t.formError():v(2,1,"invalidPostalCode")," ")}}function yae(n,e){n&1&&(p(0,"span",59),Oe(),p(1,"svg",53),k(2,"path",54),f()())}function _ae(n,e){n&1&&(p(0,"span",51),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"cityMinLength")," "))}function bae(n,e){if(n&1&&(p(0,"div",60),h(1),f()),n&2){let t=b();u(),C(" ",t.formError()," ")}}function Cae(n,e){if(n&1&&(p(0,"div",61),h(1),f()),n&2){let t=b();u(),C(" ",t.formSuccess()," ")}}var Bf=class Bf{constructor(){this.touched={title:!1,description:!1,requestedDateTime:!1,zip_code:!1,number:!1};this.isSubmitting=B(!1);this.close=new vt;this.dataService=L(At);this.i18n=L($e);this.categories=B([]);this.subcategories=B([]);this.subcategory_id=B(null);this.filteredSubcategories=K(()=>this.subcategories().filter(e=>this.category_id()?e.category_id===this.category_id():[]));this.title=B("");this.description=B("");this.requestedDateTime=B("");this.category_id=B(null);this.street=B("");this.city=B("");this.state=B("");this.zip_code=B("");this.number=B("");this.complement=B("");this.locality=B("");this.district=B("");this.county=B("");this.formError=B(null);this.formSuccess=B(null);this.validFields=B({title:!1,description:!1,category_id:!1,subcategory_id:!1,requestedDateTime:!1,street:!1,city:!1,state:!1,zip_code:!1,number:!1})}onZipCodePaste(e){e.preventDefault();let i=(e.clipboardData?.getData("text")||"").replace(/\D/g,""),r=i;i.length>4&&(r=i.slice(0,4)+"-"+i.slice(4,7)),r.length>8&&(r=r.slice(0,8)),this.updateField("zip_code",r)}ngOnInit(){this.categories.set(this.dataService.categories()),this.subcategories.set(this.dataService.subcategories())}isFormValid(){let e=this.validFields();return e.title&&e.description&&e.category_id&&e.subcategory_id&&e.requestedDateTime&&e.street&&e.city&&e.state&&e.zip_code}async updateField(e,t){if(t!=null)switch(this.formError.set(null),e){case"title":this.title.set(t),this.validFields.update(s=>J(F({},s),{title:t.length>=3}));break;case"description":this.description.set(t),this.validFields.update(s=>J(F({},s),{description:t.length>=10}));break;case"category_id":this.category_id.set(t?Number(t):null),this.subcategory_id.set(null),this.validFields.update(s=>J(F({},s),{category_id:!!t,subcategory_id:!1}));break;case"subcategory_id":this.subcategory_id.set(t?Number(t):null),this.validFields.update(s=>J(F({},s),{subcategory_id:!!t}));break;case"requestedDateTime":this.requestedDateTime.set(t);let i=!!t&&new Date(t)>new Date;this.validFields.update(s=>J(F({},s),{requestedDateTime:i}));break;case"zip_code":let r=t.replace(/\D/g,"");r.length>4&&(r=r.slice(0,4)+"-"+r.slice(4,7)),r.length>8&&(r=r.slice(0,8)),this.zip_code.set(r);let o=this.isValidPostalCode(r);if(this.validFields.update(s=>J(F({},s),{zip_code:o})),o){let s=await this.dataService.getPostalCodeInfo(r);s?(this.locality.set(s.localidade||""),this.district.set(s.distrito||""),this.county.set(s.concelho||""),this.street.set(s.arteria_completa||""),this.validFields.update(a=>J(F({},a),{street:!!s.arteria_completa,city:!!s.concelho,state:!!s.distrito}))):(this.locality.set(""),this.district.set(""),this.county.set(""),this.street.set(""),this.validFields.update(a=>J(F({},a),{street:!1,city:!1,state:!1})),this.formError.set("C\xF3digo postal n\xE3o encontrado."))}else this.locality.set(""),this.district.set(""),this.county.set(""),this.street.set(""),this.validFields.update(s=>J(F({},s),{street:!1,city:!1,state:!1}));break;case"number":this.number.set(t),this.validFields.update(s=>J(F({},s),{number:!!t&&t.length>0}));break;case"complement":this.complement.set(t);break}}isValidPostalCode(e){let t=/^\d{4}-\d{3}$/,i=e.replace(/\D/g,"");return!!(t.test(e)||i.length===7)}showSuccessMessage(e,t=5e3){this.formSuccess.set(e),setTimeout(()=>{this.formSuccess.set(null)},t)}async onSubmit(){if(this.isSubmitting.set(!0),console.log("onSubmit chamado",{title:this.title(),description:this.description(),street:this.street(),number:this.number(),complement:this.complement(),zip_code:this.zip_code(),locality:this.locality(),district:this.district(),county:this.county()}),!this.isFormValid()){this.formError.set(this.i18n.translate("formErrorGeneric")),this.isSubmitting.set(!1);return}try{let e=this.zip_code(),t=e.replace(/\D/g,"");t.length===7&&(e=t.slice(0,4)+"-"+t.slice(4));let i={street:this.street(),city:this.locality(),state:this.district(),zip_code:e,concelho:this.county(),freguesia:void 0},r={title:this.title(),description:this.description(),category_id:this.category_id(),subcategory_id:this.subcategory_id(),address:i,requested_datetime:this.requestedDateTime()};await this.dataService.addServiceRequest(r),this.showSuccessMessage(this.i18n.translate("formSuccessGeneric")),this.close.emit(),this.isSubmitting.set(!1)}catch(e){console.error("Erro ao enviar solicita\xE7\xE3o de servi\xE7o:",e),this.formError.set(this.i18n.translate("formErrorGeneric")+(e?.message?` (${e.message})`:"")),this.isSubmitting.set(!1)}}};Bf.\u0275fac=function(t){return new(t||Bf)},Bf.\u0275cmp=ce({type:Bf,selectors:[["app-service-request-form"]],outputs:{close:"close"},decls:121,vars:160,consts:[["autocomplete","off",1,"w-full","px-0","mobile-safe","space-y-4","md:space-y-7","relative",3,"ngSubmit"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",4,"ngIf"],["for","category_id",1,"block","text-sm","font-medium","mb-1"],["id","category_id","required","",1,"w-full","border","rounded","px-3","py-2",3,"change","value"],["value","","disabled","","selected",""],[4,"ngFor","ngForOf"],["class","text-xs text-red-500",4,"ngIf"],["for","subcategory_id",1,"block","text-sm","font-medium","mb-1"],["id","subcategory_id","required","",1,"w-full","border","rounded","px-3","py-2",3,"change","value","disabled"],["for","title",1,"block","text-sm","font-medium","mb-1"],[1,"relative"],["id","title","type","text","required","","minlength","3","aria-describedby","title-error",1,"w-full","border","rounded","px-3","py-2",3,"input","ngClass","value","placeholder","aria-label"],["class","absolute right-2 top-2 text-red-500",4,"ngIf"],["id","title-error","class","text-xs text-red-500","role","alert",4,"ngIf"],["for","description",1,"block","text-sm","font-medium","mb-1"],["id","description","required","","minlength","10","aria-describedby","description-error",1,"w-full","border","rounded","px-3","py-2",3,"input","ngClass","value","placeholder","aria-label"],["id","description-error","class","text-xs text-red-500","role","alert",4,"ngIf"],["for","requestedDateTime",1,"block","text-sm","font-medium","mb-1"],["id","requestedDateTime","type","datetime-local","required","","aria-describedby","requestedDateTime-error",1,"w-full","border","rounded","px-3","py-2",3,"input","ngClass","value","placeholder","aria-label"],["id","requestedDateTime-error","class","text-xs text-red-500","role","alert",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","border","rounded","p-4","mt-2"],[1,"text-base","font-semibold","mb-2","px-2"],["for","zip_code",1,"block","text-sm","font-medium","mb-1"],["id","zip_code","type","text","required","","pattern","\\d{4}-\\d{3}","maxlength","8","inputmode","numeric","autocomplete","postal-code","aria-describedby","zip_code-error",1,"w-full","border","rounded","px-3","py-2",3,"input","paste","ngClass","value","placeholder","aria-label"],["id","zip_code-error","class","text-xs text-red-500","role","alert",4,"ngIf"],["for","street",1,"block","text-sm","font-medium","mb-1"],["id","street","type","text","readonly","","required","","minlength","5","tabindex","0","aria-readonly","true",1,"w-full","border","rounded","px-3","py-2","bg-gray-100",3,"value","placeholder","aria-label"],["for","number",1,"block","text-sm","font-medium","mb-1"],["id","number","type","text","required","","aria-describedby","number-error",1,"w-full","border","rounded","px-3","py-2",3,"input","ngClass","value","placeholder","aria-label"],["id","number-error","class","absolute right-2 top-2 text-red-500","role","alert",4,"ngIf"],["for","complement",1,"block","text-sm","font-medium","mb-1"],["id","complement","type","text",1,"w-full","border","rounded","px-3","py-2",3,"input","value","placeholder"],["for","locality",1,"block","text-sm","font-medium","mb-1"],["id","locality","type","text","readonly","","tabindex","0","aria-readonly","true",1,"w-full","border","rounded","px-3","py-2","bg-gray-100",3,"value","placeholder","aria-label"],["for","city",1,"block","text-sm","font-medium","mb-1"],["id","city","type","text","readonly","","tabindex","0","aria-readonly","true",1,"w-full","border","rounded","px-3","py-2","bg-gray-100",3,"value","placeholder","aria-label"],["for","district",1,"block","text-sm","font-medium","mb-1"],["id","district","type","text","readonly","","tabindex","0","aria-readonly","true",1,"w-full","border","rounded","px-3","py-2","bg-gray-100",3,"value","placeholder","aria-label"],["class","text-red-600 text-sm mt-2",4,"ngIf"],["class","text-green-600 text-sm mt-2",4,"ngIf"],[1,"flex","justify-end","gap-2","mt-6"],["type","button",1,"px-4","py-2","rounded","bg-gray-300","hover:bg-gray-400",3,"click"],["type","submit",1,"px-4","py-2","rounded","bg-indigo-600","text-white","font-semibold","hover:bg-indigo-700","flex","items-center","justify-center","min-w-[110px]",3,"disabled"],[1,"ml-4","text-xs",3,"ngClass"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-30"],[1,"flex","flex-col","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-12","w-12","text-indigo-600","mb-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"],[1,"text-white","text-lg","font-semibold","drop-shadow"],[3,"value"],[1,"text-xs","text-red-500"],[1,"absolute","right-2","top-2","text-red-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12A9 9 0 113 12a9 9 0 0118 0z"],["id","title-error","role","alert",1,"text-xs","text-red-500"],["id","description-error","role","alert",1,"text-xs","text-red-500"],["id","requestedDateTime-error","role","alert",1,"text-xs","text-red-500"],["id","zip_code-error","role","alert",1,"text-xs","text-red-500"],["id","number-error","role","alert",1,"absolute","right-2","top-2","text-red-500"],[1,"text-red-600","text-sm","mt-2"],[1,"text-green-600","text-sm","mt-2"]],template:function(t,i){t&1&&(p(0,"form",0),D("ngSubmit",function(){return i.onSubmit()}),he(1,oae,8,3,"div",1),p(2,"div")(3,"label",2),h(4),g(5,"i18n"),f(),p(6,"select",3),D("change",function(o){return i.updateField("category_id",o.target.value)}),p(7,"option",4),h(8),g(9,"i18n"),f(),he(10,sae,3,2,"ng-container",5),f(),he(11,aae,3,3,"span",6),f(),p(12,"div")(13,"label",7),h(14),g(15,"i18n"),f(),p(16,"select",8),D("change",function(o){return i.updateField("subcategory_id",o.target.value)}),p(17,"option",4),h(18),g(19,"i18n"),f(),he(20,lae,3,2,"ng-container",5),f(),he(21,cae,3,3,"span",6),f(),p(22,"div")(23,"label",9),h(24),g(25,"i18n"),f(),p(26,"div",10)(27,"input",11),g(28,"i18n"),g(29,"i18n"),D("input",function(o){return i.updateField("title",o.target.value),i.touched.title=!0}),f(),he(30,uae,3,0,"span",12),f(),he(31,dae,3,3,"span",13),f(),p(32,"div")(33,"label",14),h(34),g(35,"i18n"),f(),p(36,"div",10)(37,"textarea",15),g(38,"i18n"),g(39,"i18n"),D("input",function(o){return i.updateField("description",o.target.value),i.touched.description=!0}),f(),he(40,pae,3,0,"span",12),f(),he(41,fae,3,3,"span",16),f(),p(42,"div")(43,"label",17),h(44),g(45,"i18n"),f(),p(46,"div",10)(47,"input",18),g(48,"i18n"),g(49,"i18n"),D("input",function(o){return i.updateField("requestedDateTime",o.target.value),i.touched.requestedDateTime=!0}),f(),he(50,hae,3,0,"span",12),f(),he(51,mae,3,3,"span",19),f(),p(52,"fieldset",20)(53,"legend",21),h(54),g(55,"i18n"),f(),p(56,"div")(57,"label",22),h(58),g(59,"i18n"),f(),p(60,"div",10)(61,"input",23),g(62,"i18n"),g(63,"i18n"),D("input",function(o){return i.updateField("zip_code",o.target.value),i.touched.zip_code=!0})("paste",function(o){return i.onZipCodePaste(o)}),f(),he(64,gae,3,0,"span",12),f(),he(65,vae,3,3,"span",24),f(),p(66,"div")(67,"label",25),h(68),g(69,"i18n"),f(),k(70,"input",26),g(71,"i18n"),g(72,"i18n"),f(),p(73,"div")(74,"label",27),h(75),g(76,"i18n"),f(),p(77,"div",10)(78,"input",28),g(79,"i18n"),g(80,"i18n"),D("input",function(o){return i.updateField("number",o.target.value),i.touched.number=!0}),f(),he(81,yae,3,0,"span",29),f()(),p(82,"div")(83,"label",30),h(84),g(85,"i18n"),f(),p(86,"input",31),g(87,"i18n"),D("input",function(o){return i.updateField("complement",o.target.value)}),f()(),p(88,"div")(89,"label",32),h(90),g(91,"i18n"),f(),k(92,"input",33),g(93,"i18n"),g(94,"i18n"),f(),p(95,"div")(96,"label",34),h(97),g(98,"i18n"),f(),k(99,"input",35),g(100,"i18n"),g(101,"i18n"),he(102,_ae,3,3,"span",6),f(),p(103,"div")(104,"label",36),h(105),g(106,"i18n"),f(),k(107,"input",37),g(108,"i18n"),g(109,"i18n"),f()(),he(110,bae,2,1,"div",38)(111,Cae,2,1,"div",39),p(112,"div",40)(113,"button",41),D("click",function(){return i.close.emit()}),h(114),g(115,"i18n"),f(),p(116,"button",42),h(117),g(118,"i18n"),f(),p(119,"span",43),h(120),f()()()),t&2&&(u(),A("ngIf",i.isSubmitting()),u(3),C(" ",v(5,88,"category")," "),u(2),A("value",i.category_id()||""),u(2),R(v(9,90,"select")),u(2),A("ngForOf",i.categories()),u(),A("ngIf",!i.validFields().category_id&&i.category_id()),u(3),C(" ",v(15,92,"subcategory")," "),u(2),A("value",i.subcategory_id()||"")("disabled",!i.category_id()),u(2),R(v(19,94,"select")),u(2),A("ngForOf",i.filteredSubcategories()),u(),A("ngIf",!i.validFields().subcategory_id&&i.subcategory_id()),u(3),R(v(25,96,"title")),u(3),kt("aria-label",ie(v(28,98,"title"))),A("ngClass",i.touched.title?!i.validFields().title&&i.title()?"border-red-500":i.validFields().title&&i.title()?"border-green-500":"":"")("value",i.title())("placeholder",v(29,100,"titlePlaceholder")),et("aria-invalid",i.touched.title&&!i.validFields().title?"true":null),u(3),A("ngIf",i.touched.title&&!i.validFields().title&&i.title()),u(),A("ngIf",i.touched.title&&!i.validFields().title&&i.title()),u(3),C(" ",v(35,102,"description")," "),u(3),kt("aria-label",ie(v(38,104,"description"))),A("ngClass",i.touched.description?!i.validFields().description&&i.description()?"border-red-500":i.validFields().description&&i.description()?"border-green-500":"":"")("value",i.description())("placeholder",v(39,106,"descriptionPlaceholder")),et("aria-invalid",i.touched.description&&!i.validFields().description?"true":null),u(3),A("ngIf",i.touched.description&&!i.validFields().description&&i.description()),u(),A("ngIf",i.touched.description&&!i.validFields().description&&i.description()),u(3),C(" ",v(45,108,"dateTime")," "),u(3),kt("aria-label",ie(v(48,110,"dateTime"))),A("ngClass",i.touched.requestedDateTime?!i.validFields().requestedDateTime&&i.requestedDateTime()?"border-red-500":i.validFields().requestedDateTime&&i.requestedDateTime()?"border-green-500":"":"")("value",i.requestedDateTime())("placeholder",v(49,112,"dateTimePlaceholder")),et("aria-invalid",i.touched.requestedDateTime&&!i.validFields().requestedDateTime?"true":null),u(3),A("ngIf",i.touched.requestedDateTime&&!i.validFields().requestedDateTime&&i.requestedDateTime()),u(),A("ngIf",i.touched.requestedDateTime&&!i.validFields().requestedDateTime&&i.requestedDateTime()),u(3),C(" ",v(55,114,"address")," "),u(4),C(" ",v(59,116,"postalCode")," "),u(3),kt("aria-label",ie(v(62,118,"postalCode"))),A("ngClass",i.touched.zip_code?!i.validFields().zip_code&&i.zip_code()?"border-red-500":i.validFields().zip_code&&i.zip_code()?"border-green-500":"":"")("value",i.zip_code())("placeholder",v(63,120,"postalCodePlaceholder")),et("aria-invalid",i.touched.zip_code&&!i.validFields().zip_code?"true":null),u(3),A("ngIf",i.touched.zip_code&&!i.validFields().zip_code&&i.zip_code()),u(),A("ngIf",i.touched.zip_code&&!i.validFields().zip_code&&i.zip_code()),u(3),C(" ",v(69,122,"logradouro")," "),u(2),kt("aria-label",ie(v(71,124,"logradouro"))),A("value",i.street())("placeholder",v(72,126,"streetPlaceholder")),u(5),C(" ",v(76,128,"number")," "),u(3),kt("aria-label",ie(v(79,130,"number"))),A("ngClass",i.touched.number?i.number()&&i.number().length>0&&!i.validFields().number?"border-red-500":i.validFields().number&&i.number()?"border-green-500":"":"")("value",i.number())("placeholder",v(80,132,"numberPlaceholder")),et("aria-invalid",i.touched.number&&i.number()&&!i.validFields().number?"true":null),u(3),A("ngIf",i.touched.number&&i.number()&&i.number().length>0&&!i.validFields().number),u(3),C(" ",v(85,134,"complement")," "),u(2),A("value",i.complement())("placeholder",v(87,136,"complementPlaceholder")),u(4),C(" ",v(91,138,"locality")," "),u(2),kt("aria-label",ie(v(93,140,"locality"))),A("value",i.locality())("placeholder",v(94,142,"localityPlaceholder")),u(5),C(" ",v(98,144,"concelho")," "),u(2),kt("aria-label",ie(v(100,146,"concelho"))),A("value",i.county())("placeholder",v(101,148,"cityPlaceholder")),u(3),A("ngIf",!i.validFields().city&&i.city()),u(3),C(" ",v(106,150,"district")," "),u(2),kt("aria-label",ie(v(108,152,"district"))),A("value",i.district())("placeholder",v(109,154,"districtPlaceholder")),u(3),A("ngIf",i.formError()),u(),A("ngIf",i.formSuccess()),u(3),C(" ",v(115,156,"cancel")," "),u(2),A("disabled",!i.isFormValid()||i.isSubmitting()),u(),C(" ",v(118,158,"submit")," "),u(2),A("ngClass",i.isFormValid()?"text-green-600":"text-red-600"),u(),C(" ",i.isFormValid()?"Formul\xE1rio v\xE1lido":"Formul\xE1rio inv\xE1lido"," "))},dependencies:[pe,es,Kn,Ln,ft,ni,ii,ri,ti,Vn,Se],encapsulation:2});var Ox=Bf;var Vf=class Vf{constructor(){this.router=L(Zi)}goBack(){globalThis.history.length>1?globalThis.history.back():this.router.navigate(["/"])}};Vf.\u0275fac=function(t){return new(t||Vf)},Vf.\u0275cmp=ce({type:Vf,selectors:[["app-create-service-request"]],decls:9,vars:6,consts:[[1,"space-y-4","sm:space-y-6","min-w-0","overflow-hidden","px-2","sm:px-0"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-800","dark:text-gray-100","break-words"],[1,"text-gray-500","dark:text-gray-400","text-sm","sm:text-base"],[3,"close"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div")(2,"h2",1),h(3),g(4,"i18n"),f(),p(5,"p",2),h(6),g(7,"i18n"),f()(),p(8,"app-service-request-form",3),D("close",function(){return i.goBack()}),f()()),t&2&&(u(3),C(" ",v(4,2,"newServiceRequest")," "),u(3),C(" ",v(7,4,"serviceRequestDescription")," "))},dependencies:[pe,Ox,Se],encapsulation:2,changeDetection:0});var Fx=Vf;var jf=class{static normalize(e){if(!e)return null;let t=e.replace(/[^0-9-]/g,"");return/^\d{4}-\d{3}$/.test(t)?t:/^\d{7}$/.test(t)?t.substring(0,4)+"-"+t.substring(4):null}static format(e){let t=e.replace(/\D/g,"");return t.length===7?`${t.slice(0,4)}-${t.slice(4,7)}`:t.length>4?`${t.slice(0,4)}-${t.slice(4)}`:t}static isValidFormat(e){return/^\d{4}-\d{3}$/.test(e)}static getCp4(e){let t=this.normalize(e);return t?t.substring(0,4):null}static getCp3(e){let t=this.normalize(e);return t?t.substring(5,8):null}};var $u=class $u{constructor(){this.supabase=L(xo);this.districts=B([]);this._districtsLoaded=!1}async loadDistricts(){if(this._districtsLoaded)return;this._districtsLoaded=!0;let e=await this.getDistritos();this.districts.set(e)}async getDistritos(){await this.loadDistricts();let{data:e,error:t}=await this.supabase.client.from("distritos").select("*").order("nome");if(t)throw console.error("Erro ao buscar distritos:",t),t;return e||[]}async getDistritoByCodigo(e){let{data:t,error:i}=await this.supabase.client.from("distritos").select("*").eq("codigo",e).single();if(i){if(i.code==="PGRST116")return null;throw console.error("Erro ao buscar distrito:",i),i}return t}async getConcelhosByDistrito(e){let{data:t,error:i}=await this.supabase.client.from("concelhos").select("*").eq("distrito_id",e).order("nome");if(i)throw console.error("Erro ao buscar concelhos:",i),i;return t||[]}async getConcelhoByCodigo(e){let{data:t,error:i}=await this.supabase.client.from("concelhos").select("*").eq("codigo",e).single();if(i){if(i.code==="PGRST116")return null;throw console.error("Erro ao buscar concelho:",i),i}return t}async validateCodigoPostal(e){console.log("\u{1F50D} [DATABASE] Iniciando validateCodigoPostal para:",e);try{let t=this.normalizeCodigoPostal(e);if(console.log("\u270F\uFE0F [DATABASE] C\xF3digo normalizado:",t),!t)return console.warn("\u26A0\uFE0F [DATABASE] Formato inv\xE1lido ap\xF3s normaliza\xE7\xE3o"),{valid:!1,error:"Formato de c\xF3digo postal inv\xE1lido"};console.log("\u{1F50D} [DATABASE] Testando conectividade com Supabase...");let{count:i,error:r}=await this.supabase.client.from("codigos_postais").select("*",{count:"exact",head:!0});console.log("\u{1F4CA} [DATABASE] Total de registros na tabela:",i),console.log("\u{1F4CA} [DATABASE] Erro de contagem:",r),console.log("\u{1F50D} [DATABASE] Buscando endere\xE7o na base de dados...");let o=await this.getEnderecoByCodigoPostal(t);return console.log("\u{1F4CA} [DATABASE] Resultado da busca:",o),o?(console.log("\u2705 [DATABASE] Endere\xE7o encontrado com sucesso"),{valid:!0,endereco:o}):(console.warn("\u274C [DATABASE] C\xF3digo postal n\xE3o encontrado na base de dados"),{valid:!1,error:"C\xF3digo postal n\xE3o encontrado"})}catch(t){return console.error("\u274C [DATABASE] Erro na valida\xE7\xE3o:",t),{valid:!1,error:"Erro interno na valida\xE7\xE3o"}}}async getEnderecoByCodigoPostal(e){console.log("\u{1F50D} [DATABASE] Iniciando getEnderecoByCodigoPostal para:",e);let t=this.normalizeCodigoPostal(e);if(console.log("\u270F\uFE0F [DATABASE] C\xF3digo normalizado para busca:",t),!t)return console.warn("\u26A0\uFE0F [DATABASE] C\xF3digo normalizado \xE9 null, retornando null"),null;let i=await this.fetchCodigoPostalData(t);if(!i)return null;console.log("\u{1F527} [DATABASE] Construindo endere\xE7o completo a partir dos dados...");let[r,o]=await this.fetchDistritoAndConcelho(i),s=this.buildEnderecoCompleto(i,r,o);return console.log("\u2705 [DATABASE] Endere\xE7o completo constru\xEDdo com sucesso:",s),s}async fetchCodigoPostalData(e){console.log("\u{1F4BE} [DATABASE] Executando query no Supabase...");let{data:t,error:i}=await this.supabase.client.from("codigos_postais").select("*").eq("codigo_postal_completo",e).limit(1).single();if(console.log("\u{1F4CA} [DATABASE] Resposta do Supabase - data:",t),console.log("\u{1F4CA} [DATABASE] Resposta do Supabase - error:",i),i){if(i.code==="PGRST116")return console.warn("\u274C [DATABASE] Nenhum registro encontrado (PGRST116)"),null;throw console.error("\u274C [DATABASE] Erro ao buscar endere\xE7o:",i),i}return t||(console.warn("\u26A0\uFE0F [DATABASE] Data \xE9 null, retornando null"),null)}async fetchDistritoAndConcelho(e){console.log("\u{1F50D} [DATABASE] Buscando distrito:",e.cod_distrito);let{data:t}=await this.supabase.client.from("distritos").select("nome_distrito").eq("cod_distrito",e.cod_distrito).single();console.log("\u{1F50D} [DATABASE] Buscando concelho:",e.cod_distrito,e.cod_concelho);let{data:i}=await this.supabase.client.from("concelhos").select("nome_concelho").eq("cod_distrito",e.cod_distrito).eq("cod_concelho",e.cod_concelho).single();return console.log("\u{1F4CA} [DATABASE] Distrito encontrado:",t),console.log("\u{1F4CA} [DATABASE] Concelho encontrado:",i),[t,i]}buildEnderecoCompleto(e,t,i){let r={codigo_postal:e.codigo_postal_completo,localidade:e.nome_localidade,concelho:i?.nome_concelho||"Desconhecido",distrito:t?.nome_distrito||"Desconhecido",designacao_postal:e.desig_postal};return console.log("\u{1F3D7}\uFE0F [DATABASE] Endere\xE7o base constru\xEDdo:",r),e.nome_arteria&&(r.arteria=this.buildArteria(e),console.log("\u{1F6E3}\uFE0F [DATABASE] Arteria adicionada:",r.arteria)),r}buildArteria(e){let t="";return e.tipo_arteria&&(t+=e.tipo_arteria+" "),e.prep1&&(t+=e.prep1+" "),e.titulo_arteria&&(t+=e.titulo_arteria+" "),e.nome_arteria&&(t+=e.nome_arteria),e.local_arteria&&(t+=" ("+e.local_arteria+")"),t.trim()}async getCodigosByLocalidade(e,t=10){let{data:i,error:r}=await this.supabase.client.from("codigos_postais").select("*").ilike("nome_localidade",`%${e}%`).order("nome_localidade").limit(t);if(r)throw console.error("Erro ao buscar c\xF3digos por localidade:",r),r;return i||[]}async getCodigosByConcelho(e,t=50){let{data:i,error:r}=await this.supabase.client.from("codigos_postais").select("*").eq("cod_concelho",e).order("codigo_postal_completo").limit(t);if(r)throw console.error("Erro ao buscar c\xF3digos por concelho:",r),r;return i||[]}async getEstatisticas(){try{let[e,t,i]=await Promise.all([this.supabase.client.from("distritos").select("*",{count:"exact",head:!0}),this.supabase.client.from("concelhos").select("*",{count:"exact",head:!0}),this.supabase.client.from("codigos_postais").select("*",{count:"exact",head:!0})]);return{total_distritos:e.count||0,total_concelhos:t.count||0,total_codigos_postais:i.count||0}}catch(e){return console.error("Erro ao obter estat\xEDsticas:",e),{total_distritos:0,total_concelhos:0,total_codigos_postais:0}}}normalizeCodigoPostal(e){if(!e)return null;let t=e.replaceAll(/[^0-9-]/g,"");return t.length===7&&!t.includes("-")&&(t=t.substring(0,4)+"-"+t.substring(4)),/^\d{4}-\d{3}$/.test(t)?t:null}async searchPostalCodes(e,t=10){let{data:i,error:r}=await this.supabase.client.from("codigos_postais").select("*").like("codigo_postal_completo",`${e}%`).limit(t);if(r)throw console.error("Erro ao buscar sugest\xF5es de c\xF3digo postal:",r),r;return i||[]}async searchLocalities(e,t=10){let{data:i,error:r}=await this.supabase.client.from("codigos_postais").select("nome_localidade").like("nome_localidade",`${e}%`).limit(t);if(r)throw console.error("Erro ao buscar sugest\xF5es de localidade:",r),r;return i?[...new Set(i.map(s=>s.nome_localidade))].map(s=>({localidade:s})):[]}};$u.\u0275fac=function(t){return new(t||$u)},$u.\u0275prov=te({token:$u,factory:$u.\u0275fac,providedIn:"root"});var Lx=$u;var Hu=class Hu{constructor(){this.databaseService=L(Lx)}validatePostalCode(e){return jf.isValidFormat(e)}validatePostalCodeWithApi(e){return console.log("\u{1F527} [DB SERVICE] Iniciando validatePostalCodeWithApi para:",e),Wt(this.validateWithDatabase(e)).pipe(Be(t=>(console.log("\u{1F50D} [DB SERVICE] Resultado da base de dados:",t),t.valid&&t.endereco?(console.log("\u2705 [DB SERVICE] Dados v\xE1lidos encontrados na base de dados:",t.endereco),{isValid:!0,postalCode:t.endereco.codigo_postal,locality:t.endereco.localidade,municipality:t.endereco.concelho,district:t.endereco.distrito,street:t.endereco.arteria||""}):(console.warn("\u26A0\uFE0F [DB SERVICE] Base de dados n\xE3o retornou dados v\xE1lidos, usando fallback"),this.fallbackToApi(e)))))}async validateWithDatabase(e){console.log("\u{1F4BE} [DB SERVICE] Tentando valida\xE7\xE3o na base de dados para:",e);try{let t=await this.databaseService.validateCodigoPostal(e);return console.log("\u{1F4CA} [DB SERVICE] Resultado do databaseService.validateCodigoPostal:",t),t}catch(t){return console.error("\u274C [DB SERVICE] Erro na valida\xE7\xE3o com base de dados:",t),{valid:!1}}}fallbackToApi(e){return console.log("Usando API externa como fallback para:",e),{isValid:jf.isValidFormat(e),postalCode:e,error:"C\xF3digo postal n\xE3o encontrado na base de dados local"}}formatPostalCode(e){return jf.format(e)}async getPortugueseDistricts(){try{return(await this.databaseService.getDistritos()).map(t=>t.nome).sort((t,i)=>t.localeCompare(i,"pt-PT"))}catch(e){return console.warn("Erro ao buscar distritos da base de dados, usando lista fixa:",e),this.getPortugueseDistrictsOffline()}}getPortugueseDistrictsOffline(){return["Aveiro","Beja","Braga","Bragan\xE7a","Castelo Branco","Coimbra","\xC9vora","Faro","Guarda","Leiria","Lisboa","Portalegre","Porto","Santar\xE9m","Set\xFAbal","Viana do Castelo","Vila Real","Viseu","Regi\xE3o Aut\xF3noma dos A\xE7ores","Regi\xE3o Aut\xF3noma da Madeira"]}async validateDistrict(e){try{return(await this.getPortugueseDistricts()).includes(e)}catch(t){return console.warn("Erro na valida\xE7\xE3o de distrito, usando lista offline:",t),this.getPortugueseDistrictsOffline().includes(e)}}async getPostalCodeInfo(e){if(console.log("\u{1F3E2} [DB SERVICE] getPostalCodeInfo iniciado para:",e),!this.validatePostalCode(e))return console.warn("\u26A0\uFE0F [DB SERVICE] Formato de c\xF3digo postal inv\xE1lido:",e),null;try{console.log("\u{1F4BE} [DB SERVICE] Consultando base de dados para c\xF3digo postal:",e);let t=await this.databaseService.validateCodigoPostal(e);if(t.valid&&t.endereco){let i={locality:t.endereco.localidade,district:t.endereco.distrito,concelho:t.endereco.concelho};return console.log("\u2705 [DB SERVICE] Informa\xE7\xF5es encontradas na base de dados:",i),i}else console.warn("\u26A0\uFE0F [DB SERVICE] C\xF3digo postal n\xE3o encontrado na base de dados:",e)}catch(t){console.error("\u274C [DB SERVICE] Erro ao consultar base de dados:",t)}return console.log("\u{1F504} [DB SERVICE] Usando fallback offline para:",e),this.getPostalCodeInfoOffline(e)}async getCodigoPostalSuggestions(e,t=10){try{return(await this.databaseService.getCodigosByLocalidade(e,t)).map(r=>r.codigo_postal_completo)}catch(i){return console.warn("Erro ao buscar sugest\xF5es:",i),[]}}async getConcelhosByDistrito(e){try{let i=(await this.databaseService.getDistritos()).find(r=>r.nome===e);return i?(await this.databaseService.getConcelhosByDistrito(i.id)).map(o=>o.nome).sort((o,s)=>o.localeCompare(s,"pt-PT")):[]}catch(t){return console.warn("Erro ao buscar concelhos:",t),[]}}async getCodigosByConcelho(e){try{let{data:t}=await this.databaseService.supabase.client.from("concelhos").select("codigo").eq("nome",e).single();return t?(await this.databaseService.getCodigosByConcelho(t.codigo)).map(r=>r.codigo_postal_completo):[]}catch(t){return console.warn("Erro ao buscar c\xF3digos por concelho:",t),[]}}async getDatabaseStats(){try{return await this.databaseService.getEstatisticas()}catch(e){return console.warn("Erro ao obter estat\xEDsticas:",e),{total_distritos:0,total_concelhos:0,total_codigos_postais:0}}}async getPostalCodeSuggestions(e){if(!e||e.length<2)return[];try{return(await this.databaseService.searchPostalCodes(e)).map(i=>i.codigo_postal_completo)}catch(t){return console.warn("Erro ao buscar sugest\xF5es de c\xF3digo postal:",t),[]}}async getLocalitySuggestions(e){if(!e||e.length<2)return[];try{return(await this.databaseService.searchLocalities(e)).map(i=>i.localidade)}catch(t){return console.warn("Erro ao buscar sugest\xF5es de localidade:",t),[]}}isPostalCodeComplete(e){return/^\d{4}-\d{3}$/.test(e)}async getAddressInfoByPostalCode(e){let t=await this.databaseService.validateCodigoPostal(e);return t.valid&&t.endereco?{locality:t.endereco.localidade,district:t.endereco.distrito}:null}get districts(){return this.databaseService.districts}getPostalCodeInfoOffline(e){let t={"1000-001":{locality:"Lisboa",district:"Lisboa",concelho:"Lisboa"},"4000-001":{locality:"Porto",district:"Porto",concelho:"Porto"},"3000-001":{locality:"Coimbra",district:"Coimbra",concelho:"Coimbra"},"2000-001":{locality:"Santar\xE9m",district:"Santar\xE9m",concelho:"Santar\xE9m"},"8000-001":{locality:"Faro",district:"Faro",concelho:"Faro"},"1100-048":{locality:"Lisboa",district:"Lisboa",concelho:"Lisboa"},"4000-066":{locality:"Porto",district:"Porto",concelho:"Porto"}};return new Promise(i=>{setTimeout(()=>{i(t[e]||null)},300)})}};Hu.\u0275fac=function(t){return new(t||Hu)},Hu.\u0275prov=te({token:Hu,factory:Hu.\u0275fac,providedIn:"root"});var Bx=Hu;var lj=(n,e)=>e.id;function xae(n,e){if(n&1&&(p(0,"option",17),h(1),g(2,"i18n"),f()),n&2){let t=e.$implicit;A("value",t.id),u(),R(v(2,2,t.name))}}function wae(n,e){if(n&1&&(p(0,"option",17),h(1),g(2,"i18n"),f()),n&2){let t=e.$implicit;A("value",t.id),u(),R(v(2,2,t.name))}}function Sae(n,e){n&1&&(p(0,"p",32),h(1),g(2,"i18n"),f()),n&2&&(u(),R(v(2,1,"invalidPostalCode")))}function Eae(n,e){if(n&1){let t=H();p(0,"li")(1,"button",51),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.selectSuggestion("postal_code",r))}),h(2),f()()}if(n&2){let t=e.$implicit;u(2),R(t)}}function Dae(n,e){if(n&1&&(p(0,"ul",33),oe(1,Eae,3,1,"li",null,ln),f()),n&2){let t=b();u(),se(t.postalCodeSuggestions())}}function Aae(n,e){if(n&1){let t=H();p(0,"li")(1,"button",51),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.selectSuggestion("locality",r))}),h(2),f()()}if(n&2){let t=e.$implicit;u(2),R(t)}}function Tae(n,e){if(n&1&&(p(0,"ul",33),oe(1,Aae,3,1,"li",null,ln),f()),n&2){let t=b();u(),se(t.localitySuggestions())}}function Iae(n,e){if(n&1&&(p(0,"option",17),h(1),f()),n&2){let t=e.$implicit;A("value",t),u(),R(t)}}function Mae(n,e){if(n&1&&(p(0,"option",17),h(1),g(2,"i18n"),f()),n&2){let t=e.$implicit;A("value",t),u(),R(v(2,2,"urgency_"+t))}}var qf=class qf{constructor(){this.closeModal=de();this.i18n=L($e);this.dataService=L(At);this.notificationService=L(jt);this.addressService=L(Bx);this.categories=this.dataService.categories;this.subcategories=B([]);this.urgencyLevels=["low","medium","high","critical"];this.postalCodeSuggestions=B([]);this.localitySuggestions=B([]);this.isPostalCodeValid=B(!0);this.newRequest=B({title:"",description:"",category_id:0,subcategory_id:0,requester_name:"",requester_phone:"",requester_nif:"",street:"",postal_code:"",locality:"",district:"",location_details:"",location_access_notes:"",urgency:"medium",service_deadline:void 0});this.districts=K(()=>this.addressService.districts().map(e=>e.nome))}updateNewRequest(e,t){this.newRequest.update(i=>J(F({},i),{[e]:t}))}onCategoryChange(e){let t=+e.target.value;this.newRequest.update(r=>J(F({},r),{category_id:t}));let i=this.categories().find(r=>r.id===t);this.subcategories.set(i?.subcategories||[]),this.newRequest.update(r=>J(F({},r),{subcategory_id:0}))}async onPostalCodeChange(e){if(this.newRequest.update(t=>J(F({},t),{postal_code:e})),this.isPostalCodeValid.set(!0),this.addressService.isPostalCodeComplete(e)){let t=await this.addressService.getAddressInfoByPostalCode(e);t?(this.newRequest.update(i=>J(F({},i),{locality:t.locality,district:t.district})),this.isPostalCodeValid.set(!0),this.postalCodeSuggestions.set([]),this.localitySuggestions.set([])):this.isPostalCodeValid.set(!1)}else this.postalCodeSuggestions.set(await this.addressService.getPostalCodeSuggestions(e))}async onLocalityChange(e){this.newRequest.update(t=>J(F({},t),{locality:e})),this.localitySuggestions.set(await this.addressService.getLocalitySuggestions(e))}selectSuggestion(e,t){e==="postal_code"?this.onPostalCodeChange(t):(this.newRequest.update(i=>J(F({},i),{locality:t})),this.localitySuggestions.set([]))}async submitRequest(){try{this.notificationService.addNotification(this.i18n.translate("creating_service_request")),await this.dataService.addAdminServiceRequest(this.newRequest()),this.notificationService.addNotification(this.i18n.translate("service_request_created_successfully")),this.closeModal.emit()}catch(e){console.error("Error creating admin service request:",e),this.notificationService.addNotification(this.i18n.translate("error_creating_service_request"))}}};qf.\u0275fac=function(t){return new(t||qf)},qf.\u0275cmp=ce({type:qf,selectors:[["app-admin-service-request-form"]],outputs:{closeModal:"closeModal"},decls:141,vars:124,consts:[["form","ngForm"],[1,"space-y-4","sm:space-y-6","min-w-0","overflow-hidden","px-2","sm:px-0"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-800","dark:text-gray-100","break-words"],[1,"text-gray-500","dark:text-gray-400","text-sm","sm:text-base"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow","p-4","sm:p-6"],[1,"space-y-4",3,"ngSubmit"],[1,"p-4","border","rounded-lg","dark:border-gray-700"],[1,"text-lg","font-semibold","mb-3","text-gray-800","dark:text-gray-200"],[1,"grid","grid-cols-1","gap-4"],["for","title",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","title","name","title","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","description",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","description","name","description","required","","rows","3",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","category",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","category","name","category","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"change","ngModel"],["value","0","disabled",""],[3,"value"],["for","subcategory",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","subcategory","name","subcategory","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm","disabled:opacity-50",3,"ngModelChange","ngModel","disabled"],["for","requester_name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","requester_name","name","requester_name","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","requester_phone",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","tel","id","requester_phone","name","requester_phone","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","requester_nif",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","requester_nif","name","requester_nif",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"sm:col-span-2"],["for","street",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","street","name","street","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"relative"],["for","postal_code",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","postal_code","name","postal_code","required","","placeholder","0000-000",1,"mt-1","block","w-full","rounded-md","shadow-sm","sm:text-sm",3,"ngModelChange","ngModel"],[1,"mt-1","text-xs","text-red-600","dark:text-red-400"],[1,"absolute","z-10","w-full","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-md","mt-1","shadow-lg","max-h-40","overflow-y-auto"],["for","locality",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","locality","name","locality","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","district",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","district","name","district","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value","","disabled",""],[1,"grid","grid-cols-1","gap-4","mt-4"],["for","location_details",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","location_details","name","location_details",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["for","location_access_notes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","location_access_notes","name","location_access_notes","rows","2",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["for","urgency",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","urgency","name","urgency","required","",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","service_deadline",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","date","id","service_deadline","name","service_deadline",1,"mt-1","block","w-full","rounded-md","border-gray-300","dark:bg-gray-700","dark:border-gray-600","dark:text-white","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-4","pt-4"],["type","button",1,"px-4","py-2","bg-gray-200","text-gray-800","rounded-md","hover:bg-gray-300","dark:bg-gray-600","dark:text-gray-200","dark:hover:bg-gray-500",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","text-left","px-3","py-2","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white",3,"click"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div")(2,"h2",2),h(3),g(4,"i18n"),f(),p(5,"p",3),h(6),g(7,"i18n"),f()(),p(8,"div",4)(9,"form",5,0),D("ngSubmit",function(){return S(r),E(i.submitRequest())}),p(11,"div",6)(12,"h3",7),h(13),g(14,"i18n"),f(),p(15,"div",8)(16,"div")(17,"label",9),h(18),g(19,"i18n"),f(),p(20,"input",10),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("title",s))}),f()(),p(21,"div")(22,"label",11),h(23),g(24,"i18n"),f(),p(25,"textarea",12),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("description",s))}),f()(),p(26,"div",13)(27,"div")(28,"label",14),h(29),g(30,"i18n"),f(),p(31,"select",15),D("change",function(s){return S(r),E(i.onCategoryChange(s))}),p(32,"option",16),h(33),g(34,"i18n"),f(),oe(35,xae,3,4,"option",17,lj),f()(),p(37,"div")(38,"label",18),h(39),g(40,"i18n"),f(),p(41,"select",19),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("subcategory_id",+s))}),p(42,"option",16),h(43),g(44,"i18n"),f(),oe(45,wae,3,4,"option",17,lj),f()()()()(),p(47,"div",6)(48,"h3",7),h(49),g(50,"i18n"),f(),p(51,"div",13)(52,"div")(53,"label",20),h(54),g(55,"i18n"),f(),p(56,"input",21),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("requester_name",s))}),f()(),p(57,"div")(58,"label",22),h(59),g(60,"i18n"),f(),p(61,"input",23),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("requester_phone",s))}),f()(),p(62,"div")(63,"label",24),h(64),g(65,"i18n"),g(66,"i18n"),f(),p(67,"input",25),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("requester_nif",s))}),f()()()(),p(68,"div",6)(69,"h3",7),h(70),g(71,"i18n"),f(),p(72,"div",13)(73,"div",26)(74,"label",27),h(75),g(76,"i18n"),f(),p(77,"input",28),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("street",s))}),f()(),p(78,"div",29)(79,"label",30),h(80),g(81,"i18n"),f(),p(82,"input",31),D("ngModelChange",function(s){return S(r),E(i.onPostalCodeChange(s))}),f(),j(83,Sae,3,3,"p",32),j(84,Dae,3,0,"ul",33),f(),p(85,"div",29)(86,"label",34),h(87),g(88,"i18n"),f(),p(89,"input",35),D("ngModelChange",function(s){return S(r),E(i.onLocalityChange(s))}),f(),j(90,Tae,3,0,"ul",33),f(),p(91,"div")(92,"label",36),h(93),g(94,"i18n"),f(),p(95,"select",37),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("district",s))}),p(96,"option",38),h(97),g(98,"i18n"),f(),oe(99,Iae,2,2,"option",17,ln),f()()(),p(101,"div",39)(102,"div")(103,"label",40),h(104),g(105,"i18n"),g(106,"i18n"),f(),p(107,"input",41),g(108,"i18n"),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("location_details",s))}),f()(),p(109,"div")(110,"label",42),h(111),g(112,"i18n"),g(113,"i18n"),f(),p(114,"textarea",43),g(115,"i18n"),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("location_access_notes",s))}),f()()()(),p(116,"div",6)(117,"h3",7),h(118),g(119,"i18n"),f(),p(120,"div",13)(121,"div")(122,"label",44),h(123),g(124,"i18n"),f(),p(125,"select",45),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("urgency",s))}),oe(126,Mae,3,4,"option",17,ln),f()(),p(128,"div")(129,"label",46),h(130),g(131,"i18n"),g(132,"i18n"),f(),p(133,"input",47),D("ngModelChange",function(s){return S(r),E(i.updateNewRequest("service_deadline",s))}),f()()()(),p(134,"div",48)(135,"button",49),D("click",function(){return S(r),E(i.closeModal.emit())}),h(136),g(137,"i18n"),f(),p(138,"button",50),h(139),g(140,"i18n"),f()()()()()}if(t&2){let r=Bs(10);u(3),C(" ",v(4,60,"createServiceRequest")," "),u(3),C(" ",v(7,62,"adminServiceRequestDescription")," "),u(7),R(v(14,64,"serviceDetails")),u(5),R(v(19,66,"title")),u(2),A("ngModel",i.newRequest().title),u(3),R(v(24,68,"description")),u(2),A("ngModel",i.newRequest().description),u(4),R(v(30,70,"category")),u(2),A("ngModel",i.newRequest().category_id),u(2),R(v(34,72,"selectCategory")),u(2),se(i.categories()),u(4),R(v(40,74,"subcategory")),u(2),A("ngModel",i.newRequest().subcategory_id)("disabled",!i.newRequest().category_id),u(2),R(v(44,76,"selectSubcategory")),u(2),se(i.subcategories()),u(4),R(v(50,78,"requesterInfo")),u(5),R(v(55,80,"fullName")),u(2),A("ngModel",i.newRequest().requester_name),u(3),R(v(60,82,"phone")),u(2),A("ngModel",i.newRequest().requester_phone),u(3),je("",v(65,84,"nif")," (",v(66,86,"optional"),")"),u(3),A("ngModel",i.newRequest().requester_nif),u(3),R(v(71,88,"address")),u(5),R(v(76,90,"street")),u(2),A("ngModel",i.newRequest().street),u(3),R(v(81,92,"postalCode")),u(2),yt("border-red-500",!i.isPostalCodeValid())("border-gray-300",i.isPostalCodeValid())("dark:border-gray-600",i.isPostalCodeValid()),A("ngModel",i.newRequest().postal_code),u(),q(i.isPostalCodeValid()?-1:83),u(),q(i.postalCodeSuggestions().length>0?84:-1),u(3),R(v(88,94,"locality")),u(2),A("ngModel",i.newRequest().locality),u(),q(i.localitySuggestions().length>0?90:-1),u(3),R(v(94,96,"district")),u(2),A("ngModel",i.newRequest().district),u(2),R(v(98,98,"selectDistrict")),u(2),se(i.districts()),u(5),je("",v(105,100,"locationDetails")," (",v(106,102,"optional"),")"),u(3),A("placeholder",ie(v(108,104,"locationDetailsPlaceholder")))("ngModel",i.newRequest().location_details),u(4),je("",v(112,106,"locationAccessNotes")," (",v(113,108,"optional"),")"),u(3),A("placeholder",ie(v(115,110,"locationAccessNotesPlaceholder")))("ngModel",i.newRequest().location_access_notes),u(4),R(v(119,112,"priority")),u(5),R(v(124,114,"urgency")),u(2),A("ngModel",i.newRequest().urgency),u(),se(i.urgencyLevels),u(4),je("",v(131,116,"serviceDeadline")," (",v(132,118,"optional"),")"),u(3),A("ngModel",i.newRequest().service_deadline),u(3),R(v(137,120,"cancel")),u(2),A("disabled",r.invalid),u(),R(v(140,122,"create"))}},dependencies:[pe,ft,ni,ii,ri,Vt,yo,Qt,ti,bi,$t,Vn,Se],encapsulation:2,changeDetection:0});var Vx=qf;var Uf=class Uf{constructor(){this.router=L(Zi)}goBack(){globalThis.history.length>1?globalThis.history.back():this.router.navigate(["/"])}};Uf.\u0275fac=function(t){return new(t||Uf)},Uf.\u0275cmp=ce({type:Uf,selectors:[["app-admin-create-service-request"]],decls:2,vars:0,consts:[[1,"w-full","h-full"],[3,"closeModal"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"app-admin-service-request-form",1),D("closeModal",function(){return i.goBack()}),f()())},dependencies:[pe,Vx],encapsulation:2,changeDetection:0});var jx=Uf;var cj=[{path:"create-service-request",component:Fx},{path:"admin-create-service-request",component:jx}];function kae(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var uj=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",kae];function Rae(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===Math.floor(t)&&t>=0&&t<=1?1:r===0&&t!==0&&t%1e6===0&&i===0||!(r>=0&&r<=5)?4:5}var dj=["pt",[["AM","PM"],void 0,void 0],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",Rae];function Nae(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var pj=["de",[["AM","PM"],void 0,void 0],void 0,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],void 0,void 0],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'um' {0}",void 0],[",",".",";","%","+","-","E","\xB7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","Euro",{ATS:["\xF6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[void 0,"\u0440."],CUC:[void 0,"Cub$"],DEM:["DM"],FKP:[void 0,"Fl\xA3"],GHS:[void 0,"\u20B5"],GNF:[void 0,"F.G."],KMF:[void 0,"FC"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],RWF:[void 0,"F.Rw"],SYP:[],THB:["\u0E3F"],TWD:["NT$"],XXX:[],ZMW:[void 0,"K"]},"ltr",Nae];var zu=class zu{constructor(){this.notificationService=L(jt);this.i18n=L($e);this.swRegistration=null;if(!Pi.production){this.unregisterServiceWorkersInDev();return}this.registerServiceWorker()}async unregisterServiceWorkersInDev(){if("serviceWorker"in navigator)try{let e=await navigator.serviceWorker.getRegistrations();e.length>0&&(console.log(`Dev mode: unregistering ${e.length} service worker(s) and clearing caches...`),await Promise.all(e.map(t=>t.unregister())))}catch(e){console.warn("Dev mode: failed to unregister service workers:",e)}try{if("caches"in window){let e=await caches.keys();await Promise.all(e.map(t=>caches.delete(t))),console.log("Dev mode: caches cleared")}}catch(e){console.warn("Dev mode: failed to clear caches:",e)}}async registerServiceWorker(){let e=window.isSecureContext||location.protocol==="https:",t=/^(localhost|127\.0\.0\.1|\[::1\])$/.test(location.hostname);if(Pi.production&&"serviceWorker"in navigator&&(e||t))try{this.swRegistration=await navigator.serviceWorker.register("./service-worker.js"),console.log("Service Worker registered with scope:",this.swRegistration.scope)}catch(i){console.error("Service Worker registration failed:",i)}}async requestPermission(){if("Notification"in window){let e=await Notification.requestPermission();return e==="denied"&&this.notificationService.addNotification(this.i18n.translate("pushNotificationsBlocked")),e}return"default"}sendNotification(e,t,i){this.swRegistration?.active?this.swRegistration.active.postMessage({title:e,body:t,icon:i}):console.warn("Service worker not active, cannot send notification via message.")}};zu.\u0275fac=function(t){return new(t||zu)},zu.\u0275prov=te({token:zu,factory:zu.\u0275fac,providedIn:"root"});var qx=zu;var Wu=class Wu{constructor(){this.supabase=L(xo);this.notificationService=L(jt);this.authService=L(Oi);this.i18n=L($e)}async analyzeRequest(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={status:"Em an\xE1lise",admin_requests:t};await this.updateRequestWithHistory(e,r,i.id,t||"Solicita\xE7\xE3o em an\xE1lise"),await this.notifyStakeholders(e,"analysis_started","Cliente")}async requestClarification(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={admin_requests:t,status:"Aguardando esclarecimentos"};await this.updateRequestWithHistory(e,r,i.id,"Solicita\xE7\xE3o de esclarecimentos"),await this.notifyStakeholders(e,"clarification_requested","Cliente")}async provideClarification(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={clarifications:t,status:"Em an\xE1lise"};await this.updateRequestWithHistory(e,r,i.id,"Esclarecimentos fornecidos"),await this.notifyStakeholders(e,"clarification_provided","Admin")}async sendQuote(e,t,i){let r=this.authService.appUser();if(!r)throw new Error("User not authenticated");let o={quote_amount:t,quote_description:i,quote_sent_at:new Date().toISOString(),status:"Or\xE7amento enviado",cost:t};await this.updateRequestWithHistory(e,o,r.id,`Or\xE7amento enviado: \u20AC${t}`),await this.notifyStakeholders(e,"quote_sent","Cliente")}async approveQuote(e){let t=this.authService.appUser();if(!t)throw new Error("User not authenticated");let i={quote_approved_at:new Date().toISOString(),status:"Or\xE7amento aprovado"};await this.updateRequestWithHistory(e,i,t.id,"Or\xE7amento aprovado"),await this.notifyStakeholders(e,"quote_approved","Admin")}async rejectQuote(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={status:"Or\xE7amento rejeitado"};await this.updateRequestWithHistory(e,r,i.id,`Or\xE7amento rejeitado: ${t||"Sem motivo especificado"}`),await this.notifyStakeholders(e,"quote_rejected","Admin")}async selectProfessional(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={selected_professional_id:t,professional_id:t,status:"Profissional selecionado"};await this.updateRequestWithHistory(e,r,i.id,"Profissional selecionado"),await this.notifySpecificUser(e,t,"professional_assigned","Novo trabalho atribu\xEDdo")}async professionalAcceptJob(e){let t=this.authService.appUser();if(!t)throw new Error("User not authenticated");let i={professional_response:"accepted",professional_response_at:new Date().toISOString(),status:"Aguardando confirma\xE7\xE3o do profissional"};await this.updateRequestWithHistory(e,i,t.id,"Trabalho aceito pelo profissional"),await this.notifyStakeholders(e,"professional_accepted","Admin")}async professionalRejectJob(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={professional_response:"rejected",professional_response_at:new Date().toISOString(),selected_professional_id:null,professional_id:null,status:"Buscando profissional"};await this.updateRequestWithHistory(e,r,i.id,`Trabalho rejeitado: ${t||"Sem motivo especificado"}`),await this.notifyStakeholders(e,"professional_rejected","Admin")}async scheduleWork(e,t,i){let r=this.authService.appUser();if(!r)throw new Error("User not authenticated");let o={scheduled_start_datetime:t.toISOString(),scheduled_date:t.toISOString(),estimated_duration_minutes:i,status:"Agendado"};await this.updateRequestWithHistory(e,o,r.id,`Trabalho agendado para ${t.toLocaleString()}`),await this.notifyStakeholders(e,"work_scheduled","Cliente,Profissional")}async startWork(e){let t=this.authService.appUser();if(!t)throw new Error("User not authenticated");let i=await this.getServiceRequest(e);if(!i)throw new Error("Service request not found");let r=new Date,o=null;if(i.scheduled_start_datetime?o=new Date(i.scheduled_start_datetime):i.scheduled_date&&(o=new Date(i.scheduled_date)),o&&r<o)throw this.notificationService.addNotification("N\xE3o \xE9 permitido iniciar o servi\xE7o antes da data agendada!"),new Error("Tentativa de in\xEDcio antes da data agendada");let s={work_started_at:r.toISOString(),actual_start_datetime:r.toISOString(),status:"Em execu\xE7\xE3o"};try{await this.updateRequestWithHistory(e,s,t.id,"Trabalho iniciado")}catch(a){let l=String(a?.message||"");throw a?.code==="23514"||l.includes("chk_scheduled_before_actual_start")?(this.notificationService.addNotification("N\xE3o \xE9 permitido iniciar o servi\xE7o antes da data agendada!"),new Error("Tentativa de in\xEDcio antes da data agendada")):a}await this.notifyStakeholders(e,"work_started","Cliente,Admin")}async completeWork(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={work_completed_at:new Date().toISOString(),actual_end_datetime:new Date().toISOString(),status:"Conclu\xEDdo - Aguardando aprova\xE7\xE3o"};if(t){let o=await this.getProgressUpdates(e);r.progress_updates=[...o||[],`Trabalho conclu\xEDdo: ${t}`]}await this.updateRequestWithHistory(e,r,i.id,"Trabalho conclu\xEDdo"),await this.notifyStakeholders(e,"work_completed","Cliente")}async addProgressUpdate(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r=await this.getProgressUpdates(e),s=`[${new Date().toLocaleString()}] ${t}`,a={progress_updates:[...r||[],s]};await this.updateRequestWithHistory(e,a,i.id,"Atualiza\xE7\xE3o de progresso")}async approveWork(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={approval_at:new Date().toISOString(),feedback:t,status:"Aprovado",payment_due_date:new Date(Date.now()+10080*60*1e3).toISOString()};await this.updateRequestWithHistory(e,r,i.id,"Trabalho aprovado"),await this.notifyStakeholders(e,"payment_due","Admin,Profissional")}async rejectWork(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r={approval_at:new Date().toISOString(),revision_requested:!0,revision_reason:t,status:"Rejeitado"};await this.updateRequestWithHistory(e,r,i.id,`Trabalho rejeitado: ${t}`),await this.notifyStakeholders(e,"work_completed","Admin,Profissional")}async processPayment(e,t){let i=this.authService.appUser();if(!i)throw new Error("User not authenticated");let r=await this.getServiceRequest(e);if(!r?.quote_amount)throw new Error("Request or quote amount not found");let o=this.calculatePlatformFee(r.quote_amount),s=r.quote_amount-o,a={payment_completed_at:new Date().toISOString(),platform_fee:o,professional_payment:s,payment_status:"Paid",status:"Pago"};await this.updateRequestWithHistory(e,a,i.id,`Pagamento processado: \u20AC${r.quote_amount}`),await this.notifyStakeholders(e,"payment_completed","Profissional")}async finalizeWithEvaluations(e,t,i){let r=this.authService.appUser();if(!r)throw new Error("User not authenticated");let o={rating:t,professional_rating:i,mutual_evaluation_completed:!0,status:"Finalizado"};await this.updateRequestWithHistory(e,o,r.id,"Processo finalizado com avalia\xE7\xF5es")}async updateRequestWithHistory(e,t,i,r){let o=await this.getServiceRequest(e),s=o?.status_history||[];if(t.status&&t.status!==o?.status){let c={status:t.status,changed_at:new Date().toISOString(),changed_by:i,notes:r};t.status_history=[...s,c]}console.log("[WorkflowService] updateRequestWithHistory - requestId:",e,"tipo:",typeof e);let{data:a,error:l}=await this.supabase.client.from("service_requests").update(t).eq("id",e).select("*");if(l)throw console.error("Error updating service request:",l),l;console.log("[WorkflowService] Update result:",a),this.notificationService.addNotification(`Pedido #${e} atualizado: ${r||t.status}`)}async getServiceRequest(e){let{data:t,error:i}=await this.supabase.client.from("service_requests").select("*").eq("id",e).single();return i?(console.error("Error fetching service request:",i),null):t}async getProgressUpdates(e){return(await this.getServiceRequest(e))?.progress_updates||null}calculatePlatformFee(e){return Math.round(e*.07*100)/100}async notifyStakeholders(e,t,i){let r=this.getNotificationMessage(t);this.notificationService.addNotification(`${r} - Pedido #${e}`)}async notifySpecificUser(e,t,i,r){this.notificationService.addNotification(`${r} - Pedido #${e}`)}getNotificationMessage(e){return{clarification_requested:"Esclarecimentos solicitados",clarification_provided:"Esclarecimentos fornecidos",quote_sent:"Or\xE7amento enviado",quote_approved:"Or\xE7amento aprovado",quote_rejected:"Or\xE7amento rejeitado",execution_date_proposal:"Data de execu\xE7\xE3o proposta",execution_date_approved:"Data de execu\xE7\xE3o aprovada",execution_date_rejected:"Data de execu\xE7\xE3o rejeitada",professional_assigned:"Profissional atribu\xEDdo",professional_accepted:"Trabalho aceito",professional_rejected:"Trabalho rejeitado",work_scheduled:"Trabalho agendado",work_started:"Trabalho iniciado",work_completed:"Trabalho conclu\xEDdo",payment_due:"Pagamento pendente",payment_completed:"Pagamento processado"}[e]||"Atualiza\xE7\xE3o do pedido"}canTransitionTo(e,t,i){let o={Solicitado:{statuses:["Em an\xE1lise","Aguardando esclarecimentos","Cancelado"],roles:["admin"]},"Em an\xE1lise":{statuses:["Or\xE7amento enviado","Aguardando esclarecimentos","Cancelado"],roles:["admin"]},"Aguardando esclarecimentos":{statuses:["Em an\xE1lise","Cancelado"],roles:["admin"]},"Or\xE7amento enviado":{statuses:["Aguardando aprova\xE7\xE3o do or\xE7amento"],roles:["admin"]},"Aguardando aprova\xE7\xE3o do or\xE7amento":{statuses:["Or\xE7amento aprovado","Or\xE7amento rejeitado"],roles:["admin"]},"Or\xE7amento aprovado":{statuses:["Aguardando data de execu\xE7\xE3o","Data proposta pelo administrador","Buscando profissional"],roles:["admin"]},"Aguardando data de execu\xE7\xE3o":{statuses:["Data proposta pelo administrador"],roles:["admin"]},"Data proposta pelo administrador":{statuses:["Data aprovada","Data rejeitada"],roles:["admin"]},"Aguardando aprova\xE7\xE3o da data":{statuses:["Data aprovada","Data rejeitada"],roles:["admin"]},"Data aprovada":{statuses:["Agendado"],roles:["admin"]},"Data rejeitada":{statuses:["Data proposta pelo administrador","Cancelado"],roles:["admin"]},"Or\xE7amento rejeitado":{statuses:["Em an\xE1lise","Cancelado"],roles:["admin"]},"Buscando profissional":{statuses:["Profissional selecionado"],roles:["admin"]},"Profissional selecionado":{statuses:["Aguardando confirma\xE7\xE3o do profissional"],roles:["professional"]},"Aguardando confirma\xE7\xE3o do profissional":{statuses:["Agendado","Buscando profissional"],roles:["admin","professional"]},Agendado:{statuses:["Em execu\xE7\xE3o","Cancelado"],roles:["professional","admin"]},"Em execu\xE7\xE3o":{statuses:["Conclu\xEDdo - Aguardando aprova\xE7\xE3o"],roles:["professional"]},"Conclu\xEDdo - Aguardando aprova\xE7\xE3o":{statuses:["Aprovado","Rejeitado"],roles:["admin"]},Aprovado:{statuses:["Pago"],roles:["admin"]},Rejeitado:{statuses:["Em execu\xE7\xE3o","Cancelado"],roles:["admin"]},Pago:{statuses:["Finalizado"],roles:["admin","professional"]},Finalizado:{statuses:[],roles:[]},Cancelado:{statuses:[],roles:[]},Requested:{statuses:[],roles:[]},InAnalysis:{statuses:[],roles:[]},AwaitingClarifications:{statuses:[],roles:[]},QuoteSent:{statuses:[],roles:[]},AwaitingQuoteApproval:{statuses:[],roles:[]},QuoteApproved:{statuses:[],roles:[]},QuoteRejected:{statuses:[],roles:[]},AwaitingExecutionDate:{statuses:[],roles:[]},DateProposedByAdmin:{statuses:[],roles:[]},AwaitingDateApproval:{statuses:[],roles:[]},DateApproved:{statuses:[],roles:[]},DateRejected:{statuses:[],roles:[]},SearchingProfessional:{statuses:[],roles:[]},ProfessionalSelected:{statuses:[],roles:[]},AwaitingProfessionalConfirmation:{statuses:[],roles:[]},Scheduled:{statuses:[],roles:[]},InProgress:{statuses:[],roles:[]},CompletedAwaitingApproval:{statuses:[],roles:[]},Completed:{statuses:[],roles:[]},Cancelled:{statuses:[],roles:[]},Paid:{statuses:[],roles:[]}}[e];return o?o.statuses.includes(t)&&o.roles.includes(i):!1}getAvailableActions(e,t){return{Solicitado:{admin:["analyze","request_clarification"]},"Em an\xE1lise":{admin:["send_quote","request_clarification"]},"Aguardando esclarecimentos":{admin:["provide_clarification"]},"Or\xE7amento enviado":{admin:["approve_quote","reject_quote"]},"Or\xE7amento aprovado":{admin:["select_professional"]},"Profissional selecionado":{professional:["accept_job","reject_job"]},"Aguardando confirma\xE7\xE3o do profissional":{admin:["schedule_work"]},Agendado:{professional:["start_work"]},"Em execu\xE7\xE3o":{professional:["complete_work","add_progress_update"]},"Conclu\xEDdo - Aguardando aprova\xE7\xE3o":{admin:["approve_work","reject_work"]},Aprovado:{admin:["process_payment"]},Pago:{professional:["submit_evaluation"]},"Or\xE7amento rejeitado":{},"Aguardando aprova\xE7\xE3o do or\xE7amento":{},"Aguardando data de execu\xE7\xE3o":{},"Data proposta pelo administrador":{},"Aguardando aprova\xE7\xE3o da data":{},"Data aprovada":{},"Data rejeitada":{},"Buscando profissional":{},Rejeitado:{},Finalizado:{},Cancelado:{},Requested:{},InAnalysis:{},AwaitingClarifications:{},QuoteSent:{},AwaitingQuoteApproval:{},QuoteApproved:{},QuoteRejected:{},AwaitingExecutionDate:{},DateProposedByAdmin:{},AwaitingDateApproval:{},DateApproved:{},DateRejected:{},SearchingProfessional:{},ProfessionalSelected:{},AwaitingProfessionalConfirmation:{},Scheduled:{},InProgress:{},CompletedAwaitingApproval:{},Completed:{},Cancelled:{},Paid:{}}[e.status]?.[t]||[]}};Wu.\u0275fac=function(t){return new(t||Wu)},Wu.\u0275prov=te({token:Wu,factory:Wu.\u0275fac,providedIn:"root"});var Zs=Wu;function Pae(n,e){if(n&1&&(Je(0),p(1,"span",7),h(2),f(),Ye()),n&2){let t=e.$implicit;u(),Vs("background",t.color)("color","white"),u(),je(" ",t.label,": ",t.value," ")}}var $f=class $f{constructor(){this.title=ge.required();this.data=ge();this.labels=ge();this.chartData=K(()=>{let e=this.data(),t=this.labels(),i=["#2563eb","#059669","#eab308","#ef4444","#6366f1","#f59e42","#10b981","#f43f5e","#a3e635","#f472b6"],r=0;return Object.entries(e).map(([o,s])=>({label:t[o]||o,value:s,color:i[r++%i.length]}))});Ut(()=>{console.log("[PieChart] T\xEDtulo recebido:",this.title()),this.renderPieChart()})}ngAfterViewInit(){this.renderPieChart()}renderPieChart(){let e=document.querySelector("canvas#pieCanvas");if(!e){console.warn("[PieChart] Canvas n\xE3o encontrado");return}let t=e.getContext("2d");if(!t){console.warn("[PieChart] Contexto 2D n\xE3o encontrado");return}let i=this.chartData(),r=i.reduce((s,a)=>s+a.value,0);if(t.clearRect(0,0,e.width,e.height),r===0){t.beginPath(),t.arc(110,110,100,0,2*Math.PI),t.closePath(),t.fillStyle="#d1d5db",t.fill(),t.font="bold 18px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.textBaseline="middle",t.fillText("Sem dados",110,110);return}let o=0;i.forEach(s=>{let a=s.value/r*2*Math.PI;t.beginPath(),t.moveTo(110,110),t.arc(110,110,100,o,o+a),t.closePath(),t.fillStyle=s.color,t.fill(),o+=a})}};$f.\u0275fac=function(t){return new(t||$f)},$f.\u0275cmp=ce({type:$f,selectors:[["app-status-pie-chart"]],inputs:{title:[1,"title"],data:[1,"data"],labels:[1,"labels"]},decls:8,vars:2,consts:[["pieCanvas",""],[1,"w-full","max-w-xs","md:max-w-md","bg-white","dark:bg-gray-800","rounded-lg","shadow","p-4","mobile-safe","flex","flex-col","items-center"],[1,"text-lg","font-semibold","mb-2","text-center"],[1,"w-full","flex","justify-center","items-center"],["id","pieCanvas","width","220","height","220",1,"w-full","h-auto","max-h-64","aspect-square"],[1,"flex","flex-wrap","gap-2","justify-center","mt-4","w-full"],[4,"ngFor","ngForOf"],[1,"px-2","py-1","rounded","text-xs","font-medium"]],template:function(t,i){t&1&&(p(0,"div",1)(1,"h3",2),h(2),f(),p(3,"div",3),k(4,"canvas",4,0),f(),p(6,"div",5),he(7,Pae,3,6,"ng-container",6),f()()),t&2&&(u(2),R(i.title()),u(5),A("ngForOf",i.chartData()))},dependencies:[pe,Kn],encapsulation:2,changeDetection:0});var Ux=$f;function Oae(n,e){if(n&1&&(Je(0),p(1,"span",7),h(2),f(),Ye()),n&2){let t=e.$implicit;u(),Vs("background",t.color)("color","white"),u(),je(" ",t.label,": ",t.value," ")}}var Hf=class Hf{constructor(){this.title=ge.required();this.data=ge();this.labels=ge();this.chartData=K(()=>{let e=this.data(),t=this.labels(),i=["#2563eb","#059669","#eab308","#ef4444","#6366f1","#f59e42","#10b981","#f43f5e","#a3e635","#f472b6"],r=0;return Object.entries(e).map(([o,s])=>({label:t[o]||o,value:s,color:i[r++%i.length]}))});Ut(()=>{console.log("[BarChart] T\xEDtulo recebido:",this.title()),this.renderBarChart()})}ngAfterViewInit(){this.renderBarChart()}renderBarChart(){let e=document.querySelector("canvas#barCanvas");if(!e){console.warn("[BarChart] Canvas n\xE3o encontrado");return}let t=e.getContext("2d");if(!t){console.warn("[BarChart] Contexto 2D n\xE3o encontrado");return}let i=this.chartData(),r=i.reduce((m,_)=>m+_.value,0);if(t.clearRect(0,0,e.width,e.height),r===0){t.font="bold 18px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.textBaseline="middle",t.fillText("Sem dados",e.width/2,e.height/2);return}let o=Math.max(...i.map(m=>m.value)),s=(e.width-60)/i.length,l=Math.max(s-4,12),c=e.height-60,d=30;i.forEach((m,_)=>{let y=m.value/o*c,w=d+_*s,T=e.height-30-y;t.fillStyle=m.color,t.fillRect(w,T,l,y),y>20&&(t.font="10px sans-serif",t.fillStyle="#374151",t.textAlign="center",t.textBaseline="bottom",t.fillText(m.value.toString(),w+l/2,T-2)),t.font="8px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.textBaseline="top",t.fillText(m.label,w+l/2,e.height-25)}),t.strokeStyle="#d1d5db",t.lineWidth=1,t.beginPath(),t.moveTo(25,30),t.lineTo(25,e.height-30),t.stroke(),t.beginPath(),t.moveTo(25,e.height-30),t.lineTo(e.width-30,e.height-30),t.stroke()}};Hf.\u0275fac=function(t){return new(t||Hf)},Hf.\u0275cmp=ce({type:Hf,selectors:[["app-category-bar-chart"]],inputs:{title:[1,"title"],data:[1,"data"],labels:[1,"labels"]},decls:8,vars:2,consts:[["barCanvas",""],[1,"w-full","max-w-xs","md:max-w-md","bg-white","dark:bg-gray-800","rounded-lg","shadow","p-4","mobile-safe","flex","flex-col","items-center"],[1,"text-lg","font-semibold","mb-2","text-center"],[1,"w-full","flex","justify-center","items-center"],["id","barCanvas","width","220","height","220",1,"w-full","h-auto","max-h-64","aspect-square"],[1,"flex","flex-wrap","gap-2","justify-center","mt-4","w-full"],[4,"ngFor","ngForOf"],[1,"px-2","py-1","rounded","text-xs","font-medium"]],template:function(t,i){t&1&&(p(0,"div",1)(1,"h3",2),h(2),f(),p(3,"div",3),k(4,"canvas",4,0),f(),p(6,"div",5),he(7,Oae,3,6,"ng-container",6),f()()),t&2&&(u(2),R(i.title()),u(5),A("ngForOf",i.chartData()))},dependencies:[pe,Kn],encapsulation:2,changeDetection:0});var $x=Hf;var zf=class zf{constructor(){this.title=ge.required();this.data=ge();this.totalRequests=K(()=>{let e=this.data();return Object.values(e).reduce((t,i)=>t+i,0)});this.averagePerDay=K(()=>{let e=this.totalRequests();return Math.round(e/30)});this.trend=K(()=>{let e=this.data(),t=Object.keys(e).length;if(t<2)return"0%";let i=Object.values(e),r=i.slice(0,Math.floor(t/2)),o=i.slice(Math.floor(t/2)),s=r.reduce((c,d)=>c+d,0)/r.length,a=o.reduce((c,d)=>c+d,0)/o.length;if(s===0)return"0%";let l=(a-s)/s*100;return`${l>0?"+":""}${Math.round(l)}%`});this.trendColor=K(()=>this.trend().includes("+")?"text-green-600":"text-red-600");Ut(()=>{console.log("[TemporalChart] T\xEDtulo recebido:",this.title()),this.renderTemporalChart()})}ngAfterViewInit(){this.renderTemporalChart()}renderTemporalChart(){let e=document.querySelector("canvas#temporalCanvas");if(!e){console.warn("[TemporalChart] Canvas n\xE3o encontrado");return}let t=e.getContext("2d");if(!t){console.warn("[TemporalChart] Contexto 2D n\xE3o encontrado");return}let i=this.data(),r=this.totalRequests();if(t.clearRect(0,0,e.width,e.height),r===0){t.font="bold 18px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.textBaseline="middle",t.fillText("Sem dados",e.width/2,e.height/2);return}let o=Object.entries(i).sort((_,y)=>_[0].localeCompare(y[0])),s=Math.max(...o.map(([,_])=>_)),a=20,l=e.width-2*a,c=e.height-2*a,d=3,m=2;t.strokeStyle="#d1d5db",t.lineWidth=1,t.beginPath(),t.moveTo(a,a),t.lineTo(a,e.height-a),t.moveTo(a,e.height-a),t.lineTo(e.width-a,e.height-a),t.stroke(),t.strokeStyle="#3b82f6",t.lineWidth=m,t.beginPath(),o.forEach(([_,y],w)=>{let T=a+w/(o.length-1)*l,I=e.height-a-y/s*c;w===0?t.moveTo(T,I):t.lineTo(T,I)}),t.stroke(),t.fillStyle="#3b82f6",o.forEach(([_,y],w)=>{let T=a+w/(o.length-1)*l,I=e.height-a-y/s*c;t.beginPath(),t.arc(T,I,d,0,2*Math.PI),t.fill()}),t.fillStyle="rgba(59, 130, 246, 0.1)",t.beginPath(),t.moveTo(a,e.height-a),o.forEach(([_,y],w)=>{let T=a+w/(o.length-1)*l,I=e.height-a-y/s*c;t.lineTo(T,I)}),t.lineTo(e.width-a,e.height-a),t.closePath(),t.fill()}};zf.\u0275fac=function(t){return new(t||zf)},zf.\u0275cmp=ce({type:zf,selectors:[["app-temporal-evolution-chart"]],inputs:{title:[1,"title"],data:[1,"data"]},decls:22,vars:6,consts:[["temporalCanvas",""],[1,"w-full","max-w-xs","md:max-w-md","bg-white","dark:bg-gray-800","rounded-lg","shadow","p-4","mobile-safe","flex","flex-col","items-center"],[1,"text-lg","font-semibold","mb-2","text-center"],[1,"w-full","flex","justify-center","items-center"],["id","temporalCanvas","width","220","height","220",1,"w-full","h-auto","max-h-64","aspect-square"],[1,"flex","flex-wrap","gap-2","justify-center","mt-4","w-full"],[1,"text-center"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-lg","font-bold","text-blue-600"],[1,"text-lg","font-bold","text-green-600"],[1,"text-lg","font-bold"]],template:function(t,i){t&1&&(Ie(0,"div",1)(1,"h3",2),h(2),Ne(),Ie(3,"div",3),Wi(4,"canvas",4,0),Ne(),Ie(6,"div",5)(7,"div",6)(8,"div",7),h(9,"Total"),Ne(),Ie(10,"div",8),h(11),Ne()(),Ie(12,"div",6)(13,"div",7),h(14,"M\xE9dia/Dia"),Ne(),Ie(15,"div",9),h(16),Ne()(),Ie(17,"div",6)(18,"div",7),h(19,"Tend\xEAncia"),Ne(),Ie(20,"div",10),h(21),Ne()()()()),t&2&&(u(2),R(i.title()),u(9),C(" ",i.totalRequests()," "),u(5),C(" ",i.averagePerDay()," "),u(4),me(i.trendColor()),u(),C(" ",i.trend()," "))},dependencies:[pe],encapsulation:2,changeDetection:0});var Hx=zf;var Fae=n=>({category:n}),HM=(n,e)=>e.id;function Lae(n,e){if(n&1&&(p(0,"span",44),h(1),g(2,"i18n"),g(3,"i18n"),f()),n&2){let t=b().$implicit;yt("bg-blue-100",t.type==="precificado")("text-blue-800",t.type==="precificado")("bg-orange-100",t.type==="or\xE7ado")("text-orange-800",t.type==="or\xE7ado"),u(),C(" ",t.type==="precificado"?v(2,9,"priced"):v(3,11,"quoted")," ")}}function Bae(n,e){if(n&1&&(p(0,"span"),k(1,"i",45),h(2),f()),n&2){let t=b().$implicit;u(2),C("",t.average_time," min")}}function Vae(n,e){if(n&1&&(p(0,"span"),k(1,"i",46),h(2),g(3,"number"),f()),n&2){let t=b().$implicit;u(2),R(Ke(3,1,t.price,"1.2-2"))}}function jae(n,e){if(n&1){let t=H();p(0,"div",34)(1,"div",35)(2,"div",20),k(3,"i",36),p(4,"span",37),h(5),f(),j(6,Lae,4,13,"span",38),f(),p(7,"div",39),j(8,Bae,3,1,"span"),j(9,Vae,4,4,"span"),f()(),p(10,"div",40)(11,"button",21),g(12,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(4);return E(o.showSubcategoryDetails(r))}),k(13,"i",41),f(),p(14,"button",23),g(15,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(4);return E(o.startEditSubcategory(r))}),k(16,"i",42),f(),p(17,"button",25),g(18,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(4);return E(o.requestDeleteSubcategory(r))}),k(19,"i",43),f()()()}if(n&2){let t=e.$implicit;u(5),R(t.name),u(),q(t.type?6:-1),u(2),q(t.average_time?8:-1),u(),q(t.price?9:-1),u(2),A("title",ie(v(12,10,"details"))),u(3),A("title",ie(v(15,12,"edit"))),u(3),A("title",ie(v(18,14,"delete")))}}function qae(n,e){if(n&1&&(p(0,"div",32),oe(1,jae,20,16,"div",34,HM),f()),n&2){let t=b(2).$implicit,i=b();u(),se(i.subcategoriesOf(t.id))}}function Uae(n,e){n&1&&(p(0,"div",33),k(1,"i",47),p(2,"p",48),h(3),g(4,"i18n"),f()()),n&2&&(u(3),R(v(4,1,"noSubcategories")))}function $ae(n,e){if(n&1&&(p(0,"tr",7)(1,"td",29)(2,"div",30)(3,"h4",31),h(4),g(5,"i18n"),f(),j(6,qae,3,0,"div",32)(7,Uae,5,3,"div",33),f()()()),n&2){let t=b().$implicit,i=b();u(4),C(" ",v(5,2,"subcategories")," "),u(2),q(i.subcategoriesOf(t.id).length>0?6:7)}}function Hae(n,e){if(n&1){let t=H();Je(0),p(1,"tr",14)(2,"td",15)(3,"div",16)(4,"button",17),g(5,"i18n"),g(6,"i18n"),D("click",function(){let r=S(t).$implicit,o=b();return E(o.toggleExpand(r.id))}),k(7,"i"),f(),p(8,"span"),h(9),f()()(),p(10,"td",18),h(11),f(),p(12,"td",19)(13,"div",20)(14,"button",21),g(15,"i18n"),D("click",function(){let r=S(t).$implicit,o=b();return E(o.showDetails(r))}),k(16,"i",22),f(),p(17,"button",23),g(18,"i18n"),D("click",function(){let r=S(t).$implicit,o=b();return E(o.startEditCategory(r))}),k(19,"i",24),f(),p(20,"button",25),g(21,"i18n"),D("click",function(){let r=S(t).$implicit,o=b();return E(o.requestDeleteCategory(r))}),k(22,"i",26),f(),p(23,"button",27),g(24,"i18n"),D("click",function(){let r=S(t).$implicit,o=b();return E(o.manageSubcategories(r))}),k(25,"i",4),f()()()(),he(26,$ae,8,4,"tr",28),Ye()}if(n&2){let t=e.$implicit,i=b();u(4),et("aria-expanded",i.isExpanded(t.id))("aria-label",i.isExpanded(t.id)?v(5,15,"collapse"):v(6,17,"expand")),u(3),me(i.isExpanded(t.id)?"fas fa-chevron-down":"fas fa-chevron-right"),u(2),R(t.name),u(2),C(" ",i.subcategoryCounts().get(t.id)||0," "),u(3),A("title",ie(v(15,19,"details"))),u(3),A("title",ie(v(18,21,"edit"))),u(3),A("title",ie(v(21,23,"delete"))),u(3),A("title",ie(v(24,25,"addSubcategory"))),u(3),A("ngIf",i.isExpanded(t.id))}}function zae(n,e){if(n&1&&(p(0,"span",44),h(1),g(2,"i18n"),g(3,"i18n"),f()),n&2){let t=b().$implicit;yt("bg-blue-100",t.type==="precificado")("text-blue-800",t.type==="precificado")("bg-orange-100",t.type==="or\xE7ado")("text-orange-800",t.type==="or\xE7ado"),u(),C(" ",t.type==="precificado"?v(2,9,"priced"):v(3,11,"quoted")," ")}}function Wae(n,e){if(n&1&&(p(0,"span"),k(1,"i",45),h(2),f()),n&2){let t=b().$implicit;u(2),C("",t.average_time," min")}}function Gae(n,e){if(n&1&&(p(0,"span"),k(1,"i",46),h(2),g(3,"number"),f()),n&2){let t=b().$implicit;u(2),R(Ke(3,1,t.price,"1.2-2"))}}function Qae(n,e){if(n&1){let t=H();p(0,"div",66)(1,"div",67)(2,"div",35)(3,"div",68)(4,"span",37),h(5),f(),j(6,zae,4,13,"span",38),f(),p(7,"div",69),j(8,Wae,3,1,"span"),j(9,Gae,4,4,"span"),f()()(),p(10,"div",70)(11,"button",71),D("click",function(){let r=S(t).$implicit,o=b(4);return E(o.showSubcategoryDetails(r))}),k(12,"i",72),h(13),g(14,"i18n"),f(),p(15,"button",73),D("click",function(){let r=S(t).$implicit,o=b(4);return E(o.startEditSubcategory(r))}),k(16,"i",74),h(17),g(18,"i18n"),f(),p(19,"button",75),D("click",function(){let r=S(t).$implicit,o=b(4);return E(o.requestDeleteSubcategory(r))}),k(20,"i",76),h(21),g(22,"i18n"),f()()()}if(n&2){let t=e.$implicit;u(5),R(t.name),u(),q(t.type?6:-1),u(2),q(t.average_time?8:-1),u(),q(t.price?9:-1),u(4),C(" ",v(14,7,"details")," "),u(4),C(" ",v(18,9,"edit")," "),u(4),C(" ",v(22,11,"delete")," ")}}function Yae(n,e){if(n&1&&(p(0,"div",32),oe(1,Qae,23,13,"div",66,HM),f()),n&2){let t=b(2).$implicit,i=b();u(),se(i.subcategoriesOf(t.id))}}function Zae(n,e){n&1&&(p(0,"div",65),k(1,"i",77),p(2,"p",78),h(3),g(4,"i18n"),f()()),n&2&&(u(3),R(v(4,1,"noSubcategories")))}function Xae(n,e){if(n&1&&(p(0,"div",63)(1,"h5",64),h(2),g(3,"i18n"),f(),j(4,Yae,3,0,"div",32)(5,Zae,5,3,"div",65),f()),n&2){let t=b().$implicit,i=b();u(2),R(v(3,2,"subcategories")),u(2),q(i.subcategoriesOf(t.id).length>0?4:5)}}function Jae(n,e){if(n&1){let t=H();p(0,"div",12)(1,"div",49)(2,"div",50)(3,"div",35)(4,"h4",51),h(5),f(),p(6,"p",52),h(7),g(8,"i18n"),f()(),p(9,"button",53),D("click",function(){let r=S(t).$implicit,o=b();return E(o.toggleExpand(r.id))}),k(10,"i"),f()(),p(11,"div",54)(12,"button",55),D("click",function(){let r=S(t).$implicit,o=b();return E(o.showDetails(r))}),k(13,"i",56),h(14),g(15,"i18n"),f(),p(16,"button",57),D("click",function(){let r=S(t).$implicit,o=b();return E(o.startEditCategory(r))}),k(17,"i",58),h(18),g(19,"i18n"),f(),p(20,"button",59),D("click",function(){let r=S(t).$implicit,o=b();return E(o.manageSubcategories(r))}),k(21,"i",60),h(22),g(23,"i18n"),f(),p(24,"button",61),D("click",function(){let r=S(t).$implicit,o=b();return E(o.requestDeleteCategory(r))}),k(25,"i",62),f()()(),j(26,Xae,6,4,"div",63),f()}if(n&2){let t=e.$implicit,i=b();u(5),R(t.name),u(2),je(" ",i.subcategoryCounts().get(t.id)||0," ",v(8,9,"subcategories")," "),u(3),me(i.isExpanded(t.id)?"fas fa-chevron-up":"fas fa-chevron-down"),u(4),C(" ",v(15,11,"details")," "),u(4),C(" ",v(19,13,"edit")," "),u(4),C(" ",v(23,15,"add")," "),u(4),q(i.isExpanded(t.id)?26:-1)}}function Kae(n,e){if(n&1){let t=H();p(0,"div",79),D("click",function(){S(t);let r=b();return E(r.closeAddCategoryModal())})("keydown.escape",function(){S(t);let r=b();return E(r.closeAddCategoryModal())}),p(1,"div",80),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown",function(r){return S(t),E(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),D("click",function(){S(t);let r=b();return E(r.closeAddCategoryModal())}),h(7," \u2715 "),f()(),p(8,"div",84)(9,"input",85),D("input",function(r){S(t);let o=b();return E(o.newCategory.set(r.target.value))})("keydown.enter",function(){S(t);let r=b();return E(r.addCategory())}),f()(),p(10,"div",86)(11,"button",87),D("click",function(){S(t);let r=b();return E(r.addCategory())}),h(12),g(13,"i18n"),f(),p(14,"button",88),D("click",function(){S(t);let r=b();return E(r.closeAddCategoryModal())}),h(15),g(16,"i18n"),f()()()()}if(n&2){let t=b();u(4),R(v(5,4,"addNewCategory")),u(5),A("value",t.newCategory()),u(3),C(" ",v(13,6,"add")," "),u(3),C(" ",v(16,8,"cancel")," ")}}function ele(n,e){if(n&1){let t=H();p(0,"div",79),D("click",function(){S(t);let r=b();return E(r.editingCategory.set(null))})("keydown.escape",function(){S(t);let r=b();return E(r.editingCategory.set(null))}),p(1,"div",80),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown",function(r){return S(t),E(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),D("click",function(){S(t);let r=b();return E(r.editingCategory.set(null))}),h(7," \u2715 "),f()(),p(8,"div",84)(9,"input",89),D("input",function(r){S(t);let o=b();return E(o.editingCategoryName.set(r.target.value))})("keydown.enter",function(){S(t);let r=b();return E(r.saveCategoryEdit())}),f()(),p(10,"div",86)(11,"button",90),D("click",function(){S(t);let r=b();return E(r.saveCategoryEdit())}),h(12),g(13,"i18n"),f(),p(14,"button",88),D("click",function(){S(t);let r=b();return E(r.editingCategory.set(null))}),h(15),g(16,"i18n"),f()()()()}if(n&2){let t=b();u(4),R(v(5,4,"editCategory")),u(5),A("value",t.editingCategoryName()),u(3),C(" ",v(13,6,"save")," "),u(3),C(" ",v(16,8,"cancel")," ")}}function tle(n,e){if(n&1){let t=H();p(0,"div",79),D("click",function(){S(t);let r=b();return E(r.selectedCategoryForDetails.set(null))})("keydown.escape",function(){S(t);let r=b();return E(r.selectedCategoryForDetails.set(null))}),p(1,"div",80),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown",function(r){return S(t),E(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),D("click",function(){S(t);let r=b();return E(r.selectedCategoryForDetails.set(null))}),h(7," \u2715 "),f()(),p(8,"div",84)(9,"p",91),h(10,"Nome"),f(),p(11,"p"),h(12),f(),p(13,"p",92),h(14,"Total de Subcategorias"),f(),p(15,"p"),h(16),f()(),p(17,"div",93)(18,"button",88),D("click",function(){S(t);let r=b();return E(r.selectedCategoryForDetails.set(null))}),h(19),g(20,"i18n"),f()()()()}if(n&2){let t,i,r=b();u(4),R(v(5,4,"categoryDetails")),u(8),R((t=r.selectedCategoryForDetails())==null?null:t.name),u(4),C(" ",r.subcategoryCounts().get(((i=r.selectedCategoryForDetails())==null?null:i.id)||0)||0," "),u(3),C(" ",v(20,6,"close")," ")}}function nle(n,e){if(n&1){let t=H();p(0,"li",108)(1,"span"),h(2),f(),p(3,"div",109)(4,"button",110),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.startEditSubcategory(r))}),h(5),g(6,"i18n"),f(),p(7,"button",111),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.requestDeleteSubcategory(r))}),h(8),g(9,"i18n"),f()()()}if(n&2){let t=e.$implicit;u(2),R(t.name),u(3),C(" ",v(6,3,"edit")," "),u(3),C(" ",v(9,5,"delete")," ")}}function ile(n,e){if(n&1){let t=H();p(0,"div",79),D("click",function(){S(t);let r=b();return E(r.selectedCategoryForSubcategories.set(null))})("keydown.escape",function(){S(t);let r=b();return E(r.selectedCategoryForSubcategories.set(null))}),p(1,"div",94),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown",function(r){return S(t),E(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),D("click",function(){S(t);let r=b();return E(r.selectedCategoryForSubcategories.set(null))}),h(7," \u2715 "),f()(),p(8,"div",84)(9,"input",95),D("input",function(r){S(t);let o=b();return E(o.newSubcategoryName.set(r.target.value))})("keydown.enter",function(){S(t);let r=b();return E(r.addSubcategoryToCategory())}),f(),p(10,"div",96)(11,"select",97),D("change",function(r){S(t);let o=b();return E(o.onNewSubcategoryTypeChange(r.target.value))}),p(12,"option",98),h(13),g(14,"i18n"),f(),p(15,"option",99),h(16),g(17,"i18n"),f(),p(18,"option",100),h(19),g(20,"i18n"),f()(),p(21,"input",101),D("input",function(r){S(t);let o=b();return E(o.newSubcategoryAverageTime.set(r.target.valueAsNumber||null))}),f(),p(22,"input",102),D("input",function(r){S(t);let o=b();return E(o.newSubcategoryPrice.set(r.target.valueAsNumber||null))}),f(),p(23,"textarea",103),D("input",function(r){S(t);let o=b();return E(o.newSubcategoryDescription.set(r.target.value))}),f()(),p(24,"div",104)(25,"button",105),D("click",function(){S(t);let r=b();return E(r.addSubcategoryToCategory())}),h(26),g(27,"i18n"),f(),p(28,"button",88),D("click",function(){S(t);let r=b();return E(r.selectedCategoryForSubcategories.set(null))}),h(29),g(30,"i18n"),f()()(),p(31,"ul",106),he(32,nle,10,7,"li",107),f()()()}if(n&2){let t,i=b();u(4),C(" ",Ke(5,19,"subcategoriesOf",Jn(32,Fae,((t=i.selectedCategoryForSubcategories())==null?null:t.name)||""))," "),u(5),A("value",i.newSubcategoryName()),u(2),A("value",i.newSubcategoryType()),u(2),R(v(14,22,"selectOption")),u(3),R(v(17,24,"priced")),u(3),R(v(20,26,"quoted")),u(2),yt("opacity-50",i.newSubcategoryType()==="or\xE7ado"),A("value",i.newSubcategoryAverageTime())("disabled",i.newSubcategoryType()==="or\xE7ado"),u(),yt("opacity-50",i.newSubcategoryType()==="or\xE7ado"),A("value",i.newSubcategoryPrice())("disabled",i.newSubcategoryType()==="or\xE7ado"),u(),A("value",i.newSubcategoryDescription()),u(3),C(" ",v(27,28,"addSubcategory")," "),u(3),C(" ",v(30,30,"cancel")," "),u(3),A("ngForOf",i.subcategoriesForSelectedCategory())("ngForTrackBy",i.trackBySubId)}}function rle(n,e){if(n&1){let t=H();p(0,"div",79),D("click",function(){S(t);let r=b();return E(r.editingSubcategory.set(null))})("keydown.escape",function(){S(t);let r=b();return E(r.editingSubcategory.set(null))}),p(1,"div",80),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown",function(r){return S(t),E(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4),g(5,"i18n"),f(),p(6,"button",83),D("click",function(){S(t);let r=b();return E(r.editingSubcategory.set(null))}),h(7," \u2715 "),f()(),p(8,"div",112)(9,"input",113),D("input",function(r){S(t);let o=b();return E(o.editingSubcategoryName.set(r.target.value))}),f(),p(10,"select",97),D("change",function(r){S(t);let o=b();return E(o.onEditingSubcategoryTypeChange(r.target.value))}),p(11,"option",98),h(12),g(13,"i18n"),f(),p(14,"option",99),h(15),g(16,"i18n"),f(),p(17,"option",100),h(18),g(19,"i18n"),f()(),p(20,"input",101),D("input",function(r){S(t);let o=b();return E(o.editingSubcategoryAverageTime.set(r.target.valueAsNumber||null))}),f(),p(21,"input",102),D("input",function(r){S(t);let o=b();return E(o.editingSubcategoryPrice.set(r.target.valueAsNumber||null))}),f(),p(22,"textarea",103),D("input",function(r){S(t);let o=b();return E(o.editingSubcategoryDescription.set(r.target.value))}),f()(),p(23,"div",86)(24,"button",90),D("click",function(){S(t);let r=b();return E(r.saveSubcategoryEdit())}),h(25),g(26,"i18n"),f(),p(27,"button",88),D("click",function(){S(t);let r=b();return E(r.editingSubcategory.set(null))}),h(28),g(29,"i18n"),f()()()()}if(n&2){let t=b();u(4),R(v(5,17,"editSubcategory")),u(5),A("value",t.editingSubcategoryName()),u(),A("value",t.editingSubcategoryType()),u(2),R(v(13,19,"selectOption")),u(3),R(v(16,21,"priced")),u(3),R(v(19,23,"quoted")),u(2),yt("opacity-50",t.editingSubcategoryType()==="or\xE7ado"),A("value",t.editingSubcategoryAverageTime())("disabled",t.editingSubcategoryType()==="or\xE7ado"),u(),yt("opacity-50",t.editingSubcategoryType()==="or\xE7ado"),A("value",t.editingSubcategoryPrice())("disabled",t.editingSubcategoryType()==="or\xE7ado"),u(),A("value",t.editingSubcategoryDescription()),u(3),C(" ",v(26,25,"save")," "),u(3),C(" ",v(29,27,"cancel")," ")}}function ole(n,e){if(n&1){let t=H();p(0,"div",79),D("click",function(){S(t);let r=b();return E(r.cancelDeleteSubcategory())})("keydown.escape",function(){S(t);let r=b();return E(r.cancelDeleteSubcategory())}),p(1,"div",80),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown",function(r){return S(t),E(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4,"Excluir Subcategoria"),f(),p(5,"button",83),D("click",function(){S(t);let r=b();return E(r.cancelDeleteSubcategory())}),h(6," \u2715 "),f()(),p(7,"p"),h(8),f(),p(9,"div",114)(10,"button",115),D("click",function(){S(t);let r=b();return E(r.confirmDeleteSubcategory())}),h(11," Excluir "),f(),p(12,"button",88),D("click",function(){S(t);let r=b();return E(r.cancelDeleteSubcategory())}),h(13," Cancelar "),f()()()()}if(n&2){let t,i=b();u(8),C("Confirma exclus\xE3o de: ",(t=i.subcategoryToDelete())==null?null:t.name)}}function sle(n,e){if(n&1){let t=H();p(0,"div",79),D("click",function(){S(t);let r=b();return E(r.cancelDeleteCategory())})("keydown.escape",function(){S(t);let r=b();return E(r.cancelDeleteCategory())}),p(1,"div",80),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown",function(r){return S(t),E(r.stopPropagation())}),p(2,"div",81)(3,"h2",82),h(4,"Excluir Categoria"),f(),p(5,"button",83),D("click",function(){S(t);let r=b();return E(r.cancelDeleteCategory())}),h(6," \u2715 "),f()(),p(7,"p"),h(8),f(),p(9,"div",114)(10,"button",115),D("click",function(){S(t);let r=b();return E(r.confirmDeleteCategory())}),h(11," Excluir "),f(),p(12,"button",88),D("click",function(){S(t);let r=b();return E(r.cancelDeleteCategory())}),h(13," Cancelar "),f()()()()}if(n&2){let t,i=b();u(8),C("Confirma exclus\xE3o de: ",(t=i.categoryToDelete())==null?null:t.name)}}function ale(n,e){if(n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"span",127),h(5),g(6,"i18n"),g(7,"i18n"),f()()),n&2){let t,i,r,o,s,a=b(2);u(2),C(" ",v(3,10,"type")," "),u(2),yt("bg-blue-100",((t=a.selectedSubcategoryForDetails())==null?null:t.type)==="precificado")("text-blue-800",((i=a.selectedSubcategoryForDetails())==null?null:i.type)==="precificado")("bg-orange-100",((r=a.selectedSubcategoryForDetails())==null?null:r.type)==="or\xE7ado")("text-orange-800",((o=a.selectedSubcategoryForDetails())==null?null:o.type)==="or\xE7ado"),u(),C(" ",((s=a.selectedSubcategoryForDetails())==null?null:s.type)==="precificado"?v(6,12,"priced"):v(7,14,"quoted")," ")}}function lle(n,e){if(n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"p",122),k(5,"i",128),h(6),g(7,"i18n"),f()()),n&2){let t,i=b(2);u(2),C(" ",v(3,3,"averageTime")," "),u(4),je(" ",(t=i.selectedSubcategoryForDetails())==null?null:t.average_time_minutes," ",v(7,5,"minutes")," ")}}function cle(n,e){if(n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"p",122),k(5,"i",129),h(6),g(7,"number"),f()()),n&2){let t,i=b(2);u(2),C(" ",v(3,2,"price")," "),u(4),C(" ",Ke(7,4,(t=i.selectedSubcategoryForDetails())==null?null:t.price,"1.2-2")," ")}}function ule(n,e){if(n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"p",130),h(5),f()()),n&2){let t,i=b(2);u(2),C(" ",v(3,2,"description")," "),u(3),C(" ",(t=i.selectedSubcategoryForDetails())==null?null:t.description," ")}}function dle(n,e){n&1&&(p(0,"div")(1,"p",121),h(2),g(3,"i18n"),f(),p(4,"p",131),h(5),g(6,"i18n"),f()()),n&2&&(u(2),C(" ",v(3,2,"description")," "),u(3),R(v(6,4,"noDescription")))}function ple(n,e){if(n&1){let t=H();p(0,"div",79),D("click",function(){S(t);let r=b();return E(r.closeSubcategoryDetails())})("keydown.escape",function(){S(t);let r=b();return E(r.closeSubcategoryDetails())}),p(1,"div",94),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown",function(r){return S(t),E(r.stopPropagation())}),p(2,"div",116)(3,"h2",117),h(4),g(5,"i18n"),f(),p(6,"button",118),D("click",function(){S(t);let r=b();return E(r.closeSubcategoryDetails())}),k(7,"i",119),f()(),p(8,"div",120)(9,"div")(10,"p",121),h(11),g(12,"i18n"),f(),p(13,"p",122),h(14),f()(),p(15,"div")(16,"p",121),h(17),g(18,"i18n"),f(),p(19,"p",122),h(20),f()(),he(21,ale,8,16,"div",123)(22,lle,8,7,"div",123)(23,cle,8,7,"div",123)(24,ule,6,4,"div",123)(25,dle,7,6,"div",123),f(),p(26,"div",124)(27,"button",125),D("click",function(){S(t);let r=b();return E(r.startEditSubcategory(r.selectedSubcategoryForDetails()))}),k(28,"i",24),h(29),g(30,"i18n"),f(),p(31,"button",126),D("click",function(){S(t);let r=b();return E(r.closeSubcategoryDetails())}),h(32),g(33,"i18n"),f()()()()}if(n&2){let t,i,r,o,s,a,l,c=b();u(4),R(v(5,12,"subcategoryDetails")),u(7),C(" ",v(12,14,"name")," "),u(3),R((t=c.selectedSubcategoryForDetails())==null?null:t.name),u(3),C(" ",v(18,16,"category")," "),u(3),C(" ",c.getCategoryName(((i=c.selectedSubcategoryForDetails())==null?null:i.category_id)||0)," "),u(),A("ngIf",(r=c.selectedSubcategoryForDetails())==null?null:r.type),u(),A("ngIf",(o=c.selectedSubcategoryForDetails())==null?null:o.average_time_minutes),u(),A("ngIf",(s=c.selectedSubcategoryForDetails())==null?null:s.price),u(),A("ngIf",(a=c.selectedSubcategoryForDetails())==null?null:a.description),u(),A("ngIf",!((l=c.selectedSubcategoryForDetails())!=null&&l.description)),u(4),C(" ",v(30,18,"edit")," "),u(3),C(" ",v(33,20,"close")," ")}}var Wf=class Wf{constructor(){this.newCategory=B("");this.dataService=L(At);this.selectedCategoryForSubcategories=B(null);this.subcategoriesForSelectedCategory=K(()=>{let e=this.selectedCategoryForSubcategories();return e?this.allSubcategories().filter(t=>t.category_id===e.id):[]});this.editingCategory=B(null);this.editingCategoryName=B("");this.showAddCategoryModal=B(!1);this.allCategories=K(()=>this.dataService.categories());this.showDeleteModal=B(!1);this.categoryToDelete=B(null);this.expandedCategories=B(new Set);this.selectedCategoryForDetails=B(null);this.selectedCategoryForSubcategory=B("");this.newSubcategoryName=B("");this.newSubcategoryType=B("");this.newSubcategoryAverageTime=B(null);this.newSubcategoryPrice=B(null);this.newSubcategoryDescription=B(null);this.allSubcategories=K(()=>this.dataService.subcategories());this.subcategoryCounts=K(()=>{let e=new Map;for(let t of this.allSubcategories())e.set(t.category_id,(e.get(t.category_id)||0)+1);return e});this.editingSubcategory=B(null);this.editingSubcategoryName=B("");this.editingSubcategoryType=B("");this.editingSubcategoryAverageTime=B(null);this.editingSubcategoryPrice=B(null);this.editingSubcategoryDescription=B(null);this.selectedSubcategoryForDetails=B(null);this.showDeleteSubcategoryModal=B(!1);this.subcategoryToDelete=B(null)}manageSubcategories(e){this.selectedCategoryForSubcategories.set(e),this.newSubcategoryName.set(""),this.editingSubcategory.set(null),this.showDeleteSubcategoryModal.set(!1),this.subcategoryToDelete.set(null)}async addSubcategoryToCategory(){let e=this.selectedCategoryForSubcategories(),t=this.newSubcategoryName().trim();if(!e||!t||this.subcategoriesForSelectedCategory().some(o=>o.name===t))return;let i=this.newSubcategoryType()||void 0,r={type:i,description:this.newSubcategoryDescription()};i!=="or\xE7ado"&&(r.average_time_minutes=this.newSubcategoryAverageTime(),r.price=this.newSubcategoryPrice()),await this.dataService.addSubcategory(t,e.id,r),this.newSubcategoryName.set(""),this.newSubcategoryType.set(""),this.newSubcategoryAverageTime.set(null),this.newSubcategoryPrice.set(null),this.newSubcategoryDescription.set(null)}categoryExists(e){let t=e.trim();return t?this.allCategories().some(i=>i.name===t):!1}addCategory(){let e=this.newCategory().trim();e&&!this.allCategories().some(t=>t.name===e)&&(this.dataService.addCategory(e),this.newCategory.set(""),this.showAddCategoryModal.set(!1))}startEditCategory(e){this.editingCategory.set(e),this.editingCategoryName.set(e.name)}saveCategoryEdit(){let e=this.editingCategory(),t=this.editingCategoryName().trim();if(!e||!t||t===e.name){this.editingCategory.set(null);return}this.allCategories().some(i=>i.name===t)||(this.dataService.updateCategory(e.id,t),this.editingCategory.set(null),this.editingCategoryName.set(""))}requestDeleteCategory(e){this.categoryToDelete.set(e),this.showDeleteModal.set(!0)}confirmDeleteCategory(){let e=this.categoryToDelete();e&&this.dataService.deleteCategory(e.id),this.showDeleteModal.set(!1),this.categoryToDelete.set(null)}cancelDeleteCategory(){this.showDeleteModal.set(!1),this.categoryToDelete.set(null)}trackById(e,t){return t.id}toggleExpand(e){let t=new Set(this.expandedCategories());t.has(e)?t.delete(e):t.add(e),this.expandedCategories.set(t)}isExpanded(e){return this.expandedCategories().has(e)}subcategoriesOf(e){return this.allSubcategories().filter(t=>t.category_id===e)}showDetails(e){this.selectedCategoryForDetails.set(e)}subcategoryExists(e,t,i){let r=e.trim();return!r||!t?!1:this.allSubcategories().some(o=>o.id!==i&&o.name===r&&o.category_id===Number(t))}async addSubcategory(){let e=this.newSubcategoryName().trim(),t=Number(this.selectedCategoryForSubcategory());if(!e||!t||this.subcategoryExists(e,t))return;let i=this.newSubcategoryType()||void 0,r={type:i,description:this.newSubcategoryDescription()};i!=="or\xE7ado"&&(r.average_time_minutes=this.newSubcategoryAverageTime(),r.price=this.newSubcategoryPrice()),await this.dataService.addSubcategory(e,t,r),this.newSubcategoryName.set("")}startEditSubcategory(e){this.editingSubcategory.set(e),this.editingSubcategoryName.set(e.name);let t=e;this.editingSubcategoryType.set(t.type||""),this.editingSubcategoryAverageTime.set(t.average_time_minutes??null),this.editingSubcategoryPrice.set(t.price??null),this.editingSubcategoryDescription.set(t.description??null)}async saveSubcategoryEdit(){let e=this.editingSubcategory(),t=this.editingSubcategoryName().trim();if(!e||!t){this.editingSubcategory.set(null);return}if(t!==e.name&&this.subcategoryExists(t,e.category_id,e.id))return;let i=this.editingSubcategoryType()||null,r={name:t,type:i,description:this.editingSubcategoryDescription()??null};i!=="or\xE7ado"?(r.average_time_minutes=this.editingSubcategoryAverageTime()??null,r.price=this.editingSubcategoryPrice()??null):(r.average_time_minutes=null,r.price=null),await this.dataService.updateSubcategory(e.id,r),this.editingSubcategory.set(null),this.editingSubcategoryName.set("")}onNewSubcategoryTypeChange(e){let t=e||"";this.newSubcategoryType.set(t),t==="or\xE7ado"&&(this.newSubcategoryAverageTime.set(null),this.newSubcategoryPrice.set(null))}onEditingSubcategoryTypeChange(e){let t=e||"";this.editingSubcategoryType.set(t),t==="or\xE7ado"&&(this.editingSubcategoryAverageTime.set(null),this.editingSubcategoryPrice.set(null))}showSubcategoryDetails(e){this.selectedSubcategoryForDetails.set(e)}closeSubcategoryDetails(){this.selectedSubcategoryForDetails.set(null)}getCategoryName(e){return this.allCategories().find(i=>i.id===e)?.name||"N/A"}requestDeleteSubcategory(e){this.subcategoryToDelete.set(e),this.showDeleteSubcategoryModal.set(!0)}async confirmDeleteSubcategory(){let e=this.subcategoryToDelete();e&&await this.dataService.deleteSubcategory(e.id),this.showDeleteSubcategoryModal.set(!1),this.subcategoryToDelete.set(null)}cancelDeleteSubcategory(){this.showDeleteSubcategoryModal.set(!1),this.subcategoryToDelete.set(null)}trackBySubId(e,t){return t.id}closeAddCategoryModal(){this.showAddCategoryModal.set(!1),this.newCategory.set("")}};Wf.\u0275fac=function(t){return new(t||Wf)},Wf.\u0275cmp=ce({type:Wf,selectors:[["app-category-management"]],decls:35,vars:25,consts:[[1,"bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-4","border-b","flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-4"],[1,"text-xl","font-semibold"],[1,"w-full","sm:w-auto","px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","flex","items-center","justify-center","gap-2",3,"click"],[1,"fas","fa-plus"],[1,"hidden","lg:block"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"lg:hidden","p-4","space-y-4"],[1,"border","border-gray-200","rounded-lg","overflow-hidden"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",3,"click","keydown.escape",4,"ngIf"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"flex","items-center","gap-3"],["type","button",1,"p-2","text-gray-500","hover:text-gray-700","hover:bg-gray-100","rounded-full","transition-colors",3,"click"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","items-center","gap-2"],["type","button",1,"p-2","text-gray-600","hover:text-gray-800","hover:bg-gray-50","rounded-full","transition-colors",3,"click","title"],[1,"fas","fa-eye"],["type","button",1,"p-2","text-blue-600","hover:text-blue-800","hover:bg-blue-50","rounded-full","transition-colors",3,"click","title"],[1,"fas","fa-edit"],["type","button",1,"p-2","text-red-600","hover:text-red-800","hover:bg-red-50","rounded-full","transition-colors",3,"click","title"],[1,"fas","fa-times"],["type","button",1,"p-2","text-green-600","hover:text-green-800","hover:bg-green-50","rounded-full","transition-colors",3,"click","title"],["class","bg-gray-50",4,"ngIf"],["colspan","3",1,"px-6","py-4"],[1,"pl-12"],[1,"text-sm","font-semibold","text-gray-700","mb-3"],[1,"space-y-2"],[1,"text-center","py-6"],[1,"flex","items-center","justify-between","p-3","bg-white","rounded-md","border","border-gray-200","hover:border-gray-300"],[1,"flex-1"],[1,"fas","fa-tag","text-gray-400","text-xs"],[1,"text-sm","font-medium","text-gray-900"],[1,"inline-flex","px-2","py-0.5","text-xs","font-medium","rounded-full",3,"bg-blue-100","text-blue-800","bg-orange-100","text-orange-800"],[1,"flex","items-center","gap-4","mt-1","ml-5","text-xs","text-gray-500"],[1,"flex","gap-1","ml-4"],[1,"fas","fa-eye","text-xs"],[1,"fas","fa-edit","text-xs"],[1,"fas","fa-times","text-xs"],[1,"inline-flex","px-2","py-0.5","text-xs","font-medium","rounded-full"],[1,"fas","fa-clock","mr-1"],[1,"fas","fa-euro-sign","mr-1"],[1,"fas","fa-inbox","text-3xl","text-gray-300","mb-2"],[1,"text-sm","text-gray-500"],[1,"p-4","bg-white"],[1,"flex","justify-between","items-start","mb-3"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-xs","text-gray-500","mt-1"],["type","button",1,"p-2","text-gray-500","hover:text-gray-700","rounded-full",3,"click"],[1,"flex","flex-wrap","gap-2"],["type","button",1,"flex-1","min-w-[80px]","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-50","hover:bg-gray-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-eye","mr-2"],["type","button",1,"flex-1","min-w-[80px]","px-3","py-2","text-sm","font-medium","text-blue-600","bg-blue-50","hover:bg-blue-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-edit","mr-2"],["type","button",1,"flex-1","min-w-[80px]","px-3","py-2","text-sm","font-medium","text-green-600","bg-green-50","hover:bg-green-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-plus","mr-2"],["type","button",1,"px-3","py-2","text-sm","font-medium","text-red-600","bg-red-50","hover:bg-red-100","rounded-md","transition-colors",3,"click"],[1,"fas","fa-trash"],[1,"border-t","border-gray-200","bg-gray-50","p-4"],[1,"text-xs","font-semibold","text-gray-700","mb-3"],[1,"text-center","py-4"],[1,"p-3","bg-white","rounded-md","border","border-gray-200"],[1,"flex","justify-between","items-start","mb-2"],[1,"flex","items-center","gap-2","mb-1"],[1,"flex","items-center","gap-3","mt-1","text-xs","text-gray-500"],[1,"flex","gap-2","pt-2","border-t","border-gray-100"],["type","button",1,"flex-1","px-3","py-1.5","text-xs","font-medium","text-gray-600","bg-gray-50","hover:bg-gray-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-eye","mr-1"],["type","button",1,"flex-1","px-3","py-1.5","text-xs","font-medium","text-blue-600","bg-blue-50","hover:bg-blue-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-edit","mr-1"],["type","button",1,"flex-1","px-3","py-1.5","text-xs","font-medium","text-red-600","bg-red-50","hover:bg-red-100","rounded-md","transition-colors","flex","items-center","justify-center",3,"click"],[1,"fas","fa-times","mr-1"],[1,"fas","fa-inbox","text-2xl","text-gray-300","mb-2"],[1,"text-xs","text-gray-500"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click","keydown.escape"],[1,"bg-white","rounded-lg","shadow-xl","max-w-md","w-full","mx-4","p-6",3,"click","keydown"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-xl","font-bold"],["type","button",1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"mb-4"],["type","text","placeholder","Nome da categoria",1,"w-full","p-2","border","rounded-md",3,"input","keydown.enter","value"],[1,"flex","justify-end","gap-2"],["type","button",1,"px-4","py-2","bg-indigo-600","text-white","rounded-md",3,"click"],["type","button",1,"px-4","py-2","bg-gray-300","rounded-md",3,"click"],["type","text",1,"w-full","p-2","border","rounded-md",3,"input","keydown.enter","value"],["type","button",1,"px-4","py-2","bg-blue-600","text-white","rounded-md",3,"click"],[1,"font-semibold"],[1,"mt-2","font-semibold"],[1,"flex","justify-end"],[1,"bg-white","rounded-lg","shadow-xl","max-w-lg","w-full","mx-4","p-6",3,"click","keydown"],["type","text","placeholder","Nome da subcategoria",1,"w-full","p-2","border","rounded-md",3,"input","keydown.enter","value"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2","mt-2"],[1,"p-2","border","rounded-md",3,"change","value"],["value",""],["value","precificado"],["value","or\xE7ado"],["type","number","placeholder","Tempo m\xE9dio (min)","min","0",1,"p-2","border","rounded-md",3,"input","value","disabled"],["type","number","placeholder","Pre\xE7o (\u20AC)","step","0.01","min","0",1,"p-2","border","rounded-md",3,"input","value","disabled"],["placeholder","Descri\xE7\xE3o (opcional)",1,"p-2","border","rounded-md","w-full",3,"input","value"],[1,"flex","justify-end","gap-2","mt-2"],["type","button",1,"px-4","py-2","bg-green-600","text-white","rounded-md",3,"click"],[1,"list-disc","pl-6"],["class","flex items-center justify-between mb-2",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","gap-2"],["type","button",1,"px-2","py-1","bg-blue-500","text-white","rounded","text-xs",3,"click"],["type","button",1,"px-2","py-1","bg-red-500","text-white","rounded","text-xs",3,"click"],[1,"mb-4","grid","grid-cols-1","gap-2"],["type","text",1,"w-full","p-2","border","rounded-md",3,"input","value"],[1,"flex","justify-end","gap-2","mt-4"],["type","button",1,"px-4","py-2","bg-red-600","text-white","rounded-md",3,"click"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-bold","text-gray-900"],["type","button",1,"text-gray-400","hover:text-gray-600","transition-colors",3,"click"],[1,"fas","fa-times","text-xl"],[1,"space-y-4"],[1,"block","text-sm","font-semibold","text-gray-700","mb-1"],[1,"text-base","text-gray-900"],[4,"ngIf"],[1,"flex","justify-end","gap-2","mt-6","pt-4","border-t","border-gray-200"],["type","button",1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","transition-colors","flex","items-center","gap-2",3,"click"],["type","button",1,"px-4","py-2","bg-gray-300","text-gray-700","rounded-md","hover:bg-gray-400","transition-colors",3,"click"],[1,"inline-flex","px-3","py-1","text-sm","font-medium","rounded-full"],[1,"fas","fa-clock","mr-2","text-gray-500"],[1,"fas","fa-euro-sign","mr-2","text-gray-500"],[1,"text-base","text-gray-900","bg-gray-50","p-3","rounded-md"],[1,"text-sm","text-gray-500","italic"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"h3",2),h(3),g(4,"i18n"),f(),p(5,"button",3),D("click",function(){return i.showAddCategoryModal.set(!0)}),k(6,"i",4),h(7),g(8,"i18n"),f()(),p(9,"div",5)(10,"table",6)(11,"thead",7)(12,"tr")(13,"th",8),h(14),g(15,"i18n"),f(),p(16,"th",8),h(17),g(18,"i18n"),f(),p(19,"th",8),h(20),g(21,"i18n"),f()()(),p(22,"tbody",9),he(23,Hae,27,27,"ng-container",10),f()()(),p(24,"div",11),oe(25,Jae,27,17,"div",12,HM),f()(),he(27,Kae,17,10,"div",13)(28,ele,17,10,"div",13)(29,tle,21,8,"div",13)(30,ile,33,34,"div",13)(31,rle,30,29,"div",13)(32,ole,14,1,"div",13)(33,sle,14,1,"div",13)(34,ple,34,22,"div",13)),t&2&&(u(3),R(v(4,15,"serviceCategories")),u(4),C(" ",v(8,17,"addNewCategory")," "),u(7),C(" ",v(15,19,"category")," "),u(3),C(" ",v(18,21,"subcategories")," "),u(3),C(" ",v(21,23,"actions")," "),u(3),A("ngForOf",i.allCategories())("ngForTrackBy",i.trackById),u(2),se(i.allCategories()),u(2),A("ngIf",i.showAddCategoryModal()),u(),A("ngIf",i.editingCategory()),u(),A("ngIf",i.selectedCategoryForDetails()),u(),A("ngIf",i.selectedCategoryForSubcategories()),u(),A("ngIf",i.editingSubcategory()),u(),A("ngIf",i.showDeleteSubcategoryModal()&&i.subcategoryToDelete()),u(),A("ngIf",i.showDeleteModal()&&i.categoryToDelete()),u(),A("ngIf",i.selectedSubcategoryForDetails()))},dependencies:[pe,Kn,Ln,ft,ii,ri,Qi,Se],styles:[".category-list[_ngcontent-%COMP%]{list-style:none;padding:0}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75rem 0;border-bottom:1px solid #e5e7eb}"],changeDetection:0});var zx=Wf;var fle=["actionsMenu"],hle=(n,e)=>e.label,mle=(n,e)=>e.message,gle=(n,e)=>e.status,vle=(n,e)=>e.value,wo=(n,e)=>e.id,yle=(n,e)=>e.type;function _le(n,e){if(n&1&&(p(0,"div",42)(1,"span",54),h(2),f()()),n&2){let t=b().$implicit;u(2),C(" ",t.badge," ")}}function ble(n,e){if(n&1){let t=H();p(0,"div",41),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.handleCardClick(r.label))})("keydown.enter",function(){let r=S(t).$implicit,o=b(2);return E(o.handleCardClick(r.label))})("keydown.space",function(){let r=S(t).$implicit,o=b(2);return E(o.handleCardClick(r.label))}),j(1,_le,3,1,"div",42),p(2,"div",43)(3,"div",44),k(4,"i",45),f(),p(5,"div",46)(6,"h3",47),h(7),f(),p(8,"p",48),h(9),f()()(),p(10,"div",49)(11,"div",50),k(12,"i",51),p(13,"span",52),h(14),f()(),p(15,"span",53),h(16),f()()()}if(n&2){let t=e.$implicit,i=b(2);yt("cursor-pointer",i.isCardClickable(t.label)),A("title",i.getCardTooltip(t.label)),et("role",i.isCardClickable(t.label)?"button":null)("tabindex",i.isCardClickable(t.label)?0:null),u(),q(t.badge?1:-1),u(2),me(t.bgColor),u(),me(t.icon),u(3),C(" ",t.label," "),u(2),C(" ",t.value," "),u(3),me(t.trendColor),yt("fa-arrow-down",t.trend.includes("-"))("fa-arrow-up",t.trend.includes("+")),u(),me(t.trendColor),u(),C(" ",t.trend," "),u(2),C(" ",i.i18n.translate("vsLastMonth")," ")}}function Cle(n,e){if(n&1&&(p(0,"div",55)(1,"div",56),k(2,"i",57),f(),p(3,"div",58)(4,"p",59),h(5),f(),p(6,"p",60),h(7),f()()()),n&2){let t=e.$implicit;u(2),me(t.icon+" "+t.color),u(3),R(t.message),u(2),R(t.time)}}function xle(n,e){if(n&1&&(p(0,"div",39),oe(1,Cle,8,4,"div",55,mle),f()),n&2){let t=b(2);u(),se(t.recentActivities())}}function wle(n,e){n&1&&(p(0,"div",40),k(1,"i",61),p(2,"p",62),h(3),g(4,"i18n"),f()()),n&2&&(u(3),R(v(4,1,"noRecentActivities")))}function Sle(n,e){if(n&1){let t=H();p(0,"div",7)(1,"h2",8),h(2),g(3,"i18n"),f()(),p(4,"div",9),oe(5,ble,17,22,"div",10,hle),f(),p(7,"div",11)(8,"div",12)(9,"h3",13),k(10,"i",14),h(11),g(12,"i18n"),f(),p(13,"div",15)(14,"button",16),D("click",function(){S(t);let r=b();return E(r.createNewService())}),p(15,"div",17),k(16,"i",18),f(),p(17,"span",19),h(18),g(19,"i18n"),f()(),p(20,"button",20),D("click",function(){S(t);let r=b();return E(r.generateReport())}),p(21,"div",21),k(22,"i",22),f(),p(23,"span",23),h(24),g(25,"i18n"),f()(),p(26,"button",24),D("click",function(){S(t);let r=b();return E(r.viewAllRequests())}),p(27,"div",25),k(28,"i",26),f(),p(29,"span",27),h(30),g(31,"i18n"),f()(),p(32,"button",28),D("click",function(){S(t);let r=b();return E(r.manageUsers())}),p(33,"div",29),k(34,"i",30),f(),p(35,"span",31),h(36),g(37,"i18n"),f()()()()(),k(38,"div",32)(39,"app-status-pie-chart",33)(40,"div",32)(41,"app-category-bar-chart",33)(42,"div",32)(43,"app-temporal-evolution-chart",34)(44,"div",32),p(45,"div",12)(46,"div",7)(47,"h3",35),k(48,"i",36),h(49),g(50,"i18n"),f(),p(51,"div",37),k(52,"i",38),h(53),g(54,"i18n"),g(55,"date"),f()(),j(56,xle,3,0,"div",39)(57,wle,5,3,"div",40),f()}if(n&2){let t=b();u(2),R(v(3,18,"overview")),u(3),se(t.stats()),u(6),C(" ",v(12,20,"quickActions")," "),u(7),R(v(19,22,"newService")),u(6),R(v(25,24,"generateReport")),u(6),R(v(31,26,"viewAllRequests")),u(6),R(v(37,28,"manageUsers")),u(3),A("title",t.statusGraphTitle)("data",t.statusPieChartData())("labels",t.statusLabels),u(2),A("title",t.i18n.translate("categoryDistributionTitle"))("data",t.ordersByCategory())("labels",t.categoryLabels()),u(2),A("title",t.i18n.translate("temporalEvolutionTitle"))("data",t.temporalData()),u(6),C(" ",v(50,30,"recentActivities")," "),u(4),je(" ",v(54,32,"lastUpdate"),": ",Ke(55,34,t.lastUpdate(),"short")," "),u(3),q(t.recentActivities().length>0?56:57)}}function Ele(n,e){if(n&1){let t=H();p(0,"button",97),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.applyQuickFilter(r.status))}),h(1),g(2,"i18n"),f()}if(n&2){let t=e.$implicit,i=b(2);me("px-3 py-1 text-xs font-medium rounded-full "+(i.filterStatus()===t.status?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300")),u(),C(" ",v(2,3,t.label)," ")}}function Dle(n,e){if(n&1&&(p(0,"option",71),h(1),f()),n&2){let t=e.$implicit;A("value",t.value),u(),R(t.label)}}function Ale(n,e){if(n&1&&(p(0,"option",71),h(1),f()),n&2){let t=e.$implicit;A("value",t),u(),R(t)}}function Tle(n,e){if(n&1&&(p(0,"option",71),h(1),f()),n&2){let t=e.$implicit;A("value",t.id),u(),R(t.name)}}function Ile(n,e){if(n&1){let t=H();p(0,"span",99),h(1),g(2,"i18n"),p(3,"button",100),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.removeFilter(r.type))}),k(4,"i",101),f()()}if(n&2){let t=e.$implicit;u(),je(" ",v(2,2,t.label),": ",t.value," ")}}function Mle(n,e){if(n&1&&(p(0,"div",84)(1,"span",98),h(2),g(3,"i18n"),f(),oe(4,Ile,5,4,"span",99,yle),f()),n&2){let t=b(2);u(2),C("",v(3,1,"activeFilters"),":"),u(2),se(t.activeFilters())}}function kle(n,e){n&1&&k(0,"i",102)}function Rle(n,e){n&1&&k(0,"i",103)}function Nle(n,e){if(n&1&&j(0,kle,1,0,"i",102)(1,Rle,1,0,"i",103),n&2){let t=b(2);q(t.sortOrder()==="asc"?0:1)}}function Ple(n,e){n&1&&k(0,"i",91)}function Ole(n,e){n&1&&k(0,"i",102)}function Fle(n,e){n&1&&k(0,"i",103)}function Lle(n,e){if(n&1&&j(0,Ole,1,0,"i",102)(1,Fle,1,0,"i",103),n&2){let t=b(2);q(t.sortOrder()==="asc"?0:1)}}function Ble(n,e){n&1&&k(0,"i",91)}function Vle(n,e){n&1&&k(0,"i",102)}function jle(n,e){n&1&&k(0,"i",103)}function qle(n,e){if(n&1&&j(0,Vle,1,0,"i",102)(1,jle,1,0,"i",103),n&2){let t=b(2);q(t.sortOrder()==="asc"?0:1)}}function Ule(n,e){n&1&&k(0,"i",91)}function $le(n,e){n&1&&k(0,"i",102)}function Hle(n,e){n&1&&k(0,"i",103)}function zle(n,e){if(n&1&&j(0,$le,1,0,"i",102)(1,Hle,1,0,"i",103),n&2){let t=b(2);q(t.sortOrder()==="asc"?0:1)}}function Wle(n,e){n&1&&k(0,"i",91)}function Gle(n,e){if(n&1){let t=H();p(0,"button",115),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.analyzeRequest(r))}),k(1,"i",116),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"analyzeRequest")," "))}function Qle(n,e){if(n&1){let t=H();p(0,"button",117),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.selectRequestForQuote(r))}),k(1,"i",118),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"sendQuote")," "))}function Yle(n,e){if(n&1){let t=H();p(0,"button",117),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.selectRequestForAssignment(r))}),k(1,"i",119),h(2),g(3,"i18n"),g(4,"i18n"),f()}if(n&2){let t=b().$implicit;u(2),C(" ",t.status==="Agendado"&&!t.professional_id?v(3,1,"assignProfessionalToScheduled"):v(4,3,"assign")," ")}}function Zle(n,e){if(n&1){let t=H();p(0,"button",120),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.selectRequestForQuote(r))}),k(1,"i",118),h(2),g(3,"i18n"),g(4,"i18n"),f()}if(n&2){let t=b().$implicit;u(2),C(" ",t.status==="Quoted"?v(3,1,"viewQuote"):v(4,3,"provideQuote")," ")}}function Xle(n,e){if(n&1){let t=H();p(0,"a",122),D("click",function(){S(t);let r=b(2).$implicit;return b(2).requestClarificationFromClient(r),E(!1)}),k(1,"i",126),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"requestClarification")," "))}function Jle(n,e){if(n&1){let t=H();p(0,"div",114)(1,"div",121)(2,"a",122),D("click",function(){S(t);let r=b().$implicit;return b(2).viewRequestDetails(r),E(!1)}),k(3,"i",123),h(4),g(5,"i18n"),f(),p(6,"a",122),D("click",function(){S(t);let r=b().$implicit;return b(2).openChat(r),E(!1)}),k(7,"i",124),h(8),g(9,"i18n"),f(),j(10,Xle,4,3,"a",125),f()()}if(n&2){let t=b().$implicit;u(4),C(" ",v(5,3,"viewDetails")," "),u(4),C(" ",v(9,5,"chat")," "),u(2),q(t.status==="Solicitado"||t.status==="Em an\xE1lise"||t.status==="Or\xE7amento aprovado"?10:-1)}}function Kle(n,e){if(n&1){let t=H();p(0,"tr")(1,"td",104),h(2),f(),p(3,"td",105),h(4),f(),p(5,"td",105),h(6),f(),p(7,"td",106)(8,"span"),h(9),f()(),p(10,"td",105),h(11),g(12,"number"),f(),p(13,"td",107)(14,"div",73),j(15,Gle,4,3,"button",108)(16,Qle,4,3,"button",109)(17,Yle,5,5,"button",109)(18,Zle,5,5,"button",110),p(19,"div",111,0)(21,"button",112),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.toggleActionsMenu(r.id))}),k(22,"i",113),f(),j(23,Jle,11,7,"div",114),f()()()()}if(n&2){let t=e.$implicit,i=b(2);u(2),C(" ",t.title," "),u(2),C(" ",i.getClientName(t.client_id)," "),u(2),C(" ",i.getProfessionalName(t.professional_id)," "),u(2),me(i.statusClass(t.status)),u(),R(t.status),u(2),C(" ",t.cost?"\u20AC"+Ke(12,9,t.cost,"1.2-2"):"N/A"," "),u(4),q(t.status==="Solicitado"?15:t.status==="Em an\xE1lise"?16:i.needsProfessionalAssignment(t)?17:t.status==="Pending"||t.status==="Quoted"?18:-1),u(8),q(i.isActionsMenuOpen(t.id)?23:-1)}}function ece(n,e){if(n&1){let t=H();p(0,"button",143),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.selectRequestForQuote(r))}),k(1,"i",144),h(2),g(3,"i18n"),g(4,"i18n"),f()}if(n&2){let t=b().$implicit;u(2),C(" ",t.status==="Quoted"?v(3,1,"viewQuote"):v(4,3,"provideQuote")," ")}}function tce(n,e){if(n&1){let t=H();p(0,"button",145),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.analyzeRequest(r))}),k(1,"i",146),h(2),g(3,"i18n"),f(),p(4,"button",147),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.requestClarificationFromClient(r))}),k(5,"i",148),h(6),g(7,"i18n"),f()}n&2&&(u(2),C(" ",v(3,2,"analyzeRequest")," "),u(4),C(" ",v(7,4,"requestClarification")," "))}function nce(n,e){if(n&1){let t=H();p(0,"button",149),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.selectRequestForQuote(r))}),k(1,"i",144),h(2),g(3,"i18n"),f(),p(4,"button",147),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.requestClarificationFromClient(r))}),k(5,"i",148),h(6),g(7,"i18n"),f()}n&2&&(u(2),C(" ",v(3,2,"sendQuote")," "),u(4),C(" ",v(7,4,"requestClarification")," "))}function ice(n,e){if(n&1){let t=H();p(0,"button",147),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(o.requestClarificationFromClient(r))}),k(1,"i",148),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"requestClarification")," "))}function rce(n,e){if(n&1){let t=H();p(0,"button",149),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.selectRequestForAssignment(r))}),k(1,"i",150),h(2),g(3,"i18n"),f(),j(4,ice,4,3,"button",151)}if(n&2){let t=b().$implicit;u(2),C(" ",t.status==="Agendado"&&!t.professional_id?"assignProfessionalToScheduled":v(3,2,"assign")," "),u(2),q(t.status==="Or\xE7amento aprovado"?4:-1)}}function oce(n,e){if(n&1){let t=H();p(0,"div",95)(1,"div",127)(2,"h4",128),h(3),f(),p(4,"span",129),h(5),f()(),p(6,"div",130)(7,"div",131)(8,"span",132),h(9),g(10,"i18n"),f(),p(11,"span",133),h(12),f()(),p(13,"div",131)(14,"span",132),h(15),g(16,"i18n"),f(),p(17,"span",133),h(18),f()(),p(19,"div",131)(20,"span",132),h(21),g(22,"i18n"),f(),p(23,"span",134),h(24),g(25,"number"),f()()(),p(26,"div",135)(27,"div",136),j(28,ece,5,5,"button",137),j(29,tce,8,6),j(30,nce,8,6),j(31,rce,5,4),p(32,"div",138)(33,"button",139),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.viewRequestDetails(r))}),k(34,"i",140),h(35),g(36,"i18n"),f(),p(37,"button",141),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.openChat(r))}),k(38,"i",142),h(39),g(40,"i18n"),f()()()()()}if(n&2){let t=e.$implicit,i=b(2);u(3),C(" ",t.title," "),u(),me(i.statusClass(t.status)),u(),C(" ",t.status," "),u(4),C("",v(10,16,"client"),":"),u(3),R(i.getClientName(t.client_id)),u(3),C("",v(16,18,"professional"),":"),u(3),R(i.getProfessionalName(t.professional_id)),u(3),C("",v(22,20,"cost"),":"),u(3),C(" ",t.cost?"\u20AC"+Ke(25,22,t.cost,"1.2-2"):"N/A"," "),u(4),q(t.status==="Pending"||t.status==="Quoted"?28:-1),u(),q(t.status==="Solicitado"?29:-1),u(),q(t.status==="Em an\xE1lise"?30:-1),u(),q(i.needsProfessionalAssignment(t)?31:-1),u(4),C(" ",v(36,25,"viewDetails")," "),u(4),C(" ",v(40,27,"chat")," ")}}function sce(n,e){n&1&&(p(0,"span",170),h(1," ... "),f())}function ace(n,e){if(n&1){let t=H();p(0,"button",97),D("click",function(){S(t);let r=b().$implicit,o=b(3);return E(o.goToPage(r))}),h(1),f()}if(n&2){let t=b().$implicit,i=b(3);me(t===i.currentPage()?"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-indigo-50 text-sm font-medium text-indigo-600":"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"),u(),C(" ",t," ")}}function lce(n,e){if(n&1&&j(0,sce,2,0,"span",170)(1,ace,2,3,"button",66),n&2){let t=e.$implicit;q(t===-1?0:1)}}function cce(n,e){if(n&1){let t=H();p(0,"div",96)(1,"div",152)(2,"span",153),h(3),g(4,"i18n"),f(),p(5,"select",154),D("change",function(r){S(t);let o=b(2);return E(o.setItemsPerPage(+r.target.value))}),p(6,"option",155),h(7,"5"),f(),p(8,"option",156),h(9,"10"),f(),p(10,"option",157),h(11,"25"),f(),p(12,"option",158),h(13,"50"),f()()(),p(14,"div",159)(15,"p",153),h(16),g(17,"i18n"),p(18,"span",160),h(19),f(),h(20),g(21,"i18n"),p(22,"span",160),h(23),f(),h(24),g(25,"i18n"),p(26,"span",160),h(27),f(),h(28),g(29,"i18n"),f()(),p(30,"div",161)(31,"nav",162)(32,"button",163),D("click",function(){S(t);let r=b(2);return E(r.previousPage())}),k(33,"i",164),p(34,"span",165),h(35,"Previous"),f()(),p(36,"div",166),oe(37,lce,2,1,null,null,ln),f(),p(39,"div",167),h(40),f(),p(41,"button",168),D("click",function(){S(t);let r=b(2);return E(r.nextPage())}),k(42,"i",169),p(43,"span",165),h(44,"Next"),f()()()()()}if(n&2){let t=b(2);u(3),C("",v(4,13,"itemsPerPage"),":"),u(2),A("value",t.itemsPerPage()),u(11),C(" ",v(17,15,"showing")," "),u(3),R((t.currentPage()-1)*t.itemsPerPage()+1),u(),C(" ",v(21,17,"to")," "),u(3),R(t.Math.min(t.currentPage()*t.itemsPerPage(),t.allRequests().length)),u(),C(" ",v(25,19,"of")," "),u(3),R(t.allRequests().length),u(),C(" ",v(29,21,"results")," "),u(4),A("disabled",t.currentPage()===1),u(5),se(t.pageNumbers),u(3),je(" ",t.currentPage()," / ",t.totalPages()," "),u(),A("disabled",t.currentPage()===t.totalPages())}}function uce(n,e){if(n&1){let t=H();p(0,"div",3)(1,"div",63)(2,"div",64)(3,"span",65),h(4),g(5,"i18n"),f(),oe(6,Ele,3,5,"button",66,gle),f(),p(8,"div",67)(9,"div")(10,"label",68),h(11),g(12,"i18n"),f(),p(13,"select",69),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterStatus.set(r))}),p(14,"option",70),h(15),g(16,"i18n"),f(),oe(17,Dle,2,2,"option",71,vle),f()(),p(19,"div")(20,"label",72),h(21),g(22,"i18n"),f(),p(23,"div",73)(24,"input",74),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterStartDate.set(r))}),f(),p(25,"span",62),h(26,"-"),f(),p(27,"input",75),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterEndDate.set(r))}),f()()(),p(28,"div")(29,"label",76),h(30),g(31,"i18n"),f(),p(32,"select",77),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterDistrict.set(r))}),p(33,"option",70),h(34),g(35,"i18n"),f(),oe(36,Ale,2,2,"option",71,ln),f(),p(38,"div")(39,"label",78),h(40),g(41,"i18n"),f(),p(42,"select",79),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterProfessional.set(r))}),h(43," > "),p(44,"option",70),h(45),g(46,"i18n"),f(),oe(47,Tle,2,2,"option",71,wo),f()(),p(49,"div",80)(50,"label",81),h(51),g(52,"i18n"),f(),p(53,"input",82),g(54,"i18n"),D("ngModelChange",function(r){S(t);let o=b();return E(o.searchTerm.set(r))}),f()(),p(55,"button",83),D("click",function(){S(t);let r=b();return E(r.clearFilters())}),h(56),g(57,"i18n"),f()(),j(58,Mle,6,3,"div",84),f(),p(59,"div",85)(60,"table",86)(61,"thead",87)(62,"tr")(63,"th",88)(64,"button",89),g(65,"i18n"),g(66,"i18n"),g(67,"i18n"),g(68,"i18n"),D("click",function(){S(t);let r=b();return E(r.sortByColumn("category"))}),p(69,"div",90)(70,"span"),h(71),g(72,"i18n"),f(),j(73,Nle,2,1)(74,Ple,1,0,"i",91),f()()(),p(75,"th",88)(76,"button",89),g(77,"i18n"),g(78,"i18n"),g(79,"i18n"),g(80,"i18n"),D("click",function(){S(t);let r=b();return E(r.sortByColumn("client"))}),p(81,"div",90)(82,"span"),h(83),g(84,"i18n"),f(),j(85,Lle,2,1)(86,Ble,1,0,"i",91),f()()(),p(87,"th",88)(88,"button",89),g(89,"i18n"),g(90,"i18n"),g(91,"i18n"),g(92,"i18n"),D("click",function(){S(t);let r=b();return E(r.sortByColumn("professional"))}),p(93,"div",90)(94,"span"),h(95),g(96,"i18n"),f(),j(97,qle,2,1)(98,Ule,1,0,"i",91),f()()(),p(99,"th",88)(100,"button",89),g(101,"i18n"),g(102,"i18n"),g(103,"i18n"),g(104,"i18n"),D("click",function(){S(t);let r=b();return E(r.sortByColumn("status"))}),p(105,"div",90)(106,"span"),h(107),g(108,"i18n"),f(),j(109,zle,2,1)(110,Wle,1,0,"i",91),f()()(),p(111,"th",92),h(112),g(113,"i18n"),f(),p(114,"th",92),h(115),g(116,"i18n"),f()()(),p(117,"tbody",93),oe(118,Kle,24,12,"tr",null,wo),f()()(),p(120,"div",94),oe(121,oce,41,29,"div",95,wo),f(),j(123,cce,45,23,"div",96),f()()}if(n&2){let t=b();u(4),C("",v(5,42,"quickFilters"),":"),u(2),se(t.quickFilterOptions),u(5),R(v(12,44,"status")),u(2),A("ngModel",t.filterStatus()),u(2),R(v(16,46,"all")),u(2),se(t.statusOptions()),u(4),R(v(22,48,"period")),u(3),A("ngModel",t.filterStartDate()),u(3),A("ngModel",t.filterEndDate()),u(3),R(v(31,50,"district")),u(2),A("ngModel",t.filterDistrict()),u(2),R(v(35,52,"all")),u(2),se(t.districtOptions),u(4),R(v(41,54,"professional")),u(2),A("ngModel",t.filterProfessional()),u(3),R(v(46,56,"all")),u(2),se(t.professionalOptions),u(4),R(v(52,58,"search")),u(2),A("placeholder",ie(v(54,60,"searchPlaceholder")))("ngModel",t.searchTerm()),u(3),C(" ",v(57,62,"clearFilters")," "),u(2),q(t.activeFilters().length>0?58:-1),u(5),et("aria-sort",t.sortBy()==="category"?t.sortOrder()==="asc"?"ascending":"descending":"none"),u(),et("aria-label",v(65,64,"clickToSort")+": "+v(66,66,"service"))("title",v(67,68,"clickToSort")+": "+v(68,70,"service")),u(7),R(v(72,72,"service")),u(2),q(t.sortBy()==="category"?73:74),u(2),et("aria-sort",t.sortBy()==="client"?t.sortOrder()==="asc"?"ascending":"descending":"none"),u(),et("aria-label",v(77,74,"clickToSort")+": "+v(78,76,"client"))("title",v(79,78,"clickToSort")+": "+v(80,80,"client")),u(7),R(v(84,82,"client")),u(2),q(t.sortBy()==="client"?85:86),u(2),et("aria-sort",t.sortBy()==="professional"?t.sortOrder()==="asc"?"ascending":"descending":"none"),u(),et("aria-label",v(89,84,"clickToSort")+": "+v(90,86,"professional"))("title",v(91,88,"clickToSort")+": "+v(92,90,"professional")),u(7),R(v(96,92,"professional")),u(2),q(t.sortBy()==="professional"?97:98),u(2),et("aria-sort",t.sortBy()==="status"?t.sortOrder()==="asc"?"ascending":"descending":"none"),u(),et("aria-label",v(101,94,"clickToSort")+": "+v(102,96,"status"))("title",v(103,98,"clickToSort")+": "+v(104,100,"status")),u(7),R(v(108,102,"status")),u(2),q(t.sortBy()==="status"?109:110),u(3),C(" ",v(113,104,"cost")," "),u(3),C(" ",v(116,106,"actions")," "),u(3),se(t.filteredPaginatedRequests()),u(3),se(t.paginatedRequests()),u(2),q(t.allRequests().length>0?123:-1)}}function dce(n,e){if(n&1){let t=H();p(0,"tr")(1,"td",104),h(2),f(),p(3,"td",105),h(4),f(),p(5,"td",105),h(6),f(),p(7,"td",107)(8,"div",173)(9,"button",174),g(10,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.approveClient(r.id))}),k(11,"i",175),f(),p(12,"button",176),g(13,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.rejectClient(r.id))}),k(14,"i",177),f()()()()}if(n&2){let t=e.$implicit;u(2),C(" ",t.name," "),u(2),C(" ",t.email," "),u(2),C(" ",t.phone," "),u(3),A("title",ie(v(10,7,"approve"))),u(3),A("title",ie(v(13,9,"reject")))}}function pce(n,e){if(n&1){let t=H();p(0,"div",95)(1,"div",178)(2,"div",179),k(3,"i",180),f(),p(4,"div",46)(5,"h4",181),h(6),f(),p(7,"p",60),h(8),g(9,"i18n"),f()()(),p(10,"div",130)(11,"div",178),k(12,"i",182),p(13,"span",133),h(14),f()(),p(15,"div",178),k(16,"i",183),p(17,"span",133),h(18),f()()(),p(19,"div",135)(20,"div",184)(21,"button",185),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.approveClient(r.id))}),k(22,"i",186),h(23),g(24,"i18n"),f(),p(25,"button",187),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.rejectClient(r.id))}),k(26,"i",188),h(27),g(28,"i18n"),f()()()()}if(n&2){let t=e.$implicit;u(6),C(" ",t.name," "),u(2),C(" ",v(9,6,"pendingApproval")," "),u(6),R(t.email),u(4),R(t.phone||"N/A"),u(5),C(" ",v(24,8,"approve")," "),u(4),C(" ",v(28,10,"reject")," ")}}function fce(n,e){if(n&1&&(p(0,"div",85)(1,"table",86)(2,"thead",87)(3,"tr")(4,"th",92),h(5),g(6,"i18n"),f(),p(7,"th",92),h(8),g(9,"i18n"),f(),p(10,"th",92),h(11),g(12,"i18n"),f(),p(13,"th",92),h(14),g(15,"i18n"),f()()(),p(16,"tbody",93),oe(17,dce,15,11,"tr",null,wo),f()()(),p(19,"div",94),oe(20,pce,29,12,"div",95,wo),f()),n&2){let t=b(2);u(5),C(" ",v(6,4,"name")," "),u(3),C(" ",v(9,6,"email")," "),u(3),C(" ",v(12,8,"phone")," "),u(3),C(" ",v(15,10,"actions")," "),u(3),se(t.pendingRegistrations()),u(3),se(t.pendingRegistrations())}}function hce(n,e){n&1&&(p(0,"p",172),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"noPendingRegistrations")," "))}function mce(n,e){if(n&1&&(p(0,"div",3)(1,"h3",171),h(2),g(3,"i18n"),f(),j(4,fce,22,12)(5,hce,3,3,"p",172),f()),n&2){let t=b();u(2),C(" ",v(3,2,"pendingRegistrations")," "),u(2),q(t.pendingRegistrations().length>0?4:5)}}function gce(n,e){if(n&1&&(p(0,"div",189)(1,"div",197)(2,"h4",198),h(3),g(4,"i18n"),f(),p(5,"p",8),h(6),f()(),p(7,"div",197)(8,"h4",198),h(9),g(10,"i18n"),f(),p(11,"p",199),h(12),f()(),p(13,"div",197)(14,"h4",198),h(15),g(16,"i18n"),f(),p(17,"p",8),h(18),f()(),p(19,"div",197)(20,"h4",198),h(21),g(22,"i18n"),f(),p(23,"p",200),h(24),f()()()),n&2){let t=e,i=b(2);u(3),C(" ",v(4,8,"completedServices")," "),u(3),R(t.completedServices),u(3),C(" ",v(10,10,"totalRevenue")," "),u(3),C(" ",i.formatCost(t.totalRevenue)," "),u(3),C(" ",v(16,12,"totalTax")," "),u(3),R(i.formatCost(t.totalTax)),u(3),C(" ",v(22,14,"outstandingAmount")," "),u(3),C(" ",i.formatCost(t.outstandingAmount)," ")}}function vce(n,e){if(n&1){let t=H();p(0,"tr")(1,"td",201),h(2),f(),p(3,"td",202),h(4),f(),p(5,"td",202),h(6),f(),p(7,"td",202),h(8),g(9,"date"),f(),p(10,"td",203),h(11),f(),p(12,"td",204),h(13),f(),p(14,"td",205)(15,"button",206),g(16,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.generateInvoice(r))}),k(17,"i",207),f()()()}if(n&2){let t=e.$implicit,i=b(2);u(2),C(" ",t.title," "),u(2),C(" ",i.getClientName(t.client_id)," "),u(2),C(" ",i.getProfessionalName(t.professional_id)," "),u(2),C(" ",v(9,12,t.scheduled_date)," "),u(2),yt("text-green-600",t.payment_status==="Paid")("text-orange-600",t.payment_status==="Unpaid"),u(),C(" ",t.payment_status," "),u(2),C(" ",i.formatCost(t.cost)," "),u(2),A("title",ie(v(16,14,"generateInvoice")))}}function yce(n,e){if(n&1){let t=H();p(0,"div",95)(1,"div",127)(2,"h4",128),h(3),f(),p(4,"span",208),h(5),f()(),p(6,"div",130)(7,"div",131)(8,"span",132),h(9),g(10,"i18n"),f(),p(11,"span",133),h(12),f()(),p(13,"div",131)(14,"span",132),h(15),g(16,"i18n"),f(),p(17,"span",133),h(18),f()(),p(19,"div",131)(20,"span",132),h(21),g(22,"i18n"),f(),p(23,"span",133),h(24),g(25,"date"),f()(),p(26,"div",131)(27,"span",132),h(28),g(29,"i18n"),f(),p(30,"span",209),h(31),f()()(),p(32,"div",135)(33,"button",210),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.generateInvoice(r))}),k(34,"i",211),h(35),g(36,"i18n"),f()()()}if(n&2){let t=e.$implicit,i=b(2);u(3),C(" ",t.title," "),u(),yt("bg-green-100",t.payment_status==="Paid")("text-green-800",t.payment_status==="Paid")("bg-orange-100",t.payment_status==="Unpaid")("text-orange-800",t.payment_status==="Unpaid"),u(),C(" ",t.payment_status," "),u(4),C("",v(10,19,"client"),":"),u(3),R(i.getClientName(t.client_id)),u(3),C("",v(16,21,"professional"),":"),u(3),R(i.getProfessionalName(t.professional_id)),u(3),C("",v(22,23,"date"),":"),u(3),R(v(25,25,t.scheduled_date)),u(4),C("",v(29,27,"total"),":"),u(3),R(i.formatCost(t.cost)),u(4),C(" ",v(36,29,"generateInvoice")," ")}}function _ce(n,e){if(n&1){let t=H();j(0,gce,25,16,"div",189),p(1,"div",3)(2,"div",190)(3,"h3",191),h(4),g(5,"i18n"),f(),p(6,"button",192),D("click",function(){S(t);let r=b();return E(r.exportToCSV())}),k(7,"i",193),h(8),g(9,"i18n"),f()(),p(10,"div",85)(11,"table",86)(12,"thead",87)(13,"tr")(14,"th",194),h(15),g(16,"i18n"),f(),p(17,"th",194),h(18),g(19,"i18n"),f(),p(20,"th",194),h(21),g(22,"i18n"),f(),p(23,"th",194),h(24),g(25,"i18n"),f(),p(26,"th",194),h(27),g(28,"i18n"),f(),p(29,"th",195),h(30),g(31,"i18n"),f(),p(32,"th",196),h(33),g(34,"i18n"),f()()(),p(35,"tbody",93),oe(36,vce,18,16,"tr",null,wo),f()()(),p(38,"div",94),oe(39,yce,37,31,"div",95,wo),f()()}if(n&2){let t,i=b();q((t=i.financialStats())?0:-1,t),u(4),C(" ",v(5,10,"financialDetails")," "),u(4),C("",v(9,12,"exportToCsv")," "),u(7),C(" ",v(16,14,"service")," "),u(3),C(" ",v(19,16,"client")," "),u(3),C(" ",v(22,18,"professional")," "),u(3),C(" ",v(25,20,"date")," "),u(3),C(" ",v(28,22,"payment")," "),u(3),C(" ",v(31,24,"total")," "),u(3),C(" ",v(34,26,"action")," "),u(3),se(i.completedRequests()),u(3),se(i.completedRequests())}}function bce(n,e){if(n&1){let t=H();p(0,"div")(1,"input",224),D("change",function(r){let o=S(t).$implicit,s=b(3);return E(s.toggleNewProfessionalSpecialty(o,r))}),f(),p(2,"label",225),h(3),f()()}if(n&2){let t=e.$implicit;u(),A("id","new-pro-"+t),u(),A("for","new-pro-"+t),u(),R(t)}}function Cce(n,e){if(n&1){let t=H();p(0,"div",214)(1,"h4",215),h(2),g(3,"i18n"),f(),p(4,"div",216)(5,"input",217),g(6,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b(2);return Lt(o.newProfessionalName,r)||(o.newProfessionalName=r),E(r)}),f(),p(7,"input",218),g(8,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b(2);return Lt(o.newProfessionalEmail,r)||(o.newProfessionalEmail=r),E(r)}),f(),p(9,"fieldset")(10,"legend",219),h(11),g(12,"i18n"),f(),p(13,"div",220),oe(14,bce,4,3,"div",null,ln),f()(),p(16,"div",221)(17,"button",222),D("click",function(){S(t);let r=b(2);return E(r.resetNewProfessionalForm())}),h(18),g(19,"i18n"),f(),p(20,"button",223),D("click",function(){S(t);let r=b(2);return E(r.addProfessional())}),h(21),g(22,"i18n"),f()()()()}if(n&2){let t=b(2);u(2),C(" ",v(3,8,"addNewProfessional")," "),u(3),Rt("ngModel",t.newProfessionalName),A("placeholder",v(6,10,"name")),u(2),Rt("ngModel",t.newProfessionalEmail),A("placeholder",v(8,12,"email")),u(4),C(" ",v(12,14,"specialties")," "),u(3),se(t.allCategories()),u(4),C(" ",v(19,16,"cancel")," "),u(3),C(" ",v(22,18,"add")," ")}}function xce(n,e){if(n&1){let t=H();p(0,"tr")(1,"td",107),h(2),f(),p(3,"td",106),h(4),f(),p(5,"td",106),h(6),f(),p(7,"td",106)(8,"button",206),g(9,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.startEditProfessional(r))}),k(10,"i",226),f()()()}if(n&2){let t=e.$implicit;u(2),C(" ",t.name," "),u(2),C(" ",t.email," "),u(2),C(" ",t.specialties==null?null:t.specialties.join(", ")," "),u(2),A("title",ie(v(9,5,"edit")))}}function wce(n,e){if(n&1&&(p(0,"span",232),h(1),f()),n&2){let t=e.$implicit;u(),C(" ",t," ")}}function Sce(n,e){if(n&1&&(p(0,"div")(1,"p",230),h(2),g(3,"i18n"),f(),p(4,"div",231),oe(5,wce,2,1,"span",232,ln),f()()),n&2){let t=b().$implicit;u(2),C(" ",v(3,1,"specialties"),": "),u(3),se(t.specialties)}}function Ece(n,e){if(n&1){let t=H();p(0,"div",95)(1,"div",127)(2,"div",227)(3,"div",228),k(4,"i",229),f(),p(5,"div",46)(6,"h4",181),h(7),f(),p(8,"p",60),h(9),g(10,"i18n"),f()()(),p(11,"button",206),g(12,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.startEditProfessional(r))}),k(13,"i",226),f()(),p(14,"div",130)(15,"div",178),k(16,"i",182),p(17,"span",133),h(18),f()()(),j(19,Sce,7,3,"div"),f()}if(n&2){let t=e.$implicit;u(7),C(" ",t.name," "),u(2),C(" ",v(10,6,"professional")," "),u(2),A("title",ie(v(12,8,"edit"))),u(7),R(t.email),u(),q(t.specialties&&t.specialties.length>0?19:-1)}}function Dce(n,e){if(n&1){let t=H();p(0,"div",4)(1,"div",190)(2,"h3",191),h(3),g(4,"i18n"),f(),p(5,"button",212),D("click",function(){S(t);let r=b();return E(r.showAddProfessionalForm.set(!0))}),k(6,"i",213),h(7),g(8,"i18n"),f()(),j(9,Cce,23,20,"div",214),p(10,"div",85)(11,"table",86)(12,"thead",87)(13,"tr")(14,"th",92),h(15),g(16,"i18n"),f(),p(17,"th",92),h(18),g(19,"i18n"),f(),p(20,"th",92),h(21),g(22,"i18n"),f(),p(23,"th",92),h(24),g(25,"i18n"),f()()(),p(26,"tbody",93),oe(27,xce,11,7,"tr",null,wo),f()()(),p(29,"div",94),oe(30,Ece,20,10,"div",95,wo),f()()}if(n&2){let t=b();u(3),C(" ",v(4,7,"manageProfessionals")," "),u(4),C("",v(8,9,"addProfessional")," "),u(2),q(t.showAddProfessionalForm()?9:-1),u(6),C(" ",v(16,11,"name")," "),u(3),C(" ",v(19,13,"email")," "),u(3),C(" ",v(22,15,"specialties")," "),u(3),C(" ",v(25,17,"action")," "),u(3),se(t.professionals()),u(3),se(t.professionals())}}function Ace(n,e){n&1&&k(0,"app-category-management")}function Tce(n,e){if(n&1&&k(0,"img",237),n&2){let t=b(2).$implicit;A("src",t.avatar_url,dr)("alt",t.name)}}function Ice(n,e){n&1&&(p(0,"div",238),k(1,"i",246),f())}function Mce(n,e){n&1&&(p(0,"div",239),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"emailNotVerified")," "))}function kce(n,e){if(n&1&&(p(0,"span"),h(1),g(2,"date"),f()),n&2){let t=b();u(),R(Ke(2,1,t.lastServiceDate,"short"))}}function Rce(n,e){n&1&&(p(0,"span",243),h(1),g(2,"i18n"),f()),n&2&&(u(),R(v(2,1,"never")))}function Nce(n,e){if(n&1){let t=H();p(0,"button",176),g(1,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(3);return E(o.deactivateClient(r.id))}),k(2,"i",247),f()}n&2&&A("title",ie(v(1,2,"deactivateClient")))}function Pce(n,e){if(n&1){let t=H();p(0,"button",174),g(1,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(3);return E(o.activateClient(r.id))}),k(2,"i",248),f()}n&2&&A("title",ie(v(1,2,"activateClient")))}function Oce(n,e){if(n&1){let t=H();p(0,"button",174),g(1,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(3);return E(o.activateClient(r.id))}),k(2,"i",175),f(),p(3,"button",176),g(4,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(3);return E(o.deactivateClient(r.id))}),k(5,"i",177),f()}n&2&&(A("title",ie(v(1,4,"approveClient"))),u(3),A("title",ie(v(4,6,"rejectClient"))))}function Fce(n,e){if(n&1&&(p(0,"tr")(1,"td",104)(2,"div",178),j(3,Tce,1,2,"img",237)(4,Ice,2,0,"div",238),p(5,"div")(6,"div",160),h(7),f(),j(8,Mce,3,3,"div",239),f()()(),p(9,"td",105),h(10),f(),p(11,"td",105),h(12),f(),p(13,"td",106)(14,"span",240),h(15),f()(),p(16,"td",105)(17,"div",241)(18,"div",160),h(19),f(),p(20,"div",53),h(21),g(22,"i18n"),f()()(),p(23,"td",105)(24,"span",242),h(25),f()(),p(26,"td",105),j(27,kce,3,4,"span")(28,Rce,3,3,"span",243),f(),p(29,"td",107)(30,"div",173),j(31,Nce,3,4,"button",244)(32,Pce,3,4,"button",245),j(33,Oce,6,8),f()()()),n&2){let t=e,i=b().$implicit,r=b(3);u(3),q(i.avatar_url?3:4),u(4),R(i.name),u(),q(i.email_verified===!1?8:-1),u(2),C(" ",i.email," "),u(2),C(" ",i.phone||"N/A"," "),u(2),yt("bg-green-100",i.status==="Active")("text-green-800",i.status==="Active")("bg-yellow-100",i.status==="Pending")("text-yellow-800",i.status==="Pending")("bg-red-100",i.status==="Rejected")("text-red-800",i.status==="Rejected"),u(),C(" ",i.status," "),u(4),C(" ",t.completedRequests," "),u(2),je(" ",v(22,25,"of")," ",t.totalRequests," "),u(4),C(" ",r.formatCost(t.totalSpent)," "),u(2),q(t.lastServiceDate?27:28),u(4),q(i.status==="Active"?31:i.status==="Rejected"?32:-1),u(2),q(i.status==="Pending"?33:-1)}}function Lce(n,e){if(n&1&&j(0,Fce,34,27,"tr"),n&2){let t,i=e.$implicit,r=b(3);q((t=r.getClientStats(i.id))?0:-1,t)}}function Bce(n,e){if(n&1&&k(0,"img",251),n&2){let t=b(2).$implicit;A("src",t.avatar_url,dr)("alt",t.name)}}function Vce(n,e){n&1&&(p(0,"div",252),k(1,"i",180),f())}function jce(n,e){n&1&&(p(0,"p",239),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"emailNotVerified")," "))}function qce(n,e){if(n&1){let t=H();p(0,"button",187),D("click",function(){S(t);let r=b(2).$implicit,o=b(3);return E(o.deactivateClient(r.id))}),k(1,"i",258),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"deactivate")," "))}function Uce(n,e){if(n&1){let t=H();p(0,"button",185),D("click",function(){S(t);let r=b(2).$implicit,o=b(3);return E(o.activateClient(r.id))}),k(1,"i",259),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"activate")," "))}function $ce(n,e){if(n&1){let t=H();p(0,"button",185),D("click",function(){S(t);let r=b(2).$implicit,o=b(3);return E(o.activateClient(r.id))}),k(1,"i",186),h(2),g(3,"i18n"),f(),p(4,"button",187),D("click",function(){S(t);let r=b(2).$implicit,o=b(3);return E(o.deactivateClient(r.id))}),k(5,"i",188),h(6),g(7,"i18n"),f()}n&2&&(u(2),C(" ",v(3,2,"approve")," "),u(4),C(" ",v(7,4,"reject")," "))}function Hce(n,e){if(n&1&&(p(0,"div",249)(1,"div",250)(2,"div",227),j(3,Bce,1,2,"img",251)(4,Vce,2,0,"div",252),p(5,"div",46)(6,"h4",181),h(7),f(),j(8,jce,3,3,"p",239),f()(),p(9,"span",208),h(10),f()(),p(11,"div",130)(12,"div",178),k(13,"i",182),p(14,"span",133),h(15),f()(),p(16,"div",178),k(17,"i",183),p(18,"span",133),h(19),f()()(),p(20,"div",253)(21,"div",241)(22,"div",254),h(23),f(),p(24,"div",60),h(25),g(26,"i18n"),f()(),p(27,"div",241)(28,"div",255),h(29),f(),p(30,"div",60),h(31),g(32,"i18n"),f()(),p(33,"div",241)(34,"div",254),h(35),f(),p(36,"div",60),h(37),g(38,"i18n"),f()()(),p(39,"div",135)(40,"div",184),j(41,qce,4,3,"button",256)(42,Uce,4,3,"button",257),j(43,$ce,8,6),f()()()),n&2){let t=e,i=b().$implicit,r=b(3);u(3),q(i.avatar_url?3:4),u(4),C(" ",i.name," "),u(),q(i.email_verified===!1?8:-1),u(),yt("bg-green-100",i.status==="Active")("text-green-800",i.status==="Active")("bg-yellow-100",i.status==="Pending")("text-yellow-800",i.status==="Pending")("bg-red-100",i.status==="Rejected")("text-red-800",i.status==="Rejected"),u(),C(" ",i.status," "),u(5),R(i.email),u(4),R(i.phone||"N/A"),u(4),C(" ",t.completedRequests," "),u(2),C(" ",v(26,26,"completed")," "),u(4),C(" ",r.formatCost(t.totalSpent)," "),u(2),C(" ",v(32,28,"totalSpent")," "),u(4),C(" ",t.totalRequests," "),u(2),C(" ",v(38,30,"totalServices")," "),u(4),q(i.status==="Active"?41:i.status==="Rejected"?42:-1),u(2),q(i.status==="Pending"?43:-1)}}function zce(n,e){if(n&1&&j(0,Hce,44,32,"div",249),n&2){let t,i=e.$implicit,r=b(3);q((t=r.getClientStats(i.id))?0:-1,t)}}function Wce(n,e){if(n&1&&(p(0,"div",236)(1,"table",86)(2,"thead",87)(3,"tr")(4,"th",92),h(5),g(6,"i18n"),f(),p(7,"th",92),h(8),g(9,"i18n"),f(),p(10,"th",92),h(11),g(12,"i18n"),f(),p(13,"th",92),h(14),g(15,"i18n"),f(),p(16,"th",92),h(17),g(18,"i18n"),f(),p(19,"th",92),h(20),g(21,"i18n"),f(),p(22,"th",92),h(23),g(24,"i18n"),f(),p(25,"th",92),h(26),g(27,"i18n"),f()()(),p(28,"tbody",93),oe(29,Lce,1,1,null,null,wo),f()()(),p(31,"div",94),oe(32,zce,1,1,null,null,wo),f()),n&2){let t=b(2);u(5),C(" ",v(6,8,"name")," "),u(3),C(" ",v(9,10,"email")," "),u(3),C(" ",v(12,12,"phone")," "),u(3),C(" ",v(15,14,"status")," "),u(3),C(" ",v(18,16,"services")," "),u(3),C(" ",v(21,18,"totalSpent")," "),u(3),C(" ",v(24,20,"lastService")," "),u(3),C(" ",v(27,22,"actions")," "),u(3),se(t.clients()),u(3),se(t.clients())}}function Gce(n,e){n&1&&(p(0,"div",235),k(1,"i",260),p(2,"h4",261),h(3),g(4,"i18n"),f(),p(5,"p",62),h(6),g(7,"i18n"),f()()),n&2&&(u(3),C(" ",v(4,2,"noClientsFound")," "),u(3),C(" ",v(7,4,"noClientsDescription")," "))}function Qce(n,e){if(n&1&&(p(0,"div",4)(1,"div",233)(2,"h3",191),h(3),g(4,"i18n"),f(),p(5,"p",234),h(6),g(7,"i18n"),f()(),j(8,Wce,34,24)(9,Gce,8,6,"div",235),f()),n&2){let t=b();u(3),R(v(4,3,"manageClients")),u(3),C(" ",v(7,5,"clientManagementDescription")," "),u(2),q(t.clients().length>0?8:9)}}function Yce(n,e){if(n&1){let t=H();p(0,"button",270),D("click",function(){S(t);let r=b(),o=b();return E(o.respondToQuote(r.id,!1))}),h(1),g(2,"i18n"),f(),p(3,"button",271),D("click",function(){S(t);let r=b(),o=b();return E(o.respondToQuote(r.id,!0))}),h(4),g(5,"i18n"),f()}n&2&&(u(),C(" ",v(2,2,"reject")," "),u(3),C(" ",v(5,4,"approve")," "))}function Zce(n,e){if(n&1){let t=H();p(0,"div",5)(1,"div",262)(2,"h3",263),h(3),g(4,"i18n"),f(),p(5,"p",264),h(6),f(),p(7,"label",265),h(8),g(9,"i18n"),f(),p(10,"input",266),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.quoteAmount,r)||(o.quoteAmount=r),E(r)}),f(),p(11,"div",267)(12,"button",268),D("click",function(){S(t);let r=b();return E(r.quoteRequest.set(null))}),h(13),g(14,"i18n"),f(),p(15,"button",269),D("click",function(){S(t);let r=b();return E(r.submitQuote())}),h(16),g(17,"i18n"),f(),j(18,Yce,6,6),f()()()}if(n&2){let t=e,i=b();u(3),je(" ",v(4,9,"quoteFor"),' "',t.title,'" '),u(3),R(t.description),u(2),R(v(9,11,"quoteValue")),u(2),Rt("ngModel",i.quoteAmount),u(3),C(" ",v(14,13,"cancel")," "),u(2),A("disabled",!i.quoteAmount()||i.quoteAmount()<=0),u(),C(" ",v(17,15,"submit")," "),u(2),q(t.status==="Quoted"?18:-1)}}function Xce(n,e){if(n&1&&(p(0,"option",283),h(1),f()),n&2){let t=e.$implicit;A("ngValue",t.id),u(),R(t.name)}}function Jce(n,e){if(n&1&&(p(0,"div",300)(1,"p",304),k(2,"i",305),h(3),g(4,"i18n"),p(5,"strong"),h(6),f()()()),n&2){let t=b(),i=b();u(3),C(" ",v(4,2,"clientRequestedFor"),": "),u(3),R(i.formatDateTime(t.requested_datetime))}}function Kce(n,e){if(n&1){let t=H();p(0,"div",5)(1,"div",272)(2,"div",273)(3,"label",274),h(4),g(5,"i18n"),f(),p(6,"select",275),D("change",function(r){S(t);let o=b();return E(o.i18n.setLanguage(r.target.value))}),p(7,"option",276),h(8),g(9,"i18n"),f(),p(10,"option",277),h(11),g(12,"i18n"),f()()(),p(13,"h3",263),h(14),g(15,"i18n"),f(),p(16,"p",278),h(17),g(18,"i18n"),f(),p(19,"div",279)(20,"div")(21,"label",280),h(22),g(23,"i18n"),f(),p(24,"select",281),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.assigningProfessionalId,r)||(o.assigningProfessionalId=r),E(r)}),p(25,"option",282),h(26),g(27,"i18n"),f(),oe(28,Xce,2,2,"option",283,wo),f()(),p(30,"div",284)(31,"h4",285),h(32),g(33,"i18n"),f(),p(34,"div",286)(35,"div")(36,"label",287),h(37),g(38,"i18n"),f(),p(39,"input",288),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.scheduledDate,r)||(o.scheduledDate=r),E(r)}),f()(),p(40,"div")(41,"label",289),h(42),g(43,"i18n"),f(),p(44,"input",290),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.scheduledTime,r)||(o.scheduledTime=r),E(r)}),f()()(),p(45,"div",291)(46,"label",292),h(47),g(48,"i18n"),g(49,"i18n"),f(),p(50,"div",111)(51,"input",293),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.estimatedDurationMinutes,r)||(o.estimatedDurationMinutes=r),E(r)}),f(),p(52,"div",294)(53,"span",295),h(54,"min"),f()()(),p(55,"p",296),h(56),g(57,"i18n"),f()(),p(58,"div",297)(59,"p",298),h(60),g(61,"i18n"),f(),p(62,"div",136)(63,"button",299),D("click",function(){S(t);let r=b();return E(r.setEstimatedDuration(30))}),h(64," 30min "),f(),p(65,"button",299),D("click",function(){S(t);let r=b();return E(r.setEstimatedDuration(60))}),h(66," 1h "),f(),p(67,"button",299),D("click",function(){S(t);let r=b();return E(r.setEstimatedDuration(120))}),h(68," 2h "),f(),p(69,"button",299),D("click",function(){S(t);let r=b();return E(r.setEstimatedDuration(180))}),h(70," 3h "),f(),p(71,"button",299),D("click",function(){S(t);let r=b();return E(r.setEstimatedDuration(240))}),h(72," 4h "),f(),p(73,"button",299),D("click",function(){S(t);let r=b();return E(r.setEstimatedDuration(480))}),h(74," 8h "),f()()(),j(75,Jce,7,4,"div",300),f()(),p(76,"div",301)(77,"button",302),D("click",function(){S(t);let r=b();return E(r.cancelAssignment())}),h(78),g(79,"i18n"),f(),p(80,"button",303),D("click",function(){S(t);let r=b();return E(r.assignProfessional())}),h(81),g(82,"i18n"),f()()()()}if(n&2){let t=e,i=b();u(4),R(v(5,25,"language")),u(4),R(v(9,27,"portuguese")),u(3),R(v(12,29,"english")),u(3),C(" ",v(15,31,"assignProfessional")," "),u(3),je(" ",v(18,33,"selectProfessionalFor"),' "',t.title,'". '),u(5),R(v(23,35,"professional")),u(2),Rt("ngModel",i.assigningProfessionalId),u(),A("ngValue",null),u(),C(" ",v(27,37,"selectAProfessional")," "),u(2),se(i.getProfessionalsForRequest(t.category)),u(4),C(" ",v(33,39,"schedulingInformation")," "),u(5),C(" ",v(38,41,"scheduledDate")," * "),u(2),Rt("ngModel",i.scheduledDate),A("min",i.getMinDate()),u(3),C(" ",v(43,43,"scheduledTime")," * "),u(2),Rt("ngModel",i.scheduledTime),u(3),je(" ",v(48,45,"estimatedDuration")," (",v(49,47,"inMinutes"),") * "),u(4),Rt("ngModel",i.estimatedDurationMinutes),u(5),C(" ",v(57,49,"durationHelpText")," "),u(4),C(" ",v(61,51,"quickSelect"),": "),u(15),q(t.requested_datetime?75:-1),u(3),C(" ",v(79,53,"cancel")," "),u(2),A("disabled",!i.canAssignProfessional()),u(),C(" ",v(82,55,"assignAndSchedule")," ")}}function eue(n,e){if(n&1&&(p(0,"p",308),k(1,"i",318),h(2),g(3,"i18n"),f()),n&2){let t=b(),i=b();u(2),je(" ",v(3,2,"approvedAmount"),": ",i.formatCost(t.quote_amount)," ")}}function tue(n,e){if(n&1&&(p(0,"div",317)(1,"p",319),k(2,"i",305),h(3),g(4,"i18n"),p(5,"strong"),h(6),f()()()),n&2){let t=b(),i=b();u(3),C(" ",v(4,2,"clientOriginallyRequestedFor"),": "),u(3),R(i.formatDateTime(t.requested_datetime))}}function nue(n,e){if(n&1){let t=H();p(0,"div",5)(1,"div",272)(2,"h3",263),h(3),g(4,"i18n"),f(),p(5,"p",278),h(6),g(7,"i18n"),f(),p(8,"div",279)(9,"div",306)(10,"h4",307),h(11),g(12,"i18n"),f(),p(13,"p",308),k(14,"i",309),h(15),g(16,"i18n"),f(),p(17,"p",308),k(18,"i",310),h(19),f(),j(20,eue,4,4,"p",308),f(),p(21,"div",286)(22,"div")(23,"label",311),h(24),g(25,"i18n"),f(),p(26,"input",312),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.proposedExecutionDate,r)||(o.proposedExecutionDate=r),E(r)}),f()(),p(27,"div")(28,"label",313),h(29),g(30,"i18n"),f(),p(31,"input",314),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.proposedExecutionTime,r)||(o.proposedExecutionTime=r),E(r)}),f()()(),p(32,"div")(33,"label",315),h(34),g(35,"i18n"),g(36,"i18n"),f(),p(37,"textarea",316),g(38,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.proposedExecutionNotes,r)||(o.proposedExecutionNotes=r),E(r)}),f()(),j(39,tue,7,4,"div",317),f(),p(40,"div",301)(41,"button",302),D("click",function(){S(t);let r=b();return E(r.cancelDateProposal())}),h(42),g(43,"i18n"),f(),p(44,"button",303),D("click",function(){S(t);let r=b();return E(r.proposeDateExecution())}),h(45),g(46,"i18n"),f()()()()}if(n&2){let t=e,i=b();u(3),C(" ",v(4,22,"proposeExecutionDate")," "),u(3),je(" ",v(7,24,"proposeExecutionDateFor"),' "',t.title,'". '),u(5),C(" ",v(12,26,"serviceDetails")," "),u(4),je(" ",v(16,28,"client"),": ",t.client_name," "),u(4),je(" ",t.street,", ",t.city," "),u(),q(t.quote_amount?20:-1),u(4),C(" ",v(25,30,"proposedDate")," * "),u(2),Rt("ngModel",i.proposedExecutionDate),A("min",i.getMinDate()),u(3),C(" ",v(30,32,"proposedTime")," * "),u(2),Rt("ngModel",i.proposedExecutionTime),u(3),je(" ",v(35,34,"notesForClient")," (",v(36,36,"optional"),") "),u(3),Rt("ngModel",i.proposedExecutionNotes),A("placeholder",v(38,38,"notesForClientPlaceholder")),u(2),q(t.requested_datetime?39:-1),u(3),C(" ",v(43,40,"cancel")," "),u(2),A("disabled",!i.canProposeDate()),u(),C(" ",v(46,42,"proposeDate")," ")}}function iue(n,e){if(n&1){let t=H();p(0,"div")(1,"input",323),D("change",function(r){let o=S(t).$implicit,s=b(2);return E(s.toggleEditProfessionalSpecialty(o,r))}),f(),p(2,"label",225),h(3),f()()}if(n&2){let t=e.$implicit,i=b(2);u(),A("id","edit-pro-"+t)("checked",i.editingProfessionalSpecialties().includes(t)),u(),A("for","edit-pro-"+t),u(),R(t)}}function rue(n,e){if(n&1){let t=H();p(0,"div",5)(1,"div",320)(2,"h3",263),h(3),g(4,"i18n"),f(),p(5,"div",216)(6,"input",217),g(7,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.editingProfessionalName,r)||(o.editingProfessionalName=r),E(r)}),f(),p(8,"input",218),g(9,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.editingProfessionalEmail,r)||(o.editingProfessionalEmail=r),E(r)}),f(),p(10,"fieldset")(11,"legend",219),h(12),g(13,"i18n"),f(),p(14,"div",321),oe(15,iue,4,4,"div",null,ln),f()()(),p(17,"div",267)(18,"button",268),D("click",function(){S(t);let r=b();return E(r.cancelEditProfessional())}),h(19),g(20,"i18n"),f(),p(21,"button",322),D("click",function(){S(t);let r=b();return E(r.saveProfessionalEdit())}),h(22),g(23,"i18n"),f()()()()}if(n&2){let t=b();u(3),R(v(4,8,"editProfessional")),u(3),Rt("ngModel",t.editingProfessionalName),A("placeholder",v(7,10,"name")),u(2),Rt("ngModel",t.editingProfessionalEmail),A("placeholder",v(9,12,"email")),u(4),C(" ",v(13,14,"specialties")," "),u(3),se(t.allCategories()),u(4),C(" ",v(20,16,"cancel")," "),u(3),C(" ",v(23,18,"saveChanges")," ")}}function oue(n,e){if(n&1){let t=H();p(0,"div",6)(1,"div",324)(2,"div",325)(3,"div",326)(4,"h2",327),h(5),g(6,"i18n"),f(),p(7,"div",328)(8,"p",329),h(9),g(10,"i18n"),f(),p(11,"p",330),h(12),g(13,"i18n"),f()()(),p(14,"div",331)(15,"div")(16,"h4",332),h(17),g(18,"i18n"),f(),p(19,"p"),h(20),f(),p(21,"p",330),h(22),f()(),p(23,"div")(24,"h4",332),h(25),g(26,"i18n"),f(),p(27,"p"),h(28),f()()(),p(29,"h3",333),h(30),g(31,"i18n"),f(),p(32,"table",334)(33,"thead",87)(34,"tr")(35,"th",335),h(36),g(37,"i18n"),f(),p(38,"th",336),h(39),g(40,"i18n"),f()()(),p(41,"tbody")(42,"tr",337)(43,"td",338),h(44),f(),p(45,"td",339),h(46),f()()()(),p(47,"div",340)(48,"div",341)(49,"div",342)(50,"p"),h(51),g(52,"i18n"),f(),p(53,"p"),h(54),f()(),p(55,"div",342)(56,"p"),h(57),g(58,"i18n"),f(),p(59,"p"),h(60),f()(),p(61,"div",343)(62,"p"),h(63),g(64,"i18n"),f(),p(65,"p"),h(66),f()()()(),p(67,"p",344),h(68),g(69,"i18n"),f()(),p(70,"div",345)(71,"button",268),D("click",function(){S(t);let r=b();return E(r.invoiceRequest.set(null))}),h(72),g(73,"i18n"),f(),p(74,"button",322),D("click",function(){S(t);let r=b();return E(r.printInvoice())}),h(75),g(76,"i18n"),f()()()()}if(n&2){let t=e,i=b();u(5),R(v(6,23,"invoice")),u(4),R(v(10,25,"appNameFull")),u(3),R(v(13,27,"companyAddress")),u(5),C(" ",v(18,29,"billedTo")," "),u(3),R(i.getClientName(t.client_id)),u(2),je(" ",t.street,", ",t.city," "),u(3),C(" ",v(26,31,"serviceProvidedBy")," "),u(3),R(i.getProfessionalName(t.professional_id)),u(2),C(" ",v(31,33,"serviceDescription")," "),u(6),C(" ",v(37,35,"description")," "),u(3),C(" ",v(40,37,"total")," "),u(5),R(t.title),u(2),R(i.formatCost(t.cost)),u(5),R(v(52,39,"subtotal")),u(3),R(i.formatCost(t.cost)),u(3),C("",v(58,41,"tax")," (7%)"),u(3),R(i.formatCost((t.cost??0)*.07)),u(3),R(v(64,43,"grandTotal")),u(3),R(i.formatCost((t.cost??0)*1.07)),u(2),C(" ",v(69,45,"thankYou")," "),u(4),C(" ",v(73,47,"close")," "),u(3),C(" ",v(76,49,"print")," ")}}var Gf=class Gf{constructor(){this.viewFromParent=ge();this.filterStatus=B("");this.filterStartDate=B("");this.filterEndDate=B("");this.filterDistrict=B("");this.filterProfessional=B("");this.searchTerm=B("");this.sortBy=B("date");this.sortOrder=B("desc");this.quickFilterOptions=[{status:"Solicitado",label:"statusRequested"},{status:"Em an\xE1lise",label:"statusInAnalysis"},{status:"Agendado",label:"statusScheduled"},{status:"Finalizado",label:"statusCompleted"}];this.statusOptions=B([]);this.districtOptions=["Lisboa","Porto","Set\xFAbal","Braga","Coimbra","Aveiro"];this.professionalOptions=[];this.activeFilters=K(()=>{let e=[];if(this.filterStatus()&&e.push({type:"status",label:"status",value:this.filterStatus()}),this.filterStartDate()&&this.filterEndDate()&&e.push({type:"period",label:"period",value:`${this.filterStartDate()} - ${this.filterEndDate()}`}),this.filterDistrict()&&e.push({type:"district",label:"district",value:this.filterDistrict()}),this.filterProfessional()){let t=this.professionalOptions.find(i=>String(i.id)===String(this.filterProfessional()))?.name||"";e.push({type:"professional",label:"professional",value:t})}return this.searchTerm()&&e.push({type:"search",label:"search",value:this.searchTerm()}),e});this.filteredRequests=K(()=>{let e=this.allRequests(),t=this.filterStatus(),i=this.filterStartDate(),r=this.filterEndDate(),o=this.filterDistrict(),s=this.filterProfessional(),a=this.searchTerm().toLowerCase();if(t&&(e=e.filter(l=>l.status===t)),i&&r){let l=new Date(i),c=new Date(r);c.setHours(23,59,59,999),e=e.filter(d=>{if(!d.requested_date)return!1;let m=new Date(d.requested_date);return m>=l&&m<=c})}return o&&(e=e.filter(l=>l.state===o)),s&&(e=e.filter(l=>String(l.professional_id)===String(s))),a&&(e=e.filter(l=>l.title?.toLowerCase().includes(a)||l.zip_code?.toLowerCase().includes(a)||String(l.id).includes(a))),this.sortRequests(e)});this.filteredPaginatedRequests=K(()=>{let e=this.filteredRequests(),t=(this.currentPage()-1)*this.itemsPerPage(),i=t+this.itemsPerPage();return e.slice(t,i)});this.dataService=L(At);this.i18n=L($e);this.statusGraphTitle=this.i18n.translate("statusGraphTitle");this.statusLabels={Solicitado:this.i18n.translate("statusRequested"),"Em an\xE1lise":this.i18n.translate("statusInAnalysis"),"Aguardando esclarecimentos":this.i18n.translate("statusAwaitingClarifications"),"Or\xE7amento enviado":this.i18n.translate("statusQuoteSent"),"Aguardando aprova\xE7\xE3o do or\xE7amento":this.i18n.translate("statusAwaitingQuoteApproval"),"Or\xE7amento aprovado":this.i18n.translate("statusQuoteApproved"),"Aguardando data de execu\xE7\xE3o":this.i18n.translate("statusAwaitingExecutionDate"),"Data proposta pelo administrador":this.i18n.translate("statusDateProposedByAdmin"),"Aguardando aprova\xE7\xE3o da data":this.i18n.translate("statusAwaitingDateApproval"),"Data aprovada pelo cliente":this.i18n.translate("statusDateApprovedByClient"),"Buscando profissional":this.i18n.translate("statusSearchingProfessional"),"Profissional selecionado":this.i18n.translate("statusProfessionalSelected"),"Aguardando confirma\xE7\xE3o do profissional":this.i18n.translate("statusAwaitingProfessionalConfirmation"),Agendado:this.i18n.translate("statusScheduled"),"Em execu\xE7\xE3o":this.i18n.translate("statusInExecution"),"Conclu\xEDdo - Aguardando aprova\xE7\xE3o":this.i18n.translate("statusCompletedAwaitingApproval"),Assigned:this.i18n.translate("statusAssigned"),Pending:this.i18n.translate("statusPending"),Scheduled:this.i18n.translate("statusScheduledEn"),"In Progress":this.i18n.translate("statusInProgress"),Finalizado:this.i18n.translate("statusCompleted"),Cancelado:this.i18n.translate("statusCancelled"),Completed:this.i18n.translate("statusCompletedEn")};this.notificationService=L(jt);this.workflowService=L(Zs);this.Math=Math;this.isProduction=!1;this.openActionsMenuId=B(null);this.currentView=B("overview");this.showAddProfessionalForm=B(!1);this.editingCategory=B(null);this.editingCategoryName=B("");this.lastUpdate=B(new Date);this.refreshInterval=null;this.newCategory=B("");this.newProfessionalName=B("");this.newProfessionalEmail=B("");this.newProfessionalSpecialties=B([]);this.editingProfessional=B(null);this.editingProfessionalName=B("");this.editingProfessionalEmail=B("");this.editingProfessionalSpecialties=B([]);this.quoteRequest=B(null);this.quoteAmount=B(null);this.assignmentRequest=B(null);this.assigningProfessionalId=B(null);this.invoiceRequest=B(null);this.scheduledDate=B("");this.scheduledTime=B("");this.estimatedDurationMinutes=B(null);this.servicesByStatus=K(()=>{let e=this.dataService.serviceRequests(),t={};for(let i of e){let r=i.status?.trim().toLowerCase();t[r]=(t[r]||0)+1}return t});this.ordersByCategory=K(()=>{let e=this.dataService.serviceRequests(),t=this.dataService.categories(),i={};for(let r of e){let o=r.category_id||"none";i[o]=(i[o]||0)+1}for(let r of t)r.id in i||(i[r.id]=0);return i});this.categoryLabels=K(()=>{let e=this.dataService.categories(),t={};for(let i of e)t[i.id]=i.name;return t.none=this.i18n.translate("noCategory"),t});this.temporalData=K(()=>{let e=this.allRequests(),t={};for(let i=29;i>=0;i--){let r=new Date;r.setDate(r.getDate()-i);let o=r.toISOString().split("T")[0],s=e.filter(a=>new Date(a.requested_date).toISOString().split("T")[0]===o).length;t[o]=s}return t});this.recentActivities=K(()=>{let e=this.allRequests(),t=this.allUsers(),i=[];for(let r of e.slice(0,5))i.push({type:"request",message:this.i18n.translate("requestCreated")+` #${r.id}`,time:this.getRelativeTime(r.requested_date),icon:"fas fa-file-alt",color:"text-blue-600"});for(let r of t.slice(0,3))i.push({type:"user",message:this.i18n.translate("userRegistered")+`: ${r.name}`,time:this.getRelativeTime(new Date().toISOString()),icon:"fas fa-user-plus",color:"text-green-600"});return[...i].sort((r,o)=>new Date(o.time).getTime()-new Date(r.time).getTime()).slice(0,8)});this.dateProposalRequest=B(null);this.proposedExecutionDate=B("");this.proposedExecutionTime=B("");this.proposedExecutionNotes=B("");this.currentPage=B(1);this.itemsPerPage=B(5);this.totalPages=K(()=>Math.ceil(this.allRequests().length/this.itemsPerPage()));this.paginatedRequests=K(()=>{let e=this.allRequests(),t=(this.currentPage()-1)*this.itemsPerPage(),i=t+this.itemsPerPage();return e.slice(t,i)});this.allUsers=this.dataService.users;this.allRequests=this.dataService.serviceRequests;this.allCategories=this.dataService.categories;this.views=K(()=>[{id:"overview",label:this.i18n.translate("overview"),icon:"fas fa-tachometer-alt"},{id:"requests",label:this.i18n.translate("requests"),icon:"fas fa-list"},{id:"approvals",label:this.i18n.translate("approvals"),icon:"fas fa-user-check"},{id:"finances",label:this.i18n.translate("finances"),icon:"fas fa-chart-line"},{id:"professionals",label:this.i18n.translate("professionals"),icon:"fas fa-users"},{id:"clients",label:this.i18n.translate("clients"),icon:"fas fa-user-friends"},{id:"categories",label:this.i18n.translate("categories"),icon:"fas fa-tags"}]);this.pendingRegistrations=K(()=>this.allUsers().filter(e=>e.role==="professional"&&(e.status==="Pending"||e.email_verified===!1)));this.pendingApprovalCount=K(()=>this.pendingRegistrations().length);this.actionableRequests=K(()=>this.allRequests().filter(e=>e.status==="Solicitado"||e.status==="Or\xE7amento enviado"||e.status==="Or\xE7amento aprovado"));this.professionals=K(()=>this.allUsers().filter(e=>e.role==="professional"&&e.status==="Active"));this.clients=K(()=>this.allUsers().filter(e=>e.role==="admin"));this.completedRequests=K(()=>this.allRequests().filter(e=>(e.status==="Finalizado"||e.status==="Completed")&&e.cost));this.financialStats=K(()=>{let e=this.completedRequests(),t=e.filter(o=>o.payment_status==="Paid").reduce((o,s)=>o+(s.cost||0),0),i=t*.07,r=e.filter(o=>o.payment_status==="Unpaid").reduce((o,s)=>o+(s.cost||0),0);return{completedServices:e.length,totalRevenue:t,totalTax:i,outstandingAmount:r}});this.stats=K(()=>{let e=this.allRequests(),t=this.allUsers(),i=this.financialStats(),r=this.calculateTrends();return[{label:this.i18n.translate("totalRevenue"),value:this.formatCost(i.totalRevenue),icon:"fas fa-euro-sign",bgColor:"bg-gradient-to-br from-green-100 to-green-200 text-green-700",trend:r.revenue,trendColor:r.revenue.includes("+")?"text-green-600":"text-red-600",badge:null},{label:this.i18n.translate("pendingApprovals"),value:this.pendingApprovalCount(),icon:"fas fa-user-clock",bgColor:"bg-gradient-to-br from-orange-100 to-orange-200 text-orange-700",trend:r.approvals,trendColor:r.approvals.includes("+")?"text-red-600":"text-green-600",badge:this.getNewTodayCount()>0?`${this.getNewTodayCount()} ${this.i18n.translate("newToday")}`:null},{label:this.i18n.translate("activeServices"),value:e.filter(o=>Object.values(dc).includes(o.status)).length,icon:"fas fa-cogs",bgColor:"bg-gradient-to-br from-blue-100 to-blue-200 text-blue-700",trend:r.activeServices,trendColor:r.activeServices.includes("+")?"text-green-600":"text-red-600",badge:this.getUrgentCount()>0?`${this.getUrgentCount()} ${this.i18n.translate("urgentItems")}`:null},{label:this.i18n.translate("totalProfessionals"),value:t.filter(o=>o.role==="professional"&&o.status==="Active").length,icon:"fas fa-users-cog",bgColor:"bg-gradient-to-br from-indigo-100 to-indigo-200 text-indigo-700",trend:r.professionals,trendColor:r.professionals.includes("+")?"text-green-600":"text-red-600",badge:null},{label:this.i18n.translate("activeClients"),value:t.filter(o=>o.role==="admin"&&o.status==="Active").length,icon:"fas fa-user-friends",bgColor:"bg-gradient-to-br from-purple-100 to-purple-200 text-purple-700",trend:r.clients,trendColor:r.clients.includes("+")?"text-green-600":"text-red-600",badge:null}]});this.pendingProfessionals=this.pendingRegistrations;this.categories=this.allCategories;Ut(()=>{let e=this.viewFromParent();e&&this.currentView.set(e)})}sortByColumn(e){this.sortBy()===e?this.toggleSortOrder():(this.sortBy.set(e),this.sortOrder.set("desc"))}toggleSortOrder(){this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc")}ngOnInit(){this.startAutoRefresh(),this.professionalOptions=this.professionals(),this.statusOptions.set(Object.values(dc).map(e=>({value:e,label:this.i18n.translate(e)})))}applyQuickFilter(e){this.filterStatus.set(this.filterStatus()===e?"":e)}clearFilters(){this.filterStatus.set(""),this.filterStartDate.set(""),this.filterEndDate.set(""),this.filterDistrict.set(""),this.filterProfessional.set(""),this.searchTerm.set("")}removeFilter(e){switch(e){case"status":this.filterStatus.set("");break;case"period":this.filterStartDate.set(""),this.filterEndDate.set("");break;case"district":this.filterDistrict.set("");break;case"professional":this.filterProfessional.set("");break;case"search":this.searchTerm.set("");break}}sortRequests(e){let t=this.sortBy(),r=this.sortOrder()==="asc"?1:-1;return[...e].sort((o,s)=>{let a=0;switch(t){case"date":{let l=o.requested_date?new Date(o.requested_date).getTime():0,c=s.requested_date?new Date(s.requested_date).getTime():0;a=l-c;break}case"status":{a=(o.status||"").localeCompare(s.status||"");break}case"id":{a=o.id-s.id;break}case"category":{let l=this.dataService.categories().find(d=>d.id===o.category_id)?.name||"",c=this.dataService.categories().find(d=>d.id===s.category_id)?.name||"";a=l.localeCompare(c);break}case"client":break;case"professional":{let l=this.getProfessionalName(o.professional_id)||"",c=this.getProfessionalName(s.professional_id)||"";a=l.localeCompare(c);break}}return a*r})}statusPieChartData(){let e=this.servicesByStatus();return console.log("[PieChart] Dados enviados ao gr\xE1fico:",e),e}onDocumentClick(e){if(this.openActionsMenuId()===null)return;this.actionsMenus.some(i=>i.nativeElement.contains(e.target))||this.openActionsMenuId.set(null)}get pageNumbers(){let e=this.totalPages(),t=this.currentPage(),i=[];i.push(1);let r=Math.max(2,t-2),o=Math.min(e-1,t+2);r>2&&i.push(-1);for(let s=r;s<=o;s++)s!==1&&s!==e&&i.push(s);return o<e-1&&i.push(-1),e>1&&i.push(e),i}setView(e){this.currentView.set(e)}navigateToFinances(){this.setView("finances")}isRevenueCard(e){return e===this.i18n.translate("totalRevenue")}isPendingApprovalsCard(e){return e===this.i18n.translate("pendingApprovals")}isActiveServicesCard(e){return e===this.i18n.translate("activeServices")}isTotalProfessionalsCard(e){return e===this.i18n.translate("totalProfessionals")}isActiveClientsCard(e){return e===this.i18n.translate("activeClients")}navigateToApprovals(){this.setView("approvals")}navigateToRequests(){this.setView("requests")}navigateToProfessionals(){this.setView("professionals")}navigateToClients(){this.setView("clients")}handleCardClick(e){this.isRevenueCard(e)?this.navigateToFinances():this.isPendingApprovalsCard(e)?this.navigateToApprovals():this.isActiveServicesCard(e)?this.navigateToRequests():this.isTotalProfessionalsCard(e)?this.navigateToProfessionals():this.isActiveClientsCard(e)&&this.navigateToClients()}isCardClickable(e){return this.isRevenueCard(e)||this.isPendingApprovalsCard(e)||this.isActiveServicesCard(e)||this.isTotalProfessionalsCard(e)||this.isActiveClientsCard(e)}getCardTooltip(e){return this.isRevenueCard(e)?this.i18n.translate("clickToViewFinances"):this.isPendingApprovalsCard(e)?this.i18n.translate("clickToViewApprovals"):this.isActiveServicesCard(e)?this.i18n.translate("clickToViewRequests"):this.isTotalProfessionalsCard(e)?this.i18n.translate("clickToViewProfessionals"):this.isActiveClientsCard(e)?this.i18n.translate("clickToViewClients"):""}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}previousPage(){let e=this.currentPage();e>1&&this.currentPage.set(e-1)}nextPage(){let e=this.currentPage();e<this.totalPages()&&this.currentPage.set(e+1)}setItemsPerPage(e){this.itemsPerPage.set(e),this.currentPage.set(1)}getClientName(e){return e?this.allUsers().find(t=>t.id===e)?.name||this.i18n.translate("unknownClient"):this.i18n.translate("unknownClient")}getProfessionalName(e){return e?this.allUsers().find(t=>t.id===e)?.name||this.i18n.translate("unassigned"):this.i18n.translate("unassigned")}statusClass(e){return{Pending:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",Quoted:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",Approved:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800","In Progress":"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-800",Completed:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",Cancelled:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"}[e]||"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800"}toggleActionsMenu(e){this.openActionsMenuId.set(this.openActionsMenuId()===e?null:e)}isActionsMenuOpen(e){return this.openActionsMenuId()===e}formatCost(e){return e?`\u20AC ${e.toFixed(2)}`:"N/A"}approveClient(e){this.dataService.updateUser(e,{status:"Active"}),this.notificationService.addNotification(this.i18n.translate("professionalApproved",{name:this.allUsers().find(t=>t.id===e)?.name||"Professional"}))}rejectClient(e){confirm(this.i18n.translate("confirmRejectRegistration"))&&(this.dataService.updateUser(e,{status:"Rejected"}),this.notificationService.addNotification(this.i18n.translate("professionalRejected",{name:this.allUsers().find(t=>t.id===e)?.name||"Professional"})))}selectRequestForQuote(e){this.quoteRequest.set(e),this.quoteAmount.set(e.cost||null)}submitQuote(){let e=this.quoteRequest(),t=this.quoteAmount();!e||!t||t<=0||(this.dataService.updateServiceRequest(e.id,{cost:t,status:"Or\xE7amento enviado"}),this.notificationService.addNotification(this.i18n.translate("quoteSubmitted",{id:e.id.toString()})),this.quoteRequest.set(null),this.quoteAmount.set(null))}respondToQuote(e,t){let i=t?"Or\xE7amento aprovado":"Or\xE7amento rejeitado";this.dataService.updateServiceRequest(e,{status:i}),this.notificationService.addNotification(t?this.i18n.translate("quoteApproved",{id:e.toString()}):this.i18n.translate("quoteRejected",{id:e.toString()}))}async analyzeRequest(e){try{await this.workflowService.analyzeRequest(e.id),this.notificationService.addNotification(this.i18n.translate("requestAnalysisStarted",{title:e.title}))}catch(t){console.error("Error analyzing request:",t),this.notificationService.addNotification(this.i18n.translate("errorAnalyzingRequest"))}}async requestClarificationFromClient(e){let t=globalThis.prompt(this.i18n.translate("enterClarificationRequest"));if(t?.trim())try{await this.workflowService.requestClarification(e.id,t),this.notificationService.addNotification(this.i18n.translate("clarificationRequestSent",{title:e.title}))}catch(i){console.error("Error requesting clarification:",i),this.notificationService.addNotification(this.i18n.translate("errorRequestingClarification"))}}selectRequestForAssignment(e){this.assignmentRequest.set(e),this.assigningProfessionalId.set(null),this.resetSchedulingFields()}getProfessionalsForRequest(e){let t=this.professionals().filter(i=>i.specialties?.some(r=>r.id===e)||!i.specialties?.length);return t.length>0?t:this.professionals()}assignProfessional(){let e=this.assignmentRequest(),t=this.assigningProfessionalId(),i=this.scheduledDate(),r=this.scheduledTime(),o=this.estimatedDurationMinutes();if(!e||!t||!i||!r||!o)return;let s=this.combineDateTime(i,r);this.dataService.updateServiceRequest(e.id,{professional_id:t,status:"Agendado",scheduled_start_datetime:s,estimated_duration_minutes:o}).then(()=>{let a=this.dataService.authService.appUser();a&&this.dataService.loadInitialData(a)}),this.notificationService.addNotification(this.i18n.translate("professionalAssignedAndScheduled",{id:e.id.toString(),professional:this.getProfessionalName(t),date:this.formatDateTime(s)})),this.resetAssignmentForm()}resetSchedulingFields(){this.scheduledDate.set(""),this.scheduledTime.set(""),this.estimatedDurationMinutes.set(null)}resetAssignmentForm(){this.assignmentRequest.set(null),this.assigningProfessionalId.set(null),this.resetSchedulingFields()}cancelAssignment(){this.resetAssignmentForm()}getMinDate(){return new Date().toISOString().split("T")[0]}setEstimatedDuration(e){this.estimatedDurationMinutes.set(e)}combineDateTime(e,t){return`${e}T${t}:00.000Z`}formatDateTime(e){try{let t=new Date(e),i=this.i18n.language()==="pt"?"pt-PT":"en-US";return t.toLocaleString(i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){return console.error("Error formatting date:",t),e}}canAssignProfessional(){let e=this.estimatedDurationMinutes();return!!(this.assigningProfessionalId()&&this.scheduledDate()&&this.scheduledTime()&&e&&e>0)}needsProfessionalAssignment(e){return e.status==="Agendado"&&!e.professional_id||e.status==="Or\xE7amento aprovado"||e.status==="Aprovado"}openDateProposalModal(e){this.dateProposalRequest.set(e),this.proposedExecutionDate.set(""),this.proposedExecutionTime.set(""),this.proposedExecutionNotes.set("")}proposeDateExecution(){let e=this.dateProposalRequest(),t=this.proposedExecutionDate(),i=this.proposedExecutionTime(),r=this.proposedExecutionNotes();if(!e||!t||!i){this.notificationService.addNotification(this.i18n.translate("fillRequiredFields"));return}let o=new Date(`${t}T${i}`);this.dataService.proposeExecutionDate(e.id,o,r.trim()||void 0),this.notificationService.addNotification(this.i18n.translate("executionDateProposed",{id:e.id.toString()})),this.cancelDateProposal()}cancelDateProposal(){this.dateProposalRequest.set(null),this.proposedExecutionDate.set(""),this.proposedExecutionTime.set(""),this.proposedExecutionNotes.set("")}canProposeDate(){return!!(this.proposedExecutionDate()&&this.proposedExecutionTime())}isRequestAwaitingDateProposal(e){return e.status==="Or\xE7amento aprovado"}toggleNewProfessionalSpecialty(e,t){let i=t.target.checked,r=this.newProfessionalSpecialties();i?r.some(o=>o.id===e.id)||this.newProfessionalSpecialties.set([...r,e]):this.newProfessionalSpecialties.set(r.filter(o=>o.id!==e.id))}addProfessional(){let e=this.newProfessionalName().trim(),t=this.newProfessionalEmail().trim();if(!e||!t){this.notificationService.addNotification(this.i18n.translate("fillRequiredFields"));return}this.notificationService.addNotification(this.i18n.translate("professionalAdded",{name:e})),this.resetNewProfessionalForm()}resetNewProfessionalForm(){this.showAddProfessionalForm.set(!1),this.newProfessionalName.set(""),this.newProfessionalEmail.set(""),this.newProfessionalSpecialties.set([])}startEditProfessional(e){this.editingProfessional.set(e),this.editingProfessionalName.set(e.name),this.editingProfessionalEmail.set(e.email),this.editingProfessionalSpecialties.set(e.specialties?[...e.specialties]:[])}toggleEditProfessionalSpecialty(e,t){let i=t.target.checked,r=this.editingProfessionalSpecialties();i?r.some(o=>o.id===e.id)||this.editingProfessionalSpecialties.set([...r,e]):this.editingProfessionalSpecialties.set(r.filter(o=>o.id!==e.id))}saveProfessionalEdit(){let e=this.editingProfessional();if(!e)return;let t={name:this.editingProfessionalName(),email:this.editingProfessionalEmail(),specialties:this.editingProfessionalSpecialties()};this.dataService.updateUser(e.id,t),this.notificationService.addNotification(this.i18n.translate("professionalUpdated",{name:t.name})),this.cancelEditProfessional()}cancelEditProfessional(){this.editingProfessional.set(null),this.editingProfessionalName.set(""),this.editingProfessionalEmail.set(""),this.editingProfessionalSpecialties.set([])}startEditCategory(e){this.editingCategory.set(e),this.editingCategoryName.set(e.name)}saveCategoryEdit(){let e=this.editingCategory(),t=this.editingCategoryName().trim();if(!e||!t||t===e.name){this.editingCategory.set(null);return}if(this.allCategories().some(i=>i.name===t)){this.notificationService.addNotification(this.i18n.translate("categoryAlreadyExists"));return}this.allCategories.update(i=>i.map(r=>r.id===e.id?J(F({},r),{name:t}):r)),this.notificationService.addNotification(this.i18n.translate("categoryUpdated",{old:e.name,new:t})),this.editingCategory.set(null),this.editingCategoryName.set("")}addCategory(){let e=this.newCategory().trim();if(e&&!this.allCategories().some(t=>t.name===e)){let t={id:Date.now(),name:e};this.allCategories.update(i=>[...i,t]),this.newCategory.set(""),this.notificationService.addNotification(this.i18n.translate("categoryAdded",{category:e}))}else this.allCategories().some(t=>t.name===e)&&this.notificationService.addNotification(this.i18n.translate("categoryAlreadyExists"))}deleteCategory(e){confirm(this.i18n.translate("confirmDeleteCategory",{category:e.name}))&&(this.allCategories.update(t=>t.filter(i=>i.id!==e.id)),this.notificationService.addNotification(this.i18n.translate("categoryDeleted",{category:e.name})))}activateClient(e){this.dataService.updateUser(e,{status:"Active"}),this.notificationService.addNotification(this.i18n.translate("clientActivated",{name:this.allUsers().find(t=>t.id===e)?.name||"Cliente"}))}deactivateClient(e){confirm(this.i18n.translate("confirmDeactivateClient"))&&(this.dataService.updateUser(e,{status:"Rejected"}),this.notificationService.addNotification(this.i18n.translate("clientDeactivated",{name:this.allUsers().find(t=>t.id===e)?.name||"Cliente"})))}getClientStats(e){let t=this.allRequests().filter(o=>o.client_id===e),i=t.filter(o=>o.status==="Finalizado"),r=i.reduce((o,s)=>o+(s.cost||0),0);return{totalRequests:t.length,completedRequests:i.length,totalSpent:r,lastServiceDate:t.length>0?Math.max(...t.map(o=>new Date(o.requested_date).getTime())):null}}exportToCSV(){this.exportFinancialsAsCSV()}generateInvoice(e){this.invoiceRequest.set(e)}printInvoice(){globalThis.print()}exportFinancialsAsCSV(){let e=this.completedRequests();if(e.length===0){this.notificationService.addNotification(this.i18n.translate("noDataToExport"));return}let t=this.i18n,i=[t.translate("csvId"),t.translate("csvClient"),t.translate("csvProfessional"),t.translate("csvService"),t.translate("csvCompletionDate"),t.translate("csvPaymentStatus"),t.translate("csvBaseValue"),t.translate("csvTax"),t.translate("csvTotalValue")],r=e.map(l=>{let c=this.getClientName(l.client_id),d=this.getProfessionalName(l.professional_id),m=(l.cost||0)*.07,_=(l.cost||0)+m;return[l.id,c,d,l.title,l.scheduled_date||l.requested_date,l.payment_status,(l.cost||0).toFixed(2),m.toFixed(2),_.toFixed(2)].join(",")}),o="data:text/csv;charset=utf-8,"+[i.join(","),...r].join(`
`),s=encodeURI(o),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download","financial_report.csv"),document.body.appendChild(a),a.click(),a.remove(),this.notificationService.addNotification(this.i18n.translate("reportExported"))}handleApprove(e){this.approveClient(e.id)}handleReject(e){this.rejectClient(e.id)}viewRequestDetails(e){console.log("Admin Dashboard - viewRequestDetails called:",e),globalThis.postMessage({type:"OPEN_REQUEST_DETAILS",payload:e},globalThis.location.origin)}openChat(e){console.log("Admin Dashboard - openChat called:",e),globalThis.postMessage({type:"OPEN_CHAT",payload:e},globalThis.location.origin)}changeProfessional(e){console.log("Admin Dashboard - changeProfessional called:",e),globalThis.postMessage({type:"OPEN_CHANGE_PROFESSIONAL",payload:e},globalThis.location.origin),this.notificationService.addNotification(this.i18n.translate("changeProfessionalAction"))}adjustSchedule(e){console.log("Admin Dashboard - adjustSchedule called:",e),globalThis.postMessage({type:"OPEN_ADJUST_SCHEDULE",payload:e},globalThis.location.origin),this.notificationService.addNotification(this.i18n.translate("adjustScheduleAction"))}calculateTrends(){return{revenue:"+12%",approvals:"+3",activeServices:"-5%",professionals:"+2",clients:"+8%"}}getNewTodayCount(){return Math.floor(Math.random()*5)}getUrgentCount(){return Math.floor(Math.random()*3)}createNewService(){this.notificationService.addNotification(this.i18n.translate("newService")+" - "+this.i18n.translate("featureComingSoon"))}generateReport(){this.exportToCSV()}viewAllRequests(){this.setView("requests")}manageUsers(){this.setView("approvals")}getRelativeTime(e){let t=new Date,i=new Date(e),r=Math.floor((t.getTime()-i.getTime())/(1e3*60));return r<60?`${r} ${this.i18n.translate("minutesAgo")}`:r<1440?`${Math.floor(r/60)} ${this.i18n.translate("hoursAgo")}`:`${Math.floor(r/1440)} ${this.i18n.translate("daysAgo")}`}startAutoRefresh(){this.refreshInterval&&clearInterval(this.refreshInterval),this.refreshInterval=setInterval(()=>{this.refreshData()},3e4)}stopAutoRefresh(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}refreshData(){let e=this.dataService.authService.appUser();e&&(this.dataService.loadInitialData(e),this.lastUpdate.set(new Date))}ngOnDestroy(){this.stopAutoRefresh()}};Gf.\u0275fac=function(t){return new(t||Gf)},Gf.\u0275cmp=ce({type:Gf,selectors:[["app-admin-dashboard"]],viewQuery:function(t,i){if(t&1&&_u(fle,5),t&2){let r;cn(r=un())&&(i.actionsMenus=r)}},hostBindings:function(t,i){t&1&&D("click",function(o){return i.onDocumentClick(o)},hT)},inputs:{viewFromParent:[1,"viewFromParent"]},decls:16,vars:6,consts:[["actionsMenu",""],[1,"flex","flex-col","h-full","bg-gray-100"],[1,"flex-1","overflow-y-auto","p-3","sm:p-4","lg:p-6"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"bg-white","rounded-lg","shadow-md"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","no-print"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-2xl","font-bold"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-3","sm:gap-4","lg:gap-6","mt-6"],[1,"bg-white","p-6","rounded-lg","shadow-md","hover:shadow-lg","transition-all","duration-300","transform","hover:-translate-y-1","flex","flex-col","relative","overflow-hidden",3,"cursor-pointer","title"],[1,"mt-8"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"text-lg","font-semibold","mb-4","flex","items-center"],[1,"fas","fa-bolt","text-yellow-500","mr-2"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"flex","flex-col","items-center","p-4","bg-gradient-to-br","from-blue-50","to-blue-100","hover:from-blue-100","hover:to-blue-200","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-md",3,"click"],[1,"w-12","h-12","bg-blue-500","rounded-full","flex","items-center","justify-center","mb-2"],[1,"fas","fa-plus","text-white","text-lg"],[1,"text-sm","font-medium","text-blue-700"],[1,"flex","flex-col","items-center","p-4","bg-gradient-to-br","from-green-50","to-green-100","hover:from-green-100","hover:to-green-200","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-md",3,"click"],[1,"w-12","h-12","bg-green-500","rounded-full","flex","items-center","justify-center","mb-2"],[1,"fas","fa-chart-bar","text-white","text-lg"],[1,"text-sm","font-medium","text-green-700"],[1,"flex","flex-col","items-center","p-4","bg-gradient-to-br","from-purple-50","to-purple-100","hover:from-purple-100","hover:to-purple-200","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-md",3,"click"],[1,"w-12","h-12","bg-purple-500","rounded-full","flex","items-center","justify-center","mb-2"],[1,"fas","fa-list","text-white","text-lg"],[1,"text-sm","font-medium","text-purple-700"],[1,"flex","flex-col","items-center","p-4","bg-gradient-to-br","from-orange-50","to-orange-100","hover:from-orange-100","hover:to-orange-200","rounded-lg","transition-all","duration-300","transform","hover:scale-105","hover:shadow-md",3,"click"],[1,"w-12","h-12","bg-orange-500","rounded-full","flex","items-center","justify-center","mb-2"],[1,"fas","fa-users","text-white","text-lg"],[1,"text-sm","font-medium","text-orange-700"],[1,"my-8"],[3,"title","data","labels"],[3,"title","data"],[1,"text-lg","font-semibold","flex","items-center"],[1,"fas","fa-history","text-indigo-500","mr-2"],[1,"text-sm","text-gray-500","flex","items-center"],[1,"fas","fa-sync-alt","mr-1"],[1,"space-y-3"],[1,"text-center","py-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","hover:shadow-lg","transition-all","duration-300","transform","hover:-translate-y-1","flex","flex-col","relative","overflow-hidden",3,"click","keydown.enter","keydown.space","title"],[1,"absolute","top-2","right-2"],[1,"flex","items-center","space-x-4","mb-3"],[1,"flex-shrink-0","w-12","h-12","flex","items-center","justify-center","rounded-full","transition-transform","duration-300","hover:scale-110"],[1,"text-2xl"],[1,"flex-1"],[1,"text-gray-500","text-sm","font-medium"],[1,"text-2xl","font-bold","text-gray-800","mt-1"],[1,"flex","items-center","justify-between","mt-2"],[1,"flex","items-center","space-x-1"],[1,"fas","fa-arrow-up","text-xs"],[1,"text-xs","font-medium"],[1,"text-xs","text-gray-400"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-red-100","text-red-800","animate-pulse"],[1,"flex","items-start","space-x-3","p-3","rounded-lg","hover:bg-gray-50","transition-colors"],[1,"flex-shrink-0","w-8","h-8","rounded-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-sm"],[1,"flex-1","min-w-0"],[1,"text-sm","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"fas","fa-inbox","text-4xl","text-gray-300","mb-2"],[1,"text-gray-500"],[1,"p-4","border-b","border-gray-200","bg-gray-50","space-y-4"],[1,"flex","flex-wrap","items-center","gap-2"],[1,"text-sm","font-semibold","text-gray-700","mr-2"],[3,"class"],[1,"flex","flex-wrap","gap-4","items-end"],["for","filterStatus",1,"block","text-xs","font-semibold","text-gray-600","mb-1"],["id","filterStatus",1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["for","filterStartDate",1,"block","text-xs","font-semibold","text-gray-600","mb-1"],[1,"flex","items-center","gap-2"],["type","date","id","filterStartDate",1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],["type","date","id","filterEndDate",1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],["for","filterDistrict",1,"block","text-xs","font-semibold","text-gray-600","mb-1"],["id","filterDistrict",1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],["for","filterProfessional",1,"block","text-xs","font-semibold","text-gray-600","mb-1"],["id","filterProfessional",1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],[1,"flex-1","min-w-[200px]"],["for","searchInput",1,"block","text-xs","font-semibold","text-gray-600","mb-1"],["type","text","id","searchInput",1,"border","rounded","px-2","py-1","text-sm","w-full",3,"ngModelChange","ngModel","placeholder"],[1,"px-3","py-1","text-xs","bg-gray-300","rounded","hover:bg-gray-400",3,"click"],[1,"flex","flex-wrap","items-center","gap-2","pt-3","border-t","border-gray-200","mt-3"],[1,"hidden","lg:block"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","tracking-wider"],["type","button",1,"w-full","text-left","cursor-pointer","hover:bg-gray-100","transition-colors","select-none","focus:outline-none","focus-visible:ring-2","focus-visible:ring-indigo-500","rounded","px-2","-mx-2",3,"click"],[1,"flex","items-center","justify-between"],[1,"fas","fa-sort","text-gray-400","ml-1"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"lg:hidden","p-4","space-y-4"],[1,"border","border-gray-200","rounded-lg","p-4","space-y-3"],[1,"bg-white","px-4","py-3","flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","border-t","border-gray-200","space-y-3","sm:space-y-0"],[3,"click"],[1,"text-sm","font-medium","text-gray-600"],[1,"inline-flex","items-center","gap-x-1.5","py-1.5","px-3","rounded-full","text-xs","font-medium","bg-teal-100","text-teal-800"],[1,"flex-shrink-0","h-4","w-4","rounded-full","inline-flex","items-center","justify-center","text-teal-600","hover:bg-teal-200","hover:text-teal-500",3,"click"],[1,"fas","fa-times","text-xs"],[1,"fas","fa-sort-up","text-indigo-600","ml-1"],[1,"fas","fa-sort-down","text-indigo-600","ml-1"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-blue-600","rounded-md","hover:bg-blue-700","transition-colors"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-green-600","rounded-md","hover:bg-green-700","transition-colors"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","transition-colors"],[1,"relative"],[1,"p-2","text-gray-500","hover:text-gray-700","hover:bg-gray-100","rounded-full","transition-colors",3,"click"],[1,"fas","fa-ellipsis-v"],[1,"absolute","right-0","z-10","mt-2","w-48","origin-top-right","bg-white","rounded-md","shadow-lg","ring-1","ring-black","ring-opacity-5","focus:outline-none"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-blue-600","rounded-md","hover:bg-blue-700","transition-colors",3,"click"],[1,"fas","fa-search","mr-1"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-green-600","rounded-md","hover:bg-green-700","transition-colors",3,"click"],[1,"fas","fa-calculator","mr-1"],[1,"fas","fa-user-plus","mr-1"],[1,"px-3","py-1","text-xs","font-semibold","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","transition-colors",3,"click"],["role","menu","aria-orientation","vertical",1,"py-1"],["href","#","role","menuitem",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],[1,"fas","fa-eye","w-5","mr-2"],[1,"fas","fa-comments","w-5","mr-2"],["href","#","role","menuitem",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"fas","fa-question-circle","w-5","mr-2"],[1,"flex","justify-between","items-start"],[1,"text-sm","font-semibold","text-gray-900","flex-1","mr-3"],[1,"flex-shrink-0","text-xs"],[1,"space-y-2","text-sm"],[1,"flex","justify-between"],[1,"text-gray-600","font-medium"],[1,"text-gray-900"],[1,"text-gray-900","font-semibold"],[1,"pt-3","border-t","border-gray-100"],[1,"flex","flex-wrap","gap-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center"],[1,"flex","w-full","gap-2","mt-2"],[1,"flex-1","px-3","py-2","text-sm","font-medium","text-blue-600","bg-blue-50","hover:bg-blue-100","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-eye","mr-2"],[1,"flex-1","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-50","hover:bg-gray-100","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-comments","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-calculator","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-search","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-yellow-600","hover:bg-yellow-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-question-circle","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-green-600","hover:bg-green-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-user-plus","mr-2"],[1,"flex-1","min-w-[100px]","px-3","py-2","text-sm","font-medium","text-white","bg-yellow-600","hover:bg-yellow-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-2","py-1","text-sm",3,"change","value"],["value","5"],["value","10"],["value","25"],["value","50"],[1,"hidden","sm:block"],[1,"font-medium"],[1,"flex","justify-center","sm:justify-end"],["aria-label","Pagination",1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"sr-only"],[1,"hidden","sm:flex"],[1,"sm:hidden","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-right"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"],[1,"text-xl","font-semibold","text-gray-800","p-4","border-b"],[1,"text-center","text-gray-500","p-6"],[1,"flex","gap-2","items-center"],[1,"p-2","text-green-600","hover:text-green-800","hover:bg-green-50","rounded-full","transition-colors","duration-200",3,"click","title"],[1,"fas","fa-check"],[1,"p-2","text-red-600","hover:text-red-800","hover:bg-red-50","rounded-full","transition-colors","duration-200",3,"click","title"],[1,"fas","fa-times"],[1,"flex","items-center"],[1,"h-10","w-10","rounded-full","bg-gray-300","flex","items-center","justify-center","mr-3"],[1,"fas","fa-user","text-gray-600"],[1,"text-sm","font-semibold","text-gray-900"],[1,"fas","fa-envelope","text-gray-400","w-4","mr-2"],[1,"fas","fa-phone","text-gray-400","w-4","mr-2"],[1,"flex","gap-2"],[1,"flex-1","px-4","py-2","text-sm","font-medium","text-white","bg-green-600","hover:bg-green-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-check","mr-2"],[1,"flex-1","px-4","py-2","text-sm","font-medium","text-white","bg-red-600","hover:bg-red-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-times","mr-2"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","lg:gap-6","mb-6"],[1,"p-4","border-b","flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-4"],[1,"text-xl","font-semibold"],[1,"w-full","sm:w-auto","px-4","py-2","text-sm","font-medium","text-white","bg-green-600","rounded-md","hover:bg-green-700",3,"click"],[1,"fas","fa-file-csv","mr-2"],[1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"px-4","py-3","text-right","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"px-4","py-3","text-center","text-xs","font-medium","text-gray-500","tracking-wider"],[1,"bg-white","p-4","rounded-lg","shadow"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-orange-600"],[1,"px-4","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"px-4","py-4","whitespace-nowrap","text-sm"],[1,"px-4","py-4","whitespace-nowrap","text-sm","font-semibold"],[1,"px-4","py-4","whitespace-nowrap","text-sm","text-right"],[1,"px-4","py-4","whitespace-nowrap","text-sm","text-center"],[1,"p-2","text-indigo-600","hover:text-indigo-800","hover:bg-indigo-50","rounded-full","transition-colors","duration-200",3,"click","title"],[1,"fas","fa-file-invoice"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full","flex-shrink-0"],[1,"text-gray-900","font-semibold","text-lg"],[1,"w-full","px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center",3,"click"],[1,"fas","fa-file-invoice","mr-2"],[1,"w-full","sm:w-auto","px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700",3,"click"],[1,"fas","fa-plus","mr-2"],[1,"p-4","border-b","bg-gray-50"],[1,"text-lg","font-medium","mb-2"],[1,"space-y-4"],["type","text",1,"w-full","p-2","border","rounded-md",3,"ngModelChange","ngModel","placeholder"],["type","email",1,"w-full","p-2","border","rounded-md",3,"ngModelChange","ngModel","placeholder"],[1,"text-sm","font-medium"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-2","mt-2"],[1,"flex","flex-col","sm:flex-row","justify-end","space-y-2","sm:space-y-0","sm:space-x-2"],[1,"px-4","py-2","text-sm","rounded-md","bg-gray-200",3,"click"],[1,"px-4","py-2","text-sm","rounded-md","text-white","bg-green-600",3,"click"],["type","checkbox",3,"change","id"],[1,"ml-2",3,"for"],[1,"fas","fa-edit"],[1,"flex","items-center","flex-1"],[1,"h-10","w-10","rounded-full","bg-indigo-100","flex","items-center","justify-center","mr-3"],[1,"fas","fa-user-tie","text-indigo-600"],[1,"text-xs","font-medium","text-gray-600","mb-2"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","px-2","py-1","text-xs","font-medium","bg-gray-100","text-gray-800","rounded-full"],[1,"p-4","border-b"],[1,"text-gray-600","text-sm","mt-1"],[1,"text-center","py-12"],[1,"hidden","lg:block","overflow-x-auto"],[1,"h-8","w-8","rounded-full","mr-3",3,"src","alt"],[1,"h-8","w-8","rounded-full","bg-gray-300","flex","items-center","justify-center","mr-3"],[1,"text-xs","text-orange-600"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"text-center"],[1,"font-medium","text-green-600"],[1,"text-gray-400"],[1,"p-2","text-red-600","hover:text-red-800","hover:bg-red-50","rounded-full","transition-colors","duration-200",3,"title"],[1,"p-2","text-green-600","hover:text-green-800","hover:bg-green-50","rounded-full","transition-colors","duration-200",3,"title"],[1,"fas","fa-user","text-gray-600","text-sm"],[1,"fas","fa-user-times"],[1,"fas","fa-user-check"],[1,"border","border-gray-200","rounded-lg","p-4","space-y-4"],[1,"flex","items-start","justify-between"],[1,"h-12","w-12","rounded-full","mr-3",3,"src","alt"],[1,"h-12","w-12","rounded-full","bg-gray-300","flex","items-center","justify-center","mr-3"],[1,"grid","grid-cols-3","gap-4","py-3","border-t","border-gray-100"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","font-medium","text-green-600"],[1,"flex-1","px-4","py-2","text-sm","font-medium","text-white","bg-red-600","hover:bg-red-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center"],[1,"flex-1","px-4","py-2","text-sm","font-medium","text-white","bg-green-600","hover:bg-green-700","rounded-md","transition-colors","duration-200","flex","items-center","justify-center"],[1,"fas","fa-user-times","mr-2"],[1,"fas","fa-user-check","mr-2"],[1,"fas","fa-user-friends","text-4xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-md"],[1,"text-lg","font-bold","mb-4"],[1,"text-sm","text-gray-600","mb-4"],["for","quoteAmount",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","quoteAmount",1,"mt-1","w-full","p-2","border","rounded-md",3,"ngModelChange","ngModel"],[1,"mt-6","flex","justify-end","space-x-3"],[1,"px-4","py-2","rounded-md","bg-gray-200",3,"click"],[1,"px-4","py-2","rounded-md","bg-indigo-600","text-white","disabled:bg-indigo-300",3,"click","disabled"],[1,"px-4","py-2","rounded-md","bg-red-600","text-white",3,"click"],[1,"px-4","py-2","rounded-md","bg-green-600","text-white",3,"click"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-2xl","max-h-[90vh]","overflow-y-auto"],[1,"flex","items-center","gap-2","mb-4"],["for","lang-select-modal",1,"font-medium"],["id","lang-select-modal",1,"border","rounded","px-2","py-1",3,"change"],["value","pt"],["value","en"],[1,"text-sm","text-gray-600","mb-6"],[1,"space-y-6"],["for","professionalSelect",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","professionalSelect",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue"],[1,"border-t","pt-6"],[1,"text-md","font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["for","scheduledDate",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","scheduledDate","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel","min"],["for","scheduledTime",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","time","id","scheduledTime","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],[1,"mt-4"],["for","estimatedDuration",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","estimatedDuration","min","15","max","1440","step","15","placeholder","60","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","text-sm"],[1,"text-xs","text-gray-500","mt-1"],[1,"mt-3"],[1,"text-sm","text-gray-600","mb-2"],["type","button",1,"px-3","py-1","text-xs","bg-gray-100","hover:bg-gray-200","rounded-md","transition-colors",3,"click"],[1,"mt-4","p-3","bg-blue-50","rounded-md"],[1,"mt-8","flex","flex-col","sm:flex-row","justify-end","space-y-2","sm:space-y-0","sm:space-x-3"],[1,"px-4","py-2","rounded-md","bg-gray-200","hover:bg-gray-300","transition-colors",3,"click"],[1,"px-4","py-2","rounded-md","bg-indigo-600","text-white","hover:bg-indigo-700","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],[1,"text-sm","text-blue-800"],[1,"fas","fa-info-circle","mr-1"],[1,"bg-blue-50","p-4","rounded-md"],[1,"font-semibold","text-blue-800","mb-2"],[1,"text-sm","text-blue-700"],[1,"fas","fa-user","mr-1"],[1,"fas","fa-map-marker-alt","mr-1"],["for","proposedExecutionDate",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","proposedExecutionDate","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel","min"],["for","proposedExecutionTime",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","time","id","proposedExecutionTime","required","",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel"],["for","proposedExecutionNotes",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","proposedExecutionNotes","rows","3",1,"w-full","p-3","border","border-gray-300","rounded-md","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","ngModel","placeholder"],[1,"p-3","bg-yellow-50","rounded-md"],[1,"fas","fa-euro-sign","mr-1"],[1,"text-sm","text-yellow-800"],[1,"bg-white","p-6","rounded-lg","shadow-xl","w-full","max-w-lg"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-2","mt-2"],[1,"px-4","py-2","rounded-md","bg-indigo-600","text-white",3,"click"],["type","checkbox",3,"change","id","checked"],[1,"bg-white","p-8","rounded-lg","shadow-xl","w-full","max-w-2xl"],[1,"invoice-content"],[1,"flex","justify-between","items-center","border-b","pb-4","mb-6"],[1,"text-3xl","font-bold"],[1,"text-right"],[1,"font-semibold"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-2","gap-8","mb-8"],[1,"font-semibold","text-gray-600","mb-1"],[1,"font-semibold","text-gray-600","mb-2"],[1,"w-full","mb-8"],[1,"p-2","text-left","font-medium","text-gray-600"],[1,"p-2","text-right","font-medium","text-gray-600"],[1,"border-b"],[1,"p-2"],[1,"p-2","text-right"],[1,"flex","justify-end"],[1,"w-full","max-w-xs"],[1,"flex","justify-between","text-gray-600"],[1,"flex","justify-between","font-bold","text-xl","mt-2","pt-2","border-t"],[1,"text-center","text-sm","text-gray-500","mt-12"],[1,"mt-8","flex","justify-end","space-x-3","no-print"]],template:function(t,i){if(t&1&&(p(0,"div",1)(1,"div",2)(2,"div",1)(3,"div",2),j(4,Sle,58,37)(5,uce,124,108,"div",3)(6,mce,6,4,"div",3)(7,_ce,41,28)(8,Dce,32,19,"div",4)(9,Ace,1,0,"app-category-management")(10,Qce,10,7,"div",4),f()(),j(11,Zce,19,17,"div",5),j(12,Kce,83,57,"div",5),j(13,nue,47,44,"div",5),j(14,rue,24,20,"div",5),j(15,oue,77,51,"div",6),f()()),t&2){let r,o,s,a,l,c;u(4),q((r=i.currentView())==="overview"?4:r==="requests"?5:r==="approvals"?6:r==="finances"?7:r==="professionals"?8:r==="categories"?9:r==="clients"?10:-1),u(7),q((o=i.quoteRequest())?11:-1,o),u(),q((s=i.assignmentRequest())?12:-1,s),u(),q((a=i.dateProposalRequest())?13:-1,a),u(),q((l=i.editingProfessional())?14:-1,l),u(),q((c=i.invoiceRequest())?15:-1,c)}},dependencies:[pe,ft,ii,ri,Vt,TM,yo,Qt,bi,kM,MM,$t,Ux,$x,Hx,zx,Qi,Gi,Se],encapsulation:2,changeDetection:0});var Wx=Gf;var sue=["chatContainer"],aue=(n,e)=>e.id;function lue(n,e){n&1&&(p(0,"div",8),k(1,"i",14),p(2,"p"),h(3),g(4,"i18n"),f()()),n&2&&(u(3),R(v(4,1,"noMessages")))}function cue(n,e){if(n&1&&k(0,"img",18),n&2){let t=b().$implicit;A("src",t.sender_avatar_url,dr)("alt",t.sender_name)}}function uue(n,e){n&1&&(p(0,"div",19),k(1,"i",23),f())}function due(n,e){if(n&1&&(p(0,"div")(1,"div",16)(2,"div",17),j(3,cue,1,2,"img",18)(4,uue,2,0,"div",19),p(5,"span",20),h(6),f()(),p(7,"p",21),h(8),f(),p(9,"p",22),h(10),g(11,"date"),f()()()),n&2){let t=e.$implicit;me(t.isCurrentUser?"flex justify-end":"flex justify-start"),u(),me(t.isCurrentUser?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"),u(2),q(t.sender_avatar_url?3:4),u(2),me(t.isCurrentUser?"text-blue-100":"text-gray-600"),u(),R(t.sender_name),u(2),R(t.text),u(),me(t.isCurrentUser?"text-blue-200":"text-gray-500"),u(),C(" ",Ke(11,12,t.timestamp,"short")," ")}}function pue(n,e){if(n&1&&oe(0,due,12,15,"div",15,aue),n&2){let t=b();se(t.messages())}}var Qf=class Qf{constructor(){this.serviceRequest=ge.required();this.currentUser=ge.required();this.close=de();this.dataService=L(At);this.chatContainer=Cu("chatContainer");this.messages=K(()=>this.dataService.chatMessages().filter(e=>e.request_id===this.serviceRequest().id).map(e=>{let t=this.dataService.users().find(i=>i.id===e.sender_id);return J(F({},e),{sender_name:t?.name||"Unknown",sender_avatar_url:t?.avatar_url,isCurrentUser:e.sender_id===this.currentUser().id})}));this.newMessageText="";Ut(()=>{let e=this.serviceRequest();e&&this.dataService.fetchChatMessages(e.id)}),Ut(()=>{this.messages(),this.scrollToBottom()})}sendMessage(){this.newMessageText.trim()&&(this.dataService.addChatMessage(this.serviceRequest().id,this.currentUser().id,this.newMessageText.trim()),this.newMessageText="",setTimeout(()=>this.scrollToBottom(),50))}scrollToBottom(){try{if(this.chatContainer()){let e=this.chatContainer().nativeElement;e.scrollTop=e.scrollHeight}}catch(e){console.error("Could not scroll to bottom:",e)}}};Qf.\u0275fac=function(t){return new(t||Qf)},Qf.\u0275cmp=ce({type:Qf,selectors:[["app-chat"]],viewQuery:function(t,i){t&1&&Pl(i.chatContainer,sue,5),t&2&&bu()},inputs:{serviceRequest:[1,"serviceRequest"],currentUser:[1,"currentUser"]},outputs:{close:"close"},decls:19,vars:8,consts:[["chatContainer",""],[1,"flex","flex-col","h-full","bg-white","rounded-lg"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"text-gray-400","hover:text-gray-600","transition-colors",3,"click"],[1,"fas","fa-times","text-xl"],[1,"flex-1","overflow-y-auto","p-4","space-y-4","max-h-96"],[1,"text-center","text-gray-500","py-8"],[1,"border-t","border-gray-200","p-4"],[1,"flex","space-x-2",3,"ngSubmit"],["type","text","name","messageText","autocomplete","off",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","placeholder"],["type","submit",1,"px-4","py-2","bg-blue-500","text-white","rounded-md","hover:bg-blue-600","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors",3,"disabled"],[1,"fas","fa-paper-plane"],[1,"fas","fa-comments","text-4xl","mb-4","text-gray-300"],[3,"class"],[1,"max-w-xs","lg:max-w-md","px-4","py-2","rounded-lg","shadow"],[1,"flex","items-center","space-x-2","mb-1"],[1,"w-6","h-6","rounded-full",3,"src","alt"],[1,"w-6","h-6","rounded-full","bg-gray-300","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"text-sm","whitespace-pre-wrap"],[1,"text-xs","mt-1"],[1,"fas","fa-user","text-xs","text-gray-600"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div",2)(2,"div")(3,"h3",3),h(4),f(),p(5,"p",4),h(6),f()(),p(7,"button",5),D("click",function(){return S(r),E(i.close.emit())}),k(8,"i",6),f()(),p(9,"div",7,0),j(11,lue,5,3,"div",8)(12,pue,2,0),f(),p(13,"div",9)(14,"form",10),D("ngSubmit",function(){return S(r),E(i.sendMessage())}),p(15,"input",11),g(16,"i18n"),Nt("ngModelChange",function(s){return S(r),Lt(i.newMessageText,s)||(i.newMessageText=s),E(s)}),f(),p(17,"button",12),k(18,"i",13),f()()()()}t&2&&(u(4),C(" Chat - ",i.serviceRequest().title," "),u(2),R(i.serviceRequest().category),u(5),q(i.messages().length===0?11:12),u(4),Rt("ngModel",i.newMessageText),A("placeholder",v(16,6,"typeMessage")),u(2),A("disabled",!i.newMessageText.trim()))},dependencies:[pe,ft,ni,Vt,Qt,ti,$t,Vn,Gi,Se],encapsulation:2,changeDetection:0});var Gx=Qf;var En=class{static getColor(e){return this.colorMap[e]||"#6b7280"}static getLabel(e,t){return t.translate(this.statusMap[e]||"statusPending")}};En.colorMap={Solicitado:"#eab308","Em an\xE1lise":"#06b6d4","Aguardando esclarecimentos":"#f59e0b","Or\xE7amento enviado":"#0ea5e9","Aguardando aprova\xE7\xE3o do or\xE7amento":"#6366f1","Or\xE7amento aprovado":"#22c55e","Or\xE7amento rejeitado":"#ef4444","Aguardando data de execu\xE7\xE3o":"#fbbf24","Data proposta pelo administrador":"#3b82f6","Aguardando aprova\xE7\xE3o da data":"#6366f1","Data aprovada":"#22c55e","Data rejeitada":"#ef4444","Buscando profissional":"#a855f7","Profissional selecionado":"#14b8a6","Aguardando confirma\xE7\xE3o do profissional":"#f97316",Agendado:"#3b82f6","Em execu\xE7\xE3o":"#8b5cf6","Conclu\xEDdo - Aguardando aprova\xE7\xE3o":"#84cc16",Aprovado:"#22c55e",Rejeitado:"#ef4444",Pago:"#10b981",Finalizado:"#059669",Cancelado:"#6b7280",Requested:"#eab308",InAnalysis:"#06b6d4",AwaitingClarifications:"#f59e0b",QuoteSent:"#0ea5e9",AwaitingQuoteApproval:"#6366f1",QuoteApproved:"#22c55e",QuoteRejected:"#ef4444",AwaitingExecutionDate:"#fbbf24",DateProposedByAdmin:"#3b82f6",AwaitingDateApproval:"#6366f1",DateApproved:"#22c55e",DateRejected:"#ef4444",SearchingProfessional:"#a855f7",ProfessionalSelected:"#14b8a6",AwaitingProfessionalConfirmation:"#f97316",Scheduled:"#3b82f6",InProgress:"#8b5cf6",CompletedAwaitingApproval:"#84cc16",Completed:"#059669",Cancelled:"#6b7280",Paid:"#10b981"},En.statusMap={Solicitado:"statusPending","Em an\xE1lise":"statusAnalyzing","Aguardando esclarecimentos":"statusAwaitingClarification","Or\xE7amento enviado":"statusQuoted","Aguardando aprova\xE7\xE3o do or\xE7amento":"statusAwaitingQuoteApproval","Or\xE7amento aprovado":"statusApproved","Or\xE7amento rejeitado":"statusQuoteRejected","Aguardando data de execu\xE7\xE3o":"statusAwaitingExecutionDate","Data proposta pelo administrador":"statusDateProposedByAdmin","Aguardando aprova\xE7\xE3o da data":"statusAwaitingDateApproval","Data aprovada":"statusDateApproved","Data rejeitada":"statusDateRejected","Buscando profissional":"statusSearchingProfessional","Profissional selecionado":"statusProfessionalSelected","Aguardando confirma\xE7\xE3o do profissional":"statusAwaitingProfessionalConfirmation",Agendado:"statusScheduled","Em execu\xE7\xE3o":"statusInProgress","Conclu\xEDdo - Aguardando aprova\xE7\xE3o":"statusCompletedAwaitingApproval",Aprovado:"statusApproved",Rejeitado:"statusRejected",Pago:"statusPaid",Finalizado:"statusCompleted",Cancelado:"statusCancelled",Requested:"statusPending",InAnalysis:"statusAnalyzing",AwaitingClarifications:"statusAwaitingClarification",QuoteSent:"statusQuoted",AwaitingQuoteApproval:"statusAwaitingQuoteApproval",QuoteApproved:"statusApproved",QuoteRejected:"statusQuoteRejected",AwaitingExecutionDate:"statusAwaitingExecutionDate",DateProposedByAdmin:"statusDateProposedByAdmin",AwaitingDateApproval:"statusAwaitingDateApproval",DateApproved:"statusDateApproved",DateRejected:"statusDateRejected",SearchingProfessional:"statusSearchingProfessional",ProfessionalSelected:"statusProfessionalSelected",AwaitingProfessionalConfirmation:"statusAwaitingProfessionalConfirmation",Scheduled:"statusScheduled",InProgress:"statusInProgress",CompletedAwaitingApproval:"statusCompletedAwaitingApproval",Completed:"statusCompleted",Cancelled:"statusCancelled",Paid:"statusPaid"};function fue(n,e){if(n&1){let t=H();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),g(4,"i18n"),D("click",function(){S(t);let r=b();return E(r.handleClose())}),k(5,"i",5),f(),p(6,"h2",6),h(7),g(8,"i18n"),f(),k(9,"span",7),f(),p(10,"div",8),k(11,"i",9),p(12,"label",10),h(13),g(14,"i18n"),f(),p(15,"select",11),g(16,"i18n"),D("change",function(r){S(t);let o=b();return E(o.setLanguage(r.target.value))}),p(17,"option",12),h(18,"Portugu\xEAs"),f(),p(19,"option",13),h(20,"English"),f()()(),p(21,"div",14)(22,"div",15)(23,"span",16),h(24),g(25,"i18n"),f(),p(26,"span",17),h(27),f()(),p(28,"div",15)(29,"span",16),h(30),g(31,"i18n"),f(),p(32,"span",17),h(33),f()(),p(34,"div",15)(35,"span",16),h(36),g(37,"i18n"),f(),p(38,"span",17),h(39),f()(),p(40,"div",15)(41,"span",16),h(42),g(43,"i18n"),f(),p(44,"span",18),h(45),g(46,"number"),f()()(),p(47,"div",19)(48,"button",20),D("click",function(){S(t);let r=b();return E(r.handleApprove())}),k(49,"i"),h(50),g(51,"i18n"),f(),p(52,"button",21),D("click",function(){S(t);let r=b();return E(r.handleReject())}),k(53,"i"),h(54),g(55,"i18n"),f()()()()}if(n&2){let t=b();u(3),kt("aria-label",ie(v(4,24,"back"))),A("disabled",t.loading()),u(4),C(" ",v(8,26,"quoteDetails")," "),u(6),C("",v(14,28,"language"),":"),u(2),kt("aria-label",ie(v(16,30,"language"))),A("value",t.selectedLanguage()),u(9),C("",v(25,32,"service"),":"),u(3),R(t.request().category),u(3),C("",v(31,34,"description"),":"),u(3),R(t.request().description),u(3),C("",v(37,36,"professional"),":"),u(3),R(t.request().professional_id),u(3),C("",v(43,38,"quote"),":"),u(3),C("\u20AC ",Ke(46,40,t.request().cost,"1.2-2")),u(3),A("disabled",t.loading()),u(),me(t.loading()?"fas fa-circle-notch fa-spin mr-2":"fas fa-check mr-2"),u(),C(" ",v(51,43,"approve")," "),u(2),A("disabled",t.loading()),u(),me(t.loading()?"fas fa-circle-notch fa-spin mr-2":"fas fa-times mr-2"),u(),C(" ",v(55,45,"reject")," ")}}var Yf=class Yf{constructor(){this.request=ge.required();this.user=ge.required();this.show=ge(!1);this.loading=ge(!1);this.approve=de();this.reject=de();this.close=de();this.i18n=L($e);this.selectedLanguage=B(this.i18n.language())}setLanguage(e){this.selectedLanguage.set(e),this.i18n.setLanguage(e)}handleApprove(){this.loading()||(this.approve.emit(this.request()),this.close.emit())}handleReject(){this.loading()||(this.reject.emit(this.request()),this.close.emit())}handleClose(){this.loading()||this.close.emit()}};Yf.\u0275fac=function(t){return new(t||Yf)},Yf.\u0275cmp=ce({type:Yf,selectors:[["app-budget-approval-modal"]],inputs:{request:[1,"request"],user:[1,"user"],show:[1,"show"],loading:[1,"loading"]},outputs:{approve:"approve",reject:"reject",close:"close"},decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-40"],[1,"bg-white","rounded-lg","shadow-lg","w-full","max-w-md","p-6","relative","mobile-safe"],[1,"flex","items-center","justify-between","mb-6"],[1,"rounded-full","p-2","bg-gray-100","hover:bg-gray-200","text-gray-600","focus:outline-none","focus:ring-2","focus:ring-indigo-500","disabled:opacity-50",3,"click","disabled","aria-label"],[1,"fas","fa-arrow-left","text-lg"],[1,"text-xl","font-semibold","text-gray-800","text-center","flex-1"],[1,"w-8"],[1,"mb-4","flex","items-center","justify-end","gap-2"],[1,"fas","fa-globe","text-gray-500"],["for","modal-language-select",1,"text-sm","text-gray-600"],["id","modal-language-select",1,"border","rounded","px-2","py-1","text-sm","focus:outline-none","focus:ring-2","focus:ring-indigo-500",3,"change","value","aria-label"],["value","pt"],["value","en"],[1,"mb-6","space-y-2"],[1,"text-gray-700"],[1,"font-medium"],[1,"ml-1"],[1,"text-green-700","font-bold","ml-1"],[1,"flex","flex-col","gap-3","mt-6"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","py-2","rounded-lg","font-semibold","text-base","flex","items-center","justify-center","disabled:opacity-50",3,"click","disabled"],[1,"w-full","bg-red-600","hover:bg-red-700","text-white","py-2","rounded-lg","font-semibold","text-base","flex","items-center","justify-center","disabled:opacity-50",3,"click","disabled"]],template:function(t,i){t&1&&he(0,fue,56,47,"div",0),t&2&&A("ngIf",i.show())},dependencies:[pe,Ln,Qi,Se],encapsulation:2,changeDetection:0});var Qx=Yf;function hue(n,e){if(n&1){let t=H();Je(0),p(1,"label",14)(2,"input",15),D("change",function(){let r=S(t).$implicit,o=b(2);return E(o.selectedMethod.set(r.id))}),f(),p(3,"span",16),h(4),f()(),Ye()}if(n&2){let t=e.$implicit,i=b(2);u(2),A("value",t.id)("checked",i.selectedMethod()===t.id)("disabled",i.loading()),u(2),R(t.label)}}function mue(n,e){if(n&1){let t=H();p(0,"div",1)(1,"div",2)(2,"button",3),D("click",function(){S(t);let r=b();return E(r.handleClose())}),k(3,"i",4),f(),p(4,"h2",5),h(5),g(6,"i18n"),f(),p(7,"div",6)(8,"div",7),h(9),g(10,"i18n"),p(11,"span",8),h(12),f()(),p(13,"div",7),h(14),g(15,"i18n"),p(16,"span",8),h(17),f()(),p(18,"div",7),h(19),g(20,"i18n"),p(21,"span",8),h(22),g(23,"i18n"),f()(),p(24,"div",7),h(25),g(26,"i18n"),p(27,"span",9),h(28),g(29,"number"),f()(),p(30,"div",7),h(31),g(32,"i18n"),p(33,"span",8),h(34),f()()(),p(35,"div",6)(36,"div",10),h(37),g(38,"i18n"),f(),p(39,"div",11),he(40,hue,5,4,"ng-container",12),f()(),p(41,"button",13),D("click",function(){S(t);let r=b();return E(r.handlePay())}),k(42,"i"),h(43),g(44,"i18n"),f()()()}if(n&2){let t=b();u(2),A("disabled",t.loading()),u(3),R(v(6,18,"payNow")),u(4),C(" ",v(10,20,"service"),": "),u(3),R(t.request().title),u(2),C(" ",v(15,22,"category"),": "),u(3),R(t.request().category),u(2),C(" ",v(20,24,"professional"),": "),u(3),R(t.request().professional_id?t.request().professional_id:v(23,26,"unassigned")),u(3),C(" ",v(26,28,"cost"),": "),u(3),C("\u20AC ",Ke(29,30,t.request().cost,"1.2-2")),u(3),C(" ",v(32,33,"status"),": "),u(3),R(t.request().status),u(3),R(v(38,35,"choosePaymentMethod")),u(3),A("ngForOf",t.paymentMethods),u(),A("disabled",!t.selectedMethod()||t.loading()),u(),me(t.loading()?"fas fa-circle-notch fa-spin mr-2":"fas fa-credit-card mr-2"),u(),C("",v(44,37,"confirmPayment")," ")}}var Zf=class Zf{constructor(){this.request=ge.required();this.show=ge(!1);this.loading=ge(!1);this.onPay=de();this.onClose=de();this.i18n=L($e);this.selectedMethod=B("");this.paymentMethods=[{id:"card",label:this.i18n.translate("creditCard")},{id:"mbway",label:this.i18n.translate("mbway")},{id:"bank",label:this.i18n.translate("bankTransfer")}]}handlePay(){this.loading()||this.selectedMethod()&&this.onPay.emit({request:this.request(),method:this.selectedMethod()})}handleClose(){this.loading()||this.onClose.emit()}};Zf.\u0275fac=function(t){return new(t||Zf)},Zf.\u0275cmp=ce({type:Zf,selectors:[["app-payment-modal"]],inputs:{request:[1,"request"],show:[1,"show"],loading:[1,"loading"]},outputs:{onPay:"onPay",onClose:"onClose"},decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-40"],[1,"bg-white","rounded-lg","shadow-lg","max-w-md","w-full","p-6","relative"],["aria-label","Fechar",1,"absolute","top-2","right-2","text-gray-400","hover:text-gray-600","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-times"],[1,"text-xl","font-bold","mb-4","text-gray-900"],[1,"mb-4"],[1,"text-sm","text-gray-700","mb-2"],[1,"font-medium"],[1,"font-semibold","text-green-700"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"space-y-2"],[4,"ngFor","ngForOf"],[1,"w-full","bg-green-600","hover:bg-green-700","text-white","font-semibold","py-2","px-4","rounded-lg","transition-colors","duration-200","disabled:opacity-50",3,"click","disabled"],[1,"flex","items-center","cursor-pointer"],["type","radio","name","paymentMethod",1,"form-radio","text-green-600",3,"change","value","checked","disabled"],[1,"ml-2","text-gray-800"]],template:function(t,i){t&1&&he(0,mue,45,39,"div",0),t&2&&A("ngIf",i.show())},dependencies:[pe,Kn,Ln,Qi,Se],encapsulation:2,changeDetection:0});var Yx=Zf;function fj(n){return n?n.toLowerCase().split(/\s+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function gue(n){if(!n)return"";let e=String(n).replace(/[^0-9]/g,"");return e.length===7?`${e.slice(0,4)}-${e.slice(4)}`:(/^\d{4}-\d{3}$/.test(String(n)),String(n))}function cv(n){let e=n||{},t=e.street??e.address?.street??"",i=e.number??e.address?.number??"",r=e.zip_code??e.address?.postal_code??"",o=e.city??e.address?.locality??"",s=e.state??e.address?.district??"",a=[t,i].filter(Boolean).join(", "),l=gue(r),c=fj(o),d=fj(s);return{streetNumber:a,postalCode:l,locality:c,district:d}}function hj(n,e=" \u2022 "){let{streetNumber:t,postalCode:i,locality:r,district:o}=cv(n),s=[i,r].filter(Boolean).join(" ");return[t,s,o].filter(Boolean).join(e)}var mj=(n,e)=>e.id;function vue(n,e){if(n&1&&k(0,"i",22),n&2){let t=b();me(t.sortOrder()==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function yue(n,e){n&1&&k(0,"i",8)}function _ue(n,e){if(n&1&&k(0,"i",22),n&2){let t=b();me(t.sortOrder()==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function bue(n,e){n&1&&k(0,"i",8)}function Cue(n,e){if(n&1&&k(0,"i",22),n&2){let t=b();me(t.sortOrder()==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function xue(n,e){n&1&&k(0,"i",8)}function wue(n,e){n&1&&(p(0,"tr")(1,"td",23),h(2),g(3,"i18n"),f()()),n&2&&(u(2),C(" ",v(3,1,"noServiceRequestsFound")," "))}function Sue(n,e){if(n&1&&(p(0,"span",32),h(1),g(2,"date"),f()),n&2){let t=b().$implicit;u(),C(" ",Ke(2,1,t.scheduled_start_datetime,"dd/MM/yyyy HH:mm")," ")}}function Eue(n,e){if(n&1&&(p(0,"span",37),h(1),g(2,"number"),f()),n&2){let t=b().$implicit;u(),C("\u20AC ",Ke(2,1,t.cost,"1.2-2"))}}function Due(n,e){n&1&&(p(0,"span",38),h(1),g(2,"i18n"),f()),n&2&&(u(),R(v(2,1,"awaitingQuote")))}function Aue(n,e){if(n&1){let t=H();p(0,"button",46),g(1,"i18n"),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.startService.emit(r))}),k(2,"i"),f()}if(n&2){let t=b().$implicit,i=b(2);A("title",ie(v(1,5,"startService")))("disabled",i.isLoading(t.id)),u(2),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-play")}}function Tue(n,e){if(n&1){let t=H();p(0,"button",47),g(1,"i18n"),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.finishService.emit(r))}),k(2,"i"),f()}if(n&2){let t=b().$implicit,i=b(2);A("title",ie(v(1,5,"finishService")))("disabled",i.isLoading(t.id)),u(2),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-check")}}function Iue(n,e){if(n&1){let t=H();p(0,"button",52),g(1,"i18n"),g(2,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(o.openBudgetApprovalModal(r))}),k(3,"i",53),f()}n&2&&et("title",v(1,2,"validateQuote"))("aria-label",v(2,4,"validateQuote"))}function Mue(n,e){if(n&1){let t=H();p(0,"button",54),g(1,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.approveExecutionDate.emit(r))}),k(2,"i"),f(),p(3,"button",55),g(4,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.rejectExecutionDate.emit({request:r,reason:""}))}),k(5,"i"),f()}if(n&2){let t=b(2).$implicit,i=b(2);A("title",ie(v(1,10,"approveExecutionDate")))("disabled",i.isLoading(t.id)),u(2),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-calendar-check"),u(),A("title",ie(v(4,12,"rejectExecutionDate")))("disabled",i.isLoading(t.id)),u(2),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-calendar-times")}}function kue(n,e){if(n&1){let t=H();p(0,"button",56),g(1,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(o.provideClarification.emit(r))}),k(2,"i",57),f()}n&2&&A("title",ie(v(1,2,"provideClarification")))}function Rue(n,e){if(n&1){let t=H();p(0,"button",58),g(1,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(o.scheduleRequest.emit(r))}),k(2,"i",59),f()}n&2&&A("title",ie(v(1,2,"schedule")))}function Nue(n,e){if(n&1){let t=H();p(0,"button",60),g(1,"i18n"),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(o.handlePayNow(r))}),k(2,"i",61),f()}n&2&&A("title",ie(v(1,2,"payNow")))}function Pue(n,e){if(n&1&&(j(0,Iue,4,6,"button",48),j(1,Mue,6,14),j(2,kue,3,4,"button",49),j(3,Rue,3,4,"button",50),j(4,Nue,3,4,"button",51)),n&2){let t=b().$implicit,i=b(2);q(t.status==="Or\xE7amento enviado"?0:-1),u(),q(t.status==="Data proposta pelo administrador"||t.status==="Aguardando aprova\xE7\xE3o da data"?1:-1),u(),q(t.status==="Aguardando esclarecimentos"&&i.isActionAvailable(t,"provide_clarification")?2:-1),u(),q(t.status==="Approved"?3:-1),u(),q(t.status==="Completed"&&t.payment_status==="Unpaid"?4:-1)}}function Oue(n,e){if(n&1){let t=H();p(0,"tr",24)(1,"td",25)(2,"div",26)(3,"div",27),h(4),f(),p(5,"div",28),h(6),f()()(),p(7,"td",29)(8,"div",30),h(9),f()(),p(10,"td",31),j(11,Sue,3,4,"span",32),f(),p(12,"td",33)(13,"span",34),h(14),f()(),p(15,"td",29)(16,"div",35),h(17),g(18,"i18n"),f()(),p(19,"td",36),j(20,Eue,3,4,"span",37)(21,Due,3,3,"span",38),f(),p(22,"td",39)(23,"div",40)(24,"button",41),g(25,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.viewDetails.emit(r))}),k(26,"i",42),f(),p(27,"button",41),g(28,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.openChat.emit(r))}),k(29,"i",43),f(),j(30,Aue,3,7,"button",44),j(31,Tue,3,7,"button",45),j(32,Pue,5,5),f()()()}if(n&2){let t=e.$implicit,i=b(2);u(4),C(" ",t.category," "),u(2),C(" ",t.title," "),u(3),C(" ",i.getAddressParts(t).locality||"\u2014"," "),u(2),q(t.scheduled_start_datetime?11:-1),u(2),me(i.statusClass(t.status)),et("aria-label",i.getStatusLabel(t.status)||t.status),u(),C(" ",i.getStatusLabel(t.status)||t.status||"\u2014"," "),u(3),C(" ",t.professional_id?i.getProfessionalName(t.professional_id):v(18,17,"unassigned")," "),u(3),q(t.cost?20:21),u(4),A("title",ie(v(25,19,"viewRequestDetails"))),u(3),A("title",ie(v(28,21,"chat"))),u(3),q(i.currentUser().role==="professional"&&(t.status==="Agendado"||t.status==="Scheduled")?30:-1),u(),q(i.currentUser().role==="professional"&&(t.status==="Em Progresso"||t.status==="In Progress")?31:-1),u(),q(i.currentUser().role==="client"?32:-1)}}function Fue(n,e){if(n&1&&oe(0,Oue,33,23,"tr",24,mj),n&2){let t=b();se(t.displayedRequests())}}function Lue(n,e){n&1&&(p(0,"div",17),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"noServiceRequestsFound")," "))}function Bue(n,e){n&1&&(p(0,"span",69),h(1),g(2,"i18n"),f()),n&2&&(u(),C("(",v(2,1,"paid"),")"))}function Vue(n,e){if(n&1&&(p(0,"div",71)(1,"div",80),Oe(),p(2,"svg",97),k(3,"path",98),f(),Ue(),p(4,"div",83)(5,"span",84),h(6),g(7,"i18n"),f(),p(8,"span",99),h(9),g(10,"date"),f()()()()),n&2){let t=b().$implicit;u(6),C("",v(7,2,"scheduled"),":"),u(3),C(" ",Ke(10,4,t.scheduled_start_datetime,"dd/MM/yyyy HH:mm")," ")}}function jue(n,e){if(n&1&&(p(0,"div",71)(1,"div",72),Oe(),p(2,"svg",73),k(3,"path",100),f(),Ue(),p(4,"div",83)(5,"span",101),h(6),g(7,"i18n"),f(),p(8,"span",102),h(9),f()()()()),n&2){let t=b().$implicit;u(6),C("",v(7,2,"description"),":"),u(3),C(" ",t.description," ")}}function que(n,e){if(n&1&&(p(0,"div",89)(1,"div",80),Oe(),p(2,"svg",103),k(3,"path",104),f(),Ue(),p(4,"div",105)(5,"span",106),h(6),g(7,"number"),f(),p(8,"span",107),h(9),g(10,"i18n"),f()()()()),n&2){let t=b().$implicit;u(6),C(" \u20AC ",Ke(7,2,t.cost,"1.2-2")," "),u(3),C("(",v(10,5,"quote"),")")}}function Uue(n,e){if(n&1){let t=H();p(0,"div",91)(1,"button",110),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.approveQuote.emit(r))}),k(2,"i",111),h(3),g(4,"i18n"),f(),p(5,"button",112),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.rejectQuote.emit(r))}),k(6,"i",111),h(7),g(8,"i18n"),f()()}if(n&2){let t=b(2).$implicit,i=b(2);u(),A("disabled",i.isLoading(t.id)),u(),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-check"),u(),C(" ",v(4,8,"approve")," "),u(2),A("disabled",i.isLoading(t.id)),u(),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-times"),u(),C(" ",v(8,10,"reject")," ")}}function $ue(n,e){if(n&1){let t=H();p(0,"div",91)(1,"button",113),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.approveExecutionDate.emit(r))}),k(2,"i"),h(3),g(4,"i18n"),f(),p(5,"button",114),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.rejectExecutionDate.emit({request:r,reason:""}))}),k(6,"i"),h(7),g(8,"i18n"),f()()}if(n&2){let t=b(2).$implicit,i=b(2);u(),A("disabled",i.isLoading(t.id)),u(),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin mr-1 sm:mr-2":"fas fa-calendar-check mr-1 sm:mr-2"),u(),C(" ",v(4,8,"approveExecutionDate")," "),u(2),A("disabled",i.isLoading(t.id)),u(),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin mr-1 sm:mr-2":"fas fa-calendar-times mr-1 sm:mr-2"),u(),C(" ",v(8,10,"rejectExecutionDate")," ")}}function Hue(n,e){if(n&1){let t=H();p(0,"button",115),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(o.provideClarification.emit(r))}),k(1,"i",116),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"provideClarification")," "))}function zue(n,e){if(n&1){let t=H();p(0,"button",117),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(o.scheduleRequest.emit(r))}),k(1,"i",118),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"schedule")," "))}function Wue(n,e){if(n&1){let t=H();p(0,"button",117),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(o.payNow.emit(r))}),k(1,"i",119),h(2),g(3,"i18n"),f()}n&2&&(u(2),C(" ",v(3,1,"payNow")," "))}function Gue(n,e){if(n&1&&(j(0,Uue,9,12,"div",91),j(1,$ue,9,12,"div",91),j(2,Hue,4,3,"button",108),j(3,zue,4,3,"button",109),j(4,Wue,4,3,"button",109)),n&2){let t=b().$implicit,i=b(2);q(t.status==="Quoted"?0:-1),u(),q(t.status==="Data proposta pelo administrador"||t.status==="Aguardando aprova\xE7\xE3o da data"?1:-1),u(),q(t.status==="Aguardando esclarecimentos"&&i.isActionAvailable(t,"provide_clarification")?2:-1),u(),q(t.status==="Approved"?3:-1),u(),q(t.status==="Completed"&&t.payment_status==="Unpaid"?4:-1)}}function Que(n,e){if(n&1){let t=H();p(0,"button",122),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.startService.emit(r))}),k(1,"i",111),h(2),g(3,"i18n"),f()}if(n&2){let t=b(2).$implicit,i=b(2);A("disabled",i.isLoading(t.id)),u(),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-play"),u(),C(" ",v(3,4,"startService")," ")}}function Yue(n,e){if(n&1){let t=H();p(0,"button",123),D("click",function(){S(t);let r=b(2).$implicit,o=b(2);return E(!o.isLoading(r.id)&&o.finishService.emit(r))}),k(1,"i",111),h(2),g(3,"i18n"),f()}if(n&2){let t=b(2).$implicit,i=b(2);A("disabled",i.isLoading(t.id)),u(),me(i.isLoading(t.id)?"fas fa-circle-notch fa-spin":"fas fa-check"),u(),C(" ",v(3,4,"finishService")," ")}}function Zue(n,e){if(n&1&&(p(0,"div",91),j(1,Que,4,6,"button",120),j(2,Yue,4,6,"button",121),f()),n&2){let t=b().$implicit;u(),q(t.status==="Agendado"||t.status==="Scheduled"?1:-1),u(),q(t.status==="Em Progresso"||t.status==="In Progress"?2:-1)}}function Xue(n,e){if(n&1){let t=H();p(0,"div",62)(1,"div",63)(2,"div",64)(3,"h3",65),h(4),f(),p(5,"p",66),h(6),f()(),p(7,"div",67)(8,"span",68),h(9),j(10,Bue,3,3,"span",69),f()()(),p(11,"div",70)(12,"div",71)(13,"div",72),Oe(),p(14,"svg",73),k(15,"path",74)(16,"path",75),f(),Ue(),p(17,"div",76)(18,"div",77)(19,"span",78),h(20),g(21,"i18n"),f(),p(22,"span",79),h(23),f()()()()(),p(24,"div",71)(25,"div",80),Oe(),p(26,"svg",81),k(27,"path",82),f(),Ue(),p(28,"div",83)(29,"span",84),h(30),g(31,"i18n"),f(),p(32,"span",85),h(33),g(34,"date"),f()()()(),p(35,"div",71)(36,"div",80),Oe(),p(37,"svg",86),k(38,"path",87),f(),Ue(),p(39,"div",83)(40,"span",84),h(41),g(42,"i18n"),f(),p(43,"span",88),h(44),g(45,"i18n"),f()()()(),j(46,Vue,11,7,"div",71),j(47,jue,10,4,"div",71),j(48,que,11,7,"div",89),f(),p(49,"div",90),j(50,Gue,5,5),j(51,Zue,3,2,"div",91),p(52,"div",92)(53,"button",93),g(54,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.viewDetails.emit(r))}),k(55,"i",94),h(56),g(57,"i18n"),f(),p(58,"button",95),g(59,"i18n"),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.openChat.emit(r))}),k(60,"i",96),h(61),g(62,"i18n"),f()()()()}if(n&2){let t=e.$implicit,i=b(2);u(4),C(" ",t.category," "),u(2),C(" ",t.title," "),u(2),me(i.statusClass(t.status)),u(),C(" ",i.getStatusLabel(t.status)," "),u(),q(t.payment_status==="Paid"?10:-1),u(10),C("",v(21,23,"locality"),":"),u(3),R(i.getAddressParts(t).locality||"\u2014"),u(7),C("",v(31,25,"requested"),":"),u(3),R(Ke(34,27,t.requested_date,"dd/MM/yyyy HH:mm")),u(8),C("",v(42,30,"professional"),":"),u(3),C(" ",t.professional_id?i.getProfessionalName(t.professional_id):v(45,32,"unassigned")," "),u(2),q(t.scheduled_start_datetime?46:-1),u(),q(t.description?47:-1),u(),q(t.status==="Quoted"&&t.cost?48:-1),u(2),q(i.currentUser().role==="client"?50:-1),u(),q(i.currentUser().role==="professional"?51:-1),u(2),A("title",ie(v(54,34,"viewRequestDetails"))),u(3),C(" ",v(57,36,"details")," "),u(2),A("title",ie(v(59,38,"chat"))),u(3),C(" ",v(62,40,"chat")," ")}}function Jue(n,e){if(n&1&&(p(0,"div",18),oe(1,Xue,63,42,"div",62,mj),f()),n&2){let t=b();u(),se(t.displayedRequests())}}function Kue(n,e){n&1&&(p(0,"span",139),h(1," ... "),f())}function ede(n,e){if(n&1){let t=H();p(0,"button",141),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.goToPage(r))}),h(1),f()}if(n&2){let t=b().$implicit,i=b(2);me(t===i.currentPage()?"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-indigo-50 text-sm font-medium text-indigo-600":"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"),u(),C(" ",t," ")}}function tde(n,e){if(n&1&&j(0,Kue,2,0,"span",139)(1,ede,2,3,"button",140),n&2){let t=e.$implicit;q(t===-1?0:1)}}function nde(n,e){if(n&1){let t=H();p(0,"div",19)(1,"div",124)(2,"span",125),h(3),g(4,"i18n"),f(),p(5,"select",126),D("change",function(r){S(t);let o=b();return E(o.setItemsPerPage(+r.target.value))}),p(6,"option",127),h(7,"5"),f(),p(8,"option",128),h(9,"10"),f(),p(10,"option",129),h(11,"25"),f(),p(12,"option",130),h(13,"50"),f()()(),p(14,"div",131)(15,"div")(16,"p",125),h(17),g(18,"i18n"),p(19,"span",132),h(20),f(),h(21),g(22,"i18n"),p(23,"span",132),h(24),f(),h(25),g(26,"i18n"),p(27,"span",132),h(28),f(),h(29),g(30,"i18n"),f()()(),p(31,"div",133)(32,"nav",134)(33,"button",135),D("click",function(){S(t);let r=b();return E(r.previousPage())}),k(34,"i",136),f(),oe(35,tde,2,1,null,null,ln),p(37,"button",137),D("click",function(){S(t);let r=b();return E(r.nextPage())}),k(38,"i",138),f()()()()}if(n&2){let t=b();u(3),C("",v(4,11,"itemsPerPage"),":"),u(2),A("value",t.itemsPerPage()),u(12),C(" ",v(18,13,"showing")," "),u(3),R((t.currentPage()-1)*t.itemsPerPage()+1),u(),C(" ",v(22,15,"to")," "),u(3),R(t.Math.min(t.currentPage()*t.itemsPerPage(),t.serviceRequests().length)),u(),C(" ",v(26,17,"of")," "),u(3),R(t.serviceRequests().length),u(),C(" ",v(30,19,"results")," "),u(4),A("disabled",t.currentPage()===1),u(2),se(t.pageNumbers),u(2),A("disabled",t.currentPage()===t.totalPages())}}function ide(n,e){if(n&1){let t=H();p(0,"app-budget-approval-modal",142),D("approve",function(r){S(t);let o=b();return E(o.handleApproveQuote(r))})("reject",function(r){S(t);let o=b();return E(o.handleRejectQuote(r))})("close",function(){S(t);let r=b();return E(r.handleCloseBudgetModal())}),f()}if(n&2){let t=b();A("request",t.selectedRequestForBudget())("user",t.currentUser())("show",t.showBudgetApprovalModal())("loading",t.isLoading(t.selectedRequestForBudget().id))}}function rde(n,e){if(n&1){let t=H();p(0,"app-payment-modal",143),D("onPay",function(r){S(t);let o=b();return E(o.handlePaymentConfirmed(r))})("onClose",function(){S(t);let r=b();return E(r.handlePaymentModalClose())}),f()}if(n&2){let t=b();A("request",t.selectedRequestForPayment())("show",t.showPaymentModal())("loading",t.isLoading(t.selectedRequestForPayment().id))}}var Xf=class Xf{constructor(){this.serviceRequests=ge();this.currentUser=ge.required();this.enablePagination=ge(!1);this.itemsPerPageDefault=ge(10);this.sortBy=ge("date");this.sortOrder=ge("desc");this.sortChange=de();this.viewDetails=de();this.openChat=de();this.approveQuote=de();this.rejectQuote=de();this.approveExecutionDate=de();this.rejectExecutionDate=de();this.payNow=de();this.showPaymentModal=B(!1);this.selectedRequestForPayment=B(null);this.scheduleRequest=de();this.provideClarification=de();this.startService=de();this.finishService=de();this.actionLoadingIds=ge([]);this.dataService=L(At);this.workflowService=L(Zs);this.i18n=L($e);this.Math=Math;this.currentPage=B(1);this.itemsPerPage=B(10);this.totalPages=K(()=>this.enablePagination()?Math.ceil(this.serviceRequests().length/this.itemsPerPage()):1);this.displayedRequests=K(()=>{if(!this.enablePagination()){let o=this.serviceRequests();return console.log("[ServiceListComponent] displayedRequests (no pagination):",o),Array.isArray(o)&&o.forEach((s,a)=>{console.log(`[ServiceListComponent] Request[${a}].id:`,s.id,"status:",s.status)}),o}let e=this.serviceRequests(),t=(this.currentPage()-1)*this.itemsPerPage(),i=t+this.itemsPerPage(),r=e.slice(t,i);return console.log("[ServiceListComponent] displayedRequests (paginated):",r),Array.isArray(r)&&r.forEach((o,s)=>{console.log(`[ServiceListComponent] Paginated[${s}].id:`,o.id,"status:",o.status)}),r});this.allUsers=this.dataService.users;this.showBudgetApprovalModal=B(!1);this.selectedRequestForBudget=B(null);this.itemsPerPage.set(this.itemsPerPageDefault())}ngOnInit(){console.log("[ServiceListComponent] currentUser:",this.currentUser().name)}handleSortColumn(e){this.sortChange.emit(e)}isSortedBy(e){return this.sortBy()===e}get pageNumbers(){if(!this.enablePagination())return[];let e=this.totalPages(),t=this.currentPage(),i=[];i.push(1);let r=Math.max(2,t-2),o=Math.min(e-1,t+2);r>2&&i.push(-1);for(let s=r;s<=o;s++)s!==1&&s!==e&&i.push(s);return o<e-1&&i.push(-1),e>1&&i.push(e),i}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}previousPage(){let e=this.currentPage();e>1&&this.currentPage.set(e-1)}nextPage(){let e=this.currentPage();e<this.totalPages()&&this.currentPage.set(e+1)}setItemsPerPage(e){this.itemsPerPage.set(e),this.currentPage.set(1)}isActionAvailable(e,t){let i=this.currentUser();return i?this.workflowService.getAvailableActions(e,i.role).includes(t):!1}formatAddress(e){return hj(e)}getAddressParts(e){return cv(e)}getProfessionalName(e){return e?this.allUsers().find(i=>i.id===e)?.name||this.i18n.translate("unknownProfessional"):this.i18n.translate("unassigned")}statusClass(e){let t="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",i=En.getColor(e);return`${t} text-white`}getStatusLabel(e){let t=En.getLabel(e,this.i18n);return console.log(`[ServiceListComponent] getStatusLabel: status='${e}' => label='${t}'`),t}isLoading(e){return(this.actionLoadingIds()||[]).includes(e)}handleApproveQuote(e){this.approveQuote.emit(e),this.showBudgetApprovalModal.set(!1)}handlePayNow(e){this.selectedRequestForPayment.set(e),this.showPaymentModal.set(!0)}handlePaymentModalClose(){this.showPaymentModal.set(!1),this.selectedRequestForPayment.set(null)}handlePaymentConfirmed(e){this.payNow.emit(e.request),this.showPaymentModal.set(!1),this.selectedRequestForPayment.set(null)}handleRejectQuote(e){this.rejectQuote.emit(e),this.showBudgetApprovalModal.set(!1)}openBudgetApprovalModal(e){this.selectedRequestForBudget.set(e),this.showBudgetApprovalModal.set(!0)}handleCloseBudgetModal(){this.showBudgetApprovalModal.set(!1)}};Xf.\u0275fac=function(t){return new(t||Xf)},Xf.\u0275cmp=ce({type:Xf,selectors:[["app-service-list"]],inputs:{serviceRequests:[1,"serviceRequests"],currentUser:[1,"currentUser"],enablePagination:[1,"enablePagination"],itemsPerPageDefault:[1,"itemsPerPageDefault"],sortBy:[1,"sortBy"],sortOrder:[1,"sortOrder"],actionLoadingIds:[1,"actionLoadingIds"]},outputs:{sortChange:"sortChange",viewDetails:"viewDetails",openChat:"openChat",approveQuote:"approveQuote",rejectQuote:"rejectQuote",approveExecutionDate:"approveExecutionDate",rejectExecutionDate:"rejectExecutionDate",payNow:"payNow",scheduleRequest:"scheduleRequest",provideClarification:"provideClarification",startService:"startService",finishService:"finishService"},decls:62,vars:62,consts:[[1,"service-list-container"],[1,"hidden","md:block","overflow-x-auto"],[1,"w-full","min-w-full"],[1,"bg-gray-50"],["scope","col",1,"service-list-header","text-left"],["type","button",1,"w-full","text-left","cursor-pointer","hover:bg-gray-100","transition-colors","select-none","focus:outline-none","focus-visible:ring-2","focus-visible:ring-indigo-500","rounded","px-2","-mx-2",3,"click"],[1,"flex","items-center","gap-2"],[1,"text-blue-600",3,"class"],[1,"fas","fa-sort","text-gray-400"],[1,"service-list-header","text-left"],["scope","col",1,"service-list-header","text-center"],["type","button",1,"w-full","text-center","cursor-pointer","hover:bg-gray-100","transition-colors","select-none","focus:outline-none","focus-visible:ring-2","focus-visible:ring-indigo-500","rounded","px-2","-mx-2",3,"click"],[1,"flex","items-center","justify-center","gap-2"],[1,"service-list-header"],[1,"service-list-header","text-center"],[1,"service-list-table-body"],[1,"md:hidden"],[1,"p-4","sm:p-6","text-center","text-gray-500"],[1,"divide-y","divide-gray-200"],[1,"service-list-pagination-bar"],[3,"request","user","show","loading","approve","reject","close",4,"ngIf"],[3,"request","show","loading","onPay","onClose",4,"ngIf"],[1,"text-blue-600"],["colspan","7",1,"service-list-empty-row"],[1,"hover:bg-gray-50"],[1,"px-4","lg:px-6","py-4"],[1,"min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-sm","text-gray-500","truncate"],[1,"service-list-empty-row"],[1,"max-w-xs","truncate","text-sm","text-gray-700"],[1,"service-list-empty-row","text-center"],[1,"font-semibold","text-indigo-700"],[1,"px-4","lg:px-6","py-4","whitespace-nowrap","text-left"],[1,"px-2","py-1","text-xs","font-medium","rounded-full",2,"border","2px solid red","background","#ffeaea","color","#222"],[1,"max-w-xs","truncate"],[1,"px-4","lg:px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"text-green-600","font-medium"],[1,"text-gray-400"],[1,"px-4","lg:px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"flex","gap-2","items-center"],[1,"service-list-action-view-details",3,"click","title"],[1,"fas","fa-eye"],[1,"fas","fa-comments"],[1,"service-list-action-start-service",3,"title","disabled"],[1,"service-list-action-finish-service",3,"title","disabled"],[1,"service-list-action-start-service",3,"click","title","disabled"],[1,"service-list-action-finish-service",3,"click","title","disabled"],[1,"service-list-action-budget-approval"],[1,"service-list-action-clarification",3,"title"],[1,"service-list-action-schedule",3,"title"],[1,"service-list-action-pay-now",3,"title"],[1,"service-list-action-budget-approval",3,"click"],[1,"fas","fa-file-invoice-dollar"],[1,"service-list-action-approve-date",3,"click","title","disabled"],[1,"service-list-action-reject-date",3,"click","title","disabled"],[1,"service-list-action-clarification",3,"click","title"],[1,"fas","fa-comment-dots"],[1,"service-list-action-schedule",3,"click","title"],[1,"fas","fa-calendar"],[1,"service-list-action-pay-now",3,"click","title"],[1,"fas","fa-credit-card"],[1,"service-request-card","p-4","sm:p-5"],[1,"flex","items-start","justify-between","mb-3","sm:mb-4","gap-3"],[1,"flex-1","min-w-0"],[1,"service-request-title","text-gray-900","text-base","sm:text-lg","font-semibold","leading-tight"],[1,"text-sm","text-gray-600","mt-1","line-clamp-2","leading-relaxed"],[1,"flex-shrink-0"],[1,"px-2","py-1","text-xs","font-medium","rounded-full","whitespace-nowrap"],[1,"ml-1","font-bold","text-green-700"],[1,"service-request-details","space-y-2","sm:space-y-3","mb-3","sm:mb-4"],[1,"service-request-info-item"],[1,"flex","items-start","gap-2","sm:gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","mt-0.5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-sm","text-gray-700","min-w-0","flex-1"],[1,"font-medium","break-words"],[1,"font-semibold"],[1,"ml-1"],[1,"flex","items-center","gap-2","sm:gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-sm","min-w-0","flex-1"],[1,"font-medium","text-gray-700"],[1,"text-gray-600","ml-1","break-words"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-blue-600","ml-1","font-medium","break-words"],[1,"service-request-info-item","service-list-quote-info"],[1,"border-t","border-gray-100","pt-3","sm:pt-4"],[1,"service-list-actions","mb-3"],[1,"service-list-actions"],[1,"service-list-action-secondary-details",2,"display","flex","align-items","center",3,"click","title"],[1,"fas","fa-eye","mr-1"],[1,"service-list-action-secondary-chat",3,"click","title"],[1,"fas","fa-comments","mr-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-green-600","ml-1","font-medium","break-words"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"font-medium","text-gray-700","block","mb-1"],[1,"text-gray-600","leading-relaxed","break-words"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"min-w-0","flex-1"],[1,"font-semibold","text-green-800","text-base","sm:text-lg","break-words"],[1,"text-xs","text-green-600","ml-2"],[1,"service-list-action-clarification"],[1,"service-list-action-schedule"],[1,"service-list-action-approve",3,"click","disabled"],[1,"mr-1","sm:mr-2"],[1,"service-list-action-reject",3,"click","disabled"],[1,"service-list-action-approve-date",3,"click","disabled"],[1,"service-list-action-reject-date",3,"click","disabled"],[1,"service-list-action-clarification",3,"click"],[1,"fas","fa-comment-dots","mr-1","sm:mr-2"],[1,"service-list-action-schedule",3,"click"],[1,"fas","fa-calendar","mr-1","sm:mr-2"],[1,"fas","fa-credit-card","mr-1","sm:mr-2"],[1,"service-list-action-start-service",3,"disabled"],[1,"service-list-action-finish-service",3,"disabled"],[1,"service-list-action-start-service",3,"click","disabled"],[1,"service-list-action-finish-service",3,"click","disabled"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-2","py-1","text-sm",3,"change","value"],["value","5"],["value","10"],["value","25"],["value","50"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"font-medium"],[1,"flex-1","flex","justify-center","sm:justify-end"],["aria-label","Pagination",1,"service-list-pagination-flex"],[1,"service-list-pagination-prev",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"service-list-pagination-next",3,"click","disabled"],[1,"fas","fa-chevron-right"],[1,"service-list-pagination-ellipsis"],[3,"class"],[3,"click"],[3,"approve","reject","close","request","user","show","loading"],[3,"onPay","onClose","request","show","loading"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th",4)(6,"button",5),g(7,"i18n"),g(8,"i18n"),g(9,"i18n"),g(10,"i18n"),D("click",function(){return i.handleSortColumn("category")}),p(11,"div",6)(12,"span"),h(13),g(14,"i18n"),f(),j(15,vue,1,2,"i",7)(16,yue,1,0,"i",8),f()()(),p(17,"th",9),h(18),g(19,"i18n"),f(),p(20,"th",10)(21,"button",11),g(22,"i18n"),g(23,"i18n"),g(24,"i18n"),g(25,"i18n"),D("click",function(){return i.handleSortColumn("date")}),p(26,"div",12)(27,"span"),h(28),g(29,"i18n"),f(),j(30,_ue,1,2,"i",7)(31,bue,1,0,"i",8),f()()(),p(32,"th",4)(33,"button",5),g(34,"i18n"),g(35,"i18n"),g(36,"i18n"),g(37,"i18n"),D("click",function(){return i.handleSortColumn("status")}),p(38,"div",6)(39,"span"),h(40),g(41,"i18n"),f(),j(42,Cue,1,2,"i",7)(43,xue,1,0,"i",8),f()()(),p(44,"th",9),h(45),g(46,"i18n"),f(),p(47,"th",13),h(48),g(49,"i18n"),f(),p(50,"th",14),h(51),g(52,"i18n"),f()()(),p(53,"tbody",15),j(54,wue,4,3,"tr")(55,Fue,2,0),f()()(),p(56,"div",16),j(57,Lue,3,3,"div",17)(58,Jue,3,0,"div",18),f(),j(59,nde,39,21,"div",19),he(60,ide,1,4,"app-budget-approval-modal",20)(61,rde,1,3,"app-payment-modal",21),f()),t&2&&(u(5),et("aria-sort",i.isSortedBy("category")?i.sortOrder()==="asc"?"ascending":"descending":"none"),u(),et("aria-label",v(7,24,"clickToSort")+": "+v(8,26,"service"))("title",v(9,28,"clickToSort")+": "+v(10,30,"service")),u(7),R(v(14,32,"service")),u(2),q(i.isSortedBy("category")?15:16),u(3),C(" ",v(19,34,"locality")," "),u(2),et("aria-sort",i.isSortedBy("date")?i.sortOrder()==="asc"?"ascending":"descending":"none"),u(),et("aria-label",v(22,36,"clickToSort")+": "+v(23,38,"date"))("title",v(24,40,"clickToSort")+": "+v(25,42,"date")),u(7),R(v(29,44,"date")),u(2),q(i.isSortedBy("date")?30:31),u(2),et("aria-sort",i.isSortedBy("status")?i.sortOrder()==="asc"?"ascending":"descending":"none"),u(),et("aria-label",v(34,46,"clickToSort")+": "+v(35,48,"status"))("title",v(36,50,"clickToSort")+": "+v(37,52,"status")),u(7),R(v(41,54,"status")),u(2),q(i.isSortedBy("status")?42:43),u(3),C(" ",v(46,56,"professional")," "),u(3),C(" ",v(49,58,"value")," "),u(3),C(" ",v(52,60,"actions")," "),u(3),q(i.displayedRequests().length===0?54:55),u(3),q(i.displayedRequests().length===0?57:58),u(2),q(i.enablePagination()&&i.totalPages()>1?59:-1),u(),A("ngIf",i.showBudgetApprovalModal()&&i.selectedRequestForBudget()),u(),A("ngIf",i.showPaymentModal()&&i.selectedRequestForPayment()))},dependencies:[pe,Ln,Qx,Yx,Qi,Gi,Se],encapsulation:2,changeDetection:0});var Jf=Xf;var ode=n=>({name:n}),sde=()=>[],ade=(n,e)=>e.label,lde=(n,e)=>e.status,cde=(n,e)=>e.value,ude=(n,e)=>e.id,dde=(n,e)=>e.type;function pde(n,e){if(n&1){let t=H();p(0,"div",0)(1,"div",8)(2,"div",9),h(3),f(),p(4,"button",10),D("click",function(){S(t);let r=b();return E(r.showBusinessError.set(!1))}),h(5," OK "),f()()()}if(n&2){let t=b();u(3),C(" ",t.businessErrorMessage()," ")}}function fde(n,e){if(n&1&&(p(0,"div",5)(1,"div",11),k(2,"i",12),f(),p(3,"div",13)(4,"span",14),h(5),f(),p(6,"span",15),h(7),f()()()),n&2){let t=e.$implicit;u(),yt("bg-yellow-100",t.icon.includes("yellow"))("bg-blue-100",t.icon.includes("blue"))("bg-green-100",t.icon.includes("green"))("bg-emerald-100",t.icon.includes("emerald")),u(),me(t.icon),u(3),R(t.label),u(2),R(t.value)}}function hde(n,e){if(n&1){let t=H();p(0,"app-service-request-details",16),D("close",function(){S(t);let r=b();return E(r.selectedRequest.set(null))})("refreshRequest",function(){S(t);let r=b();return E(r.selectedRequest.set(null))}),f()}if(n&2){let t=b();A("request",t.selectedRequest())("currentUser",t.user())}}function mde(n,e){if(n&1){let t=H();p(0,"button",35),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.applyQuickFilter(r.status))}),h(1),g(2,"i18n"),f()}if(n&2){let t=e.$implicit,i=b(2);me("px-3 py-1 text-xs font-medium rounded-full "+(i.filterStatus()===t.status?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300")),u(),C(" ",v(2,3,t.label)," ")}}function gde(n,e){if(n&1&&(p(0,"option",25),h(1),f()),n&2){let t=e.$implicit;A("value",t.value),u(),R(t.label)}}function vde(n,e){if(n&1&&(p(0,"option",25),h(1),f()),n&2){let t=e.$implicit;A("value",t.id),u(),R(t.name)}}function yde(n,e){if(n&1){let t=H();p(0,"span",37),h(1),g(2,"i18n"),p(3,"button",38),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.removeFilter(r.type))}),k(4,"i",39),f()()}if(n&2){let t=e.$implicit;u(),je(" ",v(2,2,t.label),": ",t.value," ")}}function _de(n,e){if(n&1&&(p(0,"div",33)(1,"span",36),h(2),g(3,"i18n"),f(),oe(4,yde,5,4,"span",37,dde),f()),n&2){let t=b(2);u(2),C("",v(3,1,"activeFilters"),":"),u(2),se(t.activeFilters())}}function bde(n,e){n&1&&(p(0,"span",60),h(1," ... "),f())}function Cde(n,e){if(n&1){let t=H();p(0,"button",35),D("click",function(){S(t);let r=b().$implicit,o=b(4);return E(o.goToPage(r))}),h(1),f()}if(n&2){let t=b().$implicit,i=b(4);me(t===i.currentPage()?"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-indigo-50 text-sm font-medium text-indigo-600":"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"),u(),C(" ",t," ")}}function xde(n,e){if(n&1&&j(0,bde,2,0,"span",60)(1,Cde,2,3,"button",20),n&2){let t=e.$implicit;q(t===-1?0:1)}}function wde(n,e){if(n&1){let t=H();p(0,"div",41)(1,"div",42)(2,"span",43),h(3),g(4,"i18n"),f(),p(5,"select",44),D("change",function(r){S(t);let o=b(3);return E(o.setItemsPerPage(+r.target.value))}),p(6,"option",45),h(7,"5"),f(),p(8,"option",46),h(9,"10"),f(),p(10,"option",47),h(11,"25"),f(),p(12,"option",48),h(13,"50"),f()()(),p(14,"div",49)(15,"p",43),h(16),g(17,"i18n"),p(18,"span",50),h(19),f(),h(20),g(21,"i18n"),p(22,"span",50),h(23),f(),h(24),g(25,"i18n"),p(26,"span",50),h(27),f(),h(28),g(29,"i18n"),f()(),p(30,"div",51)(31,"nav",52)(32,"button",53),D("click",function(){S(t);let r=b(3);return E(r.previousPage())}),k(33,"i",54),p(34,"span",55),h(35,"Previous"),f()(),p(36,"div",56),oe(37,xde,2,1,null,null,ln),f(),p(39,"div",57),h(40),f(),p(41,"button",58),D("click",function(){S(t);let r=b(3);return E(r.nextPage())}),k(42,"i",59),p(43,"span",55),h(44,"Next"),f()()()()()}if(n&2){let t=b(3);u(3),C("",v(4,13,"itemsPerPage"),":"),u(2),A("value",t.itemsPerPage()),u(11),C(" ",v(17,15,"showing")," "),u(3),R((t.currentPage()-1)*t.itemsPerPage()+1),u(),C(" ",v(21,17,"to")," "),u(3),R(t.Math.min(t.currentPage()*t.itemsPerPage(),t.filteredRequests().length)),u(),C(" ",v(25,19,"of")," "),u(3),R(t.filteredRequests().length),u(),C(" ",v(29,21,"results")," "),u(4),A("disabled",t.currentPage()===1),u(5),se(t.pageNumbers),u(3),je(" ",t.currentPage()," / ",t.totalPages()," "),u(),A("disabled",t.currentPage()===t.totalPages())}}function Sde(n,e){if(n&1){let t=H();p(0,"app-service-list",40),D("sortChange",function(r){S(t);let o=b(2);return E(o.sortByColumn(r))})("viewDetails",function(r){S(t);let o=b(2);return E(o.handleViewDetails(r))})("openChat",function(r){S(t);let o=b(2);return E(o.openChat.emit(r))})("payNow",function(r){S(t);let o=b(2);return E(o.payNow.emit(r))})("approveQuote",function(r){S(t);let o=b(2);return E(o.handleQuoteResponse(r,!0))})("rejectQuote",function(r){S(t);let o=b(2);return E(o.handleQuoteResponse(r,!1))})("approveExecutionDate",function(r){S(t);let o=b(2);return E(o.handleExecutionDateResponse(r,!0))})("rejectExecutionDate",function(r){S(t);let o=b(2);return E(o.handleExecutionDateResponse(r.request,!1,r.reason))})("scheduleRequest",function(r){S(t);let o=b(2);return E(o.scheduleRequest.emit(r))})("provideClarification",function(r){S(t);let o=b(2);return E(o.handleProvideClarification(r))})("startService",function(r){S(t);let o=b(2);return E(o.handleStartService(r))})("finishService",function(r){S(t);let o=b(2);return E(o.handleFinishService(r))}),f(),j(1,wde,45,23,"div",41)}if(n&2){let t=b(2);A("serviceRequests",t.paginatedRequests()||i0(7,sde))("currentUser",t.user())("enablePagination",!1)("sortBy",t.sortBy())("sortOrder",t.sortOrder())("actionLoadingIds",t.actionLoadingIds()),u(),q(t.filteredRequests().length>0?1:-1)}}function Ede(n,e){n&1&&(p(0,"div",34),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"noRequestsFound")," "))}function Dde(n,e){if(n&1){let t=H();p(0,"div",7)(1,"div",17)(2,"div",18)(3,"span",19),h(4),g(5,"i18n"),f(),oe(6,mde,3,5,"button",20,lde),f(),p(8,"div",21)(9,"div")(10,"label",22),h(11),g(12,"i18n"),f(),p(13,"select",23),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterStatus.set(r))}),p(14,"option",24),h(15),g(16,"i18n"),f(),oe(17,gde,2,2,"option",25,cde),f()(),p(19,"div")(20,"label",22),h(21),g(22,"i18n"),f(),p(23,"div",26)(24,"input",27),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterStartDate.set(r))}),f(),p(25,"span",28),h(26,"-"),f(),p(27,"input",27),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterEndDate.set(r))}),f()()(),p(28,"div")(29,"label",22),h(30),g(31,"i18n"),f(),p(32,"select",29),D("ngModelChange",function(r){S(t);let o=b();return E(o.filterCategory.set(r))}),p(33,"option",24),h(34),g(35,"i18n"),f(),oe(36,vde,2,2,"option",25,ude),f()(),p(38,"div",30)(39,"label",22),h(40),g(41,"i18n"),f(),p(42,"input",31),g(43,"i18n"),D("ngModelChange",function(r){S(t);let o=b();return E(o.searchTerm.set(r))}),f()(),p(44,"button",32),D("click",function(){S(t);let r=b();return E(r.clearFilters())}),h(45),g(46,"i18n"),f()(),j(47,_de,6,3,"div",33),f(),j(48,Sde,2,8)(49,Ede,3,3,"div",34),f()}if(n&2){let t=b();u(4),C("",v(5,17,"quickFilters"),":"),u(2),se(t.quickFilterOptions),u(5),R(v(12,19,"status")),u(2),A("ngModel",t.filterStatus()),u(2),R(v(16,21,"all")),u(2),se(t.statusAtivos()),u(4),R(v(22,23,"period")),u(3),A("ngModel",t.filterStartDate()),u(3),A("ngModel",t.filterEndDate()),u(3),R(v(31,25,"category")),u(2),A("ngModel",t.filterCategory()),u(2),R(v(35,27,"all")),u(2),se(t.dataService.categories()),u(4),R(v(41,29,"search")),u(2),A("placeholder",ie(v(43,31,"searchPlaceholder")))("ngModel",t.searchTerm()),u(3),C(" ",v(46,33,"clearFilters")," "),u(2),q(t.activeFilters().length>0?47:-1),u(),q(t.user()&&t.isArray(t.paginatedRequests())&&t.paginatedRequests().length>0?48:49)}}var Kf=class Kf{constructor(){this.statusMap={Requested:"Solicitado",InAnalysis:"Em an\xE1lise",AwaitingClarifications:"Aguardando esclarecimentos",QuoteSent:"Or\xE7amento enviado",AwaitingQuoteApproval:"Aguardando aprova\xE7\xE3o do or\xE7amento",QuoteApproved:"Or\xE7amento aprovado",QuoteRejected:"Or\xE7amento rejeitado",AwaitingExecutionDate:"Aguardando data de execu\xE7\xE3o",DateProposedByAdmin:"Data proposta pelo administrador",AwaitingDateApproval:"Aguardando aprova\xE7\xE3o da data",DateApprovedByClient:"Data aprovada pelo cliente",DateRejectedByClient:"Data rejeitada pelo cliente",SearchingProfessional:"Buscando profissional",ProfessionalSelected:"Profissional selecionado",AwaitingProfessionalConfirmation:"Aguardando confirma\xE7\xE3o do profissional",Scheduled:"Agendado",InProgress:"Em execu\xE7\xE3o",CompletedAwaitingApproval:"Conclu\xEDdo - Aguardando aprova\xE7\xE3o",Completed:"Finalizado",Cancelled:"Cancelado"};this.showBusinessError=B(!1);this.businessErrorMessage=B("");this.filterStatus=B("");this.filterStartDate=B("");this.filterEndDate=B("");this.filterCategory=B("");this.searchTerm=B("");this.sortBy=B("date");this.sortOrder=B("desc");this.currentPage=B(1);this.itemsPerPage=B(10);this.totalPages=K(()=>Math.ceil(this.filteredRequests().length/this.itemsPerPage()));this.quickFilterOptions=[{status:"Requested",label:"statusRequested"},{status:"InAnalysis",label:"statusInAnalysis"},{status:"Scheduled",label:"statusScheduled"},{status:"Completed",label:"statusCompleted"}];this.user=ge.required();this.viewDetails=de();this.openChat=de();this.payNow=de();this.scheduleRequest=de();this.provideClarification=de();this.startService=de();this.finishService=de();this.statusAtivos=B([]);this.actionLoadingIds=B([]);this.selectedRequest=B(null);this.dataService=L(At);this.workflowService=L(Zs);this.i18n=L($e);this.userRequests=K(()=>{let e=this.dataService.serviceRequests(),t=this.user(),i=[];return t.role==="professional"?i=e.filter(r=>r.professional_id===t.id):t.role==="admin"&&(i=e),i});this.filteredRequests=K(()=>{let e=this.userRequests(),t=this.filterStatus(),i=this.filterStartDate(),r=this.filterEndDate(),o=this.filterCategory(),s=this.searchTerm().toLowerCase();if(t){let a=this.statusMap[t];e=e.filter(l=>l.status===a)}if(i&&r){let a=new Date(i),l=new Date(r);l.setHours(23,59,59,999),e=e.filter(c=>{if(!c.requested_date)return!1;let d=new Date(c.requested_date);return d>=a&&d<=l})}return o&&(e=e.filter(a=>String(a.category_id)===o)),s&&(e=e.filter(a=>a.title?.toLowerCase().includes(s)||a.zip_code?.toLowerCase().includes(s)||String(a.id).includes(s))),this.sortRequests(e)});this.paginatedRequests=K(()=>{let e=this.filteredRequests(),t=(this.currentPage()-1)*this.itemsPerPage(),i=t+this.itemsPerPage();return e.slice(t,i)});this.activeFilters=K(()=>{let e=[];if(this.filterStatus()){let t=this.statusAtivos().find(i=>i.value===this.filterStatus())?.label||this.filterStatus();e.push({type:"status",label:"status",value:t})}if(this.filterStartDate()&&this.filterEndDate()&&e.push({type:"period",label:"period",value:`${this.filterStartDate()} - ${this.filterEndDate()}`}),this.filterCategory()){let t=this.dataService.categories().find(i=>String(i.id)===String(this.filterCategory()))?.name||"";e.push({type:"category",label:"category",value:t})}return this.searchTerm()&&e.push({type:"search",label:"search",value:this.searchTerm()}),e});this.stats=K(()=>{let e=this.user(),t=this.userRequests(),i=new Set(this.statusAtivos().map(r=>this.statusMap[r.value]).filter(Boolean));if(e.role==="admin")return[{label:this.i18n.translate("activeRequests"),value:t.filter(r=>i.has(r.status)).length,icon:"fas fa-cogs text-blue-500"},{label:this.i18n.translate("completedRequests"),value:t.filter(r=>!i.has(r.status)).length,icon:"fas fa-check-circle text-green-500"}];if(e.role==="professional"){let r=t.filter(o=>o.payment_status==="Paid"&&o.cost).reduce((o,s)=>o+s.cost,0);return[{label:this.i18n.translate("activeJobs"),value:t.filter(o=>i.has(o.status)).length,icon:"fas fa-briefcase text-blue-500"},{label:this.i18n.translate("completedJobs"),value:t.filter(o=>!i.has(o.status)).length,icon:"fas fa-check-double text-green-500"},{label:this.i18n.translate("totalEarnings"),value:`\u20AC ${r.toFixed(2)}`,icon:"fas fa-euro-sign text-emerald-500"}]}return[]});this.Math=Math}handleViewDetails(e){this.viewDetails.emit(e)}sortByColumn(e){this.sortBy()===e?this.toggleSortOrder():(this.sortBy.set(e),this.sortOrder.set("desc"))}toggleSortOrder(){this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc")}isArray(e){return Array.isArray(e)}async handleFinishService(e){this.actionLoadingIds.update(t=>Array.from(new Set([...t||[],e.id])));try{await this.workflowService.completeWork(e.id),this.selectedRequest.set(null)}catch(t){console.error("Erro ao finalizar servi\xE7o:",t),this.showBusinessError.set(!0),this.businessErrorMessage.set(this.i18n.translate("errorFinishingService"))}finally{this.actionLoadingIds.update(t=>(t||[]).filter(i=>i!==e.id))}}async handleStartService(e){this.actionLoadingIds.update(t=>Array.from(new Set([...t||[],e.id])));try{await this.workflowService.startWork(e.id),this.selectedRequest.set(null)}catch(t){t instanceof Error&&t.message.includes("Tentativa de in\xEDcio antes da data agendada")?this.showBusinessRuleError("N\xE3o \xE9 permitido iniciar o servi\xE7o antes da data agendada!"):(console.error("Erro ao iniciar servi\xE7o:",t),this.showBusinessError.set(!0),this.businessErrorMessage.set(this.i18n.translate("genericError")))}finally{this.actionLoadingIds.update(t=>(t||[]).filter(i=>i!==e.id))}}ngOnInit(){this.statusAtivos.set(Object.values(dc).map(e=>({value:e,label:this.i18n.translate(e)})))}get pageNumbers(){let e=this.totalPages(),t=this.currentPage(),i=[];i.push(1);let r=Math.max(2,t-2),o=Math.min(e-1,t+2);r>2&&i.push(-1);for(let s=r;s<=o;s++)s!==1&&s!==e&&i.push(s);return o<e-1&&i.push(-1),e>1&&i.push(e),i}sortRequests(e){let t=this.sortBy(),r=this.sortOrder()==="asc"?1:-1;return[...e].sort((o,s)=>{let a=0;switch(t){case"date":{let l=o.requested_date?new Date(o.requested_date).getTime():0,c=s.requested_date?new Date(s.requested_date).getTime():0;a=l-c;break}case"status":{a=(o.status||"").localeCompare(s.status||"");break}case"id":{a=o.id-s.id;break}case"category":{let l=this.dataService.categories().find(d=>d.id===o.category_id)?.name||"",c=this.dataService.categories().find(d=>d.id===s.category_id)?.name||"";a=l.localeCompare(c);break}}return a*r})}async handleQuoteResponse(e,t){this.actionLoadingIds.update(i=>Array.from(new Set([...i||[],e.id])));try{await this.dataService.respondToQuote(e.id,t)}catch(i){console.error("Erro ao responder or\xE7amento:",i),this.showBusinessError.set(!0),this.businessErrorMessage.set(this.i18n.translate("genericError"))}finally{this.actionLoadingIds.update(i=>(i||[]).filter(r=>r!==e.id))}}async handleExecutionDateResponse(e,t,i){this.actionLoadingIds.update(r=>Array.from(new Set([...r||[],e.id])));try{await this.dataService.respondToExecutionDate(e.id,t,i)}catch(r){console.error("Erro ao responder data de execu\xE7\xE3o:",r),this.showBusinessError.set(!0),this.businessErrorMessage.set(this.i18n.translate("genericError"))}finally{this.actionLoadingIds.update(r=>(r||[]).filter(o=>o!==e.id))}}handleProvideClarification(e){this.provideClarification.emit(e)}showBusinessRuleError(e){this.businessErrorMessage.set(e),this.showBusinessError.set(!0),setTimeout(()=>this.showBusinessError.set(!1),6e3)}applyQuickFilter(e){this.filterStatus.set(this.filterStatus()===e?"":e)}clearFilters(){this.filterStatus.set(""),this.filterStartDate.set(""),this.filterEndDate.set(""),this.filterCategory.set(""),this.searchTerm.set("")}removeFilter(e){switch(e){case"status":this.filterStatus.set("");break;case"period":this.filterStartDate.set(""),this.filterEndDate.set("");break;case"category":this.filterCategory.set("");break;case"search":this.searchTerm.set("");break}}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}previousPage(){let e=this.currentPage();e>1&&this.currentPage.set(e-1)}nextPage(){let e=this.currentPage();e<this.totalPages()&&this.currentPage.set(e+1)}setItemsPerPage(e){this.itemsPerPage.set(e),this.currentPage.set(1)}};Kf.\u0275fac=function(t){return new(t||Kf)},Kf.\u0275cmp=ce({type:Kf,selectors:[["app-dashboard"]],inputs:{user:[1,"user"]},outputs:{viewDetails:"viewDetails",openChat:"openChat",payNow:"payNow",scheduleRequest:"scheduleRequest",provideClarification:"provideClarification",startService:"startService",finishService:"finishService"},decls:14,vars:11,consts:[[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-30"],[1,"space-y-4","sm:space-y-6","min-w-0","overflow-hidden","px-2","sm:px-0"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-800","break-words"],[1,"text-gray-500","text-sm","sm:text-base"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-3","sm:gap-4"],[1,"bg-white","p-4","sm:p-6","rounded-lg","shadow","flex","items-center","space-x-3","sm:space-x-4","min-w-0"],[3,"request","currentUser"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"bg-white","rounded-lg","shadow-lg","p-6","max-w-sm","w-full","text-center","border","border-red-300"],[1,"text-red-600","text-lg","font-semibold","mb-2"],[1,"mt-4","px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600",3,"click"],[1,"flex-shrink-0","w-10","h-10","sm:w-12","sm:h-12","flex","items-center","justify-center","rounded-full"],[1,"text-lg","sm:text-2xl"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-gray-700"],[1,"ml-2","text-gray-900"],[3,"close","refreshRequest","request","currentUser"],[1,"p-4","border-b","border-gray-200","bg-gray-50","space-y-4"],[1,"flex","flex-wrap","items-center","gap-2"],[1,"text-sm","font-semibold","text-gray-700","mr-2"],[3,"class"],[1,"flex","flex-wrap","gap-4","items-end"],[1,"block","text-xs","font-semibold","text-gray-600","mb-1"],[1,"border","border-gray-300","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value"],[1,"flex","items-center","gap-2"],["type","date",1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],[1,"text-gray-500"],[1,"border","rounded","px-2","py-1","text-sm",3,"ngModelChange","ngModel"],[1,"flex-1","min-w-[200px]"],["type","text",1,"border","rounded","px-2","py-1","text-sm","w-full",3,"ngModelChange","ngModel","placeholder"],[1,"px-3","py-1","text-xs","bg-gray-300","rounded","hover:bg-gray-400",3,"click"],[1,"flex","flex-wrap","items-center","gap-2","pt-3","border-t","border-gray-200"],[1,"text-center","text-gray-500","p-6"],[3,"click"],[1,"text-sm","font-medium","text-gray-600"],[1,"inline-flex","items-center","gap-x-1.5","py-1.5","px-3","rounded-full","text-xs","font-medium","bg-teal-100","text-teal-800"],[1,"flex-shrink-0","h-4","w-4","rounded-full","inline-flex","items-center","justify-center","text-teal-600","hover:bg-teal-200","hover:text-teal-500",3,"click"],[1,"fas","fa-times","text-xs"],[3,"sortChange","viewDetails","openChat","payNow","approveQuote","rejectQuote","approveExecutionDate","rejectExecutionDate","scheduleRequest","provideClarification","startService","finishService","serviceRequests","currentUser","enablePagination","sortBy","sortOrder","actionLoadingIds"],[1,"bg-white","px-4","py-3","flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","border-t","border-gray-200","space-y-3","sm:space-y-0"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-700"],[1,"border","border-gray-300","rounded-md","px-2","py-1","text-sm",3,"change","value"],["value","5"],["value","10"],["value","25"],["value","50"],[1,"hidden","sm:block"],[1,"font-medium"],[1,"flex","justify-center","sm:justify-end"],["aria-label","Pagination",1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"sr-only"],[1,"hidden","sm:flex"],[1,"sm:hidden","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-right"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"]],template:function(t,i){t&1&&(j(0,pde,6,1,"div",0),p(1,"div",1)(2,"div")(3,"h2",2),h(4),g(5,"i18n"),f(),p(6,"p",3),h(7),g(8,"i18n"),f()(),p(9,"div",4),oe(10,fde,8,12,"div",5,ade),f(),j(12,hde,1,2,"app-service-request-details",6)(13,Dde,50,35,"div",7),f()),t&2&&(q(i.showBusinessError()?0:-1),u(4),C(" ",Ke(5,4,"welcomeBack",Jn(9,ode,i.user().name))," "),u(3),C(" ",v(8,7,"dashboardSummary")," "),u(3),se(i.stats()),u(2),q(i.selectedRequest()?12:13))},dependencies:[pe,ft,ii,ri,Vt,yo,Qt,$t,Jf,Se],encapsulation:2,changeDetection:0});var Zx=Kf;function Ade(n,e){if(n&1&&(p(0,"div",15)(1,"div",19),k(2,"i",20),p(3,"span"),h(4),f()()()),n&2){let t=b(2);u(4),R(t.errorMessage())}}function Tde(n,e){n&1&&(k(0,"i",21),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"sending")," "))}function Ide(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&C(" ",v(1,1,"sendResetCode")," ")}function Mde(n,e){if(n&1){let t=H();p(0,"form",14),D("ngSubmit",function(){S(t);let r=b();return E(r.sendResetEmail())}),j(1,Ade,5,1,"div",15),p(2,"div")(3,"label",16),h(4),g(5,"i18n"),f(),p(6,"input",17),g(7,"i18n"),D("ngModelChange",function(r){S(t);let o=b();return E(o.email.set(r))}),f()(),p(8,"div")(9,"button",18),j(10,Tde,3,3)(11,Ide,2,3),f()()()}if(n&2){let t=b();u(),q(t.errorMessage()?1:-1),u(3),C(" ",v(5,6,"emailAddress")," "),u(2),A("placeholder",v(7,8,"emailPlaceholder"))("ngModel",t.email()),u(3),A("disabled",!t.email()||t.isLoading()),u(),q(t.isLoading()?10:11)}}function kde(n,e){n&1&&(k(0,"i",21),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"resending")," "))}function Rde(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&C(" ",v(1,1,"resendCode")," ")}function Nde(n,e){if(n&1){let t=H();p(0,"div",10)(1,"div",22)(2,"div",23),k(3,"i",24),p(4,"span"),h(5),g(6,"i18n"),f()()(),p(7,"div",12)(8,"p"),h(9),g(10,"i18n"),f(),p(11,"p",25),h(12),f()(),p(13,"div",26)(14,"button",27),D("click",function(){S(t);let r=b();return E(r.goToVerification())}),h(15),g(16,"i18n"),f(),p(17,"button",28),D("click",function(){S(t);let r=b();return E(r.resendCode())}),j(18,kde,3,3)(19,Rde,2,3),f()()()}if(n&2){let t=b();u(5),R(v(6,6,"resetCodeSent")),u(4),R(v(10,8,"resetCodeSentDescription")),u(3),R(t.email()),u(3),C(" ",v(16,10,"proceedToVerification")," "),u(2),A("disabled",t.isLoading()),u(),q(t.isLoading()?18:19)}}var eh=class eh{constructor(){this.backToLogin=de();this.codeRequested=de();this.initialEmail=ge("");this.authService=L(Oi);this.notificationService=L(jt);this.email=B("");this.isLoading=B(!1);this.isEmailSent=B(!1);this.errorMessage=B(null);Ut(()=>{let e=this.initialEmail();e&&this.email.set(e)})}async sendResetEmail(){if(!this.email()){this.errorMessage.set("Por favor, informe seu e-mail");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email())){this.errorMessage.set("Por favor, informe um e-mail v\xE1lido");return}this.isLoading.set(!0),this.errorMessage.set(null);try{await this.authService.sendPasswordResetCode(this.email()),this.isEmailSent.set(!0),this.notificationService.addNotification("Um c\xF3digo de redefini\xE7\xE3o foi enviado para seu e-mail")}catch(t){console.error("Erro ao enviar c\xF3digo de redefini\xE7\xE3o:",t),this.errorMessage.set(t.message||"Erro ao enviar c\xF3digo. Tente novamente.")}finally{this.isLoading.set(!1)}}async resendCode(){this.isLoading.set(!0);try{await this.authService.sendPasswordResetCode(this.email()),this.notificationService.addNotification("Um novo c\xF3digo foi enviado para seu e-mail")}catch(e){console.error("Erro ao reenviar c\xF3digo:",e),this.errorMessage.set(e.message||"Erro ao reenviar c\xF3digo. Tente novamente.")}finally{this.isLoading.set(!1)}}goToVerification(){this.codeRequested.emit(this.email())}};eh.\u0275fac=function(t){return new(t||eh)},eh.\u0275cmp=ce({type:eh,selectors:[["app-forgot-password"]],inputs:{initialEmail:[1,"initialEmail"]},outputs:{backToLogin:"backToLogin",codeRequested:"codeRequested"},decls:25,vars:16,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gray-100"],[1,"w-full","max-w-md","p-8","space-y-6","bg-white","rounded-lg","shadow-md","relative"],[1,"absolute","top-4","left-4","text-gray-600","hover:text-indigo-600","flex","items-center",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"text-center","pt-10"],[1,"mx-auto","w-16","h-16","bg-indigo-100","rounded-full","flex","items-center","justify-center","mb-4"],[1,"fas","fa-key","text-indigo-600","text-2xl"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"space-y-6"],[1,"text-center","space-y-6"],[1,"text-center"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-indigo-600","hover:text-indigo-500",3,"click"],[1,"space-y-6",3,"ngSubmit"],[1,"p-3","bg-red-100","border","border-red-400","text-red-700","rounded-md"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","name","email","type","email","autocomplete","email","required","",1,"w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","placeholder","ngModel"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-indigo-400","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","items-center"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"fas","fa-spinner","fa-spin","mr-2"],[1,"p-4","bg-green-100","border","border-green-400","text-green-700","rounded-md"],[1,"flex","items-center","justify-center"],[1,"fas","fa-check-circle","mr-2"],[1,"font-medium","mt-2"],[1,"space-y-3"],[1,"w-full","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"w-full","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),D("click",function(){return i.backToLogin.emit()}),k(3,"i",3),p(4,"span"),h(5),g(6,"i18n"),f()(),p(7,"div",4)(8,"div",5),k(9,"i",6),f(),p(10,"h1",7),h(11),g(12,"i18n"),f(),p(13,"p",8),h(14),g(15,"i18n"),f()(),j(16,Mde,12,10,"form",9)(17,Nde,20,12,"div",10),p(18,"div",11)(19,"p",12),h(20),g(21,"i18n"),p(22,"button",13),D("click",function(){return i.backToLogin.emit()}),h(23),g(24,"i18n"),f()()()()()),t&2&&(u(5),R(v(6,6,"backToLogin")),u(6),C(" ",v(12,8,"forgotPassword")," "),u(3),C(" ",v(15,10,"forgotPasswordDescription")," "),u(2),q(i.isEmailSent()?17:16),u(4),C(" ",v(21,12,"rememberPassword")," "),u(3),C(" ",v(24,14,"backToLogin")," "))},dependencies:[pe,ft,ni,Vt,Qt,ti,bi,$t,Vn,Se],encapsulation:2,changeDetection:0});var Xx=eh;var Pde=[[["","language-switcher",""]]],Ode=["[language-switcher]"];function Fde(n,e){n&1&&(p(0,"div",112),Oe(),p(1,"svg",113),k(2,"circle",114)(3,"path",115)(4,"path",116),f(),Ue(),p(5,"span",117),h(6,"Imagem n\xE3o encontrada"),k(7,"br"),h(8,"Verifique o arquivo "),p(9,"b"),h(10,"assets/landing-page.png"),f()()())}var th=class th{constructor(){this.signIn=de();this.createAccount=de();this.currentYear=new Date().getFullYear();this.imgError=!1;this.placeholderDataUrl="data:image/svg+xml;utf8,"+encodeURIComponent(`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 675" width="1200" height="675">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0f172a"/>
      <stop offset="50%" stop-color="#1e3a8a"/>
      <stop offset="100%" stop-color="#3730a3"/>
    </linearGradient>
  </defs>
  <rect width="100%" height="100%" fill="url(#g)"/>
  <g fill="none" stroke="#60a5fa" stroke-opacity="0.25">
    <circle cx="200" cy="150" r="120"/>
    <circle cx="1000" cy="520" r="160"/>
    <path d="M100 600 C300 500, 900 500, 1100 600"/>
  </g>
  <g fill="#93c5fd" fill-opacity="0.9">
    <path d="M300 420 h150 v-80 a20 20 0 0 1 20 -20 h60 a20 20 0 0 1 20 20 v80 h150 v100 H300 Z" opacity="0.25"/>
  </g>
  <text x="50%" y="45%" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="44" fill="#e0e7ff" opacity="0.95">Natan Construtora</text>
  <text x="50%" y="55%" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="20" fill="#bfdbfe" opacity="0.9">Imagem tempor\xE1ria (assets/landing-page.png ausente)</text>
  <text x="50%" y="64%" text-anchor="middle" font-family="Segoe UI, Arial, sans-serif" font-size="16" fill="#93c5fd" opacity="0.85">Substitua por src/assets/landing-page.png</text>
</svg>
`)}onSubmitQuote(e){e.preventDefault();let t=e.target,i=new FormData(t),r={name:i.get("name"),email:i.get("email"),phone:i.get("phone"),service:i.get("service"),message:i.get("message")};console.log("Quote request:",r);let o=this.buildWhatsAppMessage(r),s=`https://wa.me/351910997548?text=${encodeURIComponent(o)}`;window.open(s,"_blank"),t.reset(),this.showSuccessMessage()}buildWhatsAppMessage(e){return`
*Pedido de Or\xE7amento - Natan Construtora*

*Nome:* ${e.name}
*Email:* ${e.email}
*Telefone:* ${e.phone}
*Servi\xE7o:* ${e.service}

*Mensagem:*
${e.message||"Sem mensagem adicional"}

---
`}showSuccessMessage(){}};th.\u0275fac=function(t){return new(t||th)},th.\u0275cmp=ce({type:th,selectors:[["app-landing"]],outputs:{signIn:"signIn",createAccount:"createAccount"},ngContentSelectors:Ode,decls:322,vars:185,consts:[[1,"flex","flex-col","min-h-screen","bg-gradient-to-br","from-slate-900","via-blue-900","to-indigo-900","text-white","relative","overflow-x-hidden","mobile-safe"],[1,"absolute","inset-0","opacity-5","bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMSI+PHBhdGggZD0iTTM2IDEzNGgxMnYxMkgzNnoiLz48L2c+PC9nPjwvc3ZnPg==')]"],[1,"relative","w-full","h-[60vh]","sm:h-auto","sm:aspect-[16/7]","flex","items-end","justify-center","shadow-2xl","rounded-b-3xl","mb-8","bg-black"],["alt","Fam\xEDlia feliz em frente a uma casa constru\xEDda pela Natan Construtora","loading","eager",1,"absolute","inset-0","w-full","h-full","object-cover","sm:object-contain","object-center","z-0",2,"filter","brightness(0.82) saturate(1.1)",3,"error","src"],["class","absolute inset-0 flex flex-col items-center justify-center z-10 bg-black/70",4,"ngIf"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/70","via-black/20","to-transparent","z-10"],[1,"absolute","top-2","right-8","sm:top-4","sm:right-16","lg:right-24","z-20","flex","flex-col","items-end","gap-3"],[1,"flex","flex-col","sm:flex-row","gap-3","sm:gap-4","w-full","sm:w-auto"],[1,"bg-white","text-indigo-800","font-semibold","py-3","px-5","sm:px-7","rounded-full","shadow-lg","transform","hover:scale-105","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-blue-400","active:bg-blue-100/80","border-2","border-indigo-200","w-full","sm:w-auto","hover:shadow-xl","min-h-12",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"inline-block","mr-2","w-5","h-5","text-blue-500","align-middle"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15"],["stroke-linecap","round","stroke-linejoin","round","d","M18 12H9m0 0l3-3m-3 3l3 3"],[1,"bg-indigo-800","text-white","font-semibold","py-3","px-5","sm:px-7","rounded-full","shadow-lg","transform","hover:scale-105","transition-all","duration-200","border-2","border-indigo-800","hover:bg-indigo-700","hover:text-white","focus:outline-none","focus:ring-2","focus:ring-blue-400","active:bg-indigo-900/80","w-full","sm:w-auto","hover:shadow-xl","min-h-12",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"inline-block","mr-2","w-5","h-5","text-blue-200","align-middle"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.5V17a2 2 0 00-2-2H7a2 2 0 00-2 2v2.5"],["cx","9","cy","7","r","4"],["stroke-linecap","round","stroke-linejoin","round","d","M19 8v6m3-3h-6"],[1,"container","mx-auto","px-2","sm:px-4","pb-40","pt-24","sm:pt-8"],[1,"text-center","animate-fadeInUp","mb-12","sm:mb-16"],[1,"flex","flex-col","sm:flex-row","gap-2","sm:gap-4","justify-center","items-center","w-full"],["href","#contact",1,"bg-gradient-to-r","from-blue-500","to-indigo-600","text-white","font-bold","py-4","px-8","rounded-full","shadow-2xl","transform","hover:scale-105","transition-all","duration-300","hover:shadow-blue-500/50","border-2","border-blue-400/30","w-full","sm:w-auto","focus:outline-none","focus:ring-2","focus:ring-white"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"inline-block","mr-2","w-6","h-6"],["d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["href","#services",1,"bg-white/10","backdrop-blur-md","text-white","font-semibold","py-4","px-8","rounded-full","shadow-lg","transform","hover:scale-105","transition-all","duration-300","border-2","border-white/30","hover:bg-white/20","w-full","sm:w-auto","focus:outline-none","focus:ring-2","focus:ring-white"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","sm:gap-6","mb-10","sm:mb-16","max-w-4xl","mx-auto"],[1,"bg-white/10","backdrop-blur-md","border","border-white/20","rounded-xl","p-4","sm:p-6","text-center","transform","hover:scale-105","transition-all","duration-300","hover:bg-white/15"],[1,"text-4xl","font-bold","text-blue-300","mb-2"],[1,"text-sm","text-white/80","font-sans"],["id","about",1,"bg-white/15","backdrop-blur-md","border","border-white/20","rounded-2xl","p-6","sm:p-8","max-w-4xl","mx-auto","mb-12","shadow-2xl","transition-all","duration-300","hover:shadow-blue-500/20","hover:border-white/40","w-full"],[1,"text-3xl","font-serif","font-bold","mb-6","tracking-tight","flex","items-center","gap-3"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-8","h-8","text-blue-300"],["d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"space-y-4","text-base","sm:text-lg"],[1,"font-sans","leading-relaxed"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","mt-8"],[1,"flex","items-start","gap-3","bg-white/5","p-4","rounded-lg"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-6","h-6","text-blue-400","flex-shrink-0","mt-1"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-semibold","mb-1"],[1,"text-sm","text-white/80"],["d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"],["d","M13 10V3L4 14h7v7l9-11h-7z"],["id","services",1,"bg-gradient-to-br","from-white/20","via-blue-100/10","to-indigo-200/10","backdrop-blur-md","border","border-white/20","rounded-2xl","p-6","sm:p-8","max-w-4xl","mx-auto","mb-12","shadow-2xl","transition-all","duration-300","hover:shadow-blue-500/20","hover:border-white/40"],[1,"text-3xl","font-serif","font-bold","mb-6","tracking-tight","text-center","flex","items-center","justify-center","gap-3"],["d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"font-serif","font-semibold","mb-3","text-xl","flex","items-center","gap-3"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-7","h-7","text-blue-300"],[1,"space-y-2","ml-2"],[1,"font-sans","flex","items-center","gap-3","group"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-5","h-5","text-blue-400","group-hover:scale-110","transition-transform"],["d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],[1,"bg-white/5","rounded-xl","p-5","hover:bg-white/10","transition-all","duration-300"],["d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["d","M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"],["d","M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"],[1,"mt-6","italic","font-sans","text-center","text-blue-200","bg-white/5","rounded-lg","p-4"],["id","contact",1,"bg-gradient-to-br","from-white/20","via-blue-100/10","to-indigo-200/10","backdrop-blur-md","border","border-white/20","rounded-2xl","p-6","sm:p-8","max-w-4xl","mx-auto","mb-12","shadow-2xl","transition-all","duration-300","hover:shadow-blue-500/20","hover:border-white/40"],["d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"space-y-4"],[1,"text-xl","font-semibold","mb-4"],[1,"space-y-3"],["href","mailto:natanconstrucoes@gmail.com","aria-label","Enviar email para Natan Construtora",1,"flex","items-center","gap-3","text-white","hover:text-blue-300","transition-colors","group"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"w-6","h-6","text-blue-400","group-hover:scale-110","transition-transform"],[1,"text-sm","text-white/70"],[1,"font-semibold"],["href","tel:+351296383222","aria-label","Ligar para telefone fixo Natan Construtora",1,"flex","items-center","gap-3","text-white","hover:text-blue-300","transition-colors","group"],["d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["href","tel:+351910997548","aria-label","Ligar para telem\xF3vel Natan Construtora",1,"flex","items-center","gap-3","text-white","hover:text-blue-300","transition-colors","group"],["d","M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"pt-6","border-t","border-white/20"],[1,"text-lg","font-semibold","mb-3"],[1,"flex","gap-4"],["href","https://facebook.com/natanconstrutora","target","_blank","rel","noopener noreferrer","aria-label","Facebook da Natan Construtora",1,"bg-white/10","hover:bg-blue-600","p-3","rounded-full","transition-all","duration-300","transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-white"],["fill","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-6","h-6"],["d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],["href","https://instagram.com/construtora_natan","target","_blank","rel","noopener noreferrer","aria-label","Instagram da Natan Construtora",1,"bg-white/10","hover:bg-pink-600","p-3","rounded-full","transition-all","duration-300","transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-white"],["d","M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z"],[1,"bg-white/5","rounded-xl","p-6"],[1,"space-y-4",3,"submit"],["for","name",1,"block","text-sm","font-medium","mb-2"],["type","text","id","name","name","name","required","",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all",3,"placeholder"],["for","email",1,"block","text-sm","font-medium","mb-2"],["type","email","id","email","name","email","required","",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all",3,"placeholder"],["for","phone",1,"block","text-sm","font-medium","mb-2"],["type","tel","id","phone","name","phone","required","",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all",3,"placeholder"],["for","service",1,"block","text-sm","font-medium","mb-2"],["id","service","name","service","required","",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all"],["value","",1,"bg-indigo-900"],["value","projeto",1,"bg-indigo-900"],["value","construcao",1,"bg-indigo-900"],["value","reforma",1,"bg-indigo-900"],["value","consultoria",1,"bg-indigo-900"],["for","message",1,"block","text-sm","font-medium","mb-2"],["id","message","name","message","rows","4",1,"w-full","px-4","py-2","rounded-lg","bg-white/10","border","border-white/20","text-white","placeholder-white/50","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition-all","resize-none",3,"placeholder"],["type","submit",1,"w-full","bg-gradient-to-r","from-blue-500","to-indigo-600","text-white","font-bold","py-3","px-6","rounded-lg","shadow-lg","transform","hover:scale-105","transition-all","duration-300","hover:shadow-blue-500/50","focus:outline-none","focus:ring-2","focus:ring-white"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24","aria-hidden","true",1,"inline-block","mr-2","w-5","h-5"],["d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],["target","_blank","rel","noopener noreferrer","aria-label","Contatar via WhatsApp",1,"fixed","bottom-20","right-4","sm:bottom-24","sm:right-12","bg-green-500","hover:bg-green-600","text-white","rounded-full","p-3","sm:p-4","shadow-2xl","transform","hover:scale-110","transition-all","duration-300","z-50","animate-bounce","focus:outline-none","focus:ring-2","focus:ring-white",3,"href"],["fill","currentColor","viewBox","0 0 24 24","aria-hidden","true",1,"w-7","h-7","sm:w-8","sm:h-8"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"],[1,"w-full","fixed","bottom-0","left-0","z-40","bg-gradient-to-r","from-indigo-900/95","via-indigo-800/95","to-blue-700/95","backdrop-blur-md","text-white/90","text-xs","py-2","sm:py-3","px-2","sm:px-4","shadow-2xl","border-t","border-white/10"],[1,"container","mx-auto","flex","flex-col","sm:flex-row","items-center","justify-between","gap-1","sm:gap-2"],[1,"flex","flex-col","sm:flex-row","items-center","gap-1","sm:gap-4"],[1,"hidden","sm:inline","text-white/50"],[1,"text-white/70"],[1,"flex","flex-wrap","items-center","justify-center","gap-1","sm:gap-4"],["href","#privacy",1,"hover:text-blue-300","transition-colors","underline"],["href","#terms",1,"hover:text-blue-300","transition-colors","underline"],["href","mailto:natanconstrucoes@gmail.com",1,"hover:text-blue-300","transition-colors","underline"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","z-10","bg-black/70"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 48 48","aria-hidden","true",1,"w-20","h-20","text-blue-300","mb-4"],["cx","24","cy","24","r","22","stroke","currentColor","stroke-width","3","fill","none"],["d","M16 32l8-8 8 8","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round","fill","none"],["d","M24 16v8","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round","fill","none"],[1,"text-blue-100","text-lg","font-semibold","text-center","drop-shadow"]],template:function(t,i){t&1&&(e0(Pde),p(0,"div",0),k(1,"div",1),p(2,"div",2)(3,"img",3),D("error",function(){return i.imgError=!0}),f(),he(4,Fde,11,0,"div",4),k(5,"div",5),p(6,"div",6),t0(7),p(8,"div",7)(9,"button",8),D("click",function(){return i.signIn.emit()}),Oe(),p(10,"svg",9),k(11,"path",10)(12,"path",11),f(),h(13),g(14,"i18n"),f(),Ue(),p(15,"button",12),D("click",function(){return i.createAccount.emit()}),Oe(),p(16,"svg",13),k(17,"path",14)(18,"circle",15)(19,"path",16),f(),h(20),g(21,"i18n"),f()()()(),Ue(),p(22,"div",17)(23,"div",18)(24,"div",19)(25,"a",20),Oe(),p(26,"svg",21),k(27,"path",22),f(),h(28),g(29,"i18n"),f(),Ue(),p(30,"a",23),h(31),g(32,"i18n"),f()()(),p(33,"section",24)(34,"div",25)(35,"div",26),h(36,"20+"),f(),p(37,"div",27),h(38),g(39,"i18n"),f()(),p(40,"div",25)(41,"div",26),h(42,"500+"),f(),p(43,"div",27),h(44),g(45,"i18n"),f()(),p(46,"div",25)(47,"div",26),h(48,"100%"),f(),p(49,"div",27),h(50),g(51,"i18n"),f()()(),p(52,"section",28)(53,"h2",29),Oe(),p(54,"svg",30),k(55,"path",31),f(),h(56),g(57,"i18n"),f(),Ue(),p(58,"div",32)(59,"p",33),h(60),g(61,"i18n"),f(),p(62,"p",33),h(63),g(64,"i18n"),f()(),p(65,"div",34)(66,"div",35),Oe(),p(67,"svg",36),k(68,"path",37),f(),Ue(),p(69,"div")(70,"h4",38),h(71),g(72,"i18n"),f(),p(73,"p",39),h(74),g(75,"i18n"),f()()(),p(76,"div",35),Oe(),p(77,"svg",36),k(78,"path",40),f(),Ue(),p(79,"div")(80,"h4",38),h(81),g(82,"i18n"),f(),p(83,"p",39),h(84),g(85,"i18n"),f()()(),p(86,"div",35),Oe(),p(87,"svg",36),k(88,"path",41),f(),Ue(),p(89,"div")(90,"h4",38),h(91),g(92,"i18n"),f(),p(93,"p",39),h(94),g(95,"i18n"),f()()(),p(96,"div",35),Oe(),p(97,"svg",36),k(98,"path",42),f(),Ue(),p(99,"div")(100,"h4",38),h(101),g(102,"i18n"),f(),p(103,"p",39),h(104),g(105,"i18n"),f()()()()(),p(106,"section",43)(107,"h2",44),Oe(),p(108,"svg",30),k(109,"path",45),f(),h(110),g(111,"i18n"),f(),Ue(),p(112,"h3",46),Oe(),p(113,"svg",47),k(114,"path",22),f(),h(115),g(116,"i18n"),f(),Ue(),p(117,"ul",48)(118,"li",49),Oe(),p(119,"svg",50),k(120,"path",51),f(),Ue(),p(121,"span"),h(122),g(123,"i18n"),f()(),p(124,"li",49),Oe(),p(125,"svg",50),k(126,"path",31),f(),Ue(),p(127,"span"),h(128),g(129,"i18n"),f()()(),p(130,"div",52)(131,"h3",46),Oe(),p(132,"svg",47),k(133,"path",31),f(),h(134),g(135,"i18n"),f(),Ue(),p(136,"ul",48)(137,"li",49),Oe(),p(138,"svg",50),k(139,"path",45),f(),Ue(),p(140,"span"),h(141),g(142,"i18n"),f()(),p(143,"li",49),Oe(),p(144,"svg",50),k(145,"path",51),f(),Ue(),p(146,"span"),h(147),g(148,"i18n"),f()()()(),p(149,"div",52)(150,"h3",46),Oe(),p(151,"svg",47),k(152,"path",53),f(),h(153),g(154,"i18n"),f(),Ue(),p(155,"ul",48)(156,"li",49),Oe(),p(157,"svg",50),k(158,"path",54),f(),Ue(),p(159,"span"),h(160),g(161,"i18n"),f()(),p(162,"li",49),Oe(),p(163,"svg",50),k(164,"path",40),f(),Ue(),p(165,"span"),h(166),g(167,"i18n"),f()()()(),p(168,"div",52)(169,"h3",46),Oe(),p(170,"svg",47),k(171,"path",22),f(),h(172),g(173,"i18n"),f(),Ue(),p(174,"ul",48)(175,"li",49),Oe(),p(176,"svg",50),k(177,"path",55),f(),Ue(),p(178,"span"),h(179),g(180,"i18n"),f()(),p(181,"li",49),Oe(),p(182,"svg",50),k(183,"path",56),f(),Ue(),p(184,"span"),h(185),g(186,"i18n"),f()()()(),p(187,"p",57),h(188),g(189,"i18n"),f(),p(190,"section",58)(191,"h2",44),Oe(),p(192,"svg",30),k(193,"path",59),f(),h(194),g(195,"i18n"),f(),Ue(),p(196,"div",60)(197,"div",61)(198,"h3",62),h(199),g(200,"i18n"),f(),p(201,"div",63)(202,"a",64),Oe(),p(203,"svg",65),k(204,"path",59),f(),Ue(),p(205,"div")(206,"div",66),h(207),g(208,"i18n"),f(),p(209,"div",67),h(210,"natanconstrucoes@gmail.com"),f()()(),p(211,"a",68),Oe(),p(212,"svg",65),k(213,"path",69),f(),Ue(),p(214,"div")(215,"div",66),h(216),g(217,"i18n"),f(),p(218,"div",67),h(219,"+351 296 383 222"),f()()(),p(220,"a",70),Oe(),p(221,"svg",65),k(222,"path",71),f(),Ue(),p(223,"div")(224,"div",66),h(225),g(226,"i18n"),f(),p(227,"div",67),h(228,"+351 910 997 548"),f()()()(),p(229,"div",72)(230,"h4",73),h(231),g(232,"i18n"),f(),p(233,"div",74)(234,"a",75),Oe(),p(235,"svg",76),k(236,"path",77),f()(),Ue(),p(237,"a",78),Oe(),p(238,"svg",76),k(239,"path",79),f()()()()(),Ue(),p(240,"div",80)(241,"h3",62),h(242),g(243,"i18n"),f(),p(244,"form",81),D("submit",function(o){return i.onSubmitQuote(o)}),p(245,"div")(246,"label",82),h(247),g(248,"i18n"),f(),k(249,"input",83),g(250,"i18n"),f(),p(251,"div")(252,"label",84),h(253),g(254,"i18n"),f(),k(255,"input",85),g(256,"i18n"),f(),p(257,"div")(258,"label",86),h(259),g(260,"i18n"),f(),k(261,"input",87),g(262,"i18n"),f(),p(263,"div")(264,"label",88),h(265),g(266,"i18n"),f(),p(267,"select",89)(268,"option",90),h(269),g(270,"i18n"),f(),p(271,"option",91),h(272),g(273,"i18n"),f(),p(274,"option",92),h(275),g(276,"i18n"),f(),p(277,"option",93),h(278),g(279,"i18n"),f(),p(280,"option",94),h(281),g(282,"i18n"),f()()(),p(283,"div")(284,"label",95),h(285),g(286,"i18n"),f(),k(287,"textarea",96),g(288,"i18n"),f(),p(289,"button",97),Oe(),p(290,"svg",98),k(291,"path",99),f(),h(292),g(293,"i18n"),f()()()()(),Ue(),p(294,"a",100),g(295,"i18n"),Oe(),p(296,"svg",101),k(297,"path",102),f()(),Ue(),p(298,"footer",103)(299,"div",104)(300,"div",105)(301,"span",67),h(302),f(),p(303,"span",106),h(304,"|"),f(),p(305,"span",107),h(306),g(307,"i18n"),f()(),p(308,"div",108)(309,"a",109),h(310),g(311,"i18n"),f(),p(312,"span",106),h(313,"|"),f(),p(314,"a",110),h(315),g(316,"i18n"),f(),p(317,"span",106),h(318,"|"),f(),p(319,"a",111),h(320),g(321,"i18n"),f()()()()()()()),t&2&&(u(3),A("src",i.imgError?i.placeholderDataUrl:"src/assets/landing-page.png",dr),u(),A("ngIf",i.imgError),u(9),C(" ",v(14,67,"signIn")," "),u(7),C(" ",v(21,69,"createAccount")," "),u(8),C(" ",v(29,71,"landingCtaQuote")," "),u(3),C(" ",v(32,73,"landingCtaServices")," "),u(7),R(v(39,75,"landingStatsYears")),u(6),R(v(45,77,"landingStatsProjects")),u(6),R(v(51,79,"landingStatsSatisfaction")),u(6),C(" ",v(57,81,"landingAboutTitle")," "),u(4),C(" ",v(61,83,"landingAboutText1")," "),u(3),C(" ",v(64,85,"landingAboutText2")," "),u(8),R(v(72,87,"landingDifferential1Title")),u(3),R(v(75,89,"landingDifferential1Text")),u(7),R(v(82,91,"landingDifferential2Title")),u(3),R(v(85,93,"landingDifferential2Text")),u(7),R(v(92,95,"landingDifferential3Title")),u(3),R(v(95,97,"landingDifferential3Text")),u(7),R(v(102,99,"landingDifferential4Title")),u(3),R(v(105,101,"landingDifferential4Text")),u(6),C(" ",v(111,103,"landingServicesTitle")," "),u(5),C(" ",v(116,105,"landingServicesProjects")," "),u(7),R(v(123,107,"landingServicesProjects1")),u(6),R(v(129,109,"landingServicesProjects2")),u(6),C(" ",v(135,111,"landingServicesConstruction")," "),u(7),R(v(142,113,"landingServicesConstruction1")),u(6),R(v(148,115,"landingServicesConstruction2")),u(6),C(" ",v(154,117,"landingServicesRenovation")," "),u(7),R(v(161,119,"landingServicesRenovation1")),u(6),R(v(167,121,"landingServicesRenovation2")),u(6),C(" ",v(173,123,"landingServicesConsulting")," "),u(7),R(v(180,125,"landingServicesConsulting1")),u(6),R(v(186,127,"landingServicesConsulting2")),u(3),C(" ",v(189,129,"landingServicesFooter")," "),u(6),C(" ",v(195,131,"landingContactsTitle")," "),u(5),R(v(200,133,"landingContactsInfo")),u(8),R(v(208,135,"landingContactsEmail")),u(9),R(v(217,137,"landingContactsPhone")),u(9),R(v(226,139,"landingContactsMobile")),u(6),R(v(232,141,"landingSocialMedia")),u(11),R(v(243,143,"landingQuoteFormTitle")),u(5),C("",v(248,145,"landingFormName")," *"),u(2),A("placeholder",ie(v(250,147,"landingFormNamePlaceholder"))),u(4),C("",v(254,149,"landingFormEmail")," *"),u(2),A("placeholder",ie(v(256,151,"landingFormEmailPlaceholder"))),u(4),C("",v(260,153,"landingFormPhone")," *"),u(2),A("placeholder",ie(v(262,155,"landingFormPhonePlaceholder"))),u(4),C("",v(266,157,"landingFormService")," *"),u(4),R(v(270,159,"landingFormServiceSelect")),u(3),R(v(273,161,"landingServicesProjects")),u(3),R(v(276,163,"landingServicesConstruction")),u(3),R(v(279,165,"landingServicesRenovation")),u(3),R(v(282,167,"landingServicesConsulting")),u(4),R(v(286,169,"landingFormMessage")),u(2),A("placeholder",ie(v(288,171,"landingFormMessagePlaceholder"))),u(5),C(" ",v(293,173,"landingFormSubmit")," "),u(2),A("href",Kp("https://wa.me/351910997548?text=",v(295,175,"landingWhatsAppMessage")),dr),u(8),C("\xA9 ",i.currentYear," Natan Construtora"),u(4),R(v(307,177,"landingFooterTagline")),u(4),R(v(311,179,"landingFooterPrivacy")),u(5),R(v(316,181,"landingFooterTerms")),u(5),R(v(321,183,"landingFooterContact")))},dependencies:[pe,Ln,Se],encapsulation:2,changeDetection:0});var Jx=th;function Lde(n,e){if(n&1&&(p(0,"div",15)(1,"div",25),k(2,"i",26),p(3,"span"),h(4),f()()()),n&2){let t=b();u(4),R(t.errorMessage())}}function Bde(n,e){n&1&&(k(0,"i",27),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"loggingIn")," "))}function Vde(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&C(" ",v(1,1,"login")," ")}var nh=class nh{constructor(){this.loggedIn=de();this.switchToRegister=de();this.switchToLanding=de();this.forgotPassword=de();this.email=B("");this.password=B("");this.errorMessage=B(null);this.isLoading=B(!1);this.i18n=L($e)}login(){console.log("Logging in with",this.email(),this.password()),this.errorMessage.set(null),this.isLoading.set(!0),this.loggedIn.emit({email:this.email(),password:this.password()})}setError(e){this.errorMessage.set(e),this.isLoading.set(!1)}clearError(){this.errorMessage.set(null),this.isLoading.set(!1)}handleForgotPassword(){console.log("Forgot password for email:",this.email()),this.forgotPassword.emit(this.email())}};nh.\u0275fac=function(t){return new(t||nh)},nh.\u0275cmp=ce({type:nh,selectors:[["app-login"]],outputs:{loggedIn:"loggedIn",switchToRegister:"switchToRegister",switchToLanding:"switchToLanding",forgotPassword:"forgotPassword"},decls:49,vars:30,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gradient-to-br","from-indigo-100","via-white","to-indigo-300","mobile-safe"],[1,"w-full","max-w-md","md:max-w-lg","lg:max-w-xl","p-4","md:p-8","space-y-8","bg-white/90","backdrop-blur-md","rounded-3xl","shadow-2xl","relative","border","border-indigo-100","transition-all","duration-300"],["aria-label","Voltar para Home",1,"absolute","top-3","left-3","text-indigo-400","hover:text-indigo-700","flex","items-center","focus:outline-none","focus:ring-2","focus:ring-indigo-400","bg-white/80","px-2","py-1","rounded-lg","shadow-sm",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"hidden","sm:inline"],[1,"absolute","top-3","right-3","flex","items-center","gap-2","z-10"],[1,"fas","fa-globe","text-indigo-500","text-lg"],["aria-label","Selecionar idioma",1,"px-2","py-1","rounded-lg","border","border-indigo-200","bg-indigo-50","text-indigo-700","text-sm","focus:outline-none","focus:ring-2","focus:ring-indigo-400",3,"change","value"],["value","pt"],["value","en"],[1,"flex","flex-col","items-center","pt-10","pb-2","gap-2"],["src","src/assets/logo.jpg","alt","Logo HomeService",1,"h-16","w-16","md:h-20","md:w-20","rounded-full","shadow-lg","mb-2"],[1,"text-3xl","md:text-4xl","font-extrabold","text-indigo-700","drop-shadow-sm"],[1,"mt-2","text-base","text-indigo-400","font-medium"],[1,"space-y-7",3,"ngSubmit"],[1,"p-3","bg-red-100","border","border-red-400","text-red-700","rounded-md"],["for","email",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","email","name","email","type","email","autocomplete","email","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","password","name","password","type","password","autocomplete","current-password","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between","mt-2"],["type","button",1,"text-sm","font-semibold","text-indigo-500","hover:text-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-400","px-2","py-1","rounded-lg",3,"click"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-xl","shadow-md","text-base","font-bold","text-white","bg-gradient-to-r","from-indigo-500","via-indigo-600","to-indigo-700","hover:from-indigo-600","hover:to-indigo-800","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-400","disabled:bg-indigo-300","disabled:cursor-not-allowed","transition-all","duration-150",3,"disabled"],[1,"mt-6","text-sm","text-center","text-indigo-500"],[1,"font-bold","text-indigo-600","hover:text-indigo-800","ml-1","focus:outline-none","focus:ring-2","focus:ring-indigo-400","px-2","py-1","rounded-lg",3,"click"],[1,"flex","items-center"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"fas","fa-spinner","fa-spin","mr-2"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),D("click",function(){return i.switchToLanding.emit()}),k(3,"i",3),p(4,"span",4),h(5),g(6,"i18n"),f()(),p(7,"div",5),k(8,"i",6),p(9,"select",7),D("change",function(o){return i.i18n.setLanguage(o.target.value)}),p(10,"option",8),h(11,"Portugu\xEAs"),f(),p(12,"option",9),h(13,"English"),f()()(),p(14,"div",10),k(15,"img",11),p(16,"h1",12),h(17),g(18,"i18n"),f(),p(19,"p",13),h(20),g(21,"i18n"),f()(),p(22,"form",14),D("ngSubmit",function(){return i.login()}),j(23,Lde,5,1,"div",15),p(24,"div")(25,"label",16),h(26),g(27,"i18n"),f(),p(28,"input",17),D("ngModelChange",function(o){return i.email.set(o)}),f()(),p(29,"div")(30,"label",18),h(31),g(32,"i18n"),f(),p(33,"input",19),D("ngModelChange",function(o){return i.password.set(o)}),f()(),p(34,"div",20)(35,"button",21),D("click",function(){return i.handleForgotPassword()}),h(36),g(37,"i18n"),f()(),p(38,"div")(39,"button",22),j(40,Bde,3,3)(41,Vde,2,3),f()()(),p(42,"div",23)(43,"span"),h(44),g(45,"i18n"),f(),p(46,"button",24),D("click",function(){return i.switchToRegister.emit()}),h(47),g(48,"i18n"),f()()()()),t&2&&(u(5),R(v(6,14,"backToHome")),u(4),A("value",i.i18n.language()),u(8),C(" ",v(18,16,"signIn")," "),u(3),C(" ",v(21,18,"welcomeBack")," "),u(3),q(i.errorMessage()?23:-1),u(3),R(v(27,20,"email")),u(2),A("ngModel",i.email()),u(3),R(v(32,22,"password")),u(2),A("ngModel",i.password()),u(3),C(" ",v(37,24,"forgotPassword")," "),u(3),A("disabled",!i.email()||!i.password()||i.isLoading()),u(),q(i.isLoading()?40:41),u(4),R(v(45,26,"dontHaveAccount")),u(3),C(" ",v(48,28,"createAccount")," "))},dependencies:[pe,ft,ni,ii,ri,Vt,Qt,ti,bi,$t,Vn,Se],encapsulation:2,changeDetection:0});var uv=nh;var jde=(n,e)=>e.id;function qde(n,e){n&1&&(Ie(0,"p",5),h(1),g(2,"i18n"),Ne()),n&2&&(u(),R(v(2,1,"noNewNotifications")))}function Ude(n,e){if(n&1){let t=H();Ie(0,"li",8),fr("click",function(){let r=S(t).$implicit,o=b(2);return E(!r.read&&o.notificationService.markAsRead(r.id))}),Ie(1,"div",9),Wi(2,"div",10),Ie(3,"div",11)(4,"p",12),h(5),Ne(),Ie(6,"p",13),h(7),g(8,"date"),Ne()()()()}if(n&2){let t=e.$implicit,i=b(2);yt("bg-blue-50",!t.read)("hover:bg-blue-100",!t.read)("bg-white",t.read)("hover:bg-gray-50",t.read)("notification-enter",i.isNew(t)),u(2),yt("bg-blue-500",!t.read)("bg-transparent",t.read),u(2),yt("font-medium",!t.read)("text-gray-800",!t.read)("text-gray-500",t.read),u(),C(" ",t.message," "),u(),yt("text-gray-500",!t.read)("text-gray-400",t.read),u(),C(" ",Ke(8,26,t.timestamp,"short")," ")}}function $de(n,e){if(n&1&&(Ie(0,"ul"),oe(1,Ude,9,29,"li",7,jde),Ne()),n&2){let t=b();u(),se(t.notificationService.notifications())}}function Hde(n,e){if(n&1){let t=H();Ie(0,"button",16),fr("click",function(){S(t);let r=b(2);return E(r.notificationService.markAllAsRead())}),h(1),g(2,"i18n"),Ne()}n&2&&(u(),C(" ",v(2,1,"markAllAsRead")," "))}function zde(n,e){if(n&1){let t=H();Ie(0,"div",6),j(1,Hde,3,3,"button",14),Ie(2,"button",15),fr("click",function(){S(t);let r=b();return E(r.notificationService.clearAll())}),h(3),g(4,"i18n"),Ne()()}if(n&2){let t=b();u(),q(t.hasUnreadNotifications()?1:-1),u(2),C(" ",v(4,2,"clearAll")," ")}}var ih=class ih{constructor(){this.close=de();this.notificationService=L(jt);this.hasUnreadNotifications=K(()=>this.notificationService.notifications().some(e=>!e.read));this.initialNotificationIds=new Set(this.notificationService.notifications().map(e=>e.id))}isNew(e){return!this.initialNotificationIds.has(e.id)}};ih.\u0275fac=function(t){return new(t||ih)},ih.\u0275cmp=ce({type:ih,selectors:[["app-notification-center"]],outputs:{close:"close"},decls:11,vars:5,consts:[[1,"absolute","top-16","right-4","w-80","bg-white","rounded-lg","shadow-xl","border","border-gray-200","z-50"],[1,"p-3","border-b","flex","justify-between","items-center"],[1,"font-semibold","text-gray-800"],[1,"text-gray-400","hover:text-gray-600","text-2xl","leading-none",3,"click"],[1,"max-h-96","overflow-y-auto"],[1,"text-center","text-gray-500","p-6"],[1,"p-2","bg-gray-50","border-t","text-center","flex","justify-around","items-center"],[1,"border-b","last:border-b-0","transition-colors","duration-150","cursor-pointer",3,"bg-blue-50","hover:bg-blue-100","bg-white","hover:bg-gray-50","notification-enter"],[1,"border-b","last:border-b-0","transition-colors","duration-150","cursor-pointer",3,"click"],[1,"flex","items-start","space-x-3","p-3"],[1,"w-2","h-2","mt-[5px]","rounded-full","flex-shrink-0"],[1,"flex-1"],[1,"text-sm"],[1,"text-xs","mt-1"],[1,"text-sm","text-blue-600","hover:underline"],[1,"text-sm","text-gray-600","hover:underline",3,"click"],[1,"text-sm","text-blue-600","hover:underline",3,"click"]],template:function(t,i){t&1&&(Ie(0,"div",0)(1,"div",1)(2,"h3",2),h(3),g(4,"i18n"),Ne(),Ie(5,"button",3),fr("click",function(){return i.close.emit()}),h(6,"\xD7"),Ne()(),Ie(7,"div",4),j(8,qde,3,3,"p",5)(9,$de,3,0,"ul"),Ne(),j(10,zde,5,4,"div",6),Ne()),t&2&&(u(3),R(v(4,3,"notifications")),u(5),q(i.notificationService.notifications().length===0?8:9),u(2),q(i.notificationService.notifications().length>0?10:-1))},dependencies:[pe,Gi,Se],encapsulation:2,changeDetection:0});var Kx=ih;var Gu=class Gu{constructor(e){this.http=e}generateCode(){return Math.floor(1e5+Math.random()*9e5).toString()}sendVerification(e){let t=null,i=e;if(e.includes("|")){let a=e.split("|");t=a[0],i=a[1]}if(!t)return _e({sent:!1,error:"missing_id"});let r=this.generateCode(),o=new Date(Date.now()+300*1e3).toISOString(),s=`${Pi.supabaseRestUrl}/users?id=eq.${encodeURIComponent(t)}`;return this.http.patch(s,{sms_code:r,sms_code_expires_at:o},{headers:{apikey:Pi.supabaseAnonKey,Authorization:`Bearer ${Pi.supabaseAnonKey}`,"Content-Type":"application/json",Prefer:"return=representation"}}).pipe(Be(()=>({sent:!0,code:r,expiresAt:o})))}validateCode(e,t){let i=null,r=e;if(e.includes("|")){let s=e.split("|");i=s[0],r=s[1]}if(!i)return _e({valid:!1,update:!1,error:"missing_id"});let o=`${Pi.supabaseRestUrl}/users?id=eq.${encodeURIComponent(i)}`;return this.http.get(o,{headers:{apikey:Pi.supabaseAnonKey,Authorization:`Bearer ${Pi.supabaseAnonKey}`,"Content-Type":"application/json"}}).pipe(sn(s=>{if(!Array.isArray(s)||s.length===0)return _e({valid:!1,update:!1,error:"user_not_found"});let a=s[0],l=(a.phone||"").replace(/\s+/g,""),c=r.replace(/\s+/g,"");if(!(l===c))return _e({valid:!1,update:!1,error:"phone_mismatch"});if(!a.sms_code||!a.sms_code_expires_at)return _e({valid:!1,update:!1,error:"no_code"});let m=new Date,_=new Date(a.sms_code_expires_at);if(m>_)return _e({valid:!1,update:!1,error:"expired"});if(t!==a.sms_code)return _e({valid:!1,update:!1,error:"invalid_code"});let y=`${Pi.supabaseRestUrl}/users?id=eq.${encodeURIComponent(i)}`;return this.http.patch(y,{phone_verified:!0,sms_code:null,sms_code_expires_at:null},{headers:{apikey:Pi.supabaseAnonKey,Authorization:`Bearer ${Pi.supabaseAnonKey}`,"Content-Type":"application/json",Prefer:"return=representation"}}).pipe(Be(()=>({valid:!0,update:!0})))}))}};Gu.\u0275fac=function(t){return new(t||Gu)(be(AC))},Gu.\u0275prov=te({token:Gu,factory:Gu.\u0275fac,providedIn:"root"});var ew=Gu;var Wde=["fileInput"],Gde=["videoElement"];function Qde(n,e){if(n&1){let t=H();Je(0),p(1,"div",39)(2,"button",40),D("click",function(){S(t);let r=b();return E(r.sendSmsVerification())}),h(3),g(4,"i18n"),f()(),Ye()}n&2&&(u(3),C(" ",v(4,1,"sendVerificationCode")," "))}function Yde(n,e){n&1&&(p(0,"div",41),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"phoneFormatError")," "))}function Zde(n,e){n&1&&(p(0,"span",42),h(1),g(2,"i18n"),f()),n&2&&(u(),R(v(2,1,"smsSentInfo")))}function Xde(n,e){n&1&&(p(0,"span",49),h(1),g(2,"i18n"),f()),n&2&&(u(),R(v(2,1,"smsCodeValid")))}function Jde(n,e){if(n&1&&(p(0,"div",50),h(1),f()),n&2){let t=b(2);u(),C(" ",t.lastNotification()," ")}}function Kde(n,e){if(n&1){let t=H();p(0,"div",43)(1,"label",44),h(2),g(3,"i18n"),f(),p(4,"input",45),g(5,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.smsCode,r)||(o.smsCode=r),E(r)}),f(),p(6,"button",46),D("click",function(){S(t);let r=b();return E(r.validateSmsCode())}),h(7),g(8,"i18n"),f(),he(9,Xde,3,3,"span",47)(10,Jde,2,1,"div",48),f()}if(n&2){let t=b();u(2),R(v(3,6,"smsCodeLabel")),u(2),Rt("ngModel",t.smsCode),A("placeholder",v(5,8,"smsCodePlaceholder")),u(3),C(" ",v(8,10,"validateCode")," "),u(2),A("ngIf",t.smsValid===!0),u(),A("ngIf",t.lastNotification())}}function epe(n,e){if(n&1){let t=H();Je(0),p(1,"div",54)(2,"div",55)(3,"input",56),D("change",function(r){let o=S(t).$implicit,s=b(2);return E(s.onSpecialtyChange(o,r))}),f()(),p(4,"div",57)(5,"label",58),h(6),g(7,"i18n"),f()()(),Ye()}if(n&2){let t=e.$implicit,i=b(2);u(3),A("id","specialty-"+t)("checked",i.isSpecialtyChecked(t)),u(2),A("for","specialty-"+t),u(),R(v(7,4,t))}}function tpe(n,e){if(n&1&&(Je(0),p(1,"div",51)(2,"h3",14),h(3),g(4,"i18n"),f(),p(5,"fieldset")(6,"div",52),he(7,epe,8,6,"ng-container",53),f()()(),Ye()),n&2){let t=b();u(3),C(" ",v(4,2,"mySpecialties")," "),u(4),A("ngForOf",t.allCategories())}}function npe(n,e){if(n&1){let t=H();p(0,"app-sms-verification-modal",59),D("close",function(){S(t);let r=b();return E(r.showSmsModal.set(!1))})("validate",function(){S(t);let r=b();return E(r.validateSmsCode())}),f()}if(n&2){let t=b();A("phone",t.phone())("smsCode",t.smsCode)}}var rh=class rh{constructor(){this.lastNotification=B("");this.user=ge.required();this.receiveSmsNotifications=B(!1);this.authService=L(Oi);this.notificationService=L(jt);this.dataService=L(At);this.smsVerificationService=L(ew);this.i18n=L($e);this.appComponent=L(oh);this.fileInput=Cu("fileInput");this.videoElement=Cu("videoElement");this.name=B("");this.phone=B("");this.address=B({street:"",city:"",state:"",zip_code:""});this.specialties=B([]);this.email=B("");this.isEditing=B(!1);this.isCameraOpen=B(!1);this.initialUserState=null;this.showSaveToast=B(!1);this.saveToastMessage=B("");this.saveToastType=B("success");this.smsSent=!1;this.smsCode="";this.smsValid=null;this.showSmsModal=B(!1);this.allCategories=this.dataService.categories;this.cameraStream=null;Ut(()=>{let e=this.user();e&&(this.initialUserState||(this.initialUserState=F({},e)),this.name.set(e.name),this.phone.set(e.phone||""),this.address.set(e.address||{street:"",city:"",state:"",zip_code:""}),this.specialties.set(e.specialties||[]),this.email.set(e.email||""),this.receiveSmsNotifications.set(e.receive_sms_notifications??!1))})}goToDashboard(){this.appComponent.currentNav.set("dashboard")}ngOnDestroy(){this.closeCamera()}toggleSpecialty(e){this.specialties.update(t=>t.includes(e)?t.filter(i=>i!==e):[...t,e])}isSpecialtyChecked(e){return this.specialties().includes(e)}onSpecialtyChange(e,t){let i=t.target.checked;this.specialties.update(r=>i?[...r,e]:r.filter(o=>o!==e))}async saveChanges(){console.log("\u{1F4BE} saveChanges() called");let e=this.user(),t={},i=!1;if(this.name()!==e.name&&(t.name=this.name(),i=!0),this.phone()!==(e.phone||"")&&(t.phone=this.phone(),i=!0),this.receiveSmsNotifications()!==(e.receive_sms_notifications??!1)&&(t.receive_sms_notifications=this.receiveSmsNotifications(),i=!0),this.user().role==="professional"&&JSON.stringify(this.specialties())!==JSON.stringify(e.specialties||[])&&(t.specialties=this.specialties(),i=!0),i){console.log("\u{1F4DD} Saving profile changes:",t);try{await this.authService.updateUserProfile(t),this.initialUserState=F({},this.user()),this.isEditing.set(!1),this.showToast(this.i18n.translate("profileUpdatedSuccessfully"),"success"),this.notificationService.addNotification(this.i18n.translate("profileUpdatedSuccessfully")),console.log("\u2705 Profile saved successfully")}catch(r){console.error("\u274C Error saving profile:",r);let o="Error updating profile: "+(r?.message||"Unknown error");this.showToast(o,"error"),this.notificationService.addNotification(o)}}else console.log("\u2139\uFE0F No changes detected"),this.showToast(this.i18n.translate("noChangesDetected"),"error"),this.notificationService.addNotification(this.i18n.translate("noChangesDetected"))}async onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let i=t.files[0];if(!["image/jpeg","image/png","image/gif"].includes(i.type)){this.notificationService.addNotification(this.i18n.translate("errorInvalidFileFormat"));return}if(i.size>2*1024*1024){this.notificationService.addNotification(this.i18n.translate("errorImageTooLarge"));return}await this.authService.uploadAvatar(i)}}async openCamera(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){this.notificationService.addNotification(this.i18n.translate("errorCameraNotSupported")),console.error("getUserMedia not supported");return}try{if((await navigator.permissions.query({name:"camera"})).state==="denied"){this.notificationService.addNotification(this.i18n.translate("errorCameraPermissionDenied"));return}this.cameraStream=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1}),this.isCameraOpen.set(!0),setTimeout(()=>{let t=this.videoElement();if(t){let i=t.nativeElement;i.srcObject=this.cameraStream,i.onloadedmetadata=()=>{console.log("\u2705 Metadata do v\xEDdeo carregada"),i.play().catch(r=>{console.error("Erro ao reproduzir v\xEDdeo:",r)})},i.onloadstart=()=>console.log("\u{1F4F9} Iniciando carregamento do v\xEDdeo"),i.oncanplay=()=>console.log("\u2705 V\xEDdeo pronto para reprodu\xE7\xE3o"),i.onplay=()=>console.log("\u25B6\uFE0F V\xEDdeo come\xE7ou a reproduzir"),i.onerror=r=>{console.error("Erro na reprodu\xE7\xE3o do v\xEDdeo:",r),this.notificationService.addNotification(this.i18n.translate("errorVideoPlayback")),this.closeCamera()},setTimeout(()=>{i.paused&&i.play().catch(r=>{console.error("Erro ao for\xE7ar reprodu\xE7\xE3o:",r)})},500)}else console.error("\u274C Elemento de v\xEDdeo n\xE3o encontrado"),this.closeCamera()},100)}catch(e){console.error("Erro ao acessar a c\xE2mera:",e);let t=this.i18n.translate("errorAccessingCamera"),i="";e.name==="NotAllowedError"?(t=this.i18n.translate("errorCameraPermissionDenied"),i=this.i18n.translate("solutionPermissionDenied")):e.name==="NotFoundError"?(t=this.i18n.translate("errorNoCameraFound"),i=this.i18n.translate("solutionNoCameraFound")):e.name==="NotReadableError"?(t=this.i18n.translate("errorCameraInUse"),i=this.i18n.translate("solutionCameraInUse")):e.name==="OverconstrainedError"?(t=this.i18n.translate("errorCameraConstraints"),i=this.i18n.translate("solutionCameraConstraints")):e.name==="AbortError"?(t=this.i18n.translate("errorCameraAborted"),i=this.i18n.translate("solutionCameraAborted")):e.name==="TypeError"&&(t=this.i18n.translate("errorCameraTypeError"),i=this.i18n.translate("solutionCameraTypeError")),this.notificationService.addNotification(t),i&&setTimeout(()=>{this.notificationService.addNotification(i)},2e3),console.group("\u{1F527} Informa\xE7\xF5es para Debugging:"),console.log("Tipo do erro:",e.name),console.log("Mensagem:",e.message),console.log("URL atual:",window.location.href),console.log("Protocolo:",window.location.protocol),console.log("Navegador:",navigator.userAgent),console.groupEnd()}}capturePhoto(){let e=this.videoElement()?.nativeElement;if(!e){this.notificationService.addNotification(this.i18n.translate("errorVideoNotAvailable"));return}if(e.videoWidth===0||e.videoHeight===0){this.notificationService.addNotification(this.i18n.translate("errorVideoNotReady"));return}try{let t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;let i=t.getContext("2d");if(!i){this.notificationService.addNotification(this.i18n.translate("errorCanvasNotSupported"));return}i.drawImage(e,0,0),t.toBlob(async r=>{if(r){let o=new File([r],`profile-photo-${Date.now()}.jpg`,{type:"image/jpeg"});try{await this.authService.uploadAvatar(o),this.notificationService.addNotification(this.i18n.translate("photoUploadedSuccessfully"))}catch(s){console.error("Erro ao fazer upload da foto:",s),this.notificationService.addNotification(this.i18n.translate("errorUploadingPhoto"))}}else this.notificationService.addNotification(this.i18n.translate("errorCapturingPhoto"));this.closeCamera()},"image/jpeg",.9)}catch(t){console.error("Erro ao capturar foto:",t),this.notificationService.addNotification(this.i18n.translate("errorCapturingPhoto")),this.closeCamera()}}closeCamera(){try{this.cameraStream&&(this.cameraStream.getTracks().forEach(t=>{t.stop()}),this.cameraStream=null);let e=this.videoElement();if(e){let t=e.nativeElement;t.srcObject=null}this.isCameraOpen.set(!1)}catch(e){console.error("Erro ao fechar a c\xE2mera:",e),this.isCameraOpen.set(!1)}}showCameraModal(){return this.isCameraOpen()}openCameraModal(){console.log("\u{1F3AC} Abrindo modal da c\xE2mera..."),this.openCamera()}closeCameraModal(){console.log("\u{1F51A} Fechando modal da c\xE2mera..."),this.closeCamera()}debugCameraState(){console.group("\u{1F50D} Estado da C\xE2mera - Debug"),console.log("Modal aberto:",this.isCameraOpen()),console.log("Stream ativa:",!!this.cameraStream),console.log("Elemento de v\xEDdeo:",this.videoElement());let e=this.videoElement();if(e){let t=e.nativeElement;console.log("Video srcObject:",t.srcObject),console.log("Video readyState:",t.readyState),console.log("Video paused:",t.paused),console.log("Video muted:",t.muted),console.log("Video autoplay:",t.autoplay),console.log("Video dimensions:",t.videoWidth+"x"+t.videoHeight)}console.groupEnd()}checkIfChanged(){return this.isChanged()}isChanged(){let e=this.user(),t=this.initialUserState,i=this.name()!==e.name,r=this.phone()!==(e.phone||""),o=this.email()!==(e.email||""),s=t&&this.user().avatar_url!==t.avatar_url,a=this.user().role==="professional"&&JSON.stringify(this.specialties())!==JSON.stringify(e.specialties||[]),l=this.receiveSmsNotifications()!==(e.receive_sms_notifications??!1);return i||r||o||s||a||l}resetForm(){}resetProfile(){let e=this.user();e&&(this.name.set(e.name),this.phone.set(e.phone||""),this.email.set(e.email||""),this.address.set(e.address||{street:"",city:"",state:"",zip_code:""}),this.specialties.set(e.specialties||[]),this.receiveSmsNotifications.set(e.receive_sms_notifications??!1),this.isEditing.set(!1),this.showSmsModal.set(!1),this.lastNotification.set(""))}saveProfile(){console.log("\u{1F4BE} saveProfile() called - calling saveChanges()"),this.saveChanges()}async sendSmsVerification(){try{let t=`${this.user().id}|${this.phone()}`;(await this.smsVerificationService.sendVerification(t).toPromise()).sent?(this.smsSent=!0,this.smsValid=null,this.showSmsModal.set(!0),this.notificationService.addNotification(this.i18n.translate("smsSentInfo"))):this.notificationService.addNotification(this.i18n.translate("smsSendError"))}catch{this.notificationService.addNotification(this.i18n.translate("smsSendError"))}}async validateSmsCode(){this.lastNotification.set("");try{console.log("Validating SMS code:",this.smsCode);let t=`${this.user().id}|${this.phone()}`;console.log("Telefone (id|telefone):",t);let i=await this.smsVerificationService.validateCode(t,this.smsCode).toPromise();if(console.log("SMS verification response:",i),i.valid&&i.update){this.smsValid=!0,this.lastNotification.set(""),this.notificationService.addNotification(this.i18n.translate("smsCodeValid"));let r=this.user().auth_id;r&&await this.authService.refreshAppUser(r)}else if(i.error==="expired"){this.smsValid=null;let r=this.i18n.translate("smsCodeExpired");this.lastNotification.set(r),this.notificationService.addNotification(r)}else{this.smsValid=null;let r=this.i18n.translate("smsCodeInvalid");this.lastNotification.set(r),this.notificationService.addNotification(r)}}catch(e){console.error("Error validating SMS code:",e),this.smsValid=null;let t=this.i18n.translate("smsCodeInvalid");this.lastNotification.set(t),this.notificationService.addNotification(t)}}showToast(e,t="success"){this.saveToastMessage.set(e),this.saveToastType.set(t),this.showSaveToast.set(!0),setTimeout(()=>{this.showSaveToast.set(!1)},3e3)}};rh.\u0275fac=function(t){return new(t||rh)},rh.\u0275cmp=ce({type:rh,selectors:[["app-profile"]],viewQuery:function(t,i){t&1&&(Pl(i.fileInput,Wde,5),Pl(i.videoElement,Gde,5)),t&2&&bu(2)},inputs:{user:[1,"user"]},decls:67,vars:49,consts:[["fileInput",""],["profileForm","ngForm"],[1,"flex","flex-col","items-center","justify-center","relative","group","h-24","w-full","md:h-32","md:w-full","mb-2","mobile-safe"],[1,"h-24","w-24","md:h-32","md:w-32","rounded-full","object-cover","shadow-lg",3,"src","alt"],[1,"absolute","inset-0","bg-black","bg-opacity-50","rounded-full","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition-opacity","cursor-pointer"],[1,"flex","space-x-6"],[1,"text-white","text-2xl","md:text-3xl","hover:text-gray-300",3,"click","title"],[1,"fas","fa-upload"],[1,"fas","fa-camera"],["type","file","hidden","","accept","image/png, image/jpeg, image/gif",3,"change"],[1,"text-2xl","md:text-3xl","font-extrabold","text-indigo-700","drop-shadow-sm","mt-2","text-center","whitespace-nowrap"],[1,"text-base","text-indigo-400","font-medium","mb-2","capitalize","text-center"],[1,"space-y-7","bg-white/95","shadow-xl","rounded-2xl","px-0","md:px-12","py-8","background-color='bg-red'",3,"ngSubmit"],[1,"rounded-xl","border","border-indigo-100","bg-white/80","shadow-sm","p-4","md:p-6","mb-4","flex","flex-col","gap-4","w-full","mobile-safe"],[1,"text-lg","font-bold","text-indigo-700","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","md:gap-8"],[1,"w-full"],["for","name",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["type","text","id","name","name","name","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["type","email","id","email","name","email","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel"],[1,"text-lg","font-bold","text-indigo-700","mb-4"],[1,"flex","flex-col","gap-6"],[1,"flex","flex-col","md:flex-row","items-center","gap-4","w-full"],[1,"flex","flex-row","items-center","w-full","gap-1"],[1,"flex-1","w-full"],["for","phone",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["type","tel","id","phone","name","phone","pattern","^\\+[1-9]{1}[0-9]{1,2} ?[0-9]{3,}([ \\-]?[0-9]{2,}){1,}$",1,"w-full","md:w-48","max-w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"flex","items-center","gap-3"],["type","checkbox","name","receiveSmsNotifications",1,"form-checkbox","h-4","w-4","text-indigo-600",3,"ngModelChange","ngModel"],[1,"text-sm","text-indigo-700","font-semibold"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["class","text-green-600 text-xs mt-1",4,"ngIf"],["class","flex flex-col md:flex-row md:items-center gap-3 mt-2",4,"ngIf"],[1,"flex","flex-col","md:flex-row","justify-end","gap-4","mt-8","w-full"],["type","button",1,"w-full","md:w-auto","px-4","py-2","bg-gray-300","text-gray-700","rounded-lg","font-semibold","hover:bg-gray-400","transition",3,"click"],["type","submit",1,"w-full","md:w-auto","px-4","py-2","bg-indigo-600","text-white","rounded-lg","font-semibold","hover:bg-indigo-700","transition"],[3,"phone","smsCode","close","validate",4,"ngIf"],[1,"flex","justify-end","w-full","md:w-64"],["type","button",1,"w-full","px-6","py-2","bg-indigo-500","text-white","rounded-lg","font-semibold","hover:bg-indigo-600","transition","whitespace-nowrap",3,"click"],[1,"text-red-500","text-xs","mt-1"],[1,"text-green-600","text-xs","mt-1"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-3","mt-2"],["for","smsCode",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["type","text","id","smsCode","name","smsCode","maxlength","6",1,"w-full","md:w-32","px-2","py-1","border","border-indigo-200","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-indigo-400",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"w-full","md:w-40","px-4","py-2","bg-green-500","text-white","rounded-lg","font-semibold","hover:bg-green-600","transition",3,"click"],["class","text-green-600 text-xs ml-2",4,"ngIf"],["class","text-red-500 text-xs mt-2",4,"ngIf"],[1,"text-green-600","text-xs","ml-2"],[1,"text-red-500","text-xs","mt-2"],[1,"rounded-xl","border","border-indigo-100","bg-white/80","shadow-sm","p-4","md:p-6","mb-4","flex","flex-col","gap-4","w-full"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3"],[4,"ngFor","ngForOf"],[1,"flex","items-start","w-full"],[1,"flex","items-center","h-5"],["type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded",3,"change","id","checked"],[1,"ml-2","text-sm","w-full"],[1,"font-medium","text-gray-700",3,"for"],[3,"close","validate","phone","smsCode"]],template:function(t,i){if(t&1){let r=H();p(0,"div",2),k(1,"img",3),p(2,"div",4)(3,"div",5)(4,"button",6),g(5,"i18n"),D("click",function(){S(r);let s=Bs(11);return E(s.click())}),k(6,"i",7),f(),p(7,"button",6),g(8,"i18n"),D("click",function(){return S(r),E(i.openCameraModal())}),k(9,"i",8),f()()(),p(10,"input",9,0),D("change",function(s){return S(r),E(i.onFileSelected(s))}),f(),p(12,"h2",10),h(13),f(),p(14,"p",11),h(15),g(16,"i18n"),f()(),p(17,"form",12,1),D("ngSubmit",function(){return S(r),E(i.saveProfile())}),p(19,"div",13)(20,"h3",14),h(21),g(22,"i18n"),f(),p(23,"div",15)(24,"div",16)(25,"label",17),h(26),g(27,"i18n"),f(),p(28,"input",18),D("ngModelChange",function(s){return S(r),i.name.set(s),E(i.checkIfChanged())}),f()()(),p(29,"div",15)(30,"div",16)(31,"label",19),h(32),g(33,"i18n"),f(),p(34,"input",20),D("ngModelChange",function(s){return S(r),i.email.set(s),E(i.checkIfChanged())}),f()()()(),p(35,"div",13)(36,"h3",21),h(37),g(38,"i18n"),f(),p(39,"div",22)(40,"div",23)(41,"div",24)(42,"div",25)(43,"label",26),h(44),g(45,"i18n"),f(),p(46,"input",27),g(47,"i18n"),D("ngModelChange",function(s){return S(r),i.phone.set(s),E(i.checkIfChanged())}),f()(),p(48,"div",25),he(49,Qde,5,3,"ng-container",28),f()()(),p(50,"div",29)(51,"input",30),Nt("ngModelChange",function(s){return S(r),Lt(i.receiveSmsNotifications,s)||(i.receiveSmsNotifications=s),E(s)}),f(),p(52,"span",31),h(53),g(54,"i18n"),f()(),he(55,Yde,3,3,"div",32)(56,Zde,3,3,"span",33)(57,Kde,11,12,"div",34),f()(),he(58,tpe,8,4,"ng-container",28),p(59,"div",35)(60,"button",36),D("click",function(){return S(r),E(i.goToDashboard())}),h(61),g(62,"i18n"),f(),p(63,"button",37),h(64),g(65,"i18n"),f()()(),he(66,npe,1,2,"app-sms-verification-modal",38)}if(t&2){let r=Bs(18);u(),A("src",i.user().avatar_url,dr)("alt",i.user().name),u(3),A("title",v(5,25,"uploadPhoto")),u(3),A("title",v(8,27,"useCamera")),u(6),C(" ",i.user().name," "),u(2),C(" ",v(16,29,i.user().role)," "),u(6),C(" ",v(22,31,"personalData")," "),u(5),R(v(27,33,"fullName")),u(2),A("ngModel",i.name()),u(4),R(v(33,35,"emailAddress")),u(2),A("ngModel",i.email()),u(3),C(" ",v(38,37,"contactPreferences")," "),u(7),R(v(45,39,"phoneNumber")),u(2),A("ngModel",i.phone())("placeholder",v(47,41,"phonePlaceholder")),u(3),A("ngIf",i.user().phone!=null&&i.user().phone.trim()!==""&&!i.user().phone_verified),u(2),Rt("ngModel",i.receiveSmsNotifications),u(2),R(v(54,43,"receiveSmsNotifications")),u(2),A("ngIf",(r.controls.phone==null?null:r.controls.phone.invalid)&&(r.controls.phone==null?null:r.controls.phone.dirty)),u(),A("ngIf",i.smsSent),u(),A("ngIf",!i.user().phone_verified&&i.user().sms_code),u(),A("ngIf",i.user().role==="professional"),u(3),C(" ",v(62,45,"cancel")," "),u(3),C(" ",v(65,47,"saveChanges")," "),u(2),A("ngIf",i.showSmsModal())}},dependencies:[pe,Kn,Ln,ft,ni,Vt,SM,Qt,ti,bi,NM,$0,$t,Vn,Se],encapsulation:2,changeDetection:0});var tw=rh;var sh=class sh{constructor(){this.registered=de();this.switchToLogin=de();this.switchToLanding=de();this.name=B("");this.email=B("");this.password=B("");this.role=B("professional");this.i18n=L($e);this.notificationService=L(jt)}register(){let e=this.email().trim(),t=this.name().trim(),i=this.password();if(!t||!e||!i){this.notificationService.addNotification("Por favor, preencha todos os campos obrigat\xF3rios.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){this.notificationService.addNotification("Por favor, insira um e-mail v\xE1lido (exemplo: usuario@email.com)");return}if(i.length<6){this.notificationService.addNotification("A senha deve ter pelo menos 6 caracteres.");return}this.registered.emit({name:t,email:e,password:i,role:this.role()})}};sh.\u0275fac=function(t){return new(t||sh)},sh.\u0275cmp=ce({type:sh,selectors:[["app-register"]],outputs:{registered:"registered",switchToLogin:"switchToLogin",switchToLanding:"switchToLanding"},decls:63,vars:46,consts:[["registerForm","ngForm"],[1,"flex","items-center","justify-center","min-h-screen","bg-gradient-to-br","from-indigo-100","via-white","to-indigo-300","mobile-safe"],[1,"w-full","max-w-md","md:max-w-lg","lg:max-w-xl","p-4","md:p-8","space-y-8","bg-white/90","backdrop-blur-md","rounded-3xl","shadow-2xl","relative","border","border-indigo-100","transition-all","duration-300"],[1,"absolute","top-3","right-3","flex","items-center","gap-2","z-10"],[1,"fas","fa-globe","text-indigo-500","text-lg"],["aria-label","Selecionar idioma",1,"px-2","py-1","rounded-lg","border","border-indigo-200","bg-indigo-50","text-indigo-700","text-sm","focus:outline-none","focus:ring-2","focus:ring-indigo-400",3,"change","value"],["value","pt"],["value","en"],[1,"flex","flex-col","items-center","pt-10","pb-2","gap-2"],["src","src/assets/logo.jpg","alt","Logo HomeService",1,"h-16","w-16","md:h-20","md:w-20","rounded-full","shadow-lg","mb-2"],[1,"text-3xl","md:text-4xl","font-extrabold","text-indigo-700","drop-shadow-sm"],[1,"text-base","text-indigo-400","font-medium"],[1,"mt-4","text-2xl","md:text-3xl","font-bold","tracking-tight","text-gray-900"],[1,"mt-2","text-base","text-gray-600"],["href","#",1,"font-semibold","text-indigo-600","hover:text-indigo-500","transition-colors","duration-200",3,"click"],[1,"space-y-7","bg-white/95","shadow-xl","rounded-2xl","px-8","py-10",3,"ngSubmit"],[1,"space-y-6"],["for","name",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","name","name","name","type","text","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","placeholder","ngModel"],["for","email-address",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","email-address","name","email","type","email","autocomplete","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$","title","Por favor, insira um e-mail v\xE1lido (exemplo: usuario@email.com)",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","placeholder","ngModel"],["for","password",1,"block","text-sm","font-semibold","text-indigo-700","mb-1"],["id","password","name","password","type","password","autocomplete","new-password","required","",1,"w-full","px-4","py-2","border","border-indigo-200","rounded-lg","shadow-sm","placeholder-indigo-300","focus:outline-none","focus:ring-2","focus:ring-indigo-400","focus:border-indigo-400","transition-all","duration-150","bg-indigo-50/40",3,"ngModelChange","placeholder","ngModel"],[1,"space-y-4"],[1,"border-t","border-gray-200","pt-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","gap-4"],[1,"relative"],["id","role-professional","name","role","type","radio","checked","",1,"sr-only","peer",3,"ngModelChange","value","ngModel"],["for","role-professional",1,"flex","items-center","justify-center","w-full","p-4","text-sm","font-medium","text-gray-900","bg-white","border-2","border-gray-200","rounded-lg","cursor-pointer","peer-checked:border-indigo-600","peer-checked:bg-indigo-50","peer-checked:text-indigo-900","hover:bg-gray-50","transition-all","duration-200"],[1,"flex","flex-col","sm:flex-row","sm:justify-end","gap-4","pt-6","border-t","border-gray-200"],["type","button",1,"w-full","sm:w-auto","inline-flex","justify-center","items-center","px-6","py-3","border","border-gray-300","text-base","font-medium","rounded-lg","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","transition-colors","duration-200",3,"click"],["type","submit",1,"w-full","sm:w-auto","inline-flex","justify-center","items-center","px-6","py-3","border","border-transparent","text-base","font-bold","rounded-lg","text-white","bg-gradient-to-r","from-indigo-500","via-indigo-600","to-indigo-700","hover:from-indigo-600","hover:to-indigo-800","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-indigo-300","disabled:cursor-not-allowed","transition-colors","duration-200","shadow-md",3,"disabled"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div",2)(2,"div",3),k(3,"i",4),p(4,"select",5),D("change",function(s){return S(r),E(i.i18n.setLanguage(s.target.value))}),p(5,"option",6),h(6,"Portugu\xEAs"),f(),p(7,"option",7),h(8,"English"),f()()(),p(9,"div",8),k(10,"img",9),p(11,"h1",10),h(12," HomeService "),f(),p(13,"p",11),h(14," Servi\xE7os para o seu lar "),f(),p(15,"h2",12),h(16),g(17,"i18n"),f(),p(18,"p",13),h(19),g(20,"i18n"),p(21,"a",14),D("click",function(s){return S(r),s.preventDefault(),E(i.switchToLogin.emit())}),h(22),g(23,"i18n"),f()()(),p(24,"form",15,0),D("ngSubmit",function(){return S(r),E(i.register())}),p(26,"div",16)(27,"div")(28,"label",17),h(29),g(30,"i18n"),f(),p(31,"input",18),g(32,"i18n"),D("ngModelChange",function(s){return S(r),E(i.name.set(s))}),f()(),p(33,"div")(34,"label",19),h(35),g(36,"i18n"),f(),p(37,"input",20),g(38,"i18n"),D("ngModelChange",function(s){return S(r),E(i.email.set(s))}),f()(),p(39,"div")(40,"label",21),h(41),g(42,"i18n"),f(),p(43,"input",22),g(44,"i18n"),D("ngModelChange",function(s){return S(r),E(i.password.set(s))}),f()()(),p(45,"div",23)(46,"div",24)(47,"h3",25),h(48),g(49,"i18n"),f(),p(50,"div",26)(51,"div",27)(52,"input",28),D("ngModelChange",function(s){return S(r),E(i.role.set(s))}),f(),p(53,"label",29),h(54),g(55,"i18n"),f()()()()(),p(56,"div",30)(57,"button",31),D("click",function(){return S(r),E(i.switchToLanding.emit())}),h(58),g(59,"i18n"),f(),p(60,"button",32),h(61),g(62,"i18n"),f()()()()()}if(t&2){let r=Bs(25);u(4),A("value",i.i18n.language()),u(12),C(" ",v(17,20,"registerTitle")," "),u(3),C(" ",v(20,22,"or")," "),u(3),C(" ",v(23,24,"registerLoginLink")," "),u(7),C(" ",v(30,26,"fullName")," "),u(2),A("placeholder",v(32,28,"fullName"))("ngModel",i.name()),u(4),C(" ",v(36,30,"emailAddress")," "),u(2),A("placeholder",v(38,32,"emailAddress"))("ngModel",i.email()),u(4),C(" ",v(42,34,"password")," "),u(2),A("placeholder",v(44,36,"password"))("ngModel",i.password()),u(5),C(" ",v(49,38,"iAmA"),": "),u(4),A("value","professional")("ngModel",i.role()),u(2),C(" ",v(55,40,"professional")," "),u(4),C(" ",v(59,42,"cancel")," "),u(2),A("disabled",!r.valid),u(),C(" ",v(62,44,"register")," ")}},dependencies:[pe,ft,ni,ii,ri,Vt,IM,Qt,ti,bi,$0,$t,Vn,Se],encapsulation:2,changeDetection:0});var nw=sh;var ipe=()=>[1,2,3,4];function rpe(n,e){n&1&&k(0,"i",6)}function ope(n,e){n&1&&k(0,"i",7)}function spe(n,e){if(n&1&&(p(0,"h1",10),h(1),g(2,"i18n"),f(),p(3,"p",11),h(4),g(5,"i18n"),f(),p(6,"p",12),h(7),f()),n&2){let t=b();u(),C(" ",v(2,3,"verifyCode")," "),u(3),C(" ",v(5,5,"verifyCodeDescription")," "),u(3),R(t.email())}}function ape(n,e){n&1&&(p(0,"h1",10),h(1),g(2,"i18n"),f(),p(3,"p",11),h(4),g(5,"i18n"),f()),n&2&&(u(),C(" ",v(2,2,"newPassword")," "),u(3),C(" ",v(5,4,"newPasswordDescription")," "))}function lpe(n,e){if(n&1&&(p(0,"div",8)(1,"div",13),k(2,"i",14),p(3,"span"),h(4),f()()()),n&2){let t=b();u(4),R(t.errorMessage())}}function cpe(n,e){n&1&&(k(0,"i",22),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"verifying")," "))}function upe(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&C(" ",v(1,1,"verifyCode")," ")}function dpe(n,e){if(n&1){let t=H();p(0,"form",15),D("ngSubmit",function(){S(t);let r=b();return E(r.verifyCode())}),p(1,"div")(2,"label",16),h(3),g(4,"i18n"),f(),p(5,"input",17),D("input",function(r){S(t);let o=b();return E(o.onCodeInput(r))}),f(),p(6,"p",18),h(7),g(8,"i18n"),f()(),p(9,"div",19)(10,"button",20),j(11,cpe,3,3)(12,upe,2,3),f(),p(13,"button",21),D("click",function(){S(t);let r=b();return E(r.resendCode())}),h(14),g(15,"i18n"),f()()()}if(n&2){let t=b();u(3),C(" ",v(4,7,"verificationCode")," "),u(2),A("value",t.resetCode()),u(2),C(" ",v(8,9,"codeFromEmail")," "),u(3),A("disabled",!t.resetCode()||t.resetCode().length!==6||t.isLoading()),u(),q(t.isLoading()?11:12),u(2),A("disabled",t.isLoading()),u(),C(" ",v(15,11,"resendCode")," ")}}function ppe(n,e){if(n&1&&k(0,"div",32),n&2){let t=e.$implicit,i=b(3);me(i.newPassword().length>=t*2?"bg-green-400":"bg-gray-200")}}function fpe(n,e){n&1&&(p(0,"div",27)(1,"div",29),h(2),g(3,"i18n"),f(),p(4,"div",30),oe(5,ppe,1,2,"div",31,ln),f()()),n&2&&(u(2),C(" ",v(3,1,"passwordStrength"),": "),u(3),se(i0(3,ipe)))}function hpe(n,e){n&1&&(k(0,"i",22),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"updatingPassword")," "))}function mpe(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&C(" ",v(1,1,"updatePassword")," ")}function gpe(n,e){if(n&1){let t=H();p(0,"form",15),D("ngSubmit",function(){S(t);let r=b();return E(r.resetPassword())}),p(1,"div")(2,"label",23),h(3),g(4,"i18n"),f(),p(5,"input",24),g(6,"i18n"),D("ngModelChange",function(r){S(t);let o=b();return E(o.newPassword.set(r))}),f(),p(7,"p",18),h(8),g(9,"i18n"),f()(),p(10,"div")(11,"label",25),h(12),g(13,"i18n"),f(),p(14,"input",26),g(15,"i18n"),D("ngModelChange",function(r){S(t);let o=b();return E(o.confirmPassword.set(r))}),f()(),j(16,fpe,7,4,"div",27),p(17,"div",19)(18,"button",20),j(19,hpe,3,3)(20,mpe,2,3),f(),p(21,"button",28),D("click",function(){S(t);let r=b();return E(r.goBackToCodeVerification())}),h(22),g(23,"i18n"),f()()()}if(n&2){let t=b();u(3),C(" ",v(4,11,"newPassword")," "),u(2),A("placeholder",v(6,13,"newPasswordPlaceholder"))("ngModel",t.newPassword()),u(3),C(" ",v(9,15,"passwordRequirements")," "),u(4),C(" ",v(13,17,"confirmPassword")," "),u(2),A("placeholder",v(15,19,"confirmPasswordPlaceholder"))("ngModel",t.confirmPassword()),u(2),q(t.newPassword()?16:-1),u(2),A("disabled",!t.newPassword()||!t.confirmPassword()||t.newPassword()!==t.confirmPassword()||t.isLoading()),u(),q(t.isLoading()?19:20),u(3),C(" ",v(23,21,"backToCodeVerification")," ")}}var ah=class ah{constructor(){this.backToLogin=de();this.passwordResetComplete=de();this.initialEmail=ge("");this.authService=L(Oi);this.notificationService=L(jt);this.email=B("");this.resetCode=B("");this.newPassword=B("");this.confirmPassword=B("");this.isLoading=B(!1);this.isCodeVerified=B(!1);this.errorMessage=B(null);this.step=B("verify-code");Ut(()=>{let e=this.initialEmail();e&&this.email.set(e)})}async ngOnInit(){this.step.set("verify-code")}async verifyCode(){if(!this.resetCode()){this.errorMessage.set("Por favor, informe o c\xF3digo recebido");return}if(this.resetCode().length!==6){this.errorMessage.set("O c\xF3digo deve ter 6 d\xEDgitos");return}this.isLoading.set(!0),this.errorMessage.set(null);try{await this.authService.verifyPasswordResetCode(this.email(),this.resetCode())?(this.isCodeVerified.set(!0),this.step.set("new-password"),this.notificationService.addNotification("C\xF3digo verificado com sucesso!")):this.errorMessage.set("C\xF3digo inv\xE1lido ou expirado")}catch(e){console.error("Erro ao verificar c\xF3digo:",e),this.errorMessage.set(e.message||"Erro ao verificar c\xF3digo. Tente novamente.")}finally{this.isLoading.set(!1)}}async resetPassword(){if(!this.newPassword()){this.errorMessage.set("Por favor, informe a nova senha");return}if(this.newPassword().length<6){this.errorMessage.set("A senha deve ter pelo menos 6 caracteres");return}if(this.newPassword()!==this.confirmPassword()){this.errorMessage.set("As senhas n\xE3o coincidem");return}this.isLoading.set(!0),this.errorMessage.set(null);try{await this.authService.updatePasswordWithCode(this.email(),this.resetCode(),this.newPassword()),localStorage.removeItem("resetPasswordEmail"),this.notificationService.addNotification("Senha alterada com sucesso! Fa\xE7a login com sua nova senha."),this.passwordResetComplete.emit()}catch(e){console.error("Erro ao redefinir senha:",e),this.errorMessage.set(e.message||"Erro ao redefinir senha. Tente novamente.")}finally{this.isLoading.set(!1)}}async resendCode(){this.isLoading.set(!0);try{await this.authService.sendPasswordResetCode(this.email()),this.notificationService.addNotification("Um novo c\xF3digo foi enviado para seu e-mail")}catch(e){console.error("Erro ao reenviar c\xF3digo:",e),this.errorMessage.set(e.message||"Erro ao reenviar c\xF3digo. Tente novamente.")}finally{this.isLoading.set(!1)}}goBackToCodeVerification(){this.step.set("verify-code"),this.isCodeVerified.set(!1),this.newPassword.set(""),this.confirmPassword.set(""),this.errorMessage.set(null)}onCodeInput(e){let t=e.target.value.replace(/\D/g,"").slice(0,6);this.resetCode.set(t)}};ah.\u0275fac=function(t){return new(t||ah)},ah.\u0275cmp=ce({type:ah,selectors:[["app-reset-password"]],inputs:{initialEmail:[1,"initialEmail"]},outputs:{backToLogin:"backToLogin",passwordResetComplete:"passwordResetComplete"},decls:16,vars:7,consts:[[1,"flex","items-center","justify-center","min-h-screen","bg-gray-100"],[1,"w-full","max-w-md","p-8","space-y-6","bg-white","rounded-lg","shadow-md","relative"],[1,"absolute","top-4","left-4","text-gray-600","hover:text-indigo-600","flex","items-center",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"text-center","pt-10"],[1,"mx-auto","w-16","h-16","bg-indigo-100","rounded-full","flex","items-center","justify-center","mb-4"],[1,"fas","fa-shield-alt","text-indigo-600","text-2xl"],[1,"fas","fa-lock","text-indigo-600","text-2xl"],[1,"p-3","bg-red-100","border","border-red-400","text-red-700","rounded-md"],[1,"space-y-6"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-2","text-sm","text-gray-600"],[1,"mt-1","text-sm","font-medium","text-indigo-600"],[1,"flex","items-center"],[1,"fas","fa-exclamation-circle","mr-2"],[1,"space-y-6",3,"ngSubmit"],["for","resetCode",1,"block","text-sm","font-medium","text-gray-700"],["id","resetCode","name","resetCode","type","text","inputmode","numeric","pattern","[0-9]*","maxlength","6","required","","placeholder","000000",1,"w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","text-center","text-2xl","tracking-widest",3,"input","value"],[1,"mt-1","text-xs","text-gray-500"],[1,"space-y-3"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-indigo-400","disabled:cursor-not-allowed",3,"disabled"],["type","button",1,"w-full","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-spinner","fa-spin","mr-2"],["for","newPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","newPassword","name","newPassword","type","password","autocomplete","new-password","required","","minlength","6",1,"w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","placeholder","ngModel"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","name","confirmPassword","type","password","autocomplete","new-password","required","",1,"w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500",3,"ngModelChange","placeholder","ngModel"],[1,"space-y-2"],["type","button",1,"w-full","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"text-xs","text-gray-600"],[1,"flex","space-x-1"],[1,"flex-1","h-2","rounded-full",3,"class"],[1,"flex-1","h-2","rounded-full"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"button",2),D("click",function(){return i.backToLogin.emit()}),k(3,"i",3),p(4,"span"),h(5),g(6,"i18n"),f()(),p(7,"div",4)(8,"div",5),j(9,rpe,1,0,"i",6)(10,ope,1,0,"i",7),f(),j(11,spe,8,7)(12,ape,6,6),f(),j(13,lpe,5,1,"div",8),j(14,dpe,16,13,"form",9)(15,gpe,24,23,"form",9),f()()),t&2&&(u(5),R(v(6,5,"backToLogin")),u(4),q(i.step()==="verify-code"?9:10),u(2),q(i.step()==="verify-code"?11:12),u(2),q(i.errorMessage()?13:-1),u(),q(i.step()==="verify-code"?14:15))},dependencies:[pe,ft,ni,Vt,Qt,ti,bi,RM,$t,Vn,Se],encapsulation:2,changeDetection:0});var iw=ah;var lw,De,bj,WM,lh,Qu,gj,Cj,xj,ow={},wj=[],vpe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function zl(n,e){for(var t in e)n[t]=e[t];return n}function Sj(n){var e=n.parentNode;e&&e.removeChild(n)}function O(n,e,t){var i,r,o,s={};for(o in e)o=="key"?i=e[o]:o=="ref"?r=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?lw.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)s[o]===void 0&&(s[o]=n.defaultProps[o]);return rw(n,s,i,r,null)}function rw(n,e,t,i,r){var o={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++bj};return r==null&&De.vnode!=null&&De.vnode(o),o}function Dn(){return{current:null}}function dt(n){return n.children}function ype(n,e,t,i,r){var o;for(o in t)o==="children"||o==="key"||o in e||sw(n,o,null,t[o],i);for(o in e)r&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||sw(n,o,e[o],t[o],i)}function vj(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||vpe.test(e)?t:t+"px"}function sw(n,e,t,i,r){var o;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||vj(n.style,e,"");if(t)for(e in t)i&&t[e]===i[e]||vj(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?i||n.addEventListener(e,o?_j:yj,o):n.removeEventListener(e,o?_j:yj,o);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function yj(n){lh=!0;try{return this.l[n.type+!1](De.event?De.event(n):n)}finally{lh=!1}}function _j(n){lh=!0;try{return this.l[n.type+!0](De.event?De.event(n):n)}finally{lh=!1}}function Ci(n,e){this.props=n,this.context=e}function dv(n,e){if(e==null)return n.__?dv(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?dv(n):null}function Ej(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Ej(n)}}function _pe(n){lh?setTimeout(n):Cj(n)}function zM(n){(!n.__d&&(n.__d=!0)&&Qu.push(n)&&!aw.__r++||gj!==De.debounceRendering)&&((gj=De.debounceRendering)||_pe)(aw)}function aw(){var n,e,t,i,r,o,s,a;for(Qu.sort(function(l,c){return l.__v.__b-c.__v.__b});n=Qu.shift();)n.__d&&(e=Qu.length,i=void 0,r=void 0,s=(o=(t=n).__v).__e,(a=t.__P)&&(i=[],(r=zl({},o)).__v=o.__v+1,GM(a,o,r,t.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,i,s??dv(o),o.__h),Mj(i,o),o.__e!=s&&Ej(o)),Qu.length>e&&Qu.sort(function(l,c){return l.__v.__b-c.__v.__b}));aw.__r=0}function Dj(n,e,t,i,r,o,s,a,l,c){var d,m,_,y,w,T,I,M=i&&i.__k||wj,U=M.length;for(t.__k=[],d=0;d<e.length;d++)if((y=t.__k[d]=(y=e[d])==null||typeof y=="boolean"?null:typeof y=="string"||typeof y=="number"||typeof y=="bigint"?rw(null,y,null,null,y):Array.isArray(y)?rw(dt,{children:y},null,null,null):y.__b>0?rw(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)!=null){if(y.__=t,y.__b=t.__b+1,(_=M[d])===null||_&&y.key==_.key&&y.type===_.type)M[d]=void 0;else for(m=0;m<U;m++){if((_=M[m])&&y.key==_.key&&y.type===_.type){M[m]=void 0;break}_=null}GM(n,y,_=_||ow,r,o,s,a,l,c),w=y.__e,(m=y.ref)&&_.ref!=m&&(I||(I=[]),_.ref&&I.push(_.ref,null,y),I.push(m,y.__c||w,y)),w!=null?(T==null&&(T=w),typeof y.type=="function"&&y.__k===_.__k?y.__d=l=Aj(y,l,n):l=Tj(n,y,_,M,w,l),typeof t.type=="function"&&(t.__d=l)):l&&_.__e==l&&l.parentNode!=n&&(l=dv(_))}for(t.__e=T,d=U;d--;)M[d]!=null&&(typeof t.type=="function"&&M[d].__e!=null&&M[d].__e==t.__d&&(t.__d=Ij(i).nextSibling),Rj(M[d],M[d]));if(I)for(d=0;d<I.length;d++)kj(I[d],I[++d],I[++d])}function Aj(n,e,t){for(var i,r=n.__k,o=0;r&&o<r.length;o++)(i=r[o])&&(i.__=n,e=typeof i.type=="function"?Aj(i,e,t):Tj(t,i,i,r,i.__e,e));return e}function pv(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){pv(t,e)}):e.push(n)),e}function Tj(n,e,t,i,r,o){var s,a,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(t==null||r!=o||r.parentNode==null)e:if(o==null||o.parentNode!==n)n.appendChild(r),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<i.length;l+=1)if(a==r)break e;n.insertBefore(r,o),s=o}return s!==void 0?s:r.nextSibling}function Ij(n){var e,t,i;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(i=Ij(t)))return i}return null}function GM(n,e,t,i,r,o,s,a,l){var c,d,m,_,y,w,T,I,M,U,W,N,X,Y,ve,Ce=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,a=e.__e=t.__e,e.__h=null,o=[a]),(c=De.__b)&&c(e);try{e:if(typeof Ce=="function"){if(I=e.props,M=(c=Ce.contextType)&&i[c.__c],U=c?M?M.props.value:c.__:i,t.__c?T=(d=e.__c=t.__c).__=d.__E:("prototype"in Ce&&Ce.prototype.render?e.__c=d=new Ce(I,U):(e.__c=d=new Ci(I,U),d.constructor=Ce,d.render=Cpe),M&&M.sub(d),d.props=I,d.state||(d.state={}),d.context=U,d.__n=i,m=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),Ce.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=zl({},d.__s)),zl(d.__s,Ce.getDerivedStateFromProps(I,d.__s))),_=d.props,y=d.state,d.__v=e,m)Ce.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(Ce.getDerivedStateFromProps==null&&I!==_&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(I,U),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(I,d.__s,U)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(d.props=I,d.state=d.__s,d.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(gt){gt&&(gt.__=e)}),W=0;W<d._sb.length;W++)d.__h.push(d._sb[W]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(I,d.__s,U),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(_,y,w)})}if(d.context=U,d.props=I,d.__P=n,N=De.__r,X=0,"prototype"in Ce&&Ce.prototype.render){for(d.state=d.__s,d.__d=!1,N&&N(e),c=d.render(d.props,d.state,d.context),Y=0;Y<d._sb.length;Y++)d.__h.push(d._sb[Y]);d._sb=[]}else do d.__d=!1,N&&N(e),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++X<25);d.state=d.__s,d.getChildContext!=null&&(i=zl(zl({},i),d.getChildContext())),m||d.getSnapshotBeforeUpdate==null||(w=d.getSnapshotBeforeUpdate(_,y)),ve=c!=null&&c.type===dt&&c.key==null?c.props.children:c,Dj(n,Array.isArray(ve)?ve:[ve],e,t,i,r,o,s,a,l),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),T&&(d.__E=d.__=null),d.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=bpe(t.__e,e,t,i,r,o,s,l);(c=De.diffed)&&c(e)}catch(gt){e.__v=null,(l||o!=null)&&(e.__e=a,e.__h=!!l,o[o.indexOf(a)]=null),De.__e(gt,e,t)}}function Mj(n,e){De.__c&&De.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(i){i.call(t)})}catch(i){De.__e(i,t.__v)}})}function bpe(n,e,t,i,r,o,s,a){var l,c,d,m=t.props,_=e.props,y=e.type,w=0;if(y==="svg"&&(r=!0),o!=null){for(;w<o.length;w++)if((l=o[w])&&"setAttribute"in l==!!y&&(y?l.localName===y:l.nodeType===3)){n=l,o[w]=null;break}}if(n==null){if(y===null)return document.createTextNode(_);n=r?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,_.is&&_),o=null,a=!1}if(y===null)m===_||a&&n.data===_||(n.data=_);else{if(o=o&&lw.call(n.childNodes),c=(m=t.props||ow).dangerouslySetInnerHTML,d=_.dangerouslySetInnerHTML,!a){if(o!=null)for(m={},w=0;w<n.attributes.length;w++)m[n.attributes[w].name]=n.attributes[w].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===n.innerHTML)||(n.innerHTML=d&&d.__html||""))}if(ype(n,_,m,r,a),d)e.__k=[];else if(w=e.props.children,Dj(n,Array.isArray(w)?w:[w],e,t,i,r&&y!=="foreignObject",o,s,o?o[0]:t.__k&&dv(t,0),a),o!=null)for(w=o.length;w--;)o[w]!=null&&Sj(o[w]);a||("value"in _&&(w=_.value)!==void 0&&(w!==n.value||y==="progress"&&!w||y==="option"&&w!==m.value)&&sw(n,"value",w,m.value,!1),"checked"in _&&(w=_.checked)!==void 0&&w!==n.checked&&sw(n,"checked",w,m.checked,!1))}return n}function kj(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(i){De.__e(i,t)}}function Rj(n,e,t){var i,r;if(De.unmount&&De.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||kj(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){De.__e(o,e)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&Rj(i[r],e,t||typeof n.type!="function");t||n.__e==null||Sj(n.__e),n.__=n.__e=n.__d=void 0}function Cpe(n,e,t){return this.constructor(n,t)}function Wl(n,e,t){var i,r,o;De.__&&De.__(n,e),r=(i=typeof t=="function")?null:t&&t.__k||e.__k,o=[],GM(e,n=(!i&&t||e).__k=O(dt,null,[n]),r||ow,ow,e.ownerSVGElement!==void 0,!i&&t?[t]:r?null:e.firstChild?lw.call(e.childNodes):null,o,!i&&t?t:r?r.__e:e.firstChild,i),Mj(o,n)}function cw(n,e){var t={__c:e="__cC"+xj++,__:n,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,o;return this.getChildContext||(r=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(function(a){a.__e=!0,zM(a)})},this.sub=function(s){r.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),a&&a.call(s)}}),i.children}};return t.Provider.__=t.Consumer.contextType=t}lw=wj.slice,De={__e:function(n,e,t,i){for(var r,o,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(n)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),s=r.__d),s)return r.__E=r}catch(a){n=a}throw n}},bj=0,WM=function(n){return n!=null&&n.constructor===void 0},lh=!1,Ci.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=zl({},this.state),typeof n=="function"&&(n=n(zl({},t),this.props)),n&&zl(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),zM(this))},Ci.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),zM(this))},Ci.prototype.render=dt,Qu=[],Cj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,aw.__r=0,xj=0;var wpe,Xs,QM,Nj;var jj=[],YM=[],Pj=De.__b,Oj=De.__r,Fj=De.diffed,Lj=De.__c,Bj=De.unmount;function Spe(){for(var n;n=jj.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(uw),n.__H.__h.forEach(ZM),n.__H.__h=[]}catch(e){n.__H.__h=[],De.__e(e,n.__v)}}De.__b=function(n){Xs=null,Pj&&Pj(n)},De.__r=function(n){Oj&&Oj(n),wpe=0;var e=(Xs=n.__c).__H;e&&(QM===Xs?(e.__h=[],Xs.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=YM,t.__N=t.i=void 0})):(e.__h.forEach(uw),e.__h.forEach(ZM),e.__h=[])),QM=Xs},De.diffed=function(n){Fj&&Fj(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(jj.push(e)!==1&&Nj===De.requestAnimationFrame||((Nj=De.requestAnimationFrame)||Epe)(Spe)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==YM&&(t.__=t.__V),t.i=void 0,t.__V=YM})),QM=Xs=null},De.__c=function(n,e){e.some(function(t){try{t.__h.forEach(uw),t.__h=t.__h.filter(function(i){return!i.__||ZM(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],De.__e(i,t.__v)}}),Lj&&Lj(n,e)},De.unmount=function(n){Bj&&Bj(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{uw(i)}catch(r){e=r}}),t.__H=void 0,e&&De.__e(e,t.__v))};var Vj=typeof requestAnimationFrame=="function";function Epe(n){var e,t=function(){clearTimeout(i),Vj&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,100);Vj&&(e=requestAnimationFrame(t))}function uw(n){var e=Xs,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),Xs=e}function ZM(n){var e=Xs;n.__c=n.__(),Xs=e}function Dpe(n,e){for(var t in e)n[t]=e[t];return n}function qj(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function Uj(n){this.props=n}(Uj.prototype=new Ci).isPureReactComponent=!0,Uj.prototype.shouldComponentUpdate=function(n,e){return qj(this.props,n)||qj(this.state,e)};var $j=De.__b;De.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),$j&&$j(n)};var n5e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var Ape=De.__e;De.__e=function(n,e,t,i){if(n.then){for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}Ape(n,e,t,i)};var Hj=De.unmount;function Zj(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=Dpe({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return Zj(i,e,t)})),n}function Xj(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return Xj(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function XM(){this.__u=0,this.t=null,this.__b=null}function Jj(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function dw(){this.u=null,this.o=null}De.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),Hj&&Hj(n)},(XM.prototype=new Ci).__c=function(n,e){var t=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(t);var r=Jj(i.__v),o=!1,s=function(){o||(o=!0,t.__R=null,r?r(a):a())};t.__R=s;var a=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=Xj(c,c.__c.__P,c.__c.__O)}var d;for(i.setState({__a:i.__b=null});d=i.t.pop();)d.forceUpdate()}},l=e.__h===!0;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(s,s)},XM.prototype.componentWillUnmount=function(){this.t=[]},XM.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=Zj(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&O(dt,null,n.fallback);return r&&(r.__h=null),[O(dt,null,e.__a?null:n.children),r]};var zj=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Tpe(n){return this.getChildContext=function(){return n.context},n.children}function Ipe(n){var e=this,t=n.i;e.componentWillUnmount=function(){Wl(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Wl(O(Tpe,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function Kj(n,e){var t=O(Ipe,{__v:n,i:e});return t.containerInfo=e,t}(dw.prototype=new Ci).__a=function(n){var e=this,t=Jj(e.__v),i=e.o.get(n);return i[0]++,function(r){var o=function(){e.props.revealOrder?(i.push(r),zj(e,n,i)):r()};t?t(o):o()}},dw.prototype.render=function(n){this.u=null,this.o=new Map;var e=pv(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},dw.prototype.componentDidUpdate=dw.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){zj(n,t,e)})};var Mpe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,kpe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Rpe=typeof document<"u",Npe=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Ci.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Ci.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var Wj=De.event;function Ppe(){}function Ope(){return this.cancelBubble}function Fpe(){return this.defaultPrevented}De.event=function(n){return Wj&&(n=Wj(n)),n.persist=Ppe,n.isPropagationStopped=Ope,n.isDefaultPrevented=Fpe,n.nativeEvent=n};var Lpe,Gj={configurable:!0,get:function(){return this.class}},Qj=De.vnode;De.vnode=function(n){var e=n.type,t=n.props,i=t;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var o in i={},t){var s=t[o];Rpe&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in t&&s==null||(o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!Npe(t.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():r&&kpe.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),i[o]&&(o="oninputCapture")),i[o]=s)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=pv(t.children).forEach(function(a){a.props.selected=i.value.indexOf(a.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=pv(t.children).forEach(function(a){a.props.selected=i.multiple?i.defaultValue.indexOf(a.props.value)!=-1:i.defaultValue==a.props.value})),n.props=i,t.class!=t.className&&(Gj.enumerable="className"in t,t.className!=null&&(i.class=t.className),Object.defineProperty(i,"className",Gj))}n.$$typeof=Mpe,Qj&&Qj(n)};var Yj=De.__r;De.__r=function(n){Yj&&Yj(n),Lpe=n.__c};var f6=[],lk=new Map;function ec(n){f6.push(n),lk.forEach(e=>{g6(e,n)})}function h6(n){n.isConnected&&n.getRootNode&&m6(n.getRootNode())}function m6(n){let e=lk.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let t=Vpe();t&&(e.nonce=t);let i=n===document?document.head:n,r=n===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,r)}lk.set(n,e),Bpe(e)}}function Bpe(n){for(let e of f6)g6(n,e)}function g6(n,e){let{sheet:t}=n,i=t.cssRules.length;e.split("}").forEach((r,o)=>{r=r.trim(),r&&t.insertRule(r+"}",i+o)})}var JM;function Vpe(){return JM===void 0&&(JM=jpe()),JM}function jpe(){let n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&m6(document);var qpe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';ec(qpe);var Xu=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:i}=this;e in i&&(t?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function Mv(n){n.parentNode&&n.parentNode.removeChild(n)}function jn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(_k(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function _k(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function v6(n,e){let t=n instanceof HTMLElement?[n]:n,i=[];for(let r=0;r<t.length;r+=1){let o=t[r].querySelectorAll(e);for(let s=0;s<o.length;s+=1)i.push(o[s])}return i}var Upe=/(top|left|right|bottom|width|height)$/i;function ld(n,e){for(let t in e)bk(n,t,e[t])}function bk(n,e,t){t==null?n.style[e]="":typeof t=="number"&&Upe.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function Iw(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}var e6=0;function Do(){return e6+=1,"fc-dom-"+e6}function kv(n){n.preventDefault()}function $pe(n,e){return t=>{let i=jn(t.target,n);i&&e.call(i,t,i)}}function Ck(n,e,t,i){let r=$pe(t,i);return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}function y6(n,e,t,i){let r;return Ck(n,"mouseover",e,(o,s)=>{if(s!==r){r=s,t(o,s);let a=l=>{r=null,i(l,s),s.removeEventListener("mouseleave",a)};s.addEventListener("mouseleave",a)}})}var t6=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function xk(n,e){let t=i=>{e(i),t6.forEach(r=>{n.removeEventListener(r,t)})};t6.forEach(i=>{n.addEventListener(i,t)})}function _6(n){return Object.assign({onClick:n},b6(n))}function b6(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}var n6=0;function Qa(){return n6+=1,String(n6)}function Rv(){document.body.classList.add("fc-not-allowed")}function Nv(){document.body.classList.remove("fc-not-allowed")}function wk(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",kv)}function Sk(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",kv)}function Ek(n){n.addEventListener("contextmenu",kv)}function Dk(n){n.removeEventListener("contextmenu",kv)}function C6(n){let e=[],t=[],i,r;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),i=0;i<t.length;i+=1)r=t[i],typeof r=="string"?e.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&e.push({func:r});return e}function x6(n,e,t){let i,r;for(i=0;i<t.length;i+=1)if(r=Hpe(n,e,t[i]),r)return r;return 0}function Hpe(n,e,t){return t.func?t.func(n,e):w6(n[t.field],e[t.field])*(t.order||1)}function w6(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function Zu(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function fh(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((i,r,o)=>i.replace("$"+o,r||""),n):t}function Ak(n,e){return n-e}function fv(n){return n%1===0}function zpe(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var i6=["years","months","days","milliseconds"],Wpe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function tt(n,e){return typeof n=="string"?Gpe(n):typeof n=="object"&&n?r6(n):typeof n=="number"?r6({[e||"milliseconds"]:n}):null}function Gpe(n){let e=Wpe.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function r6(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function Qpe(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function Pv(n,e){return{years:n.years+e.years,months:n.months+e.months,days:n.days+e.days,milliseconds:n.milliseconds+e.milliseconds}}function S6(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function Tk(n,e){return{years:n.years*e,months:n.months*e,days:n.days*e,milliseconds:n.milliseconds*e}}function Ype(n){return ch(n)/365}function Zpe(n){return ch(n)/30}function ch(n){return Hr(n)/864e5}function Hr(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Ov(n,e){let t=null;for(let i=0;i<i6.length;i+=1){let r=i6[i];if(e[r]){let o=n[r]/e[r];if(!fv(o)||t!==null&&t!==o)return null;t=o}else if(n[r])return null}return t}function hv(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function ea(n,e,t){if(n===e)return!0;let i=n.length,r;if(i!==e.length)return!1;for(r=0;r<i;r+=1)if(!(t?t(n[r],e[r]):n[r]===e[r]))return!1;return!0}var Xpe=["sun","mon","tue","wed","thu","fri","sat"];function Mw(n,e){let t=Ql(n);return t[2]+=e*7,gr(t)}function tn(n,e){let t=Ql(n);return t[2]+=e,gr(t)}function Js(n,e){let t=Ql(n);return t[6]+=e,gr(t)}function Ik(n,e){return ta(n,e)/7}function ta(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function Jpe(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function Kpe(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function efe(n,e){return(e.valueOf()-n.valueOf())/1e3}function E6(n,e){let t=_t(n),i=_t(e);return{years:0,months:0,days:Math.round(ta(t,i)),milliseconds:e.valueOf()-i.valueOf()-(n.valueOf()-t.valueOf())}}function D6(n,e){let t=uh(n,e);return t!==null&&t%7===0?t/7:null}function uh(n,e){return Yl(n)===Yl(e)?Math.round(ta(n,e)):null}function _t(n){return gr([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function tfe(n){return gr([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function nfe(n){return gr([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function ife(n){return gr([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function rfe(n,e,t){let i=n.getUTCFullYear(),r=KM(n,i,e,t);if(r<1)return KM(n,i-1,e,t);let o=KM(n,i+1,e,t);return o>=1?Math.min(r,o):r}function KM(n,e,t,i){let r=gr([e,0,1+ofe(e,t,i)]),o=_t(n),s=Math.round(ta(r,o));return Math.floor(s/7)+1}function ofe(n,e,t){let i=7+e-t;return-((7+gr([n,0,i]).getUTCDay()-e)%7)+i-1}function o6(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function s6(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Ql(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function gr(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function Mk(n){return!isNaN(n.valueOf())}function Yl(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function kw(n,e,t=!1){let i=n.toISOString();return i=i.replace(".000",""),t&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",Nk(e,!0)))),i}function tc(n){return n.toISOString().replace(/T.*$/,"")}function kk(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function Rk(n){return Zu(n.getUTCHours(),2)+":"+Zu(n.getUTCMinutes(),2)+":"+Zu(n.getUTCSeconds(),2)}function Nk(n,e=!1){let t=n<0?"-":"+",i=Math.abs(n),r=Math.floor(i/60),o=Math.round(i%60);return e?`${t+Zu(r,2)}:${Zu(o,2)}`:`GMT${t}${r}${o?`:${Zu(o,2)}`:""}`}function xe(n,e,t){let i,r;return function(...o){if(!i)r=n.apply(this,o);else if(!ea(i,o)){t&&t(r);let s=n.apply(this,o);(!e||!e(s,r))&&(r=s)}return i=o,r}}function hh(n,e,t){let i,r;return o=>{if(!i)r=n.call(this,o);else if(!vr(i,o)){t&&t(r);let s=n.call(this,o);(!e||!e(s,r))&&(r=s)}return i=o,r}}var ek={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},_w={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},pw=/\s*([ap])\.?m\.?/i,sfe=/,/g,afe=/\s+/g,lfe=/\u200e/g,cfe=/UTC|GMT/,ck=class{constructor(e){let t={},i={},r=9;for(let o in e)o in ek?(i[o]=e[o],ek[o]<9&&(r=Math.min(ek[o],r))):(t[o]=e[o],o in _w&&(r=Math.min(_w[o],r)));this.standardDateProps=t,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=xe(a6)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,i,r){let{standardDateProps:o,extendedSettings:s}=this,a=mfe(e.marker,t.marker,i.calendarSystem);if(!a)return this.format(e,i);let l=a;l>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(l=1);let c=this.format(e,i),d=this.format(t,i);if(c===d)return c;let m=gfe(o,l),_=a6(m,s,i),y=_(e),w=_(t),T=vfe(c,y,d,w),I=s.separator||r||i.defaultSeparator||"";return T?T.before+y+I+w+T.after:c+I+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function a6(n,e,t){let i=Object.keys(n).length;return i===1&&n.timeZoneName==="short"?r=>Nk(r.timeZoneOffset):i===0&&e.week?r=>hfe(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,e.week):ufe(n,e,t)}function ufe(n,e,t){n=Object.assign({},n),e=Object.assign({},e),dfe(n,e),n.timeZone="UTC";let i=new Intl.DateTimeFormat(t.locale.codes,n),r;if(e.omitZeroMinute){let o=Object.assign({},n);delete o.minute,r=new Intl.DateTimeFormat(t.locale.codes,o)}return o=>{let{marker:s}=o,a;r&&!s.getUTCMinutes()?a=r:a=i;let l=a.format(s);return pfe(l,o,n,e,t)}}function dfe(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function pfe(n,e,t,i,r){return n=n.replace(lfe,""),t.timeZoneName==="short"&&(n=ffe(n,r.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Nk(e.timeZoneOffset))),i.omitCommas&&(n=n.replace(sfe,"").trim()),i.omitZeroMinute&&(n=n.replace(":00","")),i.meridiem===!1?n=n.replace(pw,"").trim():i.meridiem==="narrow"?n=n.replace(pw,(o,s)=>s.toLocaleLowerCase()):i.meridiem==="short"?n=n.replace(pw,(o,s)=>`${s.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(n=n.replace(pw,o=>o.toLocaleLowerCase())),n=n.replace(afe," "),n=n.trim(),n}function ffe(n,e){let t=!1;return n=n.replace(cfe,()=>(t=!0,e)),t||(n+=` ${e}`),n}function hfe(n,e,t,i,r){let o=[];return r==="long"?o.push(t):(r==="short"||r==="narrow")&&o.push(e),(r==="long"||r==="short")&&o.push(" "),o.push(i.simpleNumberFormat.format(n)),i.options.direction==="rtl"&&o.reverse(),o.join("")}function mfe(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:Yl(n)!==Yl(e)?1:0}function gfe(n,e){let t={};for(let i in n)(!(i in _w)||_w[i]<=e)&&(t[i]=n[i]);return t}function vfe(n,e,t,i){let r=0;for(;r<n.length;){let o=n.indexOf(e,r);if(o===-1)break;let s=n.substr(0,o);r=o+e.length;let a=n.substr(r),l=0;for(;l<t.length;){let c=t.indexOf(i,l);if(c===-1)break;let d=t.substr(0,c);l=c+i.length;let m=t.substr(l);if(s===d&&a===m)return{before:s,after:a}}}return null}function l6(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function bw(n,e,t,i){let r=l6(n,t.calendarSystem),o=e?l6(e,t.calendarSystem):null;return{date:r,start:r,end:o,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:i||t.defaultSeparator}}var uk=class{constructor(e){this.cmdStr=e}format(e,t,i){return t.cmdFormatter(this.cmdStr,bw(e,null,t,i))}formatRange(e,t,i,r){return i.cmdFormatter(this.cmdStr,bw(e,t,i,r))}},dk=class{constructor(e){this.func=e}format(e,t,i){return this.func(bw(e,null,t,i))}formatRange(e,t,i,r){return this.func(bw(e,t,i,r))}};function wt(n){return typeof n=="object"&&n?new ck(n):typeof n=="string"?new uk(n):typeof n=="function"?new dk(n):null}var Pk={navLinkDayClick:z,navLinkWeekClick:z,duration:tt,bootstrapFontAwesome:z,buttonIcons:z,customButtons:z,defaultAllDayEventDuration:tt,defaultTimedEventDuration:tt,nextDayThreshold:tt,scrollTime:tt,scrollTimeReset:Boolean,slotMinTime:tt,slotMaxTime:tt,dayPopoverFormat:wt,slotDuration:tt,snapDuration:tt,headerToolbar:z,footerToolbar:z,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:wt,dayHeaderClassNames:z,dayHeaderContent:z,dayHeaderDidMount:z,dayHeaderWillUnmount:z,dayCellClassNames:z,dayCellContent:z,dayCellDidMount:z,dayCellWillUnmount:z,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:z,weekNumbers:Boolean,weekNumberClassNames:z,weekNumberContent:z,weekNumberDidMount:z,weekNumberWillUnmount:z,editable:Boolean,viewClassNames:z,viewDidMount:z,viewWillUnmount:z,nowIndicator:Boolean,nowIndicatorSnap:z,nowIndicatorClassNames:z,nowIndicatorContent:z,nowIndicatorDidMount:z,nowIndicatorWillUnmount:z,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:z,locale:z,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:z,eventOrder:C6,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:z,contentHeight:z,direction:String,weekNumberFormat:wt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:z,initialDate:z,now:z,eventDataTransform:z,stickyHeaderDates:z,stickyFooterScrollbar:z,viewHeight:z,defaultAllDay:Boolean,eventSourceFailure:z,eventSourceSuccess:z,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:z,eventConstraint:z,eventAllow:z,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:z,eventContent:z,eventDidMount:z,eventWillUnmount:z,selectConstraint:z,selectOverlap:z,selectAllow:z,droppable:Boolean,unselectCancel:String,slotLabelFormat:z,slotLaneClassNames:z,slotLaneContent:z,slotLaneDidMount:z,slotLaneWillUnmount:z,slotLabelClassNames:z,slotLabelContent:z,slotLabelDidMount:z,slotLabelWillUnmount:z,dayMaxEvents:z,dayMaxEventRows:z,dayMinWidth:Number,slotLabelInterval:tt,allDayText:String,allDayClassNames:z,allDayContent:z,allDayDidMount:z,allDayWillUnmount:z,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:wt,rerenderDelay:Number,moreLinkText:z,moreLinkHint:z,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:z,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:tt,hiddenDays:z,fixedWeekCount:Boolean,validRange:z,visibleRange:z,titleFormat:z,eventInteractive:Boolean,noEventsText:String,viewHint:z,navLinkHint:z,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:z,moreLinkClassNames:z,moreLinkContent:z,moreLinkDidMount:z,moreLinkWillUnmount:z,monthStartFormat:wt,handleCustomRendering:z,customRenderingMetaMap:z,customRenderingReplaces:Boolean},nc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},Ok={datesSet:z,eventsSet:z,eventAdd:z,eventChange:z,eventRemove:z,windowResize:z,eventClick:z,eventMouseEnter:z,eventMouseLeave:z,select:z,unselect:z,loading:z,_unmount:z,_beforeprint:z,_afterprint:z,_noEventDrop:z,_noEventResize:z,_resize:z,_scrollRequest:z},Fk={buttonText:z,buttonHints:z,views:z,plugins:z,initialEvents:z,events:z,eventSources:z},ic={headerToolbar:Yu,footerToolbar:Yu,buttonText:Yu,buttonHints:Yu,buttonIcons:Yu,dateIncrement:Yu,plugins:fw,events:fw,eventSources:fw,resources:fw};function Yu(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?vr(n,e):n===e}function fw(n,e){return Array.isArray(n)&&Array.isArray(e)?ea(n,e):n===e}var A6={type:String,component:z,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:z,usesMinMaxTime:Boolean,classNames:z,content:z,didMount:z,willUnmount:z};function Rw(n){return Pw(n,ic)}function Nw(n,e){let t={},i={};for(let r in e)r in n&&(t[r]=e[r](n[r]));for(let r in n)r in e||(i[r]=n[r]);return{refined:t,extra:i}}function z(n){return n}var{hasOwnProperty:Cw}=Object.prototype;function Pw(n,e){let t={};if(e){for(let i in e)if(e[i]===Yu){let r=[];for(let o=n.length-1;o>=0;o-=1){let s=n[o][i];if(typeof s=="object"&&s)r.unshift(s);else if(s!==void 0){t[i]=s;break}}r.length&&(t[i]=Pw(r))}}for(let i=n.length-1;i>=0;i-=1){let r=n[i];for(let o in r)o in t||(t[o]=r[o])}return t}function Ha(n,e){let t={};for(let i in n)e(n[i],i)&&(t[i]=n[i]);return t}function Eo(n,e){let t={};for(let i in n)t[i]=e(n[i],i);return t}function Lk(n){let e={};for(let t of n)e[t]=!0;return e}function Ow(n){let e=[];for(let t in n)e.push(n[t]);return e}function vr(n,e){if(n===e)return!0;for(let t in n)if(Cw.call(n,t)&&!(t in e))return!1;for(let t in e)if(Cw.call(e,t)&&n[t]!==e[t])return!1;return!0}var yfe=/^on[A-Z]/;function _fe(n,e){let t=bfe(n,e);for(let i of t)if(!yfe.test(i))return!1;return!0}function bfe(n,e){let t=[];for(let i in n)Cw.call(n,i)&&(i in e||t.push(i));for(let i in e)Cw.call(e,i)&&n[i]!==e[i]&&t.push(i);return t}function vw(n,e,t={}){if(n===e)return!0;for(let i in e)if(!(i in n&&Cfe(n[i],e[i],t[i])))return!1;for(let i in n)if(!(i in e))return!1;return!0}function Cfe(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function T6(n,e=0,t,i=1){let r=[];t==null&&(t=Object.keys(n).length);for(let o=e;o<t;o+=i){let s=n[o];s!==void 0&&r.push(s)}return r}var I6={};function xfe(n,e){I6[n]=e}function wfe(n){return new I6[n]}var pk=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return gr(e)}markerToArray(e){return Ql(e)}};xfe("gregory",pk);var Sfe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function M6(n){let e=Sfe.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Mk(t)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}var mv=class{constructor(e){let t=this.timeZone=e.timeZone,i=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=wfe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):gr(o6(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=gr(e)),t===null||!Mk(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=M6(e);if(t===null)return null;let{marker:i}=t,r=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-t.timeZoneOffset*60*1e3):r=t.timeZoneOffset),{marker:i,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t.years,i[1]+=t.months,i[2]+=t.days,i[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]-=t.years,i[1]-=t.months,i[2]-=t.days,i[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,t){let i=this.calendarSystem.markerToArray(e);return i[0]+=t,this.calendarSystem.arrayToMarker(i)}addMonths(e,t){let i=this.calendarSystem.markerToArray(e);return i[1]+=t,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,t){let{calendarSystem:i}=this;return Yl(e)===Yl(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)&&i.getMarkerMonth(e)===i.getMarkerMonth(t)?i.getMarkerYear(t)-i.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:i}=this;return Yl(e)===Yl(t)&&i.getMarkerDay(e)===i.getMarkerDay(t)?i.getMarkerMonth(t)-i.getMarkerMonth(e)+(i.getMarkerYear(t)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let i=this.diffWholeYears(e,t);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,t),i!==null?{unit:"month",value:i}:(i=D6(e,t),i!==null?{unit:"week",value:i}:(i=uh(e,t),i!==null?{unit:"day",value:i}:(i=Jpe(e,t),fv(i)?{unit:"hour",value:i}:(i=Kpe(e,t),fv(i)?{unit:"minute",value:i}:(i=efe(e,t),fv(i)?{unit:"second",value:i}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,i){let r;return i.years&&(r=this.diffWholeYears(e,t),r!==null)?r/Ype(i):i.months&&(r=this.diffWholeMonths(e,t),r!==null)?r/Zpe(i):i.days&&(r=uh(e,t),r!==null)?r/ch(i):(t.valueOf()-e.valueOf())/Hr(i)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?_t(e):t==="hour"?tfe(e):t==="minute"?nfe(e):t==="second"?ife(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):rfe(e,this.weekDow,this.weekDoy)}format(e,t,i={}){return t.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,i,r={}){return r.isEndExclusive&&(t=Js(t,-1)),i.formatRange({marker:e,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let i=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?i=t.forcedTzo:i=this.offsetForMarker(e)),kw(e,i,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?gr(o6(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):gr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-s6(Ql(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ql(e)):null}toDate(e,t){return this.timeZone==="local"?s6(Ql(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ql(e))*1e3*60):new Date(e.valueOf()-(t||0))}},za=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,i;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(i in e)t[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let i;return t&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}};za.prototype.classes={};za.prototype.iconClasses={};za.prototype.baseIconClass="";za.prototype.iconOverridePrefix="";function gv(n){n();let e=De.debounceRendering,t=[];function i(r){t.push(r)}for(De.debounceRendering=i,Wl(O(fk,{}),document.createElement("div"));t.length;)t.shift()();De.debounceRendering=e}var fk=class extends Ci{render(){return O("div",{})}componentDidMount(){this.setState({})}};function k6(n){let e=cw(n),t=e.Provider;return e.Provider=function(){let i=!this.getChildContext,r=t.apply(this,arguments);if(i){let o=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&o.forEach(a=>{a.context=s.value,a.forceUpdate()})},this.sub=s=>{o.push(s);let a=s.componentWillUnmount;s.componentWillUnmount=()=>{o.splice(o.indexOf(s),1),a&&a.call(s)}}}return r},e}var xw=class{constructor(e,t,i,r){this.execFunc=e,this.emitter=t,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Ao=k6({});function R6(n,e,t,i,r,o,s,a,l,c,d,m,_,y){return{dateEnv:r,nowManager:o,options:t,pluginHooks:a,emitter:d,dispatch:l,getCurrentData:c,calendarApi:m,viewSpec:n,viewApi:e,dateProfileGenerator:i,theme:s,isRtl:t.direction==="rtl",addResizeHandler(w){d.on("_resize",w)},removeResizeHandler(w){d.off("_resize",w)},createScrollResponder(w){return new xw(w,d,tt(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:_,unregisterInteractiveComponent:y}}var Fv=(()=>{class n extends Ci{shouldComponentUpdate(t,i){return!vw(this.props,t,this.propEquality)||!vw(this.state,i,this.stateEquality)}safeSetState(t){vw(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=Efe,n.addStateEquality=Dfe,n.contextType=Ao,n})();Fv.prototype.propEquality={};Fv.prototype.stateEquality={};var at=(()=>{class n extends Fv{}return n.contextType=Ao,n})();function Efe(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function Dfe(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function Wr(n,e){typeof n=="function"?n(e):n&&(n.current=e)}var vv=class extends at{constructor(){super(...arguments),this.id=Qa(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:i}=this.props;(!t.customRenderingReplaces||!hk(i,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Wr(this.props.elRef,e)}}render(){let{props:e,context:t}=this,{options:i}=t,{customGenerator:r,defaultGenerator:o,renderProps:s}=e,a=Bk(e,[],this.handleEl),l=!1,c,d=[],m;if(r!=null){let _=typeof r=="function"?r(s,O):r;if(_===!0)l=!0;else{let y=_&&typeof _=="object";y&&"html"in _?a.dangerouslySetInnerHTML={__html:_.html}:y&&"domNodes"in _?d=Array.prototype.slice.call(_.domNodes):(y?WM(_):typeof _!="function")?c=_:m=_}}else l=!hk(e.generatorName,i);return l&&o&&(c=o(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=m,O(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:i,context:r}=this,{handleCustomRendering:o,customRenderingMetaMap:s}=r.options;if(o){let a=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:s?.[i.generatorName];a&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},i),{elClasses:(i.elClasses||[]).filter(Afe)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,i=this.base;if(!ea(e,t)){t.forEach(Mv);for(let r of e)i.appendChild(r);this.currentDomNodes=e}}};vv.addPropsEquality({elClasses:ea,elStyle:vr,elAttrs:_fe,renderProps:vr});function hk(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function Bk(n,e,t){let i=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(i.className=(n.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),n.elStyle&&(i.style=n.elStyle),i}function Afe(n){return!!n}var Vk=k6(0),qn=(()=>{class n extends Ci{constructor(){super(...arguments),this.InnerContent=Tfe.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(Wr(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:t}=this,i=Ife(t.classNameGenerator,t.renderProps);if(t.children){let r=Bk(t,i,this.handleEl),o=t.children(this.InnerContent,t.renderProps,r);return t.elTag?O(t.elTag,r,o):o}else return O(vv,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var t,i;this.el?(i=(t=this.props).didMount)===null||i===void 0||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,i;(i=(t=this.props).willUnmount)===null||i===void 0||i.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return n.contextType=Vk,n})();function Tfe(n,e){let t=n.props;return O(vv,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function Ife(n,e){let t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}var rs=class extends at{render(){let{props:e,context:t}=this,{options:i}=t,r={view:t.viewApi};return O(qn,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...jk(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}};function jk(n){return[`fc-${n.type}-view`,"fc-view"]}function Mfe(n,e){let t=null,i=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(i=e.createMarker(n.end)),!t&&!i||t&&i&&i<t?null:{start:t,end:i}}function c6(n,e){let t=[],{start:i}=e,r,o;for(n.sort(kfe),r=0;r<n.length;r+=1)o=n[r],o.start>i&&t.push({start:i,end:o.start}),o.end>i&&(i=o.end);return i<e.end&&t.push({start:i,end:e.end}),t}function kfe(n,e){return n.start.valueOf()-e.start.valueOf()}function zr(n,e){let{start:t,end:i}=n,r=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(t===null||i===null||t<i)&&(r={start:t,end:i}),r}function N6(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Fw(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function mh(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function So(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function Rfe(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function P6(n){let e=Math.floor(ta(n.start,n.end))||1,t=_t(n.start),i=tn(t,e);return{start:t,end:i}}function Lw(n,e=tt(0)){let t=null,i=null;if(n.end){i=_t(n.end);let r=n.end.valueOf()-i.valueOf();r&&r>=Hr(e)&&(i=tn(i,1))}return n.start&&(t=_t(n.start),i&&i<=t&&(i=tn(t,1))),{start:t,end:i}}function qk(n){let e=Lw(n);return ta(e.start,e.end)>1}function Zl(n,e,t,i){return i==="year"?tt(t.diffWholeYears(n,e),"year"):i==="month"?tt(t.diffWholeMonths(n,e),"month"):E6(n,e)}var Ju=class{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,i){let{dateEnv:r}=this.props,o=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,i)}buildNext(e,t,i){let{dateEnv:r}=this.props,o=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,i)}build(e,t,i=!0){let{props:r}=this,o,s,a,l,c,d;return o=this.buildValidRange(),o=this.trimHiddenDays(o),i&&(e=Rfe(e,o)),s=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,a),l=this.trimHiddenDays(l),c=l,r.showNonCurrentDates||(c=zr(c,s.range)),c=this.adjustActiveRange(c),c=zr(c,o),d=Fw(s.range,o),So(l,e)||(e=l.start),{currentDate:e,validRange:o,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:i}=this,r=null,o=null,s=null,a;return i.duration?(r=i.duration,o=i.durationUnit,s=this.buildRangeFromDuration(e,t,r,o)):(a=this.props.dayCount)?(o="day",s=this.buildRangeFromDayCount(e,t,a)):(s=this.buildCustomVisibleRange(e))?o=i.dateEnv.greatestWholeUnit(s.start,s.end).unit:(r=this.getFallbackDuration(),o=hv(r).unit,s=this.buildRangeFromDuration(e,t,r,o)),{duration:r,unit:o,range:s}}getFallbackDuration(){return tt({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:o}=this.props,{start:s,end:a}=e;return i&&(ch(r)<0&&(s=_t(s),s=t.add(s,r)),ch(o)>1&&(a=_t(a),a=tn(a,-1),a=t.add(a,o))),{start:s,end:a}}buildRangeFromDuration(e,t,i,r){let{dateEnv:o,dateAlignment:s}=this.props,a,l,c;if(!s){let{dateIncrement:m}=this.props;m&&Hr(m)<Hr(i)?s=hv(m).unit:s=r}ch(i)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=_t(a));function d(){a=o.startOf(e,s),l=o.add(a,i),c={start:a,end:l}}return d(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),d()),c}buildRangeFromDayCount(e,t,i){let{dateEnv:r,dateAlignment:o}=this.props,s=0,a=e,l;o&&(a=r.startOf(a,o)),a=_t(a),a=this.skipHiddenDays(a,t),l=a;do l=tn(l,1),this.isHiddenDay(l)||(s+=1);while(s<i);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:t}=this,i=t.visibleRangeInput,r=typeof i=="function"?i.call(t.calendarApi,t.dateEnv.toDate(e)):i,o=this.refineRange(r);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,t,i){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,i;return t||((i=this.props.dateAlignment)?tt(1,i):e||tt({days:1}))}refineRange(e){if(e){let t=Mfe(e,this.props.dateEnv);return t&&(t=Lw(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],i=0,r;for(this.props.weekends===!1&&e.push(0,6),r=0;r<7;r+=1)(t[r]=e.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:i}=e;return t&&(t=this.skipHiddenDays(t)),i&&(i=this.skipHiddenDays(i,-1,!0)),t==null||i==null||t<i?{start:t,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?t:0)+7)%7];)e=tn(e,t);return e}};function Lv(n,e,t,i){return{instanceId:Qa(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:i??null}}function Nfe(n,e,t,i){for(let r=0;r<i.length;r+=1){let o=i[r].parse(n,t);if(o){let{allDay:s}=n;return s==null&&(s=e,s==null&&(s=o.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:o.duration,typeData:o.typeData,typeId:r}}}return null}function Ku(n,e,t){let{dateEnv:i,pluginHooks:r,options:o}=t,{defs:s,instances:a}=n;a=Ha(a,l=>!s[l.defId].recurringDef);for(let l in s){let c=s[l];if(c.recurringDef){let{duration:d}=c.recurringDef;d||(d=c.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let m=Pfe(c,d,e,i,r.recurringTypes);for(let _ of m){let y=Lv(l,{start:_,end:i.add(_,d)});a[y.instanceId]=y}}}return{defs:s,instances:a}}function Pfe(n,e,t,i,r){let s=r[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:i.subtract(t.start,e),end:t.end},i);return n.allDay&&(s=s.map(_t)),s}var yw={id:String,groupId:String,title:String,url:String,interactive:Boolean},O6={start:z,end:z,date:z,allDay:Boolean},Ofe=Object.assign(Object.assign(Object.assign({},yw),O6),{extendedProps:z});function F6(n,e,t,i,r=Uk(t),o,s){let{refined:a,extra:l}=Bw(n,t,r),c=Lfe(e,t),d=Nfe(a,c,t.dateEnv,t.pluginHooks.recurringTypes);if(d){let _=yv(a,l,e?e.sourceId:"",d.allDay,!!d.duration,t,o);return _.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:_,instance:null}}let m=Ffe(a,c,t,i);if(m){let _=yv(a,l,e?e.sourceId:"",m.allDay,m.hasEnd,t,o),y=Lv(_.defId,m.range,m.forcedStartTzo,m.forcedEndTzo);return s&&_.publicId&&s[_.publicId]&&(y.instanceId=s[_.publicId]),{def:_,instance:y}}return null}function Bw(n,e,t=Uk(e)){return Nw(n,t)}function Uk(n){return Object.assign(Object.assign(Object.assign({},ww),Ofe),n.pluginHooks.eventRefiners)}function yv(n,e,t,i,r,o,s){let a={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(s&&n.id?s[n.id]:"")||Qa(),sourceId:t,allDay:i,hasEnd:r,interactive:n.interactive,ui:gh(n,o),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let l of o.pluginHooks.eventDefMemberAdders)Object.assign(a,l(n));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Ffe(n,e,t,i){let{allDay:r}=n,o,s=null,a=!1,l,c=null,d=n.start!=null?n.start:n.date;if(o=t.dateEnv.createMarkerMeta(d),o)s=o.marker;else if(!i)return null;return n.end!=null&&(l=t.dateEnv.createMarkerMeta(n.end)),r==null&&(e!=null?r=e:r=(!o||o.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),r&&s&&(s=_t(s)),l&&(c=l.marker,r&&(c=_t(c)),s&&c<=s&&(c=null)),c?a=!0:i||(a=t.options.forceEventDuration||!1,c=t.dateEnv.add(s,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:a,range:{start:s,end:c},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function Lfe(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function _v(n,e,t,i,r,o){let s=Fi(),a=Uk(t);for(let l of n){let c=F6(l,e,t,i,a,r,o);c&&bv(c,s)}return s}function bv(n,e=Fi()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function Bv(n,e){let t=n.instances[e];if(t){let i=n.defs[t.defId],r=jw(n,o=>Bfe(i,o));return r.defs[i.defId]=i,r.instances[t.instanceId]=t,r}return Fi()}function Bfe(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Fi(){return{defs:{},instances:{}}}function Vw(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function jw(n,e){let t=Ha(n.defs,e),i=Ha(n.instances,r=>t[r.defId]);return{defs:t,instances:i}}function Vfe(n,e){let{defs:t,instances:i}=n,r={},o={};for(let s in t)e.defs[s]||(r[s]=t[s]);for(let s in i)!e.instances[s]&&r[i[s].defId]&&(o[s]=i[s]);return{defs:r,instances:o}}function jfe(n,e){return Array.isArray(n)?_v(n,null,e,!0):typeof n=="object"&&n?_v([n],null,e,!0):n!=null?String(n):null}function mk(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}var ww={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:z,overlap:z,allow:z,className:mk,classNames:mk,color:String,backgroundColor:String,borderColor:String,textColor:String},qfe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function gh(n,e){let t=jfe(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function $k(n){return n.reduce(Ufe,qfe)}function Ufe(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}var $fe={id:String,defaultAllDay:Boolean,url:String,format:String,events:z,eventDataTransform:z,success:z,failure:z};function Hk(n,e,t=zk(e)){let i;if(typeof n=="string"?i={url:n}:typeof n=="function"||Array.isArray(n)?i={events:n}:typeof n=="object"&&n&&(i=n),i){let{refined:r,extra:o}=Nw(i,t),s=Hfe(r,e);if(s)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Qa(),sourceDefId:s.sourceDefId,meta:s.meta,ui:gh(r,e),extendedProps:o}}return null}function zk(n){return Object.assign(Object.assign(Object.assign({},ww),$fe),n.pluginHooks.eventSourceRefiners)}function Hfe(n,e){let t=e.pluginHooks.eventSourceDefs;for(let i=t.length-1;i>=0;i-=1){let o=t[i].parseMeta(n);if(o)return{sourceDefId:i,meta:o}}return null}function L6(n,e,t,i,r){switch(e.type){case"RECEIVE_EVENTS":return zfe(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,r);case"RESET_RAW_EVENTS":return Wfe(n,t[e.sourceId],e.rawEvents,i.activeRange,r);case"ADD_EVENTS":return Gfe(n,e.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Vw(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Ku(n,i.activeRange,r):n;case"REMOVE_EVENTS":return Vfe(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return V6(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return jw(n,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return Fi();default:return n}}function zfe(n,e,t,i,r,o){if(e&&t===e.latestFetchId){let s=_v(B6(r,e,o),e,o);return i&&(s=Ku(s,i,o)),Vw(V6(n,e.sourceId),s)}return n}function Wfe(n,e,t,i,r){let{defIdMap:o,instanceIdMap:s}=Yfe(n),a=_v(B6(t,e,r),e,r,!1,o,s);return Ku(a,i,r)}function B6(n,e,t){let i=t.options.eventDataTransform,r=e?e.eventDataTransform:null;return r&&(n=u6(n,r)),i&&(n=u6(n,i)),n}function u6(n,e){let t;if(!e)t=n;else{t=[];for(let i of n){let r=e(i);r?t.push(r):r==null&&t.push(i)}}return t}function Gfe(n,e,t,i){return t&&(e=Ku(e,t,i)),Vw(n,e)}function Wk(n,e,t){let{defs:i}=n,r=Eo(n.instances,o=>i[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:t.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:t.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:o.forcedEndTzo}));return{defs:i,instances:r}}function V6(n,e){return jw(n,t=>t.sourceId!==e)}function Qfe(n,e){return{defs:n.defs,instances:Ha(n.instances,t=>!e[t.instanceId])}}function Yfe(n){let{defs:e,instances:t}=n,i={},r={};for(let o in e){let s=e[o],{publicId:a}=s;a&&(i[a]=o)}for(let o in t){let s=t[o],a=e[s.defId],{publicId:l}=a;l&&(r[l]=o)}return{defIdMap:i,instanceIdMap:r}}var Wa=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){Zfe(this.handlers,e,t)}off(e,t){Xfe(this.handlers,e,t)}trigger(e,...t){let i=this.handlers[e]||[],r=this.options&&this.options[e],o=[].concat(r||[],i);for(let s of o)s.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function Zfe(n,e,t){(n[e]||(n[e]=[])).push(t)}function Xfe(n,e,t){t?n[e]&&(n[e]=n[e].filter(i=>i!==t)):delete n[e]}var Jfe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Gk(n,e){return _v(Kfe(n),null,e)}function Kfe(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},Jfe),t)),e}function qw(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Qk(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function ehe(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Qk(n,e){let t={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(t,i(n,e));return Object.assign(t,phe(n,e.dateEnv)),t}function Sw(n,e,t){let{dateEnv:i,options:r}=t,o=e;return n?(o=_t(o),o=i.add(o,r.defaultAllDayEventDuration)):o=i.add(o,r.defaultTimedEventDuration),o}function Vv(n,e,t,i){let r=Ew(n.defs,e),o=Fi();for(let s in n.defs){let a=n.defs[s];o.defs[s]=the(a,r[s],t,i)}for(let s in n.instances){let a=n.instances[s],l=o.defs[a.defId];o.instances[s]=nhe(a,l,r[a.defId],t,i)}return o}function the(n,e,t,i){let r=t.standardProps||{};r.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},n),r),{ui:Object.assign(Object.assign({},n.ui),r.ui)});t.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),t.extendedProps));for(let s of i.pluginHooks.eventDefMutationAppliers)s(o,t,i);return!o.hasEnd&&i.options.forceEventDuration&&(o.hasEnd=!0),o}function nhe(n,e,t,i,r){let{dateEnv:o}=r,s=i.standardProps&&i.standardProps.allDay===!0,a=i.standardProps&&i.standardProps.hasEnd===!1,l=Object.assign({},n);return s&&(l.range=P6(l.range)),i.datesDelta&&t.startEditable&&(l.range={start:o.add(l.range.start,i.datesDelta),end:o.add(l.range.end,i.datesDelta)}),i.startDelta&&t.durationEditable&&(l.range={start:o.add(l.range.start,i.startDelta),end:l.range.end}),i.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:o.add(l.range.end,i.endDelta)}),a&&(l.range={start:l.range.start,end:Sw(e.allDay,l.range.start,r)}),e.allDay&&(l.range={start:_t(l.range.start),end:_t(l.range.end)}),l.range.end<l.range.start&&(l.range.end=Sw(e.allDay,l.range.start,r)),l}var Gl=class{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},Ht=class n{constructor(e,t,i){this._context=e,this._def=t,this._instance=i||null}setProp(e,t){if(e in O6)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=yw[e](t),this.mutate({standardProps:{publicId:t}});else if(e in yw)t=yw[e](t),this.mutate({standardProps:{[e]:t}});else if(e in ww){let i=ww[e](t);e==="color"?i={backgroundColor:t,borderColor:t}:e==="editable"?i={startEditable:t,durationEditable:t}:i={[e]:t},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:i}=this._context,r=i.createMarker(e);if(r&&this._instance){let o=this._instance.range,s=Zl(o.start,r,i,t.granularity);t.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,t={}){let{dateEnv:i}=this._context,r;if(!(e!=null&&(r=i.createMarker(e),!r))&&this._instance)if(r){let o=Zl(this._instance.range.end,r,i,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,i={}){let{dateEnv:r}=this._context,o={allDay:i.allDay},s=r.createMarker(e),a;if(s&&!(t!=null&&(a=r.createMarker(t),!a))&&this._instance){let l=this._instance.range;i.allDay===!0&&(l=P6(l));let c=Zl(l.start,s,r,i.granularity);if(a){let d=Zl(l.end,a,r,i.granularity);Qpe(c,d)?this.mutate({datesDelta:c,standardProps:o}):this.mutate({startDelta:c,endDelta:d,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:c,standardProps:o})}}moveStart(e){let t=tt(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=tt(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=tt(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let i={allDay:e},{maintainDuration:r}=t;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:t}=this._context,i=this._instance,r=wt(e);return this._def.hasEnd?t.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):t.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let i=this._def,r=this._context,{eventStore:o}=r.getCurrentData(),s=Bv(o,t.instanceId);s=Vv(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let l=new n(r,i,t);this._def=s.defs[i.defId],this._instance=s.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:s}),r.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:na(s,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,t=j6(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Gl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:i}=t,{startStr:r,endStr:o}=this,s={allDay:t.allDay};return t.title&&(s.title=t.title),r&&(s.start=r),o&&(s.end=o),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),i.display&&i.display!=="auto"&&(s.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?s.color=i.backgroundColor:(i.backgroundColor&&(s.backgroundColor=i.backgroundColor),i.borderColor&&(s.borderColor=i.borderColor)),i.textColor&&(s.textColor=i.textColor),i.classNames.length&&(s.classNames=i.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,t.extendedProps):s.extendedProps=t.extendedProps),s}toJSON(){return this.toPlainObject()}};function j6(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function na(n,e,t){let{defs:i,instances:r}=n,o=[],s=t?t.instanceId:"";for(let a in r){let l=r[a],c=i[l.defId];l.instanceId!==s&&o.push(new Ht(e,c,l))}return o}function dh(n,e,t,i){let r={},o={},s={},a=[],l=[],c=Ew(n.defs,e);for(let d in n.defs){let m=n.defs[d];c[m.defId].display==="inverse-background"&&(m.groupId?(r[m.groupId]=[],s[m.groupId]||(s[m.groupId]=m)):o[d]=[])}for(let d in n.instances){let m=n.instances[d],_=n.defs[m.defId],y=c[_.defId],w=m.range,T=!_.allDay&&i?Lw(w,i):w,I=zr(T,t);I&&(y.display==="inverse-background"?_.groupId?r[_.groupId].push(I):o[m.defId].push(I):y.display!=="none"&&(y.display==="background"?a:l).push({def:_,ui:y,instance:m,range:I,isStart:T.start&&T.start.valueOf()===I.start.valueOf(),isEnd:T.end&&T.end.valueOf()===I.end.valueOf()}))}for(let d in r){let m=r[d],_=c6(m,t);for(let y of _){let w=s[d],T=c[w.defId];a.push({def:w,ui:T,instance:null,range:y,isStart:!1,isEnd:!1})}}for(let d in o){let m=o[d],_=c6(m,t);for(let y of _)a.push({def:n.defs[d],ui:c[d],instance:null,range:y,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function Yk(n){return n.ui.display==="background"||n.ui.display==="inverse-background"}function d6(n,e){n.fcSeg=e}function Ya(n){return n.fcSeg||n.parentNode.fcSeg||null}function Ew(n,e){return Eo(n,t=>q6(t,e))}function q6(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),$k(t)}function cd(n,e){let t=n.map(ihe);return t.sort((i,r)=>x6(i,r,e)),t.map(i=>i._seg)}function ihe(n){let{eventRange:e}=n,t=e.def,i=e.instance?e.instance.range:e.range,r=i.start?i.start.valueOf():0,o=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:o,duration:o-r,allDay:Number(t.allDay),_seg:n})}function rhe(n,e){let{pluginHooks:t}=e,i=t.isDraggableTransformers,{def:r,ui:o}=n.eventRange,s=o.startEditable;for(let a of i)s=a(s,r,o,e);return s}function ohe(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function she(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function rc(n,e,t,i,r,o,s){let{dateEnv:a,options:l}=t,{displayEventTime:c,displayEventEnd:d}=l,m=n.eventRange.def,_=n.eventRange.instance;c==null&&(c=i!==!1),d==null&&(d=r!==!1);let y=_.range.start,w=_.range.end,T=o||n.start||n.eventRange.range.start,I=s||n.end||n.eventRange.range.end,M=_t(y).valueOf()===_t(T).valueOf(),U=_t(Js(w,-1)).valueOf()===_t(Js(I,-1)).valueOf();return c&&!m.allDay&&(M||U)?(T=M?y:T,I=U?w:I,d&&m.hasEnd?a.formatRange(T,I,e,{forcedStartTzo:o?null:_.forcedStartTzo,forcedEndTzo:s?null:_.forcedEndTzo}):a.format(T,e,{forcedTzo:o?null:_.forcedStartTzo})):""}function Gr(n,e,t){let i=n.eventRange.range;return{isPast:i.end<=(t||e.start),isFuture:i.start>=(t||e.end),isToday:e&&So(e,i.start)}}function ahe(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function jv(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function vh(n,e){let{def:t,instance:i}=n.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:o,options:s}=e,{eventInteractive:a}=s;return a==null&&(a=t.interactive,a==null&&(a=!!o.hasHandlers("eventClick"))),a?b6(l=>{o.trigger("eventClick",{el:l.target,event:new Ht(e,t,i),jsEvent:l,view:e.viewApi})}):{}}var lhe={start:z,end:z,allDay:Boolean};function che(n,e,t){let i=uhe(n,e),{range:r}=i;if(!r.start)return null;if(!r.end){if(t==null)return null;r.end=e.add(r.start,t)}return i}function uhe(n,e){let{refined:t,extra:i}=Nw(n,lhe),r=t.start?e.createMarkerMeta(t.start):null,o=t.end?e.createMarkerMeta(t.end):null,{allDay:s}=t;return s==null&&(s=r&&r.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:o?o.marker:null},allDay:s},i)}function Zk(n,e){return N6(n.range,e.range)&&n.allDay===e.allDay&&dhe(n,e)}function dhe(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function phe(n,e){return Object.assign(Object.assign({},U6(n.range,e,n.allDay)),{allDay:n.allDay})}function Xk(n,e,t){return Object.assign(Object.assign({},U6(n,e,t)),{timeZone:e.timeZone})}function U6(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function fhe(n,e,t){let i=Bw({editable:!1},t),r=yv(i.refined,i.extra,"",n.allDay,!0,t);return{def:r,ui:q6(r,e),instance:Lv(r.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function Jk(n,e,t){let i=!1,r=function(a){i||(i=!0,e(a))},o=function(a){i||(i=!0,t(a))},s=n(r,o);s&&typeof s.then=="function"&&s.then(r,o)}var Dw=class extends Error{constructor(e,t){super(e),this.response=t}};function Kk(n,e,t){n=n.toUpperCase();let i={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(i.body=new URLSearchParams(t),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(r=>{if(r.ok)return r.json().then(o=>[o,r],()=>{throw new Dw("Failure parsing JSON",r)});throw new Dw("Request failed",r)})}var tk;function eR(){return tk==null&&(tk=hhe()),tk}function hhe(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}var Cv=class extends at{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{gv(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{gv(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:i}=this.state,r=i||t.height==="auto"||t.contentHeight==="auto",o=!r&&t.height!=null?t.height:"",s=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return eR()||s.push("fc-liquid-hack"),e.children(s,o,r,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},os=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function $6(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function qv(n){return{[n.component.uid]:n}}var yh={},as=(()=>{class n extends Ci{constructor(t,i){super(t,i),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:i}=this;return t.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:i}=this,r=i.nowManager.getDateMarker(),{nowIndicatorSnap:o}=i.options;o==="auto"&&(o=/year|month|week|day/.test(t.unit)||(t.unitValue||1)===1);let s,a;return o?(s=i.dateEnv.startOf(r,t.unit),a=i.dateEnv.add(s,tt(1,t.unit)).valueOf()-r.valueOf()):(s=r,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:mhe(s)},waitMs:a}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let i=this.computeTiming();this.setState(i.state,()=>{this.setTimeout(i.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=Ao,n})();function mhe(n){let e=_t(n),t=tn(e,1);return{start:e,end:t}}var xv=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let i=this.getCurrentData(),r;t=t||"day",r=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),o,s;for(let a in t)r.push(a);for(o=0;o<r.length;o+=1)if(s=t[r[o]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),i=tt(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),wt(t))}formatRange(e,t,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),wt(i),i)}formatIso(e,t){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:t})}select(e,t){let i;t==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:t};let r=this.getCurrentData(),o=che(i,r.dateEnv,tt({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),qw(o,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),ehe(e,t))}addEvent(e,t){if(e instanceof Ht){let s=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:bv({def:s,instance:a})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),r;if(t instanceof Gl)r=t.internalEventSource;else if(typeof t=="boolean")t&&([r]=Ow(i.eventSources));else if(t!=null){let s=this.getEventSourceById(t);if(!s)return console.warn(`Could not find an event source with ID "${t}"`),null;r=s.internalEventSource}let o=F6(e,r,i,!1);if(o){let s=new Ht(i,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:bv(o)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:j6(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:i,instances:r}=t.eventStore;e=String(e);for(let o in i){let s=i[o];if(s.publicId===e){if(s.recurringDef)return new Ht(t,s,null);for(let a in r){let l=r[a];if(l.defId===s.defId)return new Ht(t,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return na(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,i=[];for(let r in t)i.push(new Gl(e,t[r]));return i}getEventSourceById(e){let t=this.getCurrentData(),i=t.eventSources;e=String(e);for(let r in i)if(i[r].publicId===e)return new Gl(t,i[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Gl)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=Hk(e,t);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Gl(t,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=tt(e);t&&this.trigger("_scrollRequest",{time:t})}};function tR(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function Uw(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function nR(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function iR(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function rR(n,e){return{left:n.left-e.left,top:n.top-e.top}}var nk=Fi(),wv=class{constructor(){this.getKeysForEventDefs=xe(this._getKeysForEventDefs),this.splitDateSelection=xe(this._splitDateSpan),this.splitEventStore=xe(this._splitEventStore),this.splitIndividualUi=xe(this._splitIndividualUi),this.splitEventDrag=xe(this._splitInteraction),this.splitEventResize=xe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,i),s=this.splitEventStore(e.eventStore,i),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=Eo(t,(d,m)=>this.eventUiBuilders[m]||xe(ghe));for(let d in t){let m=t[d],_=s[d]||nk,y=this.eventUiBuilders[d];c[d]={businessHours:m.businessHours||e.businessHours,dateSelection:r[d]||null,eventStore:_,eventUiBases:y(e.eventUiBases[""],m.ui,o[d]),eventSelection:_.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[d]||null,eventResize:l[d]||null}}return c}_splitDateSpan(e){let t={};if(e){let i=this.getKeysForDateSpan(e);for(let r of i)t[r]=e}return t}_getKeysForEventDefs(e){return Eo(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:i,instances:r}=e,o={};for(let s in i)for(let a of t[s])o[a]||(o[a]=Fi()),o[a].defs[s]=i[s];for(let s in r){let a=r[s];for(let l of t[a.defId])o[l]&&(o[l].instances[s]=a)}return o}_splitIndividualUi(e,t){let i={};for(let r in e)if(r)for(let o of t[r])i[o]||(i[o]={}),i[o][r]=e[r];return i}_splitInteraction(e){let t={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),o=this._splitEventStore(e.mutatedEvents,r),s=a=>{t[a]||(t[a]={affectedEvents:i[a]||nk,mutatedEvents:o[a]||nk,isEvent:e.isEvent})};for(let a in i)s(a);for(let a in o)s(a)}return t}};function ghe(n,e,t){let i=[];n&&i.push(n),e&&i.push(e);let r={"":$k(i)};return t&&Object.assign(r,t),r}function Uv(n,e,t,i){return{dow:n.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!So(i.activeRange,n))),isOther:!!(i&&!So(i.currentRange,n)),isToday:!!(e&&So(e,n)),isPast:!!(t?n<t:e&&n<e.start),isFuture:!!(t?n>t:e&&n>=e.end)}}function _h(n,e){let t=["fc-day",`fc-day-${Xpe[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}var vhe=wt({year:"numeric",month:"long",day:"numeric"}),yhe=wt({week:"long"});function ia(n,e,t="day",i=!0){let{dateEnv:r,options:o,calendarApi:s}=n,a=r.format(e,t==="week"?yhe:vhe);if(o.navLinks){let l=r.toDate(e),c=d=>{let m=t==="day"?o.navLinkDayClick:t==="week"?o.navLinkWeekClick:null;typeof m=="function"?m.call(s,r.toDate(e),d):(typeof m=="string"&&(t=m),s.zoomTo(e,t))};return Object.assign({title:fh(o.navLinkHint,[a,l],a),"data-navlink":""},i?_6(c):{onClick:c})}return{"aria-label":a}}var ik=null;function H6(){return ik===null&&(ik=_he()),ik}function _he(){let n=document.createElement("div");ld(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Mv(n),t}var rk;function z6(){return rk||(rk=bhe()),rk}function bhe(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=W6(n);return document.body.removeChild(n),e}function W6(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function G6(n,e=!1){let t=window.getComputedStyle(n),i=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,o=parseInt(t.borderTopWidth,10)||0,s=parseInt(t.borderBottomWidth,10)||0,a=W6(n),l=a.y-i-r,c=a.x-o-s,d={borderLeft:i,borderRight:r,borderTop:o,borderBottom:s,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return H6()&&t.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(t.paddingLeft,10)||0,d.paddingRight=parseInt(t.paddingRight,10)||0,d.paddingTop=parseInt(t.paddingTop,10)||0,d.paddingBottom=parseInt(t.paddingBottom,10)||0),d}function oR(n,e=!1,t){let i=t?n.getBoundingClientRect():$v(n),r=G6(n,e),o={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return e&&(o.left+=r.paddingLeft,o.right-=r.paddingRight,o.top+=r.paddingTop,o.bottom-=r.paddingBottom),o}function $v(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Che(n){let e=$w(n),t=n.getBoundingClientRect();for(let i of e){let r=Uw(t,i.getBoundingClientRect());if(r)t=r;else return null}return t}function $w(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}var ss=class{constructor(e,t,i,r){this.els=t;let o=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(o.left),r&&this.buildElVerticals(o.top)}buildElHorizontals(e){let t=[],i=[];for(let r of this.els){let o=r.getBoundingClientRect();t.push(o.left-e),i.push(o.right-e)}this.lefts=t,this.rights=i}buildElVerticals(e){let t=[],i=[];for(let r of this.els){let o=r.getBoundingClientRect();t.push(o.top-e),i.push(o.bottom-e)}this.tops=t,this.bottoms=i}leftToIndex(e){let{lefts:t,rights:i}=this,r=t.length,o;for(o=0;o<r;o+=1)if(e>=t[o]&&e<i[o])return o}topToIndex(e){let{tops:t,bottoms:i}=this,r=t.length,o;for(o=0;o<r;o+=1)if(e>=t[o]&&e<i[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return hw(this.tops||[],e.tops||[])&&hw(this.bottoms||[],e.bottoms||[])&&hw(this.lefts||[],e.lefts||[])&&hw(this.rights||[],e.rights||[])}};function hw(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(Math.round(n[i])!==Math.round(e[i]))return!1;return!0}var ed=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},Sv=class extends ed{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},Ev=class extends ed{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},xi=class extends at{constructor(){super(...arguments),this.uid=Qa()}prepareHits(){}queryHit(e,t,i,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!jn(e,".fc-event-mirror")}isValidDateDownEl(e){return!jn(e,".fc-event:not(.fc-bg-event)")&&!jn(e,".fc-more-link")&&!jn(e,"a[data-navlink]")&&!jn(e,".fc-popover")}};var td=class{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let i of e)this.insertEntry(i,t);return t}insertEntry(e,t){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,i){if(this.allowReslicing&&e.touchingEntry){let r=Object.assign(Object.assign({},t),{span:Hv(t.span,e.touchingEntry.span)});i.push(r),this.splitEntry(t,e.touchingEntry,i)}else i.push(t)}splitEntry(e,t,i){let r=e.span,o=t.span;r.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:o.start}},i),r.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:r.end}},i)}insertEntryAt(e,t){let{entriesByLevel:i,levelCoords:r}=this;t.lateral===-1?(ok(r,t.level,t.levelCoord),ok(i,t.level,[e])):ok(i[t.level],t.lateral,e),this.stackCnts[Ks(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:i,strictOrder:r,stackCnts:o}=this,s=t.length,a=0,l=-1,c=-1,d=null,m=0;for(let w=0;w<s;w+=1){let T=t[w];if(!r&&T>=a+this.getEntryThickness(e))break;let I=i[w],M,U=Av(I,e.span.start,Dv),W=U[0]+U[1];for(;(M=I[W])&&M.span.start<e.span.end;){let N=T+this.getEntryThickness(M);N>a&&(a=N,d=M,l=w,c=W),N===a&&(m=Math.max(m,o[Ks(M)]+1)),W+=1}}let _=0;if(d)for(_=l+1;_<s&&t[_]<a;)_+=1;let y=-1;return _<s&&t[_]===a&&(y=Av(i[_],e.span.end,Dv)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:d,stackCnt:m,levelCoord:a,level:_,lateral:y}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,i=e.length,r=[];for(let o=0;o<i;o+=1){let s=e[o],a=t[o];for(let l of s)r.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return r}};function Dv(n){return n.span.end}function Ks(n){return n.index+":"+n.span.start}function sR(n){let e=[];for(let t of n){let i=[],r={span:t.span,entries:[t]};for(let o of e)Hv(o.span,r.span)?r={entries:o.entries.concat(r.entries),span:xhe(o.span,r.span)}:i.push(o);i.push(r),e=i}return e}function xhe(n,e){return{start:Math.min(n.start,e.start),end:Math.max(n.end,e.end)}}function Hv(n,e){let t=Math.max(n.start,e.start),i=Math.min(n.end,e.end);return t<i?{start:t,end:i}:null}function ok(n,e,t){n.splice(e,0,t)}function Av(n,e,t){let i=0,r=n.length;if(!r||e<t(n[i]))return[0,0];if(e>t(n[r-1]))return[r,0];for(;i<r;){let o=Math.floor(i+(r-i)/2),s=t(n[o]);if(e<s)r=o;else if(e>s)i=o+1;else return[o,1]}return[i,0]}var Tv=class{constructor(e,t){this.emitter=new Wa}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},zv={};function Q6(n,e){return!n||e>10?wt({weekday:"short"}):e>1?wt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):wt({weekday:"long"})}var Y6="fc-col-header-cell";function Z6(n){return n.text}var Aw=class extends at{render(){let{dateEnv:e,options:t,theme:i,viewApi:r}=this.context,{props:o}=this,{date:s,dateProfile:a}=o,l=Uv(s,o.todayRange,null,a),c=[Y6].concat(_h(l,i)),d=e.format(s,o.dayHeaderFormat),m=!l.isDisabled&&o.colCnt>1?ia(this.context,s):{},_=e.toDate(s);e.namedTimeZoneImpl&&(_=Js(_,36e5));let y=Object.assign(Object.assign(Object.assign({date:_,view:r},o.extraRenderProps),{text:d}),l);return O(qn,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":l.isDisabled?void 0:tc(s)},o.extraDataAttrs),renderProps:y,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Z6,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},w=>O("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&O(w,{elTag:"a",elAttrs:m,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}},whe=wt({weekday:"long"}),Tw=class extends at{render(){let{props:e}=this,{dateEnv:t,theme:i,viewApi:r,options:o}=this.context,s=tn(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(s,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:s},a),{view:r}),e.extraRenderProps),{text:l});return O(qn,{elTag:"th",elClasses:[Y6,..._h(a,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:Z6,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},d=>O("div",{className:"fc-scrollgrid-sync-inner"},O(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,whe)}})))}},nd=class extends at{constructor(){super(...arguments),this.createDayHeaderFormatter=xe(She)}render(){let{context:e}=this,{dates:t,dateProfile:i,datesRepDistinctDays:r,renderIntro:o}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return O(as,{unit:"day"},(a,l)=>O("tr",{role:"row"},o&&o("day"),t.map(c=>r?O(Aw,{key:c.toISOString(),date:c,dateProfile:i,todayRange:l,colCnt:t.length,dayHeaderFormat:s}):O(Tw,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:s}))))}};function She(n,e,t){return n||Q6(e,t)}var id=class{constructor(e,t){let i=e.start,{end:r}=e,o=[],s=[],a=-1;for(;i<r;)t.isHiddenDay(i)?o.push(a+.5):(a+=1,o.push(a),s.push(i)),i=tn(i,1);this.dates=s,this.indices=o,this.cnt=s.length}sliceRange(e){let t=this.getDateDayIndex(e.start),i=this.getDateDayIndex(tn(e.end,-1)),r=Math.max(0,t),o=Math.min(this.cnt-1,i);return r=Math.ceil(r),o=Math.floor(o),r<=o?{firstIndex:r,lastIndex:o,isStart:t===r,isEnd:i===o}:null}getDateDayIndex(e){let{indices:t}=this,i=Math.floor(ta(this.dates[0],e));return i<0?t[0]-1:i>=t.length?t[t.length-1]+1:t[i]}},rd=class{constructor(e,t){let{dates:i}=e,r,o,s;if(t){for(o=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==o;r+=1);s=Math.ceil(i.length/r)}else s=1,r=i.length;this.rowCnt=s,this.colCnt=r,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(t,r));e.push(i)}return e}buildCell(e,t){let i=this.daySeries.dates[e*this.colCnt+t];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,i=this.daySeries.sliceRange(e),r=[];if(i){let{firstIndex:o,lastIndex:s}=i,a=o;for(;a<=s;){let l=Math.floor(a/t),c=Math.min((l+1)*t,s+1);r.push({row:l,firstCol:a%t,lastCol:(c-1)%t,isStart:i.isStart&&a===o,isEnd:i.isEnd&&c-1===s}),a=c}}return r}},od=class{constructor(){this.sliceBusinessHours=xe(this._sliceBusinessHours),this.sliceDateSelection=xe(this._sliceDateSpan),this.sliceEventStore=xe(this._sliceEventStore),this.sliceEventDrag=xe(this._sliceInteraction),this.sliceEventResize=xe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,i,r,...o){let{eventUiBases:s}=e,a=this.sliceEventStore(e.eventStore,s,t,i,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,i,s,r,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,i,r,...o),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,t,i,...o),eventResize:this.sliceEventResize(e.eventResize,s,t,i,...o),eventSelection:e.eventSelection}}sliceNowDate(e,t,i,r,...o){return this._sliceDateSpan({range:{start:e,end:Js(e,1)},allDay:!1},t,i,{},r,...o)}_sliceBusinessHours(e,t,i,r,...o){return e?this._sliceEventStore(Ku(e,mw(t,!!i),r),{},t,i,...o).bg:[]}_sliceEventStore(e,t,i,r,...o){if(e){let s=dh(e,t,mw(i,!!r),r);return{bg:this.sliceEventRanges(s.bg,o),fg:this.sliceEventRanges(s.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,i,r,...o){if(!e)return null;let s=dh(e.mutatedEvents,t,mw(i,!!r),r);return{segs:this.sliceEventRanges(s.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,i,r,o,...s){if(!e)return[];let a=mw(t,!!i),l=zr(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=fhe(e,r,o),d=this.sliceRange(e.range,...s);for(let m of d)m.eventRange=c;return d}return[]}sliceEventRanges(e,t){let i=[];for(let r of e)i.push(...this.sliceEventRange(r,t));return i}sliceEventRange(e,t){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:tn(i.start,1)});let r=this.sliceRange(i,...t);for(let o of r)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return r}};function mw(n,e){let t=n.activeRange;return e?t:{start:Js(t.start,n.slotMinTime.milliseconds),end:Js(t.end,n.slotMaxTime.milliseconds-864e5)}}function Hw(n,e,t){let{instances:i}=n.mutatedEvents;for(let r in i)if(!mh(e.validRange,i[r].range))return!1;return X6({eventDrag:n},t)}function aR(n,e,t){return mh(e.validRange,n.range)?X6({dateSelection:n},t):!1}function X6(n,e){let t=e.getCurrentData(),i=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||J6)(i,e)}function J6(n,e,t={},i){return!(n.eventDrag&&!Ehe(n,e,t,i)||n.dateSelection&&!Dhe(n,e,t,i))}function Ehe(n,e,t,i){let r=e.getCurrentData(),o=n.eventDrag,s=o.mutatedEvents,a=s.defs,l=s.instances,c=Ew(a,o.isEvent?n.eventUiBases:{"":r.selectionConfig});i&&(c=Eo(c,i));let d=Qfe(n.eventStore,o.affectedEvents.instances),m=d.defs,_=d.instances,y=Ew(m,n.eventUiBases);for(let w in l){let T=l[w],I=T.range,M=c[T.defId],U=a[T.defId];if(!K6(M.constraints,I,d,n.businessHours,e))return!1;let{eventOverlap:W}=e.options,N=typeof W=="function"?W:null;for(let Y in _){let ve=_[Y];if(Fw(I,ve.range)&&(y[ve.defId].overlap===!1&&o.isEvent||M.overlap===!1||N&&!N(new Ht(e,m[ve.defId],ve),new Ht(e,U,T))))return!1}let X=r.eventStore;for(let Y of M.allows){let ve=Object.assign(Object.assign({},t),{range:T.range,allDay:U.allDay}),Ce=X.defs[U.defId],gt=X.instances[w],Pt;if(Ce?Pt=new Ht(e,Ce,gt):Pt=new Ht(e,U),!Y(Qk(ve,e),Pt))return!1}}return!0}function Dhe(n,e,t,i){let r=n.eventStore,o=r.defs,s=r.instances,a=n.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(i&&(c=i(c)),!K6(c.constraints,l,r,n.businessHours,e))return!1;let{selectOverlap:d}=e.options,m=typeof d=="function"?d:null;for(let _ in s){let y=s[_];if(Fw(l,y.range)&&(c.overlap===!1||m&&!m(new Ht(e,o[y.defId],y),null)))return!1}for(let _ of c.allows){let y=Object.assign(Object.assign({},t),a);if(!_(Qk(y,e),null))return!1}return!0}function K6(n,e,t,i,r){for(let o of n)if(!The(Ahe(o,e,t,i,r),e))return!1;return!0}function Ahe(n,e,t,i,r){return n==="businessHours"?sk(Ku(i,e,r)):typeof n=="string"?sk(jw(t,o=>o.groupId===n)):typeof n=="object"&&n?sk(Ku(n,e,r)):[]}function sk(n){let{instances:e}=n,t=[];for(let i in e)t.push(e[i].range);return t}function The(n,e){for(let t of n)if(mh(t,e))return!0;return!1}var gw=/^(visible|hidden)$/,ph=class extends at{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Wr(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:i}=e,r=t&&i,o=["fc-scroller"];return t&&(i?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),O("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(gw.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(gw.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return gw.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return gw.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},yr=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,i)=>{let{depths:r,currentMap:o}=this,s=!1,a=!1;t!==null?(s=i in o,o[i]=t,r[i]=(r[i]||0)+1,a=!0):(r[i]-=1,r[i]||(delete o[i],delete this.callbackMap[i],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(i)),a&&this.masterCallback(t,String(i)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),t}collect(e,t,i){return T6(this.currentMap,e,t,i)}getAll(){return Ow(this.currentMap)}};function eq(n){let e=v6(n,".fc-scrollgrid-shrink"),t=0;for(let i of e)t=Math.max(t,zpe(i));return Math.ceil(t)}function lR(n,e){return n.liquid&&e.liquid}function tq(n,e){return e.maxHeight!=null||lR(n,e)}function nq(n,e,t,i){let{expandRows:r}=t;return typeof e.content=="function"?e.content(t):O("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,O(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function iq(n,e){return ea(n,e,vr)}function rq(n,e){let t=[];for(let i of n){let r=i.span||1;for(let o=0;o<r;o+=1)t.push(O("col",{style:{width:i.width==="shrink"?oq(e):i.width||"",minWidth:i.minWidth||""}}))}return O("colgroup",{},...t)}function oq(n){return n??4}function sq(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function aq(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function lq(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function bh(n){return O("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function ud(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function Wv(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}var Xl=class extends at{constructor(){super(...arguments),this.processCols=xe(e=>e,iq),this.renderMicroColGroup=xe(rq),this.scrollerRefs=new yr,this.scrollerElRefs=new yr(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:i}=this,r=e.sections||[],o=this.processCols(e.cols),s=this.renderMicroColGroup(o,t.shrinkWidth),a=aq(e.liquid,i);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=r.length,c=0,d,m=[],_=[],y=[];for(;c<l&&(d=r[c]).type==="header";)m.push(this.renderSection(d,s,!0)),c+=1;for(;c<l&&(d=r[c]).type==="body";)_.push(this.renderSection(d,s,!1)),c+=1;for(;c<l&&(d=r[c]).type==="footer";)y.push(this.renderSection(d,s,!0)),c+=1;let w=!eR(),T={role:"rowgroup"};return O("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!w&&m.length)&&O("thead",T,...m),!!(!w&&_.length)&&O("tbody",T,..._),!!(!w&&y.length)&&O("tfoot",T,...y),w&&O("tbody",T,...m,..._,...y))}renderSection(e,t,i){return"outerContent"in e?O(dt,{key:e.key},e.outerContent):O("tr",{key:e.key,role:"presentation",className:lq(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,i))}renderChunkTd(e,t,i,r){if("outerContent"in i)return i.outerContent;let{props:o}=this,{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=tq(o,e),d=lR(o,e),m=o.liquid?s?"scroll":c?"auto":"hidden":"visible",_=e.key,y=nq(e,i,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&a[_]!==void 0?a[_]:null,clientHeight:l[_]!==void 0?l[_]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return O(r?"th":"td",{ref:i.elRef,role:"presentation"},O("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},O(ph,{ref:this.scrollerRefs.createRef(_),elRef:this.scrollerElRefs.createRef(_),overflowY:m,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},y)))}_handleScrollerEl(e,t){let i=Ihe(this.props.sections,t);i&&Wr(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return sq(this.props.cols)?eq(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=z6(),{scrollerRefs:t,scrollerElRefs:i}=this,r=!1,o={},s={};for(let a in t.currentMap){let l=t.currentMap[a];if(l&&l.needsYScrolling()){r=!0;break}}for(let a of this.props.sections){let l=a.key,c=i.currentMap[l];if(c){let d=c.parentNode;o[l]=Math.floor(d.getBoundingClientRect().width-(r?e.y:0)),s[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:o,scrollerClientHeights:s}}};Xl.addStateEquality({scrollerClientWidths:vr,scrollerClientHeights:vr});function Ihe(n,e){for(let t of n)if(t.key===e)return t;return null}var Ga=class extends at{constructor(){super(...arguments),this.buildPublicEvent=xe((e,t,i)=>new Ht(e,t,i)),this.handleEl=e=>{this.el=e,Wr(this.props.elRef,e),e&&d6(e,this.props.seg)}}render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{eventRange:o}=r,{ui:s}=o,a={event:this.buildPublicEvent(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&rhe(r,t),isStartResizable:!e.disableResizing&&ohe(r,t),isEndResizable:!e.disableResizing&&she(r),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return O(qn,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...ahe(a),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&d6(this.el,this.props.seg)}},Jl=class extends at{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,{ui:o}=r.eventRange,s=i.eventTimeFormat||e.defaultTimeFormat,a=rc(r,s,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return O(Ga,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:vh(r,t),defaultGenerator:Mhe,timeText:a}),(l,c)=>O(dt,null,O(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&O("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&O("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};Jl.addPropsEquality({seg:vr});function Mhe(n){return O("div",{className:"fc-event-main-frame"},n.timeText&&O("div",{className:"fc-event-time"},n.timeText),O("div",{className:"fc-event-title-container"},O("div",{className:"fc-event-title fc-sticky"},n.event.title||O(dt,null,"\xA0"))))}var Gv=n=>O(Ao.Consumer,null,e=>{let{options:t}=e,i={isAxis:n.isAxis,date:e.dateEnv.toDate(n.date),view:e.viewApi};return O(qn,{elRef:n.elRef,elTag:n.elTag||"div",elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount},n.children)}),khe=wt({day:"numeric"}),Kl=class extends at{constructor(){super(...arguments),this.refineRenderProps=hh(Rhe)}render(){let{props:e,context:t}=this,{options:i}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:i.monthStartFormat});return O(qn,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":tc(e.date)}),elClasses:[..._h(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}};function Ch(n){return!!(n.dayCellContent||hk("dayCellContent",n))}function Rhe(n){let{date:e,dateEnv:t,dateProfile:i,isMonthStart:r}=n,o=Uv(e,n.todayRange,null,i),s=n.showDayNumber?t.format(e,r?n.monthStartFormat:khe):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},o),{isMonthStart:r,dayNumberText:s}),n.extraRenderProps)}var sd=class extends at{render(){let{props:e}=this,{seg:t}=e;return O(Ga,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:Nhe,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function Nhe(n){let{title:e}=n.event;return e&&O("div",{className:"fc-event-title"},n.event.title)}function Qv(n){return O("div",{className:`fc-${n}`})}var Yv=n=>O(Ao.Consumer,null,e=>{let{dateEnv:t,options:i}=e,{date:r}=n,o=i.weekNumberFormat||n.defaultFormat,s=t.computeWeekNumber(r),a=t.format(r,o),l={num:s,text:a,date:r};return O(qn,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:Phe,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},n.children)});function Phe(n){return n.text}var ak=10,gk=class extends at{constructor(){super(...arguments),this.state={titleId:Do()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Wr(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=Iw(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:i,state:r}=this,o=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return Kj(O("div",Object.assign({},i.extraAttrs,{id:i.id,className:o.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),O("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},O("span",{className:"fc-popover-title",id:r.titleId},i.title),O("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),O("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:i}=this.props,{rootEl:r}=this,o=Che(t);if(o){let s=r.getBoundingClientRect(),a=i?jn(t,".fc-scrollgrid").getBoundingClientRect().top:o.top,l=e?o.right-s.width:o.left;a=Math.max(a,ak),l=Math.min(l,document.documentElement.clientWidth-ak-s.width),l=Math.max(l,ak);let c=r.offsetParent.getBoundingClientRect();ld(r,{top:a-c.top,left:l-c.left})}}},vk=class extends xi{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:i}=this,{startDate:r,todayRange:o,dateProfile:s}=i,a=t.format(r,e.dayPopoverFormat);return O(Kl,{elRef:this.handleRootEl,date:r,dateProfile:s,todayRange:o},(l,c,d)=>O(gk,{elRef:d.ref,id:i.id,title:a,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},Ch(e)&&O(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,i,r){let{rootEl:o,props:s}=this;return e>=0&&e<i&&t>=0&&t<r?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}},ad=class extends at{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Do()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Wr(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,{moreLinkClick:r}=i.options,o=p6(t).start;function s(a){let{def:l,instance:c,range:d}=a.eventRange;return{event:new Ht(i,l,c),start:i.dateEnv.toDate(d.start),end:i.dateEnv.toDate(d.end),isStart:a.isStart,isEnd:a.isEnd}}typeof r=="function"&&(r=r({date:o,allDay:!!t.allDayDate,allSegs:t.allSegs.map(s),hiddenSegs:t.hiddenSegs.map(s),jsEvent:e,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(o,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return O(Ao.Consumer,null,i=>{let{viewApi:r,options:o,calendarApi:s}=i,{moreLinkText:a}=o,{moreCnt:l}=e,c=p6(e),d=typeof a=="function"?a.call(s,l):`+${l} ${a}`,m=fh(o.moreLinkHint,[l],d),_={num:l,shortText:`+${l}`,text:d,view:r};return O(dt,null,!!e.moreCnt&&O(qn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),_6(this.handleClick)),{title:m,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:_,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||Ohe,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),t.isPopoverOpen&&O(vk,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=jn(this.linkEl,".fc-view-harness"))}};function Ohe(n){return n.text}function p6(n){if(n.allDayDate)return{start:n.allDayDate,end:tn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:zw(e),end:Lhe(e)}}function zw(n){return n.reduce(Fhe).eventRange.range.start}function Fhe(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function Lhe(n){return n.reduce(Bhe).eventRange.range.end}function Bhe(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}var yk=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},Iv=class extends yk{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,i=!1;e.isActive?(t.set(e.id,e),i=!0):t.has(e.id)&&(t.delete(e.id),i=!0),i&&this.set(t)}};var Vhe=[],mq={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},gq=Object.assign(Object.assign({},mq),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function jhe(n){let e=n.length>0?n[0].code:"en",t=Vhe.concat(n),i={en:gq};for(let r of t)i[r.code]=r;return{map:i,defaultCode:e}}function vq(n,e){return typeof n=="object"&&!Array.isArray(n)?yq(n.code,[n.code],n):qhe(n,e)}function qhe(n,e){let t=[].concat(n||[]),i=Uhe(t,e)||gq;return yq(n,t,i)}function Uhe(n,e){for(let t=0;t<n.length;t+=1){let i=n[t].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let o=i.slice(0,r).join("-");if(e[o])return e[o]}}return null}function yq(n,e,t){let i=Pw([mq,t],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:n,codes:e,week:r,simpleNumberFormat:new Intl.NumberFormat(n),options:i}}function _r(n){return{id:Qa(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function $he(n,e){let t={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(o){for(let s of o){let a=s.name,l=t[a];l===void 0?(t[a]=s.id,r(s.deps),i=zhe(i,s)):l!==s.id&&console.warn(`Duplicate plugin '${a}'`)}}return n&&r(n),r(e),i}function Hhe(){let n=[],e=[],t;return(i,r)=>((!t||!ea(i,n)||!ea(r,e))&&(t=$he(i,r)),n=i,e=r,t)}function zhe(n,e){return{premiumReleaseDate:Whe(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function Whe(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}var ra=class extends za{};ra.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ra.prototype.baseIconClass="fc-icon";ra.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ra.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ra.prototype.iconOverrideOption="buttonIcons";ra.prototype.iconOverrideCustomButtonOption="icon";ra.prototype.iconOverridePrefix="fc-icon-";function Ghe(n,e){let t={},i;for(i in n)uR(i,t,n,e);for(i in e)uR(i,t,n,e);return t}function uR(n,e,t,i){if(e[n])return e[n];let r=Qhe(n,e,t,i);return r&&(e[n]=r),r}function Qhe(n,e,t,i){let r=t[n],o=i[n],s=d=>r&&r[d]!==null?r[d]:o&&o[d]!==null?o[d]:null,a=s("component"),l=s("superType"),c=null;if(l){if(l===n)throw new Error("Can't have a custom view type that references itself");c=uR(l,e,t,i)}return!a&&c&&(a=c.component),a?{type:n,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),o?o.rawOptions:{})}:null}function cq(n){return Eo(n,Yhe)}function Yhe(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=uq(e):t&&!(t.prototype instanceof at)&&(t=uq(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function uq(n){return e=>O(Ao.Consumer,null,t=>O(qn,{elTag:"div",elClasses:jk(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function Zhe(n,e,t,i){let r=cq(n),o=cq(e.views),s=Ghe(r,o);return Eo(s,a=>Xhe(a,o,e,t,i))}function Xhe(n,e,t,i,r){let o=n.overrides.duration||n.defaults.duration||i.duration||t.duration,s=null,a="",l="",c={};if(o&&(s=Jhe(o),s)){let _=hv(s);a=_.unit,_.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let d=_=>{let y=_.buttonText||{},w=n.defaults.buttonTextKey;return w!=null&&y[w]!=null?y[w]:y[n.type]!=null?y[n.type]:y[l]!=null?y[l]:null},m=_=>{let y=_.buttonHints||{},w=n.defaults.buttonTextKey;return w!=null&&y[w]!=null?y[w]:y[n.type]!=null?y[n.type]:y[l]!=null?y[l]:null};return{type:n.type,component:n.component,duration:s,durationUnit:a,singleUnit:l,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},c),n.overrides),buttonTextOverride:d(i)||d(t)||n.overrides.buttonText,buttonTextDefault:d(r)||n.defaults.buttonText||d(nc)||n.type,buttonTitleOverride:m(i)||m(t)||n.overrides.buttonHint,buttonTitleDefault:m(r)||n.defaults.buttonHint||m(nc)}}var dq={};function Jhe(n){let e=JSON.stringify(n),t=dq[e];return t===void 0&&(t=tt(n),dq[e]=t),t}function Khe(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function eme(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function tme(n,e,t){let i=n.initialDate;return i!=null?e.createMarker(i):t.getDateMarker()}function nme(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function ime(n,e,t,i){let r;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||t);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(r=i.buildPrev(n,t),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(n,t),r.isValid)return r;break}return n}function rme(n,e,t){let i=e?e.activeRange:null;return bq({},dme(n,t),i,t)}function ome(n,e,t,i){let r=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return bq(n,e.sources,r,i);case"REMOVE_EVENT_SOURCE":return ame(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Cq(n,r,i):n;case"FETCH_EVENT_SOURCES":return _R(n,e.sourceIds?Lk(e.sourceIds):xq(n,i),r,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return ume(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function sme(n,e,t){let i=e?e.activeRange:null;return _R(n,xq(n,t),i,!0,t)}function _q(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function bq(n,e,t,i){let r={};for(let o of e)r[o.sourceId]=o;return t&&(r=Cq(r,t,i)),Object.assign(Object.assign({},n),r)}function ame(n,e){return Ha(n,t=>t.sourceId!==e)}function Cq(n,e,t){return _R(n,Ha(n,i=>lme(i,e,t)),e,!1,t)}function lme(n,e,t){return wq(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function _R(n,e,t,i,r){let o={};for(let s in n){let a=n[s];e[s]?o[s]=cme(a,t,i,r):o[s]=a}return o}function cme(n,e,t,i){let{options:r,calendarApi:o}=i,s=i.pluginHooks.eventSourceDefs[n.sourceDefId],a=Qa();return s.fetch({eventSource:n,range:e,isRefetch:t,context:i},l=>{let{rawEvents:c}=l;r.eventSourceSuccess&&(c=r.eventSourceSuccess.call(o,c,l.response)||c),n.success&&(c=n.success.call(o,c,l.response)||c),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(o,l),c=!0),n.failure&&(n.failure(l),c=!0),c||console.warn(l.message,l),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:a})}function ume(n,e,t,i){let r=n[e];return r&&t===r.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):n}function xq(n,e){return Ha(n,t=>wq(t,e))}function dme(n,e){let t=zk(e),i=[].concat(n.eventSources||[]),r=[];n.initialEvents&&i.unshift(n.initialEvents),n.events&&i.unshift(n.events);for(let o of i){let s=Hk(o,e,t);s&&r.push(s)}return r}function wq(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function pme(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function fme(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function hme(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function mme(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function gme(n,e,t,i,r){let o=n.headerToolbar?pq(n.headerToolbar,n,e,t,i,r):null,s=n.footerToolbar?pq(n.footerToolbar,n,e,t,i,r):null;return{header:o,footer:s}}function pq(n,e,t,i,r,o){let s={},a=[],l=!1;for(let c in n){let d=n[c],m=vme(d,e,t,i,r,o);s[c]=m.widgets,a.push(...m.viewsWithButtons),l=l||m.hasTitle}return{sectionWidgets:s,viewsWithButtons:a,hasTitle:l}}function vme(n,e,t,i,r,o){let s=e.direction==="rtl",a=e.customButtons||{},l=t.buttonText||{},c=e.buttonText||{},d=t.buttonHints||{},m=e.buttonHints||{},_=n?n.split(" "):[],y=[],w=!1;return{widgets:_.map(I=>I.split(",").map(M=>{if(M==="title")return w=!0,{buttonName:M};let U,W,N,X,Y,ve;if(U=a[M])N=Ce=>{U.click&&U.click.call(Ce.target,Ce,Ce.target)},(X=i.getCustomButtonIconClass(U))||(X=i.getIconClass(M,s))||(Y=U.text),ve=U.hint||U.text;else if(W=r[M]){y.push(M),N=()=>{o.changeView(M)},(Y=W.buttonTextOverride)||(X=i.getIconClass(M,s))||(Y=W.buttonTextDefault);let Ce=W.buttonTextOverride||W.buttonTextDefault;ve=fh(W.buttonTitleOverride||W.buttonTitleDefault||e.viewHint,[Ce,M],Ce)}else if(o[M])if(N=()=>{o[M]()},(Y=l[M])||(X=i.getIconClass(M,s))||(Y=c[M]),M==="prevYear"||M==="nextYear"){let Ce=M==="prevYear"?"prev":"next";ve=fh(d[Ce]||m[Ce],[c.year||"year","year"],c[M])}else ve=Ce=>fh(d[M]||m[M],[c[Ce]||Ce,Ce],c[M]);return{buttonName:M,buttonClick:N,buttonIcon:X,buttonText:Y,buttonHint:ve}})),viewsWithButtons:y,hasTitle:w}}var dR=class{constructor(e,t,i){this.type=e,this.getCurrentData=t,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},yme={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}},_me=_r({name:"array-event-source",eventSourceDefs:[yme]}),bme={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){let{dateEnv:i}=n.context,r=n.eventSource.meta;Jk(r.bind(null,Xk(n.range,i)),o=>e({rawEvents:o}),t)}},Cme=_r({name:"func-event-source",eventSourceDefs:[bme]}),xme={method:String,extraParams:z,startParam:String,endParam:String,timeZoneParam:String},wme={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){let{meta:i}=n.eventSource,r=Eme(i,n.range,n.context);Kk(i.method,i.url,r).then(([o,s])=>{e({rawEvents:o,response:s})},t)}},Sme=_r({name:"json-event-source",eventSourceRefiners:xme,eventSourceDefs:[wme]});function Eme(n,e,t){let{dateEnv:i,options:r}=t,o,s,a,l,c={};return o=n.startParam,o==null&&(o=r.startParam),s=n.endParam,s==null&&(s=r.endParam),a=n.timeZoneParam,a==null&&(a=r.timeZoneParam),typeof n.extraParams=="function"?l=n.extraParams():l=n.extraParams||{},Object.assign(c,l),c[o]=i.formatIso(e.start),c[s]=i.formatIso(e.end),i.timeZone!=="local"&&(c[a]=i.timeZone),c}var Dme={daysOfWeek:z,startTime:tt,endTime:tt,duration:tt,startRecur:z,endRecur:z},Ame={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},i;return n.duration&&(i=n.duration),!i&&n.startTime&&n.endTime&&(i=S6(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:i,typeData:t}}return null},expand(n,e,t){let i=zr(e,{start:n.startRecur,end:n.endRecur});return i?Ime(n.daysOfWeek,n.startTime,n.dateEnv,t,i):[]}},Tme=_r({name:"simple-recurring-event",recurringTypes:[Ame],eventRefiners:Dme});function Ime(n,e,t,i,r){let o=n?Lk(n):null,s=_t(r.start),a=r.end,l=[];for(e&&(e.milliseconds<0?a=tn(a,1):e.milliseconds>=1e3*60*60*24&&(s=tn(s,-1)));s<a;){let c;(!o||o[s.getUTCDay()])&&(e?c=i.add(s,e):c=s,l.push(i.createMarker(t.toDate(c)))),s=tn(s,1)}return l}var Mme=_r({name:"change-handler",optionChangeHandlers:{events(n,e){fq([n],e)},eventSources:fq}});function fq(n,e){let t=Ow(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let i=[];for(let r of n){let o=!1;for(let s=0;s<t.length;s+=1)if(t[s]._raw===r){t.splice(s,1),o=!0;break}o||i.push(r)}for(let r of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)e.calendarApi.addEventSource(r)}function kme(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Xk(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function Rme(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",na(n,e))}var Nme=[_me,Cme,Sme,Tme,Mme,_r({name:"misc",isLoadingFuncs:[n=>_q(n.eventSources)],propSetHandlers:{dateProfile:kme,eventStore:Rme}})],pR=class{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Xu(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],i;for(;i=e.shift();)this.runTask(i),t.push(i);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function Pme(n,e,t){let i;return/^(year|month)$/.test(n.currentRangeUnit)?i=n.currentRange:i=n.activeRange,t.formatRange(i.start,i.end,wt(e.titleFormat||Ome(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Ome(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=uh(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var Ww=class{constructor(){this.resetListeners=new Set}handleInput(e,t){let i=this.dateEnv;if(e!==i&&(typeof t=="function"?this.nowFn=t:i||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(let r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}},fR=class{constructor(e){this.computeCurrentViewData=xe(this._computeCurrentViewData),this.organizeRawLocales=xe(jhe),this.buildLocale=xe(vq),this.buildPluginHooks=Hhe(),this.buildDateEnv=xe(Fme),this.buildTheme=xe(Lme),this.parseToolbars=xe(gme),this.buildViewSpecs=xe(Zhe),this.buildDateProfileGenerator=hh(Bme),this.buildViewApi=xe(Vme),this.buildViewUiProps=hh(Ume),this.buildEventUiBySource=xe(jme,vr),this.buildEventUiBases=xe(qme),this.parseContextBusinessHours=hh($me),this.buildTitle=xe(Pme),this.nowManager=new Ww,this.emitter=new Wa,this.actionRunner=new pR(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=_=>{this.actionRunner.request(_)},this.props=e,this.actionRunner.pause(),this.nowManager=new Ww;let t={},i=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,o=this.computeCurrentViewData(r,i,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let s={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=tme(i.calendarOptions,i.dateEnv,this.nowManager),l=o.dateProfileGenerator.build(a);So(l.activeRange,a)||(a=l.currentRange.start);for(let _ of i.pluginHooks.contextInit)_(s);let c=rme(i.calendarOptions,l,s),d={dynamicOptionOverrides:t,currentViewType:r,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:c,eventUiBases:{},eventStore:Fi(),renderableEventStore:Fi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},m=Object.assign(Object.assign({},s),d);for(let _ of i.pluginHooks.reducers)Object.assign(d,_(null,null,m));cR(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:i}=this;t===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:i,emitter:r}=this,o=nme(i.dynamicOptionOverrides,e),s=this.computeOptionsData(t.optionOverrides,o,t.calendarApi),a=Khe(i.currentViewType,e),l=this.computeCurrentViewData(a,s,t.optionOverrides,o);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:m}=i;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(m=l.dateProfileGenerator.build(d)),d=eme(d,e),m=ime(m,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!So(m.currentRange,d))&&(d=m.currentRange.start);let _=ome(i.eventSources,e,m,c),y=L6(i.eventStore,e,_,m,c),T=_q(_)&&!l.options.progressiveEventRendering&&i.renderableEventStore||y,{eventUiSingleBase:I,selectionConfig:M}=this.buildViewUiProps(c),U=this.buildEventUiBySource(_),W=this.buildEventUiBases(T.defs,I,U),N={dynamicOptionOverrides:o,currentViewType:a,currentDate:d,dateProfile:m,eventSources:_,eventStore:y,renderableEventStore:T,selectionConfig:M,eventUiBases:W,businessHours:this.parseContextBusinessHours(c),dateSelection:pme(i.dateSelection,e),eventSelection:fme(i.eventSelection,e),eventDrag:hme(i.eventDrag,e),eventResize:mme(i.eventResize,e)},X=Object.assign(Object.assign({},c),N);for(let Ce of s.pluginHooks.reducers)Object.assign(N,Ce(i,e,X));let Y=cR(i,c),ve=cR(N,c);!Y&&ve?r.trigger("loading",!0):Y&&!ve&&r.trigger("loading",!1),this.state=N,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,i=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,o.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),o),t),a=r.pluginHooks.optionChangeHandlers,l=i&&i.calendarOptions,c=r.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(t.eventSources=s.eventSources=sme(s.eventSources,t.dateProfile,s),t.eventStore=s.eventStore=Wk(s.eventStore,i.dateEnv,s.dateEnv),t.renderableEventStore=s.renderableEventStore=Wk(s.renderableEventStore,i.dateEnv,s.dateEnv));for(let d in a)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==c[d])&&a[d](c[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:o,localeDefaults:s,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,t);hq(l);let c=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,o,a,r.defaultRangeSeparator),d=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),m=this.buildTheme(r,o),_=this.parseToolbars(r,this.stableOptionOverrides,m,d,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:o,dateEnv:c,viewSpecs:d,theme:m,toolbarConfig:_,localeDefaults:s,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:i,locale:r}=Rw([nc,e,t]),o=this.organizeRawLocales(i),s=o.map,a=this.buildLocale(r||o.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],Nme),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pk),Ok),Fk),l.listenerRefiners),l.optionRefiners),d={},m=Rw([nc,a,e,t]),_={},y=this.currentCalendarOptionsInput,w=this.currentCalendarOptionsRefined,T=!1;for(let I in m)this.optionsForRefining.indexOf(I)===-1&&(m[I]===y[I]||ic[I]&&I in y&&ic[I](y[I],m[I]))?_[I]=w[I]:c[I]?(_[I]=c[I](m[I]),T=!0):d[I]=y[I];return T&&(this.currentCalendarOptionsInput=m,this.currentCalendarOptionsRefined=_,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:o,localeDefaults:a,extra:d}}_computeCurrentViewData(e,t,i,r){let o=t.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:a}=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,i,r);hq(a),this.nowManager.handleInput(t.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:o,options:s,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,t,i,r,o){let s=Rw([nc,e.optionDefaults,i,r,e.optionOverrides,o]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pk),Ok),Fk),A6),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,m=!1,_={};for(let y in s)s[y]===c[y]||ic[y]&&ic[y](s[y],c[y])?l[y]=d[y]:(s[y]===this.currentCalendarOptionsInput[y]||ic[y]&&ic[y](s[y],this.currentCalendarOptionsInput[y])?y in this.currentCalendarOptionsRefined&&(l[y]=this.currentCalendarOptionsRefined[y]):a[y]?l[y]=a[y](s[y]):_[y]=s[y],m=!0);return m&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:_}}};function Fme(n,e,t,i,r,o,s,a){let l=vq(e||s.defaultCode,s.map);return new mv({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:i,weekText:r,cmdFormatter:o.cmdFormatter,defaultSeparator:a})}function Lme(n,e){let t=e.themeClasses[n.themeSystem]||ra;return new t(n)}function Bme(n){let e=n.dateProfileGeneratorClass||Ju;return new e(n)}function Vme(n,e,t){return new dR(n,e,t)}function jme(n){return Eo(n,e=>e.ui)}function qme(n,e,t){let i={"":e};for(let r in n){let o=n[r];o.sourceId&&t[o.sourceId]&&(i[r]=t[o.sourceId])}return i}function Ume(n){let{options:e}=n;return{eventUiSingleBase:gh({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:gh({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function cR(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function $me(n){return Gk(n.options.businessHours,n)}function hq(n,e){for(let t in n)console.warn(`Unknown option '${t}'`+(e?` for view '${e}'`:""))}var hR=class extends at{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return O("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:i}=this.context,r=[],o=!0;for(let s of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:d,buttonHint:m}=s;if(a==="title")o=!1,r.push(O("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let _=a===t.activeButton,y=!t.isTodayEnabled&&a==="today"||!t.isPrevEnabled&&a==="prev"||!t.isNextEnabled&&a==="next",w=[`fc-${a}-button`,i.getClass("button")];_&&w.push(i.getClass("buttonActive")),r.push(O("button",{type:"button",title:typeof m=="function"?m(t.navUnit):m,disabled:y,"aria-pressed":_,className:w.join(" "),onClick:l},c||(d?O("span",{className:d,role:"img"}):"")))}}if(r.length>1){let s=o&&i.getClass("buttonGroup")||"";return O("div",{className:s},...r)}return r[0]}},Gw=class extends at{render(){let{model:e,extraClassName:t}=this.props,i=!1,r,o,s=e.sectionWidgets,a=s.center;return s.left?(i=!0,r=s.left):r=s.start,s.right?(i=!0,o=s.right):o=s.end,O("div",{className:[t||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",a||[]),this.renderSection("end",o||[]))}renderSection(e,t){let{props:i}=this;return O(hR,{key:e,widgetGroups:t,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}},mR=class extends at{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Wr(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:i}=e,r=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",s="";return i?t.availableWidth!==null?o=t.availableWidth/i:s=`${1/i*100}%`:o=e.height||"",O("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:o,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},gR=class extends os{constructor(e){super(e),this.handleSegClick=(t,i)=>{let{component:r}=this,{context:o}=r,s=Ya(i);if(s&&r.isValidSegDownEl(t.target)){let a=jn(t.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:i,event:new Ht(r.context,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=Ck(e.el,"click",".fc-event",this.handleSegClick)}},vR=class extends os{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,i)=>{Ya(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",t,i))},this.handleSegLeave=(t,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,i))},this.removeHoverListeners=y6(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,i){let{component:r}=this,{context:o}=r,s=Ya(i);(!t||r.isValidSegDownEl(t.target))&&o.emitter.trigger(e,{el:i,event:new Ht(o,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi})}},yR=class extends Fv{constructor(){super(...arguments),this.buildViewContext=xe(R6),this.buildViewPropTransformers=xe(zme),this.buildToolbarProps=xe(Hme),this.headerRef=Dn(),this.footerRef=Dn(),this.interactionsStore={},this.state={viewLabelId:Do()},this.registerInteractiveComponent=(e,t)=>{let i=$6(e,t),s=[gR,vR].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(i));this.interactionsStore[e.uid]=s,yh[e.uid]=i},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let i of t)i.destroy();delete this.interactionsStore[e.uid]}delete yh[e.uid]},this.resizeRunner=new Xu(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:i}=e,r=!1,o="",s;e.isHeightAuto||e.forPrint?o="":i.height!=null?r=!0:i.contentHeight!=null?o=i.contentHeight:s=Math.max(i.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return O(Ao.Provider,{value:a},O(as,{unit:"day"},c=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return O(dt,null,t.header&&O(Gw,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:l},d)),O(mR,{liquid:r,height:o,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),t.footer&&O(Gw,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let i in t)t[i](e[i],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:i}=t.pluginHooks;for(let r in i)t[r]!==e[r]&&i[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(i=>i(e));return O(dt,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:i}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(t.viewPropsTransformers);for(let a of o)Object.assign(r,a.transform(r,e));let s=i.component;return O(s,Object.assign({},r))}};function Hme(n,e,t,i,r,o){let s=t.build(r,void 0,!1),a=t.buildPrev(e,i,!1),l=t.buildNext(e,i,!1);return{title:o,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:s.isValid&&!So(e.currentRange,r),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function zme(n){return n.map(e=>new e)}var Qw=class extends xv{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;gv(()=>{Wl(O(Cv,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,o,s,a)=>(this.setClassNames(r),this.setHeight(o),O(Vk.Provider,{value:this.customContentRenderId},O(yR,Object.assign({isHeightAuto:s,forPrint:a},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Wl(null,this.el),this.setClassNames([]),this.setHeight(""))},h6(e),this.el=e,this.renderRunner=new Xu(this.handleRenderRequest),new fR({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){gv(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!ea(e,this.currentClassNames)){let{classList:t}=this.el;for(let i of this.currentClassNames)t.remove(i);for(let i of e)t.add(i);this.currentClassNames=e}}setHeight(e){bk(this.el,"height",e)}};var Gme=["*"],Qme=["rootEl"],wh=n=>({$implicit:n});function Yme(n,e){if(n&1&&(p(0,"div",2,0),Oa(2,3),f()),n&2){let t=b();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),u(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Jn(4,wh,t.renderProps))}}function Zme(n,e){if(n&1&&(p(0,"span",2,0),Oa(2,3),f()),n&2){let t=b();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),u(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Jn(4,wh,t.renderProps))}}function Xme(n,e){if(n&1&&(p(0,"a",2,0),Oa(2,3),f()),n&2){let t=b();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),u(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Jn(4,wh,t.renderProps))}}function Jme(n,e){if(n&1&&(p(0,"tr",2,0),Oa(2,3),f()),n&2){let t=b();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),u(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Jn(4,wh,t.renderProps))}}function Kme(n,e){if(n&1&&(p(0,"th",2,0),Oa(2,3),f()),n&2){let t=b();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),u(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Jn(4,wh,t.renderProps))}}function ege(n,e){if(n&1&&(p(0,"td",2,0),Oa(2,3),f()),n&2){let t=b();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),u(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Jn(4,wh,t.renderProps))}}var tge=["dayHeaderContent"],nge=["dayCellContent"],ige=["weekNumberContent"],rge=["nowIndicatorContent"],oge=["eventContent"],sge=["slotLaneContent"],age=["slotLabelContent"],lge=["allDayContent"],cge=["moreLinkContent"],uge=["noEventsContent"],dge=["resourceAreaHeaderContent"],pge=["resourceGroupLabelContent"],fge=["resourceLabelContent"],hge=["resourceLaneContent"],mge=["resourceGroupLaneContent"];function gge(n,e){if(n&1&&k(0,"transport-container",1),n&2){let t=e.$implicit;A("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",t.generatorMeta)("renderProps",t.renderProps)}}var Sq={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},vge=["events","eventSources","resources"],yge=Object.prototype.hasOwnProperty;function Zw(n){return Array.isArray(n)?n.map(Zw):n instanceof Date?new Date(n.valueOf()):typeof n=="object"&&n?Dq(n,Zw):n}function Dq(n,e){let t={};for(let i in n)yge.call(n,i)&&(t[i]=e(n[i],i));return t}function CR(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,i,r;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!CR(n[i],e[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){var o=r[i];if(!CR(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}var Yw=typeof document<"u"?document.createDocumentFragment():null,_ge=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){Yw&&Yw.appendChild(this.element.nativeElement)}ngOnDestroy(){Yw&&Yw.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(we(Fn))},n.\u0275cmp=ce({type:n,selectors:[["offscreen-fragment"]],standalone:!1,ngContentSelectors:Gme,decls:1,vars:0,template:function(t,i){t&1&&(e0(),t0(0))},encapsulation:2}),n})(),xh=typeof document<"u"?document.createDocumentFragment():null,bge=(()=>{class n{ngAfterViewInit(){let t=this.rootElRef?.nativeElement;Eq(t,this.inPlaceOf),bR(t,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(t)}ngOnChanges(t){let i=this.rootElRef?.nativeElement;if(i)if(this.inPlaceOf.parentNode!==xh)Eq(i,this.inPlaceOf),bR(i,void 0,this.elAttrs),this.reportEl(i);else{let r=t.elAttrs;r&&bR(i,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===xh&&xh&&xh.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ce({type:n,selectors:[["transport-container"]],viewQuery:function(t,i){if(t&1&&_u(Qme,5),t&2){let r;cn(r=un())&&(i.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},standalone:!1,features:[Yo],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&he(0,Yme,3,6,"ng-template",1)(1,Zme,3,6,"ng-template",1)(2,Xme,3,6,"ng-template",1)(3,Jme,3,6,"ng-template",1)(4,Kme,3,6,"ng-template",1)(5,ege,3,6,"ng-template",1),t&2&&(A("ngIf",i.elTag=="div"),u(),A("ngIf",i.elTag=="span"),u(),A("ngIf",i.elTag=="a"),u(),A("ngIf",i.elTag=="tr"),u(),A("ngIf",i.elTag=="th"),u(),A("ngIf",i.elTag=="td"))},dependencies:[Ln,es,wI,SI],encapsulation:2}),n})();function Eq(n,e){e.parentNode?.insertBefore(n,e.nextSibling),xh&&xh.appendChild(e)}function bR(n,e={},t={}){for(let i in e)i in t||(n[i]=null);for(let i in t)n[i]=t[i]}var Aq=(()=>{class n{constructor(t,i){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map;let r=new Iv;r.subscribe(o=>{this.customRenderingMap=o,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=r.handle.bind(r)}ngAfterViewInit(){let{deepChangeDetection:t}=this,i=F(F({},this.options),this.buildInputOptions());this.optionSnapshot=Dq(i,(a,l)=>t&&Sq[l]?Zw(a):a);let r=this.element.nativeElement,o=this.calendar=new Qw(r,F(F({},i),this.buildExtraOptions())),s=r.closest("ion-content");s&&s.componentOnReady?s.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{o.render()})}):o.render(),setTimeout(()=>o.updateSize())}ngDoCheck(){if(this.calendar){let{deepChangeDetection:t,optionSnapshot:i}=this,r=F(F({},this.options),this.buildInputOptions()),o={},s=[];for(let l in r)if(r.hasOwnProperty(l)){let c=r[l];t&&Sq[l]?CR(i[l],c)||(i[l]=Zw(c),s.push(l)):i[l]!==c&&(i[l]=c,s.push(l)),o[l]=c}let a=Object.keys(i);for(let l of a)l in r||(delete i[l],s.push(l));s.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(F(F({},o),this.buildExtraOptions()),s))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let t={};for(let i of vge){let r=this[i];r!=null&&(t[i]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this,customRenderingReplaces:!0}}trackCustomRendering(t,i){return i.id}}return n.\u0275fac=function(t){return new(t||n)(we(Fn),we(js))},n.\u0275cmp=ce({type:n,selectors:[["full-calendar"]],contentQueries:function(t,i,r){if(t&1&&(Xn(r,tge,7),Xn(r,nge,7),Xn(r,ige,7),Xn(r,rge,7),Xn(r,oge,7),Xn(r,sge,7),Xn(r,age,7),Xn(r,lge,7),Xn(r,cge,7),Xn(r,uge,7),Xn(r,dge,7),Xn(r,pge,7),Xn(r,fge,7),Xn(r,hge,7),Xn(r,mge,7)),t&2){let o;cn(o=un())&&(i.dayHeaderContent=o.first),cn(o=un())&&(i.dayCellContent=o.first),cn(o=un())&&(i.weekNumberContent=o.first),cn(o=un())&&(i.nowIndicatorContent=o.first),cn(o=un())&&(i.eventContent=o.first),cn(o=un())&&(i.slotLaneContent=o.first),cn(o=un())&&(i.slotLabelContent=o.first),cn(o=un())&&(i.allDayContent=o.first),cn(o=un())&&(i.moreLinkContent=o.first),cn(o=un())&&(i.noEventsContent=o.first),cn(o=un())&&(i.resourceAreaHeaderContent=o.first),cn(o=un())&&(i.resourceGroupLabelContent=o.first),cn(o=un())&&(i.resourceLabelContent=o.first),cn(o=un())&&(i.resourceLaneContent=o.first),cn(o=un())&&(i.resourceGroupLaneContent=o.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},standalone:!1,decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,i){t&1&&(p(0,"offscreen-fragment"),he(1,gge,1,8,"transport-container",0),f()),t&2&&(u(),A("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[_ge,bge,Kn],encapsulation:2}),n})(),Tq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Vr({type:n}),n.\u0275inj=lr({imports:[[pe]]}),n})();var xR=class extends xi{constructor(){super(...arguments),this.headerElRef=Dn()}renderSimpleLayout(e,t){let{props:i,context:r}=this,o=[],s=ud(r.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),O(rs,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},O(Xl,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,i,r){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:s,context:a}=this,l=!s.forPrint&&ud(a.options),c=!s.forPrint&&Wv(a.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:bh}]}),O(rs,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},O(o,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:d}))}};function Jw(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.row].push(i);return t}function Xw(n,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of n)t[i.firstCol].push(i);return t}function Iq(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}var Mq=wt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function kq(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var Kw=class extends at{render(){let{props:e}=this;return O(Jl,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Mq,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},eS=class extends at{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r}=e,o=i.eventTimeFormat||Mq,s=rc(r,o,t,!0,e.defaultDisplayEventEnd);return O(Ga,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:vh(e.seg,t),defaultGenerator:xge,timeText:s,isResizing:!1,isDateSelecting:!1}))}};function xge(n){return O(dt,null,O("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&O("div",{className:"fc-event-time"},n.timeText),O("div",{className:"fc-event-title"},n.event.title||O(dt,null,"\xA0")))}var wR=class extends at{constructor(){super(...arguments),this.compileSegs=xe(wge)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return O(ad,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let r=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return O(dt,null,t.map(o=>{let s=o.eventRange.instance.instanceId;return O("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:r[s]?"hidden":""}},kq(o)?O(eS,Object.assign({seg:o,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Gr(o,e.todayRange))):O(Kw,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Gr(o,e.todayRange))))}))}})}};function wge(n){let e=[],t=[];for(let i of n)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}var Sge=wt({week:"narrow"}),SR=class extends xi{constructor(){super(...arguments),this.rootElRef=Dn(),this.state={dayNumberId:Do()},this.handleRootEl=e=>{Wr(this.rootElRef,e),Wr(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:r}=this,{options:o,dateEnv:s}=e,{date:a,dateProfile:l}=t,c=t.showDayNumber&&Dge(a,l.currentRange,s);return O(Kl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Ege,date:a,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},(d,m)=>O("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&O(Yv,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ia(e,a,"week"),date:a,defaultFormat:Sge}),!m.isDisabled&&(t.showDayNumber||Ch(o)||t.forceDayTop)?O("div",{className:"fc-daygrid-day-top"},O(d,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ia(e,a)),{id:i.dayNumberId})})):t.showDayNumber?O("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},O("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,O("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,O("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},O(wR,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),O("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function Ege(n){return n.dayNumberText||O(dt,null,"\xA0")}function Dge(n,e,t){let{start:i,end:r}=e,o=Js(r,-1),s=t.getYear(i),a=t.getMonth(i),l=t.getYear(o),c=t.getMonth(o);return!(s===l&&a===c)&&(n.valueOf()===i.valueOf()||t.getDay(n)===1&&n.valueOf()<r.valueOf())}function Rq(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function Nq(n){return Rq(n)+":"+n.lastCol}function Age(n,e,t,i,r,o,s){let a=new ER(M=>{let U=n[M.index].eventRange.instance.instanceId+":"+M.span.start+":"+(M.span.end-1);return r[U]||1});a.allowReslicing=!0,a.strictOrder=i,e===!0||t===!0?(a.maxCoord=o,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof t=="number"&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let l=[],c=[];for(let M=0;M<n.length;M+=1){let U=n[M],W=Nq(U);r[W]!=null?l.push({index:M,span:{start:U.firstCol,end:U.lastCol+1}}):c.push(U)}let d=a.addSegs(l),m=a.toRects(),{singleColPlacements:_,multiColPlacements:y,leftoverMargins:w}=Tge(m,n,s),T=[],I=[];for(let M of c){y[M.firstCol].push({seg:M,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let U=M.firstCol;U<=M.lastCol;U+=1)_[U].push({seg:Sh(M,U,U+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<s.length;M+=1)T.push(0);for(let M of d){let U=n[M.index],W=M.span;y[W.start].push({seg:Sh(U,W.start,W.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let N=W.start;N<W.end;N+=1)T[N]+=1,_[N].push({seg:Sh(U,N,N+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let M=0;M<s.length;M+=1)I.push(w[M]);return{singleColPlacements:_,multiColPlacements:y,moreCnts:T,moreMarginTops:I}}function Tge(n,e,t){let i=Ige(n,t.length),r=[],o=[],s=[];for(let a=0;a<t.length;a+=1){let l=i[a],c=[],d=0,m=0;for(let y of l){let w=e[y.index];c.push({seg:Sh(w,a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:y.levelCoord-d}),d=y.levelCoord+y.thickness}let _=[];d=0,m=0;for(let y of l){let w=e[y.index],T=y.span.end-y.span.start>1,I=y.span.start===a;m+=y.levelCoord-d,d=y.levelCoord+y.thickness,T?(m+=y.thickness,I&&_.push({seg:Sh(w,y.span.start,y.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:y.levelCoord,marginTop:0})):I&&(_.push({seg:Sh(w,y.span.start,y.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:y.levelCoord,marginTop:m}),m=0)}r.push(c),o.push(_),s.push(m)}return{singleColPlacements:r,multiColPlacements:o,leftoverMargins:s}}function Ige(n,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of n)for(let r=i.span.start;r<i.span.end;r+=1)t[r].push(i);return t}function Sh(n,e,t,i){if(n.firstCol===e&&n.lastCol===t-1)return n;let r=n.eventRange,o=r.range,s=zr(o,{start:i[e].date,end:tn(i[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:s},isStart:n.isStart&&s.start.valueOf()===o.start.valueOf(),isEnd:n.isEnd&&s.end.valueOf()===o.end.valueOf()})}var ER=class extends td{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:i}=this,r=o=>!this.forceHidden[Ks(o)];for(let o=0;o<i.length;o+=1)i[o]=i[o].filter(r);return t}handleInvalidInsertion(e,t,i){let{entriesByLevel:r,forceHidden:o}=this,{touchingEntry:s,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&s){let c=Ks(s);if(!o[c])if(this.allowReslicing){let d=Object.assign(Object.assign({},s),{span:Hv(s.span,t.span)}),m=Ks(d);o[m]=!0,r[a][l]=d,i.push(d),this.splitEntry(s,t,i)}else o[c]=!0,i.push(s)}super.handleInvalidInsertion(e,t,i)}},tS=class extends xi{constructor(){super(...arguments),this.cellElRefs=new yr,this.frameElRefs=new yr,this.fgElRefs=new yr,this.segHarnessRefs=new yr,this.rootElRef=Dn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:r}=i,o=e.cells.length,s=Xw(e.businessHourSegs,o),a=Xw(e.bgEventSegs,o),l=Xw(this.getHighlightSegs(),o),c=Xw(this.getMirrorSegs(),o),{singleColPlacements:d,multiColPlacements:m,moreCnts:_,moreMarginTops:y}=Age(cd(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),w=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return O("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((T,I)=>{let M=this.renderFgSegs(I,e.forPrint?d[I]:m[I],e.todayRange,w),U=this.renderFgSegs(I,Mge(c[I],m),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return O(SR,{key:T.key,elRef:this.cellElRefs.createRef(T.key),innerElRef:this.frameElRefs.createRef(T.key),dateProfile:e.dateProfile,date:T.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&I===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:T.extraRenderProps,extraDataAttrs:T.extraDataAttrs,extraClassNames:T.extraClassNames,extraDateSpan:T.extraDateSpan,moreCnt:_[I],moreMarginTop:y[I],singlePlacements:d[I],fgContentElRef:this.fgElRefs.createRef(T.key),fgContent:O(dt,null,O(dt,null,M),O(dt,null,U)),bgContent:O(dt,null,this.renderFillSegs(l[I],"highlight"),this.renderFillSegs(s[I],"non-business"),this.renderFillSegs(a[I],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!vr(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,r,o,s,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:d}=this.state,m=this.props.cells.length===1,_=o||s||a,y=[];if(d)for(let w of t){let{seg:T}=w,{instanceId:I}=T.eventRange.instance,M=w.isVisible&&!r[I],U=w.isAbsolute,W="",N="";U&&(l.isRtl?(N=0,W=d.lefts[T.lastCol]-d.lefts[T.firstCol]):(W=0,N=d.rights[T.firstCol]-d.rights[T.lastCol])),y.push(O("div",{className:"fc-daygrid-event-harness"+(U?" fc-daygrid-event-harness-abs":""),key:Rq(T),ref:_?null:this.segHarnessRefs.createRef(Nq(T)),style:{visibility:M?"":"hidden",marginTop:U?"":w.marginTop,top:U?w.absoluteTop:"",left:W,right:N}},kq(T)?O(eS,Object.assign({seg:T,isDragging:o,isSelected:I===c,defaultDisplayEventEnd:m},Gr(T,i))):O(Kw,Object.assign({seg:T,isDragging:o,isResizing:s,isDateSelecting:a,isSelected:I===c,defaultDisplayEventEnd:m},Gr(T,i)))))}return y}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:o}=this.state,s=[];if(o)for(let a of e){let l=i?{right:0,left:o.lefts[a.lastCol]-o.lefts[a.firstCol]}:{left:0,right:o.rights[a.firstCol]-o.rights[a.lastCol]};s.push(O("div",{key:jv(a.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?O(sd,Object.assign({seg:a},Gr(a,r))):Qv(t)))}return O(dt,{},...s)}updateSizing(e){let{props:t,state:i,frameElRefs:r}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(c=>r.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,d=new ss(c,l,!0,!1);(!i.framePositions||!i.framePositions.similarTo(d))&&this.setState({framePositions:new ss(c,l,!0,!1)})}}let o=this.state.segHeights,s=this.querySegHeights(),a=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),s),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let r=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};tS.addStateEquality({segHeights:vr});function Mge(n,e){if(!n.length)return[];let t=kge(e);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function kge(n){let e={};for(let t of n)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}var DR=class extends xi{constructor(){super(...arguments),this.splitBusinessHourSegs=xe(Jw),this.splitBgEventSegs=xe(Rge),this.splitFgEventSegs=xe(Jw),this.splitDateSelectionSegs=xe(Jw),this.splitEventDrag=xe(Iq),this.splitEventResize=xe(Iq),this.rowRefs=new yr}render(){let{props:e,context:t}=this,i=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),s=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitDateSelectionSegs(e.dateSelectionSegs,i),l=this.splitEventDrag(e.eventDrag,i),c=this.splitEventResize(e.eventResize,i),d=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return O(as,{unit:"day"},(m,_)=>O(dt,null,e.cells.map((y,w)=>O(tS,{ref:this.rowRefs.createRef(w),key:y.length?y[0].date.toISOString():w,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:_,dateProfile:e.dateProfile,cells:y,renderIntro:e.renderRowIntro,businessHourSegs:r[w],eventSelection:e.eventSelection,bgEventSegs:o[w],fgEventSegs:s[w],dateSelectionSegs:a[w],eventDrag:l[w],eventResize:c[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new ss(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new ss(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:r}=this,o=i.leftToIndex(e),s=r.topToIndex(t);if(s!=null&&o!=null){let a=this.props.cells[s][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,o),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(s,o),rect:{left:i.lefts[o],right:i.rights[o],top:r.tops[s],bottom:r.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,r=tn(i,1);return{start:i,end:r}}};function Rge(n,e){return Jw(n.filter(Nge),e)}function Nge(n){return n.eventRange.def.allDay}var AR=class extends xi{constructor(){super(...arguments),this.elRef=Dn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:r}=e,o=i===!0||t===!0;o&&!r&&(o=!1,t=null,i=null);let s=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return O("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},O("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,O("tbody",{role:"presentation"},O(DR,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=Pge(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function Pge(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${kk(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${tc(e.currentDate)}"]`)),t}var TR=class extends od{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},Zv=class extends xi{constructor(){super(...arguments),this.slicer=new TR,this.tableRef=Dn()}render(){let{props:e,context:t}=this;return O(AR,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},nS=class extends xR{constructor(){super(...arguments),this.buildDayTableModel=xe(Oge),this.headerRef=Dn(),this.tableRef=Dn()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,t),o=e.dayHeaders&&O(nd,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),s=a=>O(Zv,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,s,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,s)}};function Oge(n,e){let t=new id(n.renderRange,e);return new rd(t,/year|month|week/.test(n.currentRangeUnit))}var iS=class extends Ju{buildRenderRange(e,t,i){let r=super.buildRenderRange(e,t,i),{props:o}=this;return Fge({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}};function Fge(n){let{dateEnv:e,currentRange:t}=n,{start:i,end:r}=t,o;if(n.snapToWeek&&(i=e.startOfWeek(i),o=e.startOfWeek(r),o.valueOf()!==r.valueOf()&&(r=Mw(o,1))),n.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(tn(t.end,-1))),a=Math.ceil(Ik(s,r));r=Mw(r,6-a)}return{start:i,end:r}}var Lge=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';ec(Lge);var Pq=_r({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:nS,dateProfileGeneratorClass:iS},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});var MR=class extends wv{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Yk(e)?["timed","allDay"]:["allDay"]:["timed"]}},Bge=wt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Vq(n){let e=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return O(Ao.Consumer,null,t=>{if(!n.isLabeled)return O("td",{className:e.join(" "),"data-time":n.isoTimeStr});let{dateEnv:i,options:r,viewApi:o}=t,s=r.slotLabelFormat==null?Bge:Array.isArray(r.slotLabelFormat)?wt(r.slotLabelFormat[0]):wt(r.slotLabelFormat),a={level:0,time:n.time,date:i.toDate(n.date),view:o,text:i.format(n.date,s)};return O(qn,{elTag:"td",elClasses:e,elAttrs:{"data-time":n.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:Vge,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},l=>O("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},O(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Vge(n){return n.text}var kR=class extends at{render(){return this.props.slatMetas.map(e=>O("tr",{key:e.key},O(Vq,Object.assign({},e))))}},jge=wt({week:"short"}),qge=5,RR=class extends xi{constructor(){super(...arguments),this.allDaySplitter=new MR,this.headerElRef=Dn(),this.rootElRef=Dn(),this.scrollerElRef=Dn(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,o=r.renderRange,a=ta(o.start,o.end)===1?ia(this.context,o.start,"week"):{};return i.weekNumbers&&e==="day"?O(Yv,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:o.start,defaultFormat:jge},l=>O("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},O(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):O("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},O("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:i}=this.context,r={text:t.allDayText,view:i};return O(qn,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:Uge,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},o=>O("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},O(o,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,i){let{context:r,props:o}=this,s=[],a=ud(r.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(s.push({type:"body",key:"all-day",chunk:{content:t}}),s.push({type:"body",key:"all-day-divider",outerContent:O("tr",{role:"presentation",className:"fc-scrollgrid-section"},O("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),O(rs,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},O(Xl,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,t,i,r,o,s,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:d}=this,m=!d.forPrint&&ud(c.options),_=!d.forPrint&&Wv(c.options),y=[];e&&y.push({type:"header",key:"header",isSticky:m,syncRowHeights:!0,chunks:[{key:"axis",rowContent:T=>O("tr",{role:"presentation"},this.renderHeadAxis("day",T.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(y.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:T=>O("tr",{role:"presentation"},this.renderTableRowAxis(T.rowSyncHeights[0]))},{key:"cols",content:t}]}),y.push({key:"all-day-divider",type:"body",outerContent:O("tr",{role:"presentation",className:"fc-scrollgrid-section"},O("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let w=c.options.nowIndicator;return y.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:T=>O("div",{className:"fc-timegrid-axis-chunk"},O("table",{"aria-hidden":!0,style:{height:T.expandRows?T.clientHeight:""}},T.tableColGroupNode,O("tbody",null,O(kR,{slatMetas:s}))),O("div",{className:"fc-timegrid-now-indicator-container"},O(as,{unit:w?"minute":"day"},I=>{let M=w&&a&&a.safeComputeTop(I);return typeof M=="number"?O(Gv,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:M},isAxis:!0,date:I}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),_&&y.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:bh},{key:"cols",content:bh}]}),O(rs,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},O(l,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:o}]}],sections:y}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=qge),{dayMaxEvents:e,dayMaxEventRows:t}}};function Uge(n){return n.text}var NR=class{constructor(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}safeComputeTop(e){let{dateProfile:t}=this;if(So(t.currentRange,e)){let i=_t(e),r=e.valueOf()-i.valueOf();if(r>=Hr(t.slotMinTime)&&r<Hr(t.slotMaxTime))return this.computeTimeTop(tt(r))}return null}computeDateTop(e,t){return t||(t=_t(e)),this.computeTimeTop(tt(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:i}=this,r=t.els.length,o=(e.milliseconds-Hr(i.slotMinTime))/Hr(this.slotDuration),s,a;return o=Math.max(0,o),o=Math.min(r,o),s=Math.floor(o),s=Math.min(s,r-1),a=o-s,t.tops[s]+t.getHeight(s)*a}},PR=class extends at{render(){let{props:e,context:t}=this,{options:i}=t,{slatElRefs:r}=e;return O("tbody",null,e.slatMetas.map((o,s)=>{let a={time:o.time,date:t.dateEnv.toDate(o.date),view:t.viewApi};return O("tr",{key:o.key,ref:r.createRef(o.key)},e.axis&&O(Vq,Object.assign({},o)),O(qn,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!o.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":o.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}},OR=class extends at{constructor(){super(...arguments),this.rootElRef=Dn(),this.slatElRefs=new yr}render(){let{props:e,context:t}=this;return O("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},O("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,O(PR,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new NR(new ss(this.rootElRef.current,$ge(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};function $ge(n,e){return e.map(t=>n[t.key])}function Xv(n,e){let t=[],i;for(i=0;i<e;i+=1)t.push([]);if(n)for(i=0;i<n.length;i+=1)t[n[i].col].push(n[i]);return t}function Oq(n,e){let t=[];if(n){for(let i=0;i<e;i+=1)t[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)t[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}var FR=class extends at{render(){let{props:e}=this;return O(ad,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>jq(e.hiddenSegs,e),defaultGenerator:Hge,forceTimed:!0},t=>O(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};function Hge(n){return n.shortText}function zge(n,e,t){let i=new td;e!=null&&(i.strictOrder=e),t!=null&&(i.maxStackCnt=t);let r=i.addSegs(n),o=sR(r),s=Wge(i);return s=Zge(s,1),{segRects:Xge(s),hiddenGroups:o}}function Wge(n){let{entriesByLevel:e}=n,t=UR((i,r)=>i+":"+r,(i,r)=>{let o=Yge(n,i,r),s=Fq(o,t),a=e[i][r];return[Object.assign(Object.assign({},a),{nextLevelNodes:s[0]}),a.thickness+s[1]]});return Fq(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function Fq(n,e){if(!n)return[[],0];let{level:t,lateralStart:i,lateralEnd:r}=n,o=i,s=[];for(;o<r;)s.push(e(t,o)),o+=1;return s.sort(Gge),[s.map(Qge),s[0][1]]}function Gge(n,e){return e[1]-n[1]}function Qge(n){return n[0]}function Yge(n,e,t){let{levelCoords:i,entriesByLevel:r}=n,o=r[e][t],s=i[e]+o.thickness,a=i.length,l=e;for(;l<a&&i[l]<s;l+=1);for(;l<a;l+=1){let c=r[l],d,m=Av(c,o.span.start,Dv),_=m[0]+m[1],y=_;for(;(d=c[y])&&d.span.start<o.span.end;)y+=1;if(_<y)return{level:l,lateralStart:_,lateralEnd:y}}return null}function Zge(n,e){let t=UR((i,r,o)=>Ks(i),(i,r,o)=>{let{nextLevelNodes:s,thickness:a}=i,l=a+o,c=a/l,d,m=[];if(!s.length)d=e;else for(let y of s)if(d===void 0){let w=t(y,r,l);d=w[0],m.push(w[1])}else{let w=t(y,d,0);m.push(w[1])}let _=(d-r)*c;return[d-_,Object.assign(Object.assign({},i),{thickness:_,nextLevelNodes:m})]});return n.map(i=>t(i,0,0)[1])}function Xge(n){let e=[],t=UR((r,o,s)=>Ks(r),(r,o,s)=>{let a=Object.assign(Object.assign({},r),{levelCoord:o,stackDepth:s,stackForward:0});return e.push(a),a.stackForward=i(r.nextLevelNodes,o+r.thickness,s+1)+1});function i(r,o,s){let a=0;for(let l of r)a=Math.max(t(l,o,s),a);return a}return i(n,0,0),e}function UR(n,e){let t={};return(...i)=>{let r=n(...i);return r in t?t[r]:t[r]=e(...i)}}function Lq(n,e,t=null,i=0){let r=[];if(t)for(let o=0;o<n.length;o+=1){let s=n[o],a=t.computeDateTop(s.start,e),l=Math.max(a+(i||0),t.computeDateTop(s.end,e));r.push({start:Math.round(a),end:Math.round(l)})}return r}function Jge(n,e,t,i){let r=[],o=[];for(let c=0;c<n.length;c+=1){let d=e[c];d?r.push({index:c,thickness:1,span:d}):o.push(n[c])}let{segRects:s,hiddenGroups:a}=zge(r,t,i),l=[];for(let c of s)l.push({seg:n[c.index],rect:c});for(let c of o)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:a}}var Kge=wt({hour:"numeric",minute:"2-digit",meridiem:!1}),rS=class extends at{render(){return O(Jl,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Kge}))}},LR=class extends at{constructor(){super(...arguments),this.sortEventSegs=xe(cd)}render(){let{props:e,context:t}=this,{options:i}=t,r=i.selectMirror,o=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return O(Kl,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>O("div",{className:"fc-timegrid-col-frame"},O("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),O("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,s,!1,!1,!1)),O("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,{},!!e.eventDrag,!!e.eventResize,!!r,"mirror")),O("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Ch(i)&&O(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,i,r,o,s){let{props:a}=this;return a.forPrint?jq(e,a):this.renderPositionedFgSegs(e,t,i,r,o,s)}renderPositionedFgSegs(e,t,i,r,o,s){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:d}=this.context.options,{date:m,slatCoords:_,eventSelection:y,todayRange:w,nowDate:T}=this.props,I=i||r||o,M=Lq(e,m,_,d),{segPlacements:U,hiddenGroups:W}=Jge(e,M,c,a);return O(dt,null,this.renderHiddenGroups(W,e),U.map(N=>{let{seg:X,rect:Y}=N,ve=X.eventRange.instance.instanceId,Ce=I||!!(!t[ve]&&Y),gt=IR(Y&&Y.span),Pt=!I&&Y?this.computeSegHStyle(Y):{left:0,right:0},fn=!!Y&&Y.stackForward>0,Kt=!!Y&&Y.span.end-Y.span.start<l;return O("div",{className:"fc-timegrid-event-harness"+(fn?" fc-timegrid-event-harness-inset":""),key:s||ve,style:Object.assign(Object.assign({visibility:Ce?"":"hidden"},gt),Pt)},O(rS,Object.assign({seg:X,isDragging:i,isResizing:r,isDateSelecting:o,isSelected:ve===y,isShort:Kt},Gr(X,w,T))))}))}renderHiddenGroups(e,t){let{extraDateSpan:i,dateProfile:r,todayRange:o,nowDate:s,eventSelection:a,eventDrag:l,eventResize:c}=this.props;return O(dt,null,e.map(d=>{let m=IR(d.span),_=e0e(d.entries,t);return O(FR,{key:kw(zw(_)),hiddenSegs:_,top:m.top,bottom:m.bottom,extraDateSpan:i,dateProfile:r,todayRange:o,nowDate:s,eventSelection:a,eventDrag:l,eventResize:c})}))}renderFillSegs(e,t){let{props:i,context:r}=this,s=Lq(e,i.date,i.slatCoords,r.options.eventMinHeight).map((a,l)=>{let c=e[l];return O("div",{key:jv(c.eventRange),className:"fc-timegrid-bg-harness",style:IR(a)},t==="bg-event"?O(sd,Object.assign({seg:c},Gr(c,i.todayRange,i.nowDate))):Qv(t))});return O(dt,null,s)}renderNowIndicator(e){let{slatCoords:t,date:i}=this.props;return t?e.map((r,o)=>O(Gv,{key:o,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:t,options:i}=this.context,r=i.slotEventOverlap,o=e.levelCoord,s=e.levelCoord+e.thickness,a,l;r&&(s=Math.min(1,o+(s-o)*2)),t?(a=1-s,l=o):(a=o,l=1-s);let c={zIndex:e.stackDepth+1,left:a*100+"%",right:l*100+"%"};return r&&!e.stackForward&&(c[t?"marginLeft":"marginRight"]=20),c}};function jq(n,{todayRange:e,nowDate:t,eventSelection:i,eventDrag:r,eventResize:o}){let s=(r?r.affectedInstances:null)||(o?o.affectedInstances:null)||{};return O(dt,null,n.map(a=>{let l=a.eventRange.instance.instanceId;return O("div",{key:l,style:{visibility:s[l]?"hidden":""}},O(rS,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===i,isShort:!1},Gr(a,e,t))))}))}function IR(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}function e0e(n,e){return n.map(t=>e[t.index])}var BR=class extends at{constructor(){super(...arguments),this.splitFgEventSegs=xe(Xv),this.splitBgEventSegs=xe(Xv),this.splitBusinessHourSegs=xe(Xv),this.splitNowIndicatorSegs=xe(Xv),this.splitDateSelectionSegs=xe(Xv),this.splitEventDrag=xe(Oq),this.splitEventResize=xe(Oq),this.rootElRef=Dn(),this.cellElRefs=new yr}render(){let{props:e,context:t}=this,i=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,o=this.splitFgEventSegs(e.fgEventSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitBusinessHourSegs(e.businessHourSegs,r),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),c=this.splitDateSelectionSegs(e.dateSelectionSegs,r),d=this.splitEventDrag(e.eventDrag,r),m=this.splitEventResize(e.eventResize,r);return O("div",{className:"fc-timegrid-cols",ref:this.rootElRef},O("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,O("tbody",{role:"presentation"},O("tr",{role:"row"},e.axis&&O("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},O("div",{className:"fc-timegrid-col-frame"},O("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&O(Gv,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((_,y)=>O(LR,{key:_.key,elRef:this.cellElRefs.createRef(_.key),dateProfile:e.dateProfile,date:_.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:_.extraRenderProps,extraDataAttrs:_.extraDataAttrs,extraClassNames:_.extraClassNames,extraDateSpan:_.extraDateSpan,fgEventSegs:o[y],bgEventSegs:s[y],businessHourSegs:a[y],nowIndicatorSegs:l[y],dateSelectionSegs:c[y],eventDrag:d[y],eventResize:m[y],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new ss(this.rootElRef.current,t0e(this.cellElRefs.currentMap,e.cells),!0,!1))}};function t0e(n,e){return e.map(t=>n[t.key])}var VR=class extends xi{constructor(){super(...arguments),this.processSlotOptions=xe(n0e),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(e.time){let r=i.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return O("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},O(OR,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),O(BR,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:i,options:r}=this.context,{colCoords:o}=this,{dateProfile:s}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),d=o.leftToIndex(e),m=a.positions.topToIndex(t);if(d!=null&&m!=null){let _=this.props.cells[d],y=a.positions.tops[m],w=a.positions.getHeight(m),T=(t-y)/w,I=Math.floor(T*c),M=m*c+I,U=this.props.cells[d].date,W=Pv(s.slotMinTime,Tk(l,M)),N=i.add(U,W),X=i.add(N,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:N,end:X},allDay:!1},_.extraDateSpan),dayEl:o.els[d],rect:{left:o.lefts[d],right:o.rights[d],top:y,bottom:y+w},layer:0}}return null}};function n0e(n,e){let t=e||n,i=Ov(n,t);return i===null&&(t=n,i=1),{snapDuration:t,snapsPerSlot:i}}var jR=class extends od{sliceRange(e,t){let i=[];for(let r=0;r<t.length;r+=1){let o=zr(e,t[r]);o&&i.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:r})}return i}},qR=class extends xi{constructor(){super(...arguments),this.buildDayRanges=xe(i0e),this.slicer=new jR,this.timeColsRef=Dn()}render(){let{props:e,context:t}=this,{dateProfile:i,dayTableModel:r}=e,{nowIndicator:o,nextDayThreshold:s}=t.options,a=this.buildDayRanges(r,i,t.dateEnv);return O(as,{unit:o?"minute":"day"},(l,c)=>O(VR,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:o&&this.slicer.sliceNowDate(l,i,s,t,a),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};function i0e(n,e,t){let i=[];for(let r of n.headerDates)i.push({start:t.add(r,e.slotMinTime),end:t.add(r,e.slotMaxTime)});return i}var Bq=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function r0e(n,e,t,i,r){let o=new Date(0),s=n,a=tt(0),l=t||o0e(i),c=[];for(;Hr(s)<Hr(e);){let d=r.add(o,s),m=Ov(a,l)!==null;c.push({date:d,time:s,key:d.toISOString(),isoTimeStr:Rk(d),isLabeled:m}),s=Pv(s,i),a=Pv(a,i)}return c}function o0e(n){let e,t,i;for(e=Bq.length-1;e>=0;e-=1)if(t=tt(Bq[e]),i=Ov(t,n),i!==null&&i>1)return t;return n}var oS=class extends RR{constructor(){super(...arguments),this.buildTimeColsModel=xe(s0e),this.buildSlatMetas=xe(r0e)}render(){let{options:e,dateEnv:t,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:o}=r,s=this.buildTimeColsModel(o,i),a=this.allDaySplitter.splitProps(r),l=this.buildSlatMetas(o.slotMinTime,o.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,d=!c,m=c,_=e.dayHeaders&&O(nd,{dates:s.headerDates,dateProfile:o,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),y=e.allDaySlot!==!1&&(T=>O(Zv,Object.assign({},a.allDay,{dateProfile:o,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:T.tableMinWidth,colGroupNode:T.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:T.clientWidth,clientHeight:T.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),w=T=>O(qR,Object.assign({},a.timed,{dayTableModel:s,dateProfile:o,axis:d,slotDuration:e.slotDuration,slatMetas:l,forPrint:r.forPrint,tableColGroupNode:T.tableColGroupNode,tableMinWidth:T.tableMinWidth,clientWidth:T.clientWidth,clientHeight:T.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:T.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return m?this.renderHScrollLayout(_,y,w,s.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(_,y,w)}};function s0e(n,e){let t=new id(n.renderRange,e);return new rd(t,!1)}var a0e='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';ec(a0e);var l0e={allDaySlot:Boolean},qq=_r({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:l0e,views:{timeGrid:{component:oS,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});zv.touchMouseIgnoreWait=500;var $R=0,sS=0,HR=!1,aS=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&c0e(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,u0e()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=e,this.emitter=new Wa,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),d0e()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),p0e()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||jn(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){HR=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?jn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return $R||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(HR=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:r}}createEventFromTouch(e,t){let i=e.touches,r,o,s=0,a=0;return i&&i.length?(r=i[0].pageX,o=i[0].pageY):(r=e.pageX,o=e.pageY),t?(this.origPageX=r,this.origPageY=o):(s=r-this.origPageX,a=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:o,deltaX:s,deltaY:a}}};function c0e(n){return n.button===0&&!n.ctrlKey}function u0e(){$R+=1,setTimeout(()=>{$R-=1},zv.touchMouseIgnoreWait)}function d0e(){sS+=1,sS===1&&window.addEventListener("touchmove",$q,{passive:!1})}function p0e(){sS-=1,sS||window.removeEventListener("touchmove",$q,{passive:!1})}function $q(n){HR&&n.preventDefault()}var zR=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",ld(i,{left:r.left,top:r.top}),xk(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(Mv(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ld(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),ld(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}},lS=class extends ed{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},cS=class extends lS{constructor(e,t){super(new Sv(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return oR(this.scrollController.el)}},WR=class extends lS{constructor(e){super(new Ev,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},Uq=typeof performance=="function"?performance.now:Date.now,GR=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=Uq();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,r=t-window.scrollY,o=this.pointerScreenY===null?0:r-this.pointerScreenY,s=this.pointerScreenX===null?0:i-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Uq()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:r}=this,o=r-e.distance,s=o*o/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":i.setScrollLeft(i.getScrollLeft()+s*a);break;case"top":a=-1;case"bottom":i.setScrollTop(i.getScrollTop()+s*a);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,r=null,o=this.scrollCaches||[];for(let s of o){let a=s.clientRect,l=e-a.left,c=a.right-e,d=t-a.top,m=a.bottom-t;l>=0&&c>=0&&d>=0&&m>=0&&(d<=i&&this.everMovedUp&&s.canScrollUp()&&(!r||r.distance>d)&&(r={scrollCache:s,name:"top",distance:d}),m<=i&&this.everMovedDown&&s.canScrollDown()&&(!r||r.distance>m)&&(r={scrollCache:s,name:"bottom",distance:m}),l<=i&&this.everMovedLeft&&s.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:s,name:"left",distance:l}),c<=i&&this.everMovedRight&&s.canScrollRight()&&(!r||r.distance>c)&&(r={scrollCache:s,name:"right",distance:c}))}return r}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new WR(!1):new cS(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}},dd=class extends Tv{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,wk(document.body),Ek(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let o=this.minDistance,s,{deltaX:a,deltaY:l}=r;s=a*a+l*l,s>=o*o&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,Sk(document.body),Dk(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new aS(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new zR,this.autoScroller=new GR}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},QR=class{constructor(e){this.el=e,this.origRect=$v(e),this.scrollCaches=$w(e).map(t=>new cS(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let r of this.scrollCaches)if(!f0e(r.getEventTarget())&&!tR(i,r.clientRect))return!1;return!0}};function f0e(n){let e=n.tagName;return e==="HTML"||e==="BODY"}var Eh=class{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Wa}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,r=e.subjectEl,o;r instanceof HTMLElement&&(o=$v(r),i=nR(i,o));let s=this.initialHit=this.queryHitForOffset(i.left,i.top);if(s){if(this.useSubjectCenter&&o){let a=Uw(o,s.rect);a&&(i=iR(a))}this.coordAdjust=rR(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!uS(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=Eo(this.droppableStore,e=>(e.component.prepareHits(),new QR(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:r}=this,o=null;for(let s in i){let a=i[s].component,l=r[s];if(l&&l.isWithinClipping(e,t)){let c=l.computeLeft(),d=l.computeTop(),m=e-c,_=t-d,{origRect:y}=l,w=y.right-y.left,T=y.bottom-y.top;if(m>=0&&m<w&&_>=0&&_<T){let I=a.queryHit(m,_,w,T);I&&mh(I.dateProfile.activeRange,I.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(m+c-window.scrollX,_+d-window.scrollY)))&&(!o||I.layer>o.layer)&&(I.componentId=s,I.context=a.context,I.rect.left+=c,I.rect.right+=c,I.rect.top+=d,I.rect.bottom+=d,o=I)}}}return o}};function uS(n,e){return!n&&!e?!0:!!n!=!!e?!1:Zk(n.dateSpan,e.dateSpan)}function Hq(n,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(n,e));return Object.assign(t,h0e(n,e.dateEnv)),t}function h0e(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}var YR=class extends os{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:r}=this,o=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:s,finalHit:a}=this.hitDragging;if(s&&a&&uS(s,a)){let{context:l}=r,c=Object.assign(Object.assign({},Hq(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:i.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new dd(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Eh(this.dragging,qv(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},ZR=class extends os{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:a,dragging:l}=this,{options:c}=a.context,d=c.selectable&&a.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!d),l.delay=s.isTouch?m0e(a):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,a)=>{let{context:l}=this.component,c=null,d=!1;if(s){let m=this.hitDragging.initialHit;s.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,s)||(c=g0e(m,s,l.pluginHooks.dateSelectionTransformers)),(!c||!aR(c,s.dateProfile,l))&&(d=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),d?Rv():Nv(),a||(this.dragSelection=c)},this.handlePointerUp=s=>{this.dragSelection&&(qw(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,r=this.dragging=new dd(e.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let o=this.hitDragging=new Eh(this.dragging,qv(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function m0e(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function g0e(n,e,t){let i=n.dateSpan,r=e.dateSpan,o=[i.range.start,i.range.end,r.range.start,r.range.end];o.sort(Ak);let s={};for(let a of t){let l=a(n,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:o[0],end:o[3]},s.allDay=i.allDay,s}var zq=(()=>{class n extends os{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:c,dragging:d}=this,{mirror:m}=d,{options:_}=c.context,y=c.context;this.subjectEl=a.subjectEl;let w=this.subjectSeg=Ya(a.subjectEl),I=(this.eventRange=w.eventRange).instance.instanceId;this.relevantEvents=Bv(y.getCurrentData().eventStore,I),d.minDistance=a.isTouch?0:_.eventDragMinDistance,d.delay=a.isTouch&&I!==c.props.eventSelection?y0e(c):null,_.fixedMirrorParent?m.parentNode=_.fixedMirrorParent:m.parentNode=jn(l,".fc"),m.revertDuration=_.dragRevertDuration;let M=c.isValidSegDownEl(l)&&!jn(l,".fc-event-resizer");d.setIgnoreMove(!M),this.isDragging=M&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,c=this.eventRange,d=c.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ht(l,c.def,c.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,d=this.hitDragging.initialHit,m=this.component.context,_=null,y=null,w=null,T=!1,I={affectedEvents:c,mutatedEvents:Fi(),isEvent:!0};if(a){_=a.context;let M=_.options;m===_||M.editable&&M.droppable?(y=v0e(d,a,this.eventRange.instance.range.start,_.getCurrentData().pluginHooks.eventDragMutationMassagers),y&&(w=Vv(c,_.getCurrentData().eventUiBases,y,_),I.mutatedEvents=w,Hw(I,a.dateProfile,_)||(T=!0,y=null,w=null,I.mutatedEvents=Fi()))):_=null}this.displayDrag(_,I),T?Rv():Nv(),l||(m===_&&uS(d,a)&&(y=null),this.dragging.setMirrorNeedsRevert(!y),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=_,this.validMutation=y,this.mutatedRelevantEvents=w)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:d,validMutation:m}=this,_=this.eventRange.def,y=this.eventRange.instance,w=new Ht(l,_,y),T=this.relevantEvents,I=this.mutatedRelevantEvents,{finalHit:M}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:w,jsEvent:a.origEvent,view:c}),m){if(d===l){let U=new Ht(l,I.defs[_.defId],y?I.instances[y.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:I});let W={oldEvent:w,event:U,relatedEvents:na(I,l,y),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:T})}},N={};for(let X of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(N,X(m,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},W),N),{el:a.subjectEl,delta:m.datesDelta,jsEvent:a.origEvent,view:c})),l.emitter.trigger("eventChange",W)}else if(d){let U={event:w,relatedEvents:na(T,l,y),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:T})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},U),{draggedEl:a.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:T}),l.emitter.trigger("eventRemove",U);let W=I.defs[_.defId],N=I.instances[y.instanceId],X=new Ht(d,W,N);d.dispatch({type:"MERGE_EVENTS",eventStore:I});let Y={event:X,relatedEvents:na(I,d,N),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:I})}};d.emitter.trigger("eventAdd",Y),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:y.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},Hq(M.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:M.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},Y),{draggedEl:a.subjectEl,view:M.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:r}=i.context,o=this.dragging=new dd(t.el);o.pointer.selector=n.SELECTOR,o.touchScrollAllowed=!1,o.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Eh(this.dragging,yh);s.useSubjectCenter=t.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let r=this.component.context,o=this.receivingContext;o&&o!==t&&(o===r?o.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:Fi(),isEvent:!0}}):o.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();function v0e(n,e,t,i){let r=n.dateSpan,o=e.dateSpan,s=r.range.start,a=o.range.start,l={};r.allDay!==o.allDay&&(l.allDay=o.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,o.allDay?s=_t(t):s=t);let c=Zl(s,a,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let m of i)m(d,n,e);return d}function y0e(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}var XR=class extends os{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:s}=this,a=this.querySegEl(o),l=Ya(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=o=>{let{context:s}=this.component,a=this.eventRange;this.relevantEvents=Bv(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(o);this.draggingSegEl=l,this.draggingSeg=Ya(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new Ht(s,a.def,a.instance),jsEvent:o.origEvent,view:s.viewApi})},this.handleHitUpdate=(o,s,a)=>{let{context:l}=this.component,c=this.relevantEvents,d=this.hitDragging.initialHit,m=this.eventRange.instance,_=null,y=null,w=!1,T={affectedEvents:c,mutatedEvents:Fi(),isEvent:!0};o&&(o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(_=_0e(d,o,a.subjectEl.classList.contains("fc-event-resizer-start"),m.range))),_&&(y=Vv(c,l.getCurrentData().eventUiBases,_,l),T.mutatedEvents=y,Hw(T,o.dateProfile,l)||(w=!0,_=null,y=null,T.mutatedEvents=null)),y?l.dispatch({type:"SET_EVENT_RESIZE",state:T}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),w?Rv():Nv(),s||(_&&uS(d,o)&&(_=null),this.validMutation=_,this.mutatedRelevantEvents=y)},this.handleDragEnd=o=>{let{context:s}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new Ht(s,a,l),d=this.relevantEvents,m=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:o.origEvent,view:s.viewApi}),this.validMutation){let _=new Ht(s,m.defs[a.defId],l?m.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:m});let y={oldEvent:c,event:_,relatedEvents:na(m,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},y),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||tt(0),endDelta:this.validMutation.endDelta||tt(0),jsEvent:o.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",y)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new dd(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new Eh(this.dragging,qv(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return jn(e.subjectEl,".fc-event")}};function _0e(n,e,t,i){let r=n.context.dateEnv,o=n.dateSpan.range.start,s=e.dateSpan.range.start,a=Zl(o,s,r,n.largeUnit);if(t){if(r.add(i.start,a)<i.end)return{startDelta:a}}else if(r.add(i.end,a)>i.start)return{endDelta:a};return null}var JR=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,o=Iw(i.origEvent);this.matchesCancel=!!jn(o,r),this.matchesEvent=!!jn(o,zq.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:o}=this,s=r.getCurrentData();if(!o.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let a=r.options.unselectAuto;a&&(!a||!this.matchesCancel)&&r.calendarApi.unselect(i)}s.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new aS(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},b0e={fixedMirrorParent:z},C0e={dateClick:z,eventDragStart:z,eventDragStop:z,eventDrop:z,eventResizeStart:z,eventResizeStop:z,eventResize:z,drop:z,eventReceive:z,eventLeave:z};zv.dataAttrPrefix="";var Wq=_r({name:"@fullcalendar/interaction",componentInteractions:[YR,ZR,zq,XR],calendarInteractions:[JR],elementDraggingImpl:dd,optionRefiners:b0e,listenerRefiners:C0e});var KR=class extends at{constructor(){super(...arguments),this.state={textId:Do()}}render(){let{theme:e,dateEnv:t,options:i,viewApi:r}=this.context,{cellId:o,dayDate:s,todayRange:a}=this.props,{textId:l}=this.state,c=Uv(s,a),d=i.listDayFormat?t.format(s,i.listDayFormat):"",m=i.listDaySideFormat?t.format(s,i.listDaySideFormat):"",_=Object.assign({date:t.toDate(s),view:r,textId:l,text:d,sideText:m,navLinkAttrs:ia(this.context,s),sideNavLinkAttrs:ia(this.context,s,"day",!1)},c);return O(qn,{elTag:"tr",elClasses:["fc-list-day",..._h(c,e)],elAttrs:{"data-date":tc(s)},renderProps:_,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:x0e,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},y=>O("th",{scope:"colgroup",colSpan:3,id:o,"aria-labelledby":l},O(y,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}};function x0e(n){return O(dt,null,n.text&&O("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&O("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}var w0e=wt({hour:"numeric",minute:"2-digit",meridiem:"short"}),eN=class extends at{render(){let{props:e,context:t}=this,{options:i}=t,{seg:r,timeHeaderId:o,eventHeaderId:s,dateHeaderId:a}=e,l=i.eventTimeFormat||w0e;return O(Ga,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>S0e(r,t),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(c,d)=>O(dt,null,E0e(r,l,t,o,a),O("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},O("span",{className:"fc-list-event-dot",style:{borderColor:d.borderColor||d.backgroundColor}})),O(c,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${s} ${a}`}})))}};function S0e(n,e){let t=vh(n,e);return O("a",Object.assign({},t),n.eventRange.def.title)}function E0e(n,e,t,i,r){let{options:o}=t;if(o.displayEventTime!==!1){let s=n.eventRange.def,a=n.eventRange.instance,l=!1,c;if(s.allDay?l=!0:qk(n.eventRange.range)?n.isStart?c=rc(n,e,t,null,null,a.range.start,n.end):n.isEnd?c=rc(n,e,t,null,null,n.start,a.range.end):l=!0:c=rc(n,e,t),l){let d={text:t.options.allDayText,view:t.viewApi};return O(qn,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:d,generatorName:"allDayContent",customGenerator:o.allDayContent,defaultGenerator:D0e,classNameGenerator:o.allDayClassNames,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount})}return O("td",{className:"fc-list-event-time"},c)}return null}function D0e(n){return n.text}var dS=class extends xi{constructor(){super(...arguments),this.computeDateVars=xe(T0e),this.eventStoreToSegs=xe(this._eventStoreToSegs),this.state={timeHeaderId:Do(),eventHeaderId:Do(),dateHeaderIdRoot:Do()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(e.dateProfile),o=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return O(rs,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),t.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:t.viewSpec},O(ph,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},o.length>0?this.renderSegList(o,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,i={text:e.noEventsText,view:t};return O(qn,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:A0e,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},r=>O(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:i,options:r}=this.context,{timeHeaderId:o,eventHeaderId:s,dateHeaderIdRoot:a}=this.state,l=I0e(e);return O(as,{unit:"day"},(c,d)=>{let m=[];for(let _=0;_<l.length;_+=1){let y=l[_];if(y){let w=tc(t[_]),T=a+"-"+w;m.push(O(KR,{key:w,cellId:T,dayDate:t[_],todayRange:d})),y=cd(y,r.eventOrder);for(let I of y)m.push(O(eN,Object.assign({key:w+":"+I.eventRange.instance.instanceId,seg:I,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:o,eventHeaderId:s,dateHeaderId:T},Gr(I,d,c))))}}return O("table",{className:"fc-list-table "+i.getClass("table")},O("thead",null,O("tr",null,O("th",{scope:"col",id:o},r.timeHint),O("th",{scope:"col","aria-hidden":!0}),O("th",{scope:"col",id:s},r.eventHint))),O("tbody",null,m))})}_eventStoreToSegs(e,t,i){return this.eventRangesToSegs(dh(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,t){let i=[];for(let r of e)i.push(...this.eventRangeToSegs(r,t));return i}eventRangeToSegs(e,t){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,o=e.range,s=e.def.allDay,a,l,c,d=[];for(a=0;a<t.length;a+=1)if(l=zr(o,t[a]),l&&(c={component:this,eventRange:e,start:l.start,end:l.end,isStart:e.isStart&&l.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===o.end.valueOf(),dayIndex:a},d.push(c),!c.isEnd&&!s&&a+1<t.length&&o.end<i.add(t[a+1].start,r))){c.end=o.end,c.isEnd=!0;break}return d}};function A0e(n){return n.text}function T0e(n){let e=_t(n.renderRange.start),t=n.renderRange.end,i=[],r=[];for(;e<t;)i.push(e),r.push({start:e,end:tn(e,1)}),e=tn(e,1);return{dayDates:i,dayRanges:r}}function I0e(n){let e=[],t,i;for(t=0;t<n.length;t+=1)i=n[t],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var M0e=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';ec(M0e);var k0e={listDayFormat:Gq,listDaySideFormat:Gq,noEventsClassNames:z,noEventsContent:z,noEventsDidMount:z,noEventsWillUnmount:z};function Gq(n){return n===!1?null:wt(n)}var Qq=_r({name:"@fullcalendar/list",optionRefiners:k0e,views:{list:{component:dS,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});var Yq={code:"pt-br",buttonText:{prev:"Anterior",next:"Pr\xF3ximo",prevYear:"Ano anterior",nextYear:"Pr\xF3ximo ano",year:"Ano",today:"Hoje",month:"M\xEAs",week:"Semana",day:"Dia",list:"Lista"},buttonHints:{prev:"$0 Anterior",next:"Pr\xF3ximo $0",today(n){return n==="Dia"?"Hoje":(n==="Semana"?"Esta":"Este")+" "+n.toLocaleLowerCase()}},viewHint(n){return"Visualizar "+(n==="Semana"?"a":"o")+" "+n.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"dia inteiro",moreLinkText(n){return"mais +"+n},moreLinkHint(n){return`Mostrar mais ${n} eventos`},noEventsText:"N\xE3o h\xE1 eventos para mostrar",navLinkHint:"Ir para $0",closeHint:"Fechar",timeHint:"A hora",eventHint:"Evento"};var pn="top",Un="bottom",An="right",vn="left",pS="auto",oc=[pn,Un,An,vn],Za="start",pd="end",Zq="clippingParents",fS="viewport",Dh="popper",Xq="reference",tN=oc.reduce(function(n,e){return n.concat([e+"-"+Za,e+"-"+pd])},[]),hS=[].concat(oc,[pS]).reduce(function(n,e){return n.concat([e,e+"-"+Za,e+"-"+pd])},[]),R0e="beforeRead",N0e="read",P0e="afterRead",O0e="beforeMain",F0e="main",L0e="afterMain",B0e="beforeWrite",V0e="write",j0e="afterWrite",Jq=[R0e,N0e,P0e,O0e,F0e,L0e,B0e,V0e,j0e];function si(n){return n?(n.nodeName||"").toLowerCase():null}function nn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function To(n){var e=nn(n).Element;return n instanceof e||n instanceof Element}function $n(n){var e=nn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Ah(n){if(typeof ShadowRoot>"u")return!1;var e=nn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function q0e(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!$n(o)||!si(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function U0e(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!$n(r)||!si(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var Jv={name:"applyStyles",enabled:!0,phase:"write",fn:q0e,effect:U0e,requires:["computeStyles"]};function ai(n){return n.split("-")[0]}var ls=Math.max,fd=Math.min,Xa=Math.round;function Th(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Kv(){return!/^((?!chrome|android).)*safari/i.test(Th())}function Io(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,o=1;e&&$n(n)&&(r=n.offsetWidth>0&&Xa(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Xa(i.height)/n.offsetHeight||1);var s=To(n)?nn(n):window,a=s.visualViewport,l=!Kv()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/r,d=(i.top+(l&&a?a.offsetTop:0))/o,m=i.width/r,_=i.height/o;return{width:m,height:_,top:d,right:c+m,bottom:d+_,left:c,x:c,y:d}}function hd(n){var e=Io(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function ey(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Ah(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ji(n){return nn(n).getComputedStyle(n)}function nN(n){return["table","td","th"].indexOf(si(n))>=0}function wi(n){return((To(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ja(n){return si(n)==="html"?n:n.assignedSlot||n.parentNode||(Ah(n)?n.host:null)||wi(n)}function Kq(n){return!$n(n)||Ji(n).position==="fixed"?null:n.offsetParent}function $0e(n){var e=/firefox/i.test(Th()),t=/Trident/i.test(Th());if(t&&$n(n)){var i=Ji(n);if(i.position==="fixed")return null}var r=Ja(n);for(Ah(r)&&(r=r.host);$n(r)&&["html","body"].indexOf(si(r))<0;){var o=Ji(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function cs(n){for(var e=nn(n),t=Kq(n);t&&nN(t)&&Ji(t).position==="static";)t=Kq(t);return t&&(si(t)==="html"||si(t)==="body"&&Ji(t).position==="static")?e:t||$0e(n)||e}function md(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function gd(n,e,t){return ls(n,fd(e,t))}function eU(n,e,t){var i=gd(n,e,t);return i>t?t:i}function ty(){return{top:0,right:0,bottom:0,left:0}}function ny(n){return Object.assign({},ty(),n)}function iy(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var H0e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ny(typeof e!="number"?e:iy(e,oc))};function z0e(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=ai(t.placement),l=md(a),c=[vn,An].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var m=H0e(r.padding,t),_=hd(o),y=l==="y"?pn:vn,w=l==="y"?Un:An,T=t.rects.reference[d]+t.rects.reference[l]-s[l]-t.rects.popper[d],I=s[l]-t.rects.reference[l],M=cs(o),U=M?l==="y"?M.clientHeight||0:M.clientWidth||0:0,W=T/2-I/2,N=m[y],X=U-_[d]-m[w],Y=U/2-_[d]/2+W,ve=gd(N,Y,X),Ce=l;t.modifiersData[i]=(e={},e[Ce]=ve,e.centerOffset=ve-Y,e)}}function W0e(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||ey(e.elements.popper,r)&&(e.elements.arrow=r))}var tU={name:"arrow",enabled:!0,phase:"main",fn:z0e,effect:W0e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mo(n){return n.split("-")[1]}var G0e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q0e(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Xa(t*r)/r||0,y:Xa(i*r)/r||0}}function nU(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,d=n.roundOffsets,m=n.isFixed,_=s.x,y=_===void 0?0:_,w=s.y,T=w===void 0?0:w,I=typeof d=="function"?d({x:y,y:T}):{x:y,y:T};y=I.x,T=I.y;var M=s.hasOwnProperty("x"),U=s.hasOwnProperty("y"),W=vn,N=pn,X=window;if(c){var Y=cs(t),ve="clientHeight",Ce="clientWidth";if(Y===nn(t)&&(Y=wi(t),Ji(Y).position!=="static"&&a==="absolute"&&(ve="scrollHeight",Ce="scrollWidth")),Y=Y,r===pn||(r===vn||r===An)&&o===pd){N=Un;var gt=m&&Y===X&&X.visualViewport?X.visualViewport.height:Y[ve];T-=gt-i.height,T*=l?1:-1}if(r===vn||(r===pn||r===Un)&&o===pd){W=An;var Pt=m&&Y===X&&X.visualViewport?X.visualViewport.width:Y[Ce];y-=Pt-i.width,y*=l?1:-1}}var fn=Object.assign({position:a},c&&G0e),Kt=d===!0?Q0e({x:y,y:T},nn(t)):{x:y,y:T};if(y=Kt.x,T=Kt.y,l){var rn;return Object.assign({},fn,(rn={},rn[N]=U?"0":"",rn[W]=M?"0":"",rn.transform=(X.devicePixelRatio||1)<=1?"translate("+y+"px, "+T+"px)":"translate3d("+y+"px, "+T+"px, 0)",rn))}return Object.assign({},fn,(e={},e[N]=U?T+"px":"",e[W]=M?y+"px":"",e.transform="",e))}function Y0e(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:ai(e.placement),variation:Mo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,nU(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,nU(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var iU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Y0e,data:{}};var mS={passive:!0};function Z0e(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=nn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",t.update,mS)}),a&&l.addEventListener("resize",t.update,mS),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",t.update,mS)}),a&&l.removeEventListener("resize",t.update,mS)}}var rU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Z0e,data:{}};var X0e={left:"right",right:"left",bottom:"top",top:"bottom"};function Ih(n){return n.replace(/left|right|bottom|top/g,function(e){return X0e[e]})}var J0e={start:"end",end:"start"};function gS(n){return n.replace(/start|end/g,function(e){return J0e[e]})}function vd(n){var e=nn(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function yd(n){return Io(wi(n)).left+vd(n).scrollLeft}function iN(n,e){var t=nn(n),i=wi(n),r=t.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=Kv();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+yd(n),y:l}}function rN(n){var e,t=wi(n),i=vd(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=ls(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=ls(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+yd(n),l=-i.scrollTop;return Ji(r||t).direction==="rtl"&&(a+=ls(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function _d(n){var e=Ji(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function vS(n){return["html","body","#document"].indexOf(si(n))>=0?n.ownerDocument.body:$n(n)&&_d(n)?n:vS(Ja(n))}function sc(n,e){var t;e===void 0&&(e=[]);var i=vS(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=nn(i),s=r?[o].concat(o.visualViewport||[],_d(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(sc(Ja(s)))}function Mh(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function K0e(n,e){var t=Io(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function oU(n,e,t){return e===fS?Mh(iN(n,t)):To(e)?K0e(e,t):Mh(rN(wi(n)))}function eve(n){var e=sc(Ja(n)),t=["absolute","fixed"].indexOf(Ji(n).position)>=0,i=t&&$n(n)?cs(n):n;return To(i)?e.filter(function(r){return To(r)&&ey(r,i)&&si(r)!=="body"}):[]}function oN(n,e,t,i){var r=e==="clippingParents"?eve(n):[].concat(e),o=[].concat(r,[t]),s=o[0],a=o.reduce(function(l,c){var d=oU(n,c,i);return l.top=ls(d.top,l.top),l.right=fd(d.right,l.right),l.bottom=fd(d.bottom,l.bottom),l.left=ls(d.left,l.left),l},oU(n,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ry(n){var e=n.reference,t=n.element,i=n.placement,r=i?ai(i):null,o=i?Mo(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(r){case pn:l={x:s,y:e.y-t.height};break;case Un:l={x:s,y:e.y+e.height};break;case An:l={x:e.x+e.width,y:a};break;case vn:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?md(r):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case Za:l[c]=l[c]-(e[d]/2-t[d]/2);break;case pd:l[c]=l[c]+(e[d]/2-t[d]/2);break;default:}}return l}function us(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.strategy,s=o===void 0?n.strategy:o,a=t.boundary,l=a===void 0?Zq:a,c=t.rootBoundary,d=c===void 0?fS:c,m=t.elementContext,_=m===void 0?Dh:m,y=t.altBoundary,w=y===void 0?!1:y,T=t.padding,I=T===void 0?0:T,M=ny(typeof I!="number"?I:iy(I,oc)),U=_===Dh?Xq:Dh,W=n.rects.popper,N=n.elements[w?U:_],X=oN(To(N)?N:N.contextElement||wi(n.elements.popper),l,d,s),Y=Io(n.elements.reference),ve=ry({reference:Y,element:W,strategy:"absolute",placement:r}),Ce=Mh(Object.assign({},W,ve)),gt=_===Dh?Ce:Y,Pt={top:X.top-gt.top+M.top,bottom:gt.bottom-X.bottom+M.bottom,left:X.left-gt.left+M.left,right:gt.right-X.right+M.right},fn=n.modifiersData.offset;if(_===Dh&&fn){var Kt=fn[r];Object.keys(Pt).forEach(function(rn){var br=[An,Un].indexOf(rn)>=0?1:-1,Cr=[pn,Un].indexOf(rn)>=0?"y":"x";Pt[rn]+=Kt[Cr]*br})}return Pt}function sN(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?hS:l,d=Mo(i),m=d?a?tN:tN.filter(function(w){return Mo(w)===d}):oc,_=m.filter(function(w){return c.indexOf(w)>=0});_.length===0&&(_=m);var y=_.reduce(function(w,T){return w[T]=us(n,{placement:T,boundary:r,rootBoundary:o,padding:s})[ai(T)],w},{});return Object.keys(y).sort(function(w,T){return y[w]-y[T]})}function tve(n){if(ai(n)===pS)return[];var e=Ih(n);return[gS(n),e,gS(e)]}function nve(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,c=t.padding,d=t.boundary,m=t.rootBoundary,_=t.altBoundary,y=t.flipVariations,w=y===void 0?!0:y,T=t.allowedAutoPlacements,I=e.options.placement,M=ai(I),U=M===I,W=l||(U||!w?[Ih(I)]:tve(I)),N=[I].concat(W).reduce(function(sa,ko){return sa.concat(ai(ko)===pS?sN(e,{placement:ko,boundary:d,rootBoundary:m,padding:c,flipVariations:w,allowedAutoPlacements:T}):ko)},[]),X=e.rects.reference,Y=e.rects.popper,ve=new Map,Ce=!0,gt=N[0],Pt=0;Pt<N.length;Pt++){var fn=N[Pt],Kt=ai(fn),rn=Mo(fn)===Za,br=[pn,Un].indexOf(Kt)>=0,Cr=br?"width":"height",Si=us(e,{placement:fn,boundary:d,rootBoundary:m,altBoundary:_,padding:c}),Ei=br?rn?An:vn:rn?Un:pn;X[Cr]>Y[Cr]&&(Ei=Ih(Ei));var li=Ih(Ei),ps=[];if(o&&ps.push(Si[Kt]<=0),a&&ps.push(Si[Ei]<=0,Si[li]<=0),ps.every(function(sa){return sa})){gt=fn,Ce=!1;break}ve.set(fn,ps)}if(Ce)for(var fs=w?3:1,ac=function(ko){var aa=N.find(function(Cd){var la=ve.get(Cd);if(la)return la.slice(0,ko).every(function(xd){return xd})});if(aa)return gt=aa,"break"},hs=fs;hs>0;hs--){var lc=ac(hs);if(lc==="break")break}e.placement!==gt&&(e.modifiersData[i]._skip=!0,e.placement=gt,e.reset=!0)}}var sU={name:"flip",enabled:!0,phase:"main",fn:nve,requiresIfExists:["offset"],data:{_skip:!1}};function aU(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function lU(n){return[pn,An,Un,vn].some(function(e){return n[e]>=0})}function ive(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=us(e,{elementContext:"reference"}),a=us(e,{altBoundary:!0}),l=aU(s,i),c=aU(a,r,o),d=lU(l),m=lU(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}var cU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ive};function rve(n,e,t){var i=ai(n),r=[vn,pn].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[vn,An].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function ove(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,s=hS.reduce(function(d,m){return d[m]=rve(m,e.rects,o),d},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}var uU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ove};function sve(n){var e=n.state,t=n.name;e.modifiersData[t]=ry({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var dU={name:"popperOffsets",enabled:!0,phase:"read",fn:sve,data:{}};function aN(n){return n==="x"?"y":"x"}function ave(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,m=t.padding,_=t.tether,y=_===void 0?!0:_,w=t.tetherOffset,T=w===void 0?0:w,I=us(e,{boundary:l,rootBoundary:c,padding:m,altBoundary:d}),M=ai(e.placement),U=Mo(e.placement),W=!U,N=md(M),X=aN(N),Y=e.modifiersData.popperOffsets,ve=e.rects.reference,Ce=e.rects.popper,gt=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,Pt=typeof gt=="number"?{mainAxis:gt,altAxis:gt}:Object.assign({mainAxis:0,altAxis:0},gt),fn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Kt={x:0,y:0};if(Y){if(o){var rn,br=N==="y"?pn:vn,Cr=N==="y"?Un:An,Si=N==="y"?"height":"width",Ei=Y[N],li=Ei+I[br],ps=Ei-I[Cr],fs=y?-Ce[Si]/2:0,ac=U===Za?ve[Si]:Ce[Si],hs=U===Za?-Ce[Si]:-ve[Si],lc=e.elements.arrow,sa=y&&lc?hd(lc):{width:0,height:0},ko=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ty(),aa=ko[br],Cd=ko[Cr],la=gd(0,ve[Si],sa[Si]),xd=W?ve[Si]/2-fs-la-aa-Pt.mainAxis:ac-la-aa-Pt.mainAxis,Ka=W?-ve[Si]/2+fs+la+Cd+Pt.mainAxis:hs+la+Cd+Pt.mainAxis,wd=e.elements.arrow&&cs(e.elements.arrow),ay=wd?N==="y"?wd.clientTop||0:wd.clientLeft||0:0,Uh=(rn=fn?.[N])!=null?rn:0,ly=Ei+xd-Uh-ay,cy=Ei+Ka-Uh,$h=gd(y?fd(li,ly):li,Ei,y?ls(ps,cy):ps);Y[N]=$h,Kt[N]=$h-Ei}if(a){var Hh,uy=N==="x"?pn:vn,dy=N==="x"?Un:An,ca=Y[X],el=X==="y"?"height":"width",zh=ca+I[uy],cc=ca-I[dy],Wh=[pn,vn].indexOf(M)!==-1,py=(Hh=fn?.[X])!=null?Hh:0,fy=Wh?zh:ca-ve[el]-Ce[el]-py+Pt.altAxis,hy=Wh?ca+ve[el]+Ce[el]-py-Pt.altAxis:cc,my=y&&Wh?eU(fy,ca,hy):gd(y?fy:zh,ca,y?hy:cc);Y[X]=my,Kt[X]=my-ca}e.modifiersData[i]=Kt}}var pU={name:"preventOverflow",enabled:!0,phase:"main",fn:ave,requiresIfExists:["offset"]};function lN(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function cN(n){return n===nn(n)||!$n(n)?vd(n):lN(n)}function lve(n){var e=n.getBoundingClientRect(),t=Xa(e.width)/n.offsetWidth||1,i=Xa(e.height)/n.offsetHeight||1;return t!==1||i!==1}function uN(n,e,t){t===void 0&&(t=!1);var i=$n(e),r=$n(e)&&lve(e),o=wi(e),s=Io(n,r,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((si(e)!=="body"||_d(o))&&(a=cN(e)),$n(e)?(l=Io(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=yd(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function cve(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function dN(n){var e=cve(n);return Jq.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function pN(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function fN(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var fU={placement:"bottom",modifiers:[],strategy:"absolute"};function hU(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function mU(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?fU:r;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},fU,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},m=[],_=!1,y={state:d,setOptions:function(M){var U=typeof M=="function"?M(d.options):M;T(),d.options=Object.assign({},o,d.options,U),d.scrollParents={reference:To(a)?sc(a):a.contextElement?sc(a.contextElement):[],popper:sc(l)};var W=dN(fN([].concat(i,d.options.modifiers)));return d.orderedModifiers=W.filter(function(N){return N.enabled}),w(),y.update()},forceUpdate:function(){if(!_){var M=d.elements,U=M.reference,W=M.popper;if(hU(U,W)){d.rects={reference:uN(U,cs(W),d.options.strategy==="fixed"),popper:hd(W)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(Pt){return d.modifiersData[Pt.name]=Object.assign({},Pt.data)});for(var N=0;N<d.orderedModifiers.length;N++){if(d.reset===!0){d.reset=!1,N=-1;continue}var X=d.orderedModifiers[N],Y=X.fn,ve=X.options,Ce=ve===void 0?{}:ve,gt=X.name;typeof Y=="function"&&(d=Y({state:d,options:Ce,name:gt,instance:y})||d)}}}},update:pN(function(){return new Promise(function(I){y.forceUpdate(),I(d)})}),destroy:function(){T(),_=!0}};if(!hU(a,l))return y;y.setOptions(c).then(function(I){!_&&c.onFirstUpdate&&c.onFirstUpdate(I)});function w(){d.orderedModifiers.forEach(function(I){var M=I.name,U=I.options,W=U===void 0?{}:U,N=I.effect;if(typeof N=="function"){var X=N({state:d,name:M,instance:y,options:W}),Y=function(){};m.push(X||Y)}})}function T(){m.forEach(function(I){return I()}),m=[]}return y}}var uve=[rU,dU,iU,Jv,uU,sU,pU,tU,cU],hN=mU({defaultModifiers:uve});var dve="tippy-box",EU="tippy-content",pve="tippy-backdrop",DU="tippy-arrow",AU="tippy-svg-arrow",bd={passive:!0,capture:!0},TU=function(){return document.body};function mN(n,e,t){if(Array.isArray(n)){var i=n[e];return i??(Array.isArray(t)?t[e]:t)}return n}function CN(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function IU(n,e){return typeof n=="function"?n.apply(void 0,e):n}function gU(n,e){if(e===0)return n;var t;return function(i){clearTimeout(t),t=setTimeout(function(){n(i)},e)}}function fve(n){return n.split(/\s+/).filter(Boolean)}function kh(n){return[].concat(n)}function vU(n,e){n.indexOf(e)===-1&&n.push(e)}function hve(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function mve(n){return n.split("-")[0]}function _S(n){return[].slice.call(n)}function yU(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function oy(){return document.createElement("div")}function bS(n){return["Element","Fragment"].some(function(e){return CN(n,e)})}function gve(n){return CN(n,"NodeList")}function vve(n){return CN(n,"MouseEvent")}function yve(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function _ve(n){return bS(n)?[n]:gve(n)?_S(n):Array.isArray(n)?n:_S(document.querySelectorAll(n))}function gN(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function _U(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function bve(n){var e,t=kh(n),i=t[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Cve(n,e){var t=e.clientX,i=e.clientY;return n.every(function(r){var o=r.popperRect,s=r.popperState,a=r.props,l=a.interactiveBorder,c=mve(s.placement),d=s.modifiersData.offset;if(!d)return!0;var m=c==="bottom"?d.top.y:0,_=c==="top"?d.bottom.y:0,y=c==="right"?d.left.x:0,w=c==="left"?d.right.x:0,T=o.top-i+m>l,I=i-o.bottom-_>l,M=o.left-t+y>l,U=t-o.right-w>l;return T||I||M||U})}function vN(n,e,t){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[i](r,t)})}function bU(n,e){for(var t=e;t;){var i;if(n.contains(t))return!0;t=t.getRootNode==null||(i=t.getRootNode())==null?void 0:i.host}return!1}var oa={isTouch:!1},CU=0;function xve(){oa.isTouch||(oa.isTouch=!0,window.performance&&document.addEventListener("mousemove",MU))}function MU(){var n=performance.now();n-CU<20&&(oa.isTouch=!1,document.removeEventListener("mousemove",MU)),CU=n}function wve(){var n=document.activeElement;if(yve(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function Sve(){document.addEventListener("touchstart",xve,bd),window.addEventListener("blur",wve)}var Eve=typeof window<"u"&&typeof document<"u",Dve=Eve?!!window.msCrypto:!1;var Ave={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Tve={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ds=Object.assign({appendTo:TU,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ave,Tve),Ive=Object.keys(ds),Mve=function(e){var t=Object.keys(e);t.forEach(function(i){ds[i]=e[i]})};function kU(n){var e=n.plugins||[],t=e.reduce(function(i,r){var o=r.name,s=r.defaultValue;if(o){var a;i[o]=n[o]!==void 0?n[o]:(a=ds[o])!=null?a:s}return i},{});return Object.assign({},n,t)}function kve(n,e){var t=e?Object.keys(kU(Object.assign({},ds,{plugins:e}))):Ive,i=t.reduce(function(r,o){var s=(n.getAttribute("data-tippy-"+o)||"").trim();if(!s)return r;if(o==="content")r[o]=s;else try{r[o]=JSON.parse(s)}catch{r[o]=s}return r},{});return i}function xU(n,e){var t=Object.assign({},e,{content:IU(e.content,[n])},e.ignoreAttributes?{}:kve(n,e.plugins));return t.aria=Object.assign({},ds.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var Rve=function(){return"innerHTML"};function _N(n,e){n[Rve()]=e}function wU(n){var e=oy();return n===!0?e.className=DU:(e.className=AU,bS(n)?e.appendChild(n):_N(e,n)),e}function SU(n,e){bS(e.content)?(_N(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?_N(n,e.content):n.textContent=e.content)}function bN(n){var e=n.firstElementChild,t=_S(e.children);return{box:e,content:t.find(function(i){return i.classList.contains(EU)}),arrow:t.find(function(i){return i.classList.contains(DU)||i.classList.contains(AU)}),backdrop:t.find(function(i){return i.classList.contains(pve)})}}function RU(n){var e=oy(),t=oy();t.className=dve,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var i=oy();i.className=EU,i.setAttribute("data-state","hidden"),SU(i,n.props),e.appendChild(t),t.appendChild(i),r(n.props,n.props);function r(o,s){var a=bN(e),l=a.box,c=a.content,d=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&SU(c,n.props),s.arrow?d?o.arrow!==s.arrow&&(l.removeChild(d),l.appendChild(wU(s.arrow))):l.appendChild(wU(s.arrow)):d&&l.removeChild(d)}return{popper:e,onUpdate:r}}RU.$$tippy=!0;var Nve=1,yS=[],yN=[];function Pve(n,e){var t=xU(n,Object.assign({},ds,kU(yU(e)))),i,r,o,s=!1,a=!1,l=!1,c=!1,d,m,_,y=[],w=gU(ly,t.interactiveDebounce),T,I=Nve++,M=null,U=hve(t.plugins),W={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},N={id:I,reference:n,popper:oy(),popperInstance:M,props:t,state:W,plugins:U,clearDelayTimeouts:fy,setProps:hy,setContent:my,show:LU,hide:BU,hideWithInteractivity:VU,enable:Wh,disable:py,unmount:jU,destroy:qU};if(!t.render)return N;var X=t.render(N),Y=X.popper,ve=X.onUpdate;Y.setAttribute("data-tippy-root",""),Y.id="tippy-"+N.id,N.popper=Y,n._tippy=N,Y._tippy=N;var Ce=U.map(function(Q){return Q.fn(N)}),gt=n.hasAttribute("aria-expanded");return wd(),fs(),Ei(),li("onCreate",[N]),t.showOnCreate&&zh(),Y.addEventListener("mouseenter",function(){N.props.interactive&&N.state.isVisible&&N.clearDelayTimeouts()}),Y.addEventListener("mouseleave",function(){N.props.interactive&&N.props.trigger.indexOf("mouseenter")>=0&&br().addEventListener("mousemove",w)}),N;function Pt(){var Q=N.props.touch;return Array.isArray(Q)?Q:[Q,0]}function fn(){return Pt()[0]==="hold"}function Kt(){var Q;return!!((Q=N.props.render)!=null&&Q.$$tippy)}function rn(){return T||n}function br(){var Q=rn().parentNode;return Q?bve(Q):document}function Cr(){return bN(Y)}function Si(Q){return N.state.isMounted&&!N.state.isVisible||oa.isTouch||d&&d.type==="focus"?0:mN(N.props.delay,Q?0:1,ds.delay)}function Ei(Q){Q===void 0&&(Q=!1),Y.style.pointerEvents=N.props.interactive&&!Q?"":"none",Y.style.zIndex=""+N.props.zIndex}function li(Q,ye,Ve){if(Ve===void 0&&(Ve=!0),Ce.forEach(function(ht){ht[Q]&&ht[Q].apply(ht,ye)}),Ve){var Tt;(Tt=N.props)[Q].apply(Tt,ye)}}function ps(){var Q=N.props.aria;if(Q.content){var ye="aria-"+Q.content,Ve=Y.id,Tt=kh(N.props.triggerTarget||n);Tt.forEach(function(ht){var Li=ht.getAttribute(ye);if(N.state.isVisible)ht.setAttribute(ye,Li?Li+" "+Ve:Ve);else{var Qr=Li&&Li.replace(Ve,"").trim();Qr?ht.setAttribute(ye,Qr):ht.removeAttribute(ye)}})}}function fs(){if(!(gt||!N.props.aria.expanded)){var Q=kh(N.props.triggerTarget||n);Q.forEach(function(ye){N.props.interactive?ye.setAttribute("aria-expanded",N.state.isVisible&&ye===rn()?"true":"false"):ye.removeAttribute("aria-expanded")})}}function ac(){br().removeEventListener("mousemove",w),yS=yS.filter(function(Q){return Q!==w})}function hs(Q){if(!(oa.isTouch&&(l||Q.type==="mousedown"))){var ye=Q.composedPath&&Q.composedPath()[0]||Q.target;if(!(N.props.interactive&&bU(Y,ye))){if(kh(N.props.triggerTarget||n).some(function(Ve){return bU(Ve,ye)})){if(oa.isTouch||N.state.isVisible&&N.props.trigger.indexOf("click")>=0)return}else li("onClickOutside",[N,Q]);N.props.hideOnClick===!0&&(N.clearDelayTimeouts(),N.hide(),a=!0,setTimeout(function(){a=!1}),N.state.isMounted||aa())}}}function lc(){l=!0}function sa(){l=!1}function ko(){var Q=br();Q.addEventListener("mousedown",hs,!0),Q.addEventListener("touchend",hs,bd),Q.addEventListener("touchstart",sa,bd),Q.addEventListener("touchmove",lc,bd)}function aa(){var Q=br();Q.removeEventListener("mousedown",hs,!0),Q.removeEventListener("touchend",hs,bd),Q.removeEventListener("touchstart",sa,bd),Q.removeEventListener("touchmove",lc,bd)}function Cd(Q,ye){xd(Q,function(){!N.state.isVisible&&Y.parentNode&&Y.parentNode.contains(Y)&&ye()})}function la(Q,ye){xd(Q,ye)}function xd(Q,ye){var Ve=Cr().box;function Tt(ht){ht.target===Ve&&(vN(Ve,"remove",Tt),ye())}if(Q===0)return ye();vN(Ve,"remove",m),vN(Ve,"add",Tt),m=Tt}function Ka(Q,ye,Ve){Ve===void 0&&(Ve=!1);var Tt=kh(N.props.triggerTarget||n);Tt.forEach(function(ht){ht.addEventListener(Q,ye,Ve),y.push({node:ht,eventType:Q,handler:ye,options:Ve})})}function wd(){fn()&&(Ka("touchstart",Uh,{passive:!0}),Ka("touchend",cy,{passive:!0})),fve(N.props.trigger).forEach(function(Q){if(Q!=="manual")switch(Ka(Q,Uh),Q){case"mouseenter":Ka("mouseleave",cy);break;case"focus":Ka(Dve?"focusout":"blur",$h);break;case"focusin":Ka("focusout",$h);break}})}function ay(){y.forEach(function(Q){var ye=Q.node,Ve=Q.eventType,Tt=Q.handler,ht=Q.options;ye.removeEventListener(Ve,Tt,ht)}),y=[]}function Uh(Q){var ye,Ve=!1;if(!(!N.state.isEnabled||Hh(Q)||a)){var Tt=((ye=d)==null?void 0:ye.type)==="focus";d=Q,T=Q.currentTarget,fs(),!N.state.isVisible&&vve(Q)&&yS.forEach(function(ht){return ht(Q)}),Q.type==="click"&&(N.props.trigger.indexOf("mouseenter")<0||s)&&N.props.hideOnClick!==!1&&N.state.isVisible?Ve=!0:zh(Q),Q.type==="click"&&(s=!Ve),Ve&&!Tt&&cc(Q)}}function ly(Q){var ye=Q.target,Ve=rn().contains(ye)||Y.contains(ye);if(!(Q.type==="mousemove"&&Ve)){var Tt=el().concat(Y).map(function(ht){var Li,Qr=ht._tippy,Sd=(Li=Qr.popperInstance)==null?void 0:Li.state;return Sd?{popperRect:ht.getBoundingClientRect(),popperState:Sd,props:t}:null}).filter(Boolean);Cve(Tt,Q)&&(ac(),cc(Q))}}function cy(Q){var ye=Hh(Q)||N.props.trigger.indexOf("click")>=0&&s;if(!ye){if(N.props.interactive){N.hideWithInteractivity(Q);return}cc(Q)}}function $h(Q){N.props.trigger.indexOf("focusin")<0&&Q.target!==rn()||N.props.interactive&&Q.relatedTarget&&Y.contains(Q.relatedTarget)||cc(Q)}function Hh(Q){return oa.isTouch?fn()!==Q.type.indexOf("touch")>=0:!1}function uy(){dy();var Q=N.props,ye=Q.popperOptions,Ve=Q.placement,Tt=Q.offset,ht=Q.getReferenceClientRect,Li=Q.moveTransition,Qr=Kt()?bN(Y).arrow:null,Sd=ht?{getBoundingClientRect:ht,contextElement:ht.contextElement||rn()}:n,xN={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(gy){var Ed=gy.state;if(Kt()){var UU=Cr(),kS=UU.box;["placement","reference-hidden","escaped"].forEach(function(vy){vy==="placement"?kS.setAttribute("data-placement",Ed.placement):Ed.attributes.popper["data-popper-"+vy]?kS.setAttribute("data-"+vy,""):kS.removeAttribute("data-"+vy)}),Ed.attributes.popper={}}}},uc=[{name:"offset",options:{offset:Tt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Li}},xN];Kt()&&Qr&&uc.push({name:"arrow",options:{element:Qr,padding:3}}),uc.push.apply(uc,ye?.modifiers||[]),N.popperInstance=hN(Sd,Y,Object.assign({},ye,{placement:Ve,onFirstUpdate:_,modifiers:uc}))}function dy(){N.popperInstance&&(N.popperInstance.destroy(),N.popperInstance=null)}function ca(){var Q=N.props.appendTo,ye,Ve=rn();N.props.interactive&&Q===TU||Q==="parent"?ye=Ve.parentNode:ye=IU(Q,[Ve]),ye.contains(Y)||ye.appendChild(Y),N.state.isMounted=!0,uy()}function el(){return _S(Y.querySelectorAll("[data-tippy-root]"))}function zh(Q){N.clearDelayTimeouts(),Q&&li("onTrigger",[N,Q]),ko();var ye=Si(!0),Ve=Pt(),Tt=Ve[0],ht=Ve[1];oa.isTouch&&Tt==="hold"&&ht&&(ye=ht),ye?i=setTimeout(function(){N.show()},ye):N.show()}function cc(Q){if(N.clearDelayTimeouts(),li("onUntrigger",[N,Q]),!N.state.isVisible){aa();return}if(!(N.props.trigger.indexOf("mouseenter")>=0&&N.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Q.type)>=0&&s)){var ye=Si(!1);ye?r=setTimeout(function(){N.state.isVisible&&N.hide()},ye):o=requestAnimationFrame(function(){N.hide()})}}function Wh(){N.state.isEnabled=!0}function py(){N.hide(),N.state.isEnabled=!1}function fy(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function hy(Q){if(!N.state.isDestroyed){li("onBeforeUpdate",[N,Q]),ay();var ye=N.props,Ve=xU(n,Object.assign({},ye,yU(Q),{ignoreAttributes:!0}));N.props=Ve,wd(),ye.interactiveDebounce!==Ve.interactiveDebounce&&(ac(),w=gU(ly,Ve.interactiveDebounce)),ye.triggerTarget&&!Ve.triggerTarget?kh(ye.triggerTarget).forEach(function(Tt){Tt.removeAttribute("aria-expanded")}):Ve.triggerTarget&&n.removeAttribute("aria-expanded"),fs(),Ei(),ve&&ve(ye,Ve),N.popperInstance&&(uy(),el().forEach(function(Tt){requestAnimationFrame(Tt._tippy.popperInstance.forceUpdate)})),li("onAfterUpdate",[N,Q])}}function my(Q){N.setProps({content:Q})}function LU(){var Q=N.state.isVisible,ye=N.state.isDestroyed,Ve=!N.state.isEnabled,Tt=oa.isTouch&&!N.props.touch,ht=mN(N.props.duration,0,ds.duration);if(!(Q||ye||Ve||Tt)&&!rn().hasAttribute("disabled")&&(li("onShow",[N],!1),N.props.onShow(N)!==!1)){if(N.state.isVisible=!0,Kt()&&(Y.style.visibility="visible"),Ei(),ko(),N.state.isMounted||(Y.style.transition="none"),Kt()){var Li=Cr(),Qr=Li.box,Sd=Li.content;gN([Qr,Sd],0)}_=function(){var uc;if(!(!N.state.isVisible||c)){if(c=!0,Y.offsetHeight,Y.style.transition=N.props.moveTransition,Kt()&&N.props.animation){var MS=Cr(),gy=MS.box,Ed=MS.content;gN([gy,Ed],ht),_U([gy,Ed],"visible")}ps(),fs(),vU(yN,N),(uc=N.popperInstance)==null||uc.forceUpdate(),li("onMount",[N]),N.props.animation&&Kt()&&la(ht,function(){N.state.isShown=!0,li("onShown",[N])})}},ca()}}function BU(){var Q=!N.state.isVisible,ye=N.state.isDestroyed,Ve=!N.state.isEnabled,Tt=mN(N.props.duration,1,ds.duration);if(!(Q||ye||Ve)&&(li("onHide",[N],!1),N.props.onHide(N)!==!1)){if(N.state.isVisible=!1,N.state.isShown=!1,c=!1,s=!1,Kt()&&(Y.style.visibility="hidden"),ac(),aa(),Ei(!0),Kt()){var ht=Cr(),Li=ht.box,Qr=ht.content;N.props.animation&&(gN([Li,Qr],Tt),_U([Li,Qr],"hidden"))}ps(),fs(),N.props.animation?Kt()&&Cd(Tt,N.unmount):N.unmount()}}function VU(Q){br().addEventListener("mousemove",w),vU(yS,w),w(Q)}function jU(){N.state.isVisible&&N.hide(),N.state.isMounted&&(dy(),el().forEach(function(Q){Q._tippy.unmount()}),Y.parentNode&&Y.parentNode.removeChild(Y),yN=yN.filter(function(Q){return Q!==N}),N.state.isMounted=!1,li("onHidden",[N]))}function qU(){N.state.isDestroyed||(N.clearDelayTimeouts(),N.unmount(),ay(),delete n._tippy,N.state.isDestroyed=!0,li("onDestroy",[N]))}}function sy(n,e){e===void 0&&(e={});var t=ds.plugins.concat(e.plugins||[]);Sve();var i=Object.assign({},e,{plugins:t}),r=_ve(n);if(0)var o,s;var a=r.reduce(function(l,c){var d=c&&Pve(c,i);return d&&l.push(d),l},[]);return bS(n)?a[0]:a}sy.defaultProps=ds;sy.setDefaultProps=Mve;sy.currentInput=oa;var XUe=Object.assign({},Jv,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}});sy.setDefaultProps({render:RU});var NU=sy;var Ove=["calendar"],Fve=(n,e)=>e.name;function Lve(n,e){if(n&1&&(p(0,"span",7),h(1),f()),n&2){let t=b();u(),R(t.activeFilterCount())}}function Bve(n,e){if(n&1&&h(0),n&2){let t=b(2);C(" ",t.selectedStatuses().length," selecionados ")}}function Vve(n,e){n&1&&(h(0),g(1,"i18n")),n&2&&C(" ",v(1,1,"selectStatus")," ")}function jve(n,e){if(n&1){let t=H();p(0,"label",17)(1,"input",18),D("change",function(){let r=S(t).$implicit,o=b(3);return E(o.toggleStatusFilter(r.name))}),f(),k(2,"span",19),p(3,"span",20),h(4),f()()}if(n&2){let t=e.$implicit,i=b(3);kt("aria-label",ie(i.getStatusTranslation(t.name))),u(),kt("aria-checked",ie(i.isStatusVisible(t.name)?"true":"false"))("aria-labelledby",Kp("status-",t.name)),A("checked",i.isStatusVisible(t.name)),u(),Vs("background-color",t.color),u(),A("id",Kp("status-",t.name))("ngClass",i.fontText),u(),R(i.getStatusTranslation(t.name))}}function qve(n,e){if(n&1&&(p(0,"div",15),g(1,"i18n"),oe(2,jve,5,13,"label",17,Fve),f()),n&2){let t=b(2);kt("aria-label",ie(v(1,2,"statusOptions"))),u(2),se(t.statusLegend())}}function Uve(n,e){if(n&1){let t=H();p(0,"div",8)(1,"label",11),h(2),g(3,"i18n"),f(),p(4,"div",12)(5,"button",13),g(6,"i18n"),D("click",function(){S(t);let r=b();return E(r.toggleStatusDropdown())}),p(7,"span"),j(8,Bve,1,1)(9,Vve,2,3),f(),k(10,"i",14),f(),j(11,qve,4,4,"div",15),f(),p(12,"button",16),g(13,"i18n"),D("click",function(){S(t);let r=b();return E(r.clearAllFilters())}),h(14),g(15,"i18n"),f()()}if(n&2){let t=b();u(2),C(" ",v(3,10,"filterByStatus")," "),u(3),kt("aria-expanded",ie(t.showStatusDropdown()?"true":"false"))("aria-label",ie(v(6,12,"selectStatus"))),u(3),q(t.selectedStatuses().length>0?8:9),u(3),q(t.showStatusDropdown()?11:-1),u(),kt("aria-label",ie(v(13,14,"clearFilters"))),u(2),C(" ",v(15,16,"clearFilters")," ")}}var Rh=class Rh{constructor(){this.showStatusDropdown=B(!1);this.user=ge.required();this.viewDetails=de();this.dataService=L(At);this.i18n=L($e);this.injector=L(Nn);this.calendarComponent=Cu.required("calendar");this.calendarApi=B(void 0);this.visibleStatuses=B(new Set);this.isFilterVisible=B(!1);this.fontHeading="font-heading text-2xl font-bold text-gray-900 dark:text-gray-100";this.fontSubheading="font-heading text-lg font-semibold text-gray-800 dark:text-gray-200";this.fontText="font-sans text-base text-gray-700 dark:text-gray-300";this.fontSmall="font-sans text-sm text-gray-500 dark:text-gray-400";this.activeFilterCount=K(()=>{let e=this.statusLegend().length,t=this.visibleStatuses().size;return t>0&&t<e?t:0});this.statusLegend=K(()=>Object.keys(En.colorMap).map(e=>({name:e,color:En.getColor(e)})));this.handleEventClick=e=>{mn(this.injector,()=>{let t=this.dataService.getServiceRequestById(Number(e.event.id));t&&this.viewDetails.emit(t)})};this.handleEventDidMount=e=>{mn(this.injector,()=>{let t=this.dataService.getServiceRequestById(Number(e.event.id));if(!t)return;let i=this.getProfessionalName(t.professional_id),r=this.formatTime(t.scheduled_start_datetime),o=`
        <div class="p-2 text-left font-sans text-sm">
          <div class="font-heading text-base font-bold mb-1">${t.title}</div>
          <div class="mb-1"><i class="fas fa-clock w-4 mr-1 text-gray-400"></i><strong class="font-semibold">${this.i18n.translate("time")}:</strong> <span class="font-sans">${r}</span></div>
          <div class="mb-1"><i class="fas fa-info-circle w-4 mr-1 text-gray-400"></i><strong class="font-semibold">${this.i18n.translate("status")}:</strong> <span class="font-sans">${this.getStatusTranslation(t.status)}</span></div>
          ${this.user().role==="professional"?"":`<div class="mb-1"><i class="fas fa-hard-hat w-4 mr-1 text-gray-400"></i><strong class="font-semibold">${this.i18n.translate("professional")}:</strong> <span class="font-sans">${i}</span></div>`}
        </div>
      `;NU(e.el,{content:o,allowHTML:!0,theme:"light-border",placement:"top",animation:"shift-away"})})};this.calendarOptions={plugins:[Pq,qq,Wq,Qq],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},weekends:!0,moreLinkClick:"popover",eventClick:this.handleEventClick,eventDidMount:this.handleEventDidMount,events:[],eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},customButtons:{},buttonText:{today:this.i18n.translate("today"),month:this.i18n.translate("month"),week:this.i18n.translate("week"),day:this.i18n.translate("day"),list:this.i18n.translate("agenda")},themeSystem:"standard"};this.selectAllStatuses(),this.setupEffects()}toggleStatusDropdown(){this.showStatusDropdown.update(e=>!e)}onStatusMultiSelectChange(e){let t=e.target,i=[];for(let r of Array.from(t.options))r.selected&&i.push(r.value);this.visibleStatuses.set(new Set(i))}selectedStatuses(){return Array.from(this.visibleStatuses())}getSelectedStatusLabel(){return this.i18n.translate("selectStatus")}ngAfterViewInit(){this.calendarApi.set(this.calendarComponent().getApi()),this.setupResizeListener()}ngOnDestroy(){this.resizeHandler&&globalThis.window!==void 0&&globalThis.window.removeEventListener("resize",this.resizeHandler)}toggleStatusFilter(e){this.visibleStatuses.update(t=>{let i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i})}isStatusVisible(e){return this.visibleStatuses().has(e)}selectAllStatuses(){this.visibleStatuses.set(new Set(this.statusLegend().map(e=>e.name)))}toggleFilterVisibility(){this.isFilterVisible.update(e=>!e)}clearAllFilters(){this.visibleStatuses.set(new Set)}setupEffects(){Ut(()=>{let e=this.dataService.serviceRequests(),t=this.user(),i=this.visibleStatuses(),r;t.role==="professional"?r=e.filter(l=>l.professional_id===t.id):r=e;let o=new Set(["Finalizado","Pago","Cancelado","Conclu\xEDdo - Aguardando aprova\xE7\xE3o"]),s=r.filter(l=>l.scheduled_date||l.scheduled_start_datetime).map(l=>{let c=o.has(l.status);return!c&&!i.has(l.status)?null:{id:String(l.id),title:`${l.title} (${this.getStatusTranslation(l.status)})`,start:l.scheduled_start_datetime||l.scheduled_date||"",backgroundColor:c?En.getColor(l.status)+"80":En.getColor(l.status),borderColor:c?En.getColor(l.status)+"80":En.getColor(l.status),textColor:c?"#e5e7eb":"#ffffff",classNames:c?["past-event"]:[]}}).filter(l=>l!==null),a=this.calendarApi();a&&a.setOption("events",s)}),Ut(()=>{this.i18n.language();let e=this.calendarApi();e&&this.updateCalendarLocale(e)})}setupResizeListener(){globalThis.window!==void 0&&(this.resizeHandler=()=>this.updateCalendarForResize(),globalThis.window.addEventListener("resize",this.resizeHandler),this.updateCalendarForResize())}updateCalendarForResize(){let e=this.calendarApi();if(!e)return;let t=globalThis.window.innerWidth<768;e.setOption("aspectRatio",t?1:1.35),e.setOption("height",t?500:"100%"),e.setOption("contentHeight",t?400:"auto"),e.setOption("dayMaxEvents",t?2:5),e.setOption("eventDisplay",t?"block":"auto")}updateCalendarLocale(e){let t=this.i18n.language()==="pt"?Yq:"en";e.setOption("locale",t),e.setOption("buttonText",{today:this.i18n.translate("today"),month:this.i18n.translate("month"),week:this.i18n.translate("week"),day:this.i18n.translate("day"),list:this.i18n.translate("agenda")})}getClientName(e){return e?this.dataService.users().find(t=>t.id===e)?.name||this.i18n.translate("unknownClient"):this.i18n.translate("unknownClient")}getProfessionalName(e){return e?this.dataService.users().find(t=>t.id===e)?.name||this.i18n.translate("unassigned"):this.i18n.translate("unassigned")}formatTime(e){return e?new Date(e).toLocaleTimeString(this.i18n.language()==="pt"?"pt-PT":"en-US",{hour:"2-digit",minute:"2-digit"}):""}getStatusTranslation(e){return En.getLabel(e,this.i18n)}};Rh.\u0275fac=function(t){return new(t||Rh)},Rh.\u0275cmp=ce({type:Rh,selectors:[["app-schedule"]],viewQuery:function(t,i){t&1&&Pl(i.calendarComponent,Ove,5),t&2&&bu()},hostAttrs:[1,"block","h-full","font-sans"],inputs:{user:[1,"user"]},outputs:{viewDetails:"viewDetails"},decls:14,vars:13,consts:[["calendar",""],["aria-label","Agenda de Servi\xE7os",1,"schedule-container","h-full","flex","flex-col","bg-gray-50","rounded-lg","shadow-sm"],[1,"p-4","border-b","border-gray-200","bg-white"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","mt-2"],[1,"relative","flex","items-center","px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click","aria-label","aria-pressed"],[1,"fas","fa-filter","w-4","h-4","mr-2"],[3,"ngClass"],[1,"absolute","-top-2","-right-2","inline-flex","items-center","justify-center","px-2","py-1","text-xs","font-bold","leading-none","text-red-100","bg-red-600","rounded-full"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"flex-1","p-6","bg-white","rounded-b-lg","mt-6","border-t","border-gray-200"],["aria-label","Calend\xE1rio de servi\xE7os","tabindex","0",1,"h-full",3,"options"],["for","status-filter-dropdown",1,"block","mb-2","font-semibold","text-gray-800","text-base"],[1,"relative","w-full"],["id","status-filter-dropdown","type","button","aria-haspopup","listbox",1,"w-full","flex","justify-between","items-center","px-3","py-2","bg-white","border","border-gray-300","rounded-lg","shadow-sm","text-gray-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500",3,"click","aria-expanded","aria-label"],["aria-hidden","true",1,"fas","fa-chevron-down","ml-2"],["role","listbox",1,"absolute","z-10","mt-2","w-full","bg-white","border","border-gray-300","rounded-lg","shadow-lg","max-h-64","overflow-auto","animate-fade-in",3,"aria-label"],[1,"mt-4","px-4","py-2","text-xs","bg-red-100","text-red-700","rounded","hover:bg-red-200","transition-colors","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click","aria-label"],[1,"flex","items-center","px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"aria-label"],["type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500","mr-2",3,"change","checked","aria-checked","aria-labelledby"],["aria-hidden","true",1,"w-4","h-4","rounded-full","ml-2","border","border-gray-300"],[1,"ml-3","text-sm","font-medium","text-gray-700",3,"ngClass","id"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),g(4,"i18n"),D("click",function(){return S(r),E(i.toggleFilterVisibility())}),k(5,"i",5),p(6,"span",6),h(7),g(8,"i18n"),f(),j(9,Lve,2,1,"span",7),f()(),j(10,Uve,16,18,"div",8),f(),p(11,"div",9),k(12,"full-calendar",10,0),f()()}t&2&&(u(3),kt("aria-label",ie(v(4,9,"filter")))("aria-pressed",ie(i.isFilterVisible()?"true":"false")),u(3),A("ngClass",i.fontText),u(),R(v(8,11,"filter")),u(2),q(i.activeFilterCount()>0?9:-1),u(),q(i.isFilterVisible()?10:-1),u(2),A("options",i.calendarOptions))},dependencies:[pe,es,Tq,Aq,Se],encapsulation:2,changeDetection:0});var CS=Rh;var $ve=(n,e)=>e.id,Hve=(n,e)=>e.value;function zve(n,e){if(n&1&&(p(0,"span",32),h(1),f()),n&2){let t=b().$implicit;u(),C(" (",t.specialties.join(", "),")")}}function Wve(n,e){if(n&1&&(p(0,"option",14),h(1),j(2,zve,2,1,"span",32),f()),n&2){let t=e.$implicit;A("ngValue",t.id),u(),C(" ",t.name," "),u(),q(t.specialties&&t.specialties.length>0?2:-1)}}function Gve(n,e){if(n&1&&(p(0,"option",21),h(1),f()),n&2){let t=e.$implicit;A("value",t.value),u(),R(t.label)}}var Nh=class Nh{constructor(){this.serviceRequest=ge.required();this.close=de();this.appointmentConfirmed=de();this.dataService=L(At);this.availableProfessionals=K(()=>this.dataService.getProfessionalsByCategory(this.serviceRequest().category));this.selectedProfessionalId=B(null);this.selectedDate=B("");this.selectedTime=B("");this.availableTimeSlots=[{value:"08:00",label:"08:00"},{value:"09:00",label:"09:00"},{value:"10:00",label:"10:00"},{value:"11:00",label:"11:00"},{value:"14:00",label:"14:00"},{value:"15:00",label:"15:00"},{value:"16:00",label:"16:00"},{value:"17:00",label:"17:00"}];this.canConfirm=K(()=>this.selectedProfessionalId()&&this.selectedDate()&&this.selectedTime())}getTomorrowDate(){let e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}confirmAppointment(){if(!this.canConfirm())return;let e=this.selectedProfessionalId(),t=new Date(`${this.selectedDate()}T${this.selectedTime()}`);this.appointmentConfirmed.emit({requestId:this.serviceRequest().id,professionalId:e,date:t})}};Nh.\u0275fac=function(t){return new(t||Nh)},Nh.\u0275cmp=ce({type:Nh,selectors:[["app-scheduler"]],inputs:{serviceRequest:[1,"serviceRequest"]},outputs:{close:"close",appointmentConfirmed:"appointmentConfirmed"},decls:72,vars:69,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-lg","max-h-[90vh]","overflow-y-auto"],[1,"sticky","top-0","bg-white","border-b","border-gray-200","px-4","py-4","sm:px-6"],[1,"flex","items-center","justify-between"],[1,"text-lg","sm:text-xl","font-bold","text-gray-900","pr-4"],[1,"flex-shrink-0","text-gray-400","hover:text-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-xl","p-2","shadow-sm","transition-all","duration-200",3,"click","aria-label"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-sm","text-gray-600","mt-2","line-clamp-2"],[1,"px-4","py-4","sm:px-6","space-y-6"],[1,"space-y-2"],["for","professional",1,"block","text-sm","font-semibold","text-gray-700"],["id","professional","name","professional",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-xl","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200",3,"ngModelChange","ngModel","aria-label"],["disabled","",3,"ngValue"],[3,"ngValue"],[1,"space-y-4","sm:space-y-0","sm:grid","sm:grid-cols-2","sm:gap-4"],["for","date",1,"block","text-sm","font-semibold","text-gray-700"],["type","date","id","date","name","date",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-xl","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200",3,"ngModelChange","ngModel","min","aria-label"],["for","time",1,"block","text-sm","font-semibold","text-gray-700"],["id","time","name","time",1,"block","w-full","px-4","py-3","text-base","border","border-gray-300","rounded-xl","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200",3,"ngModelChange","ngModel","aria-label"],["value","","disabled",""],[3,"value"],[1,"bg-gray-50","rounded-xl","p-4","border","border-gray-200","shadow-sm"],[1,"text-sm","font-semibold","text-gray-700","mb-2"],[1,"space-y-2","text-sm","text-gray-600"],[1,"font-medium"],[1,"ml-1"],[1,"ml-1","text-xs"],[1,"sticky","bottom-0","bg-gray-50","border-t","border-gray-200","px-4","py-4","sm:px-6"],[1,"flex","flex-col","sm:flex-row","sm:justify-end","gap-3"],[1,"w-full","sm:w-auto","px-6","py-3","text-base","font-semibold","text-gray-700","bg-white","border","border-gray-300","rounded-xl","hover:bg-indigo-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","shadow-sm","transition-all","duration-200",3,"click","aria-label"],[1,"w-full","sm:w-auto","px-6","py-3","text-base","font-semibold","text-white","bg-blue-600","rounded-xl","hover:bg-blue-700","disabled:bg-gray-300","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-blue-500","shadow-lg","transition-all","duration-200",3,"click","disabled","aria-label"],[1,"hidden","sm:inline"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),h(5),g(6,"i18n"),f(),p(7,"button",5),g(8,"i18n"),D("click",function(){return i.close.emit()}),Oe(),p(9,"svg",6),k(10,"path",7),f()()(),Ue(),p(11,"p",8),h(12),f()(),p(13,"div",9)(14,"div",10)(15,"label",11),h(16),g(17,"i18n"),f(),p(18,"select",12),g(19,"i18n"),Nt("ngModelChange",function(o){return Lt(i.selectedProfessionalId,o)||(i.selectedProfessionalId=o),o}),p(20,"option",13),h(21),g(22,"i18n"),f(),oe(23,Wve,3,3,"option",14,$ve),f()(),p(25,"div",15)(26,"div",10)(27,"label",16),h(28),g(29,"i18n"),f(),p(30,"input",17),g(31,"i18n"),Nt("ngModelChange",function(o){return Lt(i.selectedDate,o)||(i.selectedDate=o),o}),f()(),p(32,"div",10)(33,"label",18),h(34),g(35,"i18n"),f(),p(36,"select",19),g(37,"i18n"),Nt("ngModelChange",function(o){return Lt(i.selectedTime,o)||(i.selectedTime=o),o}),p(38,"option",20),h(39),g(40,"i18n"),f(),oe(41,Gve,2,2,"option",21,Hve),f()()(),p(43,"div",22)(44,"h4",23),h(45),g(46,"i18n"),f(),p(47,"div",24)(48,"div")(49,"span",25),h(50),g(51,"i18n"),f(),p(52,"span",26),h(53),f()(),p(54,"div")(55,"span",25),h(56),g(57,"i18n"),f(),p(58,"div",27),h(59),k(60,"br"),h(61),f()()()()(),p(62,"div",28)(63,"div",29)(64,"button",30),g(65,"i18n"),D("click",function(){return i.close.emit()}),h(66),g(67,"i18n"),f(),p(68,"button",31),g(69,"i18n"),D("click",function(){return i.confirmAppointment()}),h(70),g(71,"i18n"),f()()()()()),t&2&&(u(5),C(" ",v(6,35,"scheduleAppointmentFor")," "),u(2),kt("aria-label",ie(v(8,37,"close"))),u(5),C(' "',i.serviceRequest().title,'" '),u(4),C(" ",v(17,39,"selectProfessional")," "),u(2),kt("aria-label",ie(v(19,41,"selectProfessional"))),Rt("ngModel",i.selectedProfessionalId),u(2),A("ngValue",null),u(),C(" ",v(22,43,"selectAProfessional")," "),u(2),se(i.availableProfessionals()),u(5),C(" ",v(29,45,"selectDate")," "),u(2),kt("aria-label",ie(v(31,47,"selectDate"))),Rt("ngModel",i.selectedDate),A("min",i.getTomorrowDate()),u(4),C(" ",v(35,49,"selectTime")," "),u(2),kt("aria-label",ie(v(37,51,"selectTime"))),Rt("ngModel",i.selectedTime),u(3),R(v(40,53,"selectTime")),u(2),se(i.availableTimeSlots),u(4),C(" ",v(46,55,"serviceDetails")," "),u(5),C("",v(51,57,"category"),":"),u(3),R(i.serviceRequest().category),u(3),C("",v(57,59,"address"),":"),u(3),je(" ",i.serviceRequest().street,", ",i.serviceRequest().city," "),u(2),je("",i.serviceRequest().state," - ",i.serviceRequest().zip_code," "),u(3),kt("aria-label",ie(v(65,61,"cancel"))),u(2),C(" ",v(67,63,"cancel")," "),u(2),kt("aria-label",ie(v(69,65,"confirmSchedule"))),A("disabled",!i.canConfirm()),u(2),C(" ",v(71,67,"confirmSchedule")," "))},dependencies:[pe,ft,ii,ri,Vt,yo,Qt,$t,Se],encapsulation:2,changeDetection:0});var xS=Nh;function Qve(n,e){if(n&1&&(p(0,"option",9),h(1),f()),n&2){let t=e.$implicit;A("value",t),u(),R(t)}}function Yve(n,e){if(n&1&&(p(0,"option",9),h(1),f()),n&2){let t=e.$implicit;A("value",t),u(),R(t)}}function Zve(n,e){if(n&1&&k(0,"app-service-list",13),n&2){let t=b();A("serviceRequests",t.filteredRequests())("currentUser",t.user())}}function Xve(n,e){n&1&&(p(0,"div",14)(1,"p",15),h(2),g(3,"i18n"),f()()),n&2&&(u(2),R(v(3,1,"noResultsFound")))}var Ph=class Ph{constructor(){this.user=ge.required();this.dataService=L(At);this.allRequests=this.dataService.serviceRequests;this.categories=this.dataService.categories;this.statuses=["Pending","Assigned","In Progress","Completed","Cancelled"];this.searchTerm=B("");this.categoryFilter=B(null);this.statusFilter=B("");this.filteredRequests=K(()=>{let e=this.searchTerm().toLowerCase(),t=this.categoryFilter(),i=this.statusFilter();return this.allRequests().filter(r=>{let o=e?r.title.toLowerCase().includes(e)||r.description.toLowerCase().includes(e):!0,s=t!==null?r.category_id===t:!0,a=i?r.status===i:!0;return o&&s&&a})})}};Ph.\u0275fac=function(t){return new(t||Ph)},Ph.\u0275cmp=ce({type:Ph,selectors:[["app-search"]],inputs:{user:[1,"user"]},decls:37,vars:29,consts:[[1,"container","mx-auto","p-4"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-white","p-6","rounded-lg","shadow-md","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["for","searchTerm",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","searchTerm",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["for","category",1,"block","text-sm","font-medium","text-gray-700"],["id","category",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"text-2xl","font-semibold","mb-4"],[3,"serviceRequests","currentUser"],[1,"text-center","py-12","bg-white","rounded-lg","shadow-md"],[1,"text-gray-500"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"h1",1),h(2),g(3,"i18n"),f(),p(4,"div",2)(5,"div",3)(6,"div")(7,"label",4),h(8),g(9,"i18n"),f(),p(10,"input",5),g(11,"i18n"),D("ngModelChange",function(o){return i.searchTerm.set(o)}),f()(),p(12,"div")(13,"label",6),h(14),g(15,"i18n"),f(),p(16,"select",7),D("ngModelChange",function(o){return i.categoryFilter.set(o)}),p(17,"option",8),h(18),g(19,"i18n"),f(),oe(20,Qve,2,2,"option",9,ln),f()(),p(22,"div")(23,"label",10),h(24),g(25,"i18n"),f(),p(26,"select",11),D("ngModelChange",function(o){return i.statusFilter.set(o)}),p(27,"option",8),h(28),g(29,"i18n"),f(),oe(30,Yve,2,2,"option",9,ln),f()()()(),p(32,"h2",12),h(33),g(34,"i18n"),f(),j(35,Zve,1,2,"app-service-list",13)(36,Xve,4,3,"div",14),f()),t&2&&(u(2),R(v(3,13,"searchServiceRequests")),u(6),R(v(9,15,"searchTerm")),u(2),A("ngModel",i.searchTerm())("placeholder",v(11,17,"searchTermPlaceholder")),u(4),R(v(15,19,"category")),u(2),A("ngModel",i.categoryFilter()),u(2),R(v(19,21,"allCategories")),u(2),se(i.categories()),u(4),R(v(25,23,"status")),u(2),A("ngModel",i.statusFilter()),u(2),R(v(29,25,"allStatuses")),u(2),se(i.statuses),u(3),je("",v(34,27,"results")," (",i.filteredRequests().length,")"),u(2),q(i.filteredRequests().length>0?35:36))},dependencies:[pe,ft,ii,ri,Vt,yo,Qt,$t,Jf,Se],encapsulation:2,changeDetection:0});var wS=Ph;function Jve(n,e){if(n&1&&(Ie(0,"span",11),h(1),Ne()),n&2){let t=b();me(t.getDurationVarianceClass(t.durationVariance())),u(),je(" (",t.durationVariance()>0?"+":"","",t.durationVariance(),"min) ")}}function Kve(n,e){if(n&1&&(Ie(0,"div",4)(1,"div",12)(2,"label",13),h(3),g(4,"i18n"),Ne(),Ie(5,"p",14),h(6),Ne()(),Ie(7,"div",15)(8,"label",16),h(9),g(10,"i18n"),Ne(),Ie(11,"p",17),h(12),Ne()()()),n&2){let t=b();u(3),C(" ",v(4,4,"actualStartDateTime")," "),u(3),C(" ",t.formatDateTime(t.request().actual_start_datetime)," "),u(3),C(" ",v(10,6,"actualEndDateTime")," "),u(3),C(" ",t.formatDateTime(t.request().actual_end_datetime)," ")}}function eye(n,e){if(n&1){let t=H();Ie(0,"button",21),fr("click",function(){S(t);let r=b(2);return E(r.startWork())}),Wi(1,"i",22),h(2),g(3,"i18n"),Ne()}n&2&&(u(2),C(" ",v(3,1,"startWork")," "))}function tye(n,e){if(n&1){let t=H();Ie(0,"button",23),fr("click",function(){S(t);let r=b(2);return E(r.finishWork())}),Wi(1,"i",24),h(2),g(3,"i18n"),Ne()}n&2&&(u(2),C(" ",v(3,1,"finishWork")," "))}function nye(n,e){n&1&&(Wi(0,"i",25),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"serviceCompleted")," "))}function iye(n,e){n&1&&(Wi(0,"i",26),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"serviceInProgress")," "))}function rye(n,e){n&1&&(Wi(0,"i",27),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"awaitingSchedule")," "))}function oye(n,e){n&1&&(Wi(0,"i",28),h(1),g(2,"i18n")),n&2&&(u(),C(" ",v(2,1,"noActionAvailable")," "))}function sye(n,e){if(n&1&&(Ie(0,"div",20),j(1,nye,3,3)(2,iye,3,3)(3,rye,3,3)(4,oye,3,3),Ne()),n&2){let t,i=b(2);u(),q((t=i.schedulingStatus())==="Completed"?1:t==="In Progress"?2:t==="Awaiting Schedule"?3:4)}}function aye(n,e){if(n&1&&(Ie(0,"div",9),j(1,eye,4,3,"button",18),j(2,tye,4,3,"button",19),j(3,sye,5,1,"div",20),Ne()),n&2){let t=b();u(),q(t.canStartWork()?1:-1),u(),q(t.canFinishWork()?2:-1),u(),q(!t.canStartWork()&&!t.canFinishWork()?3:-1)}}function lye(n,e){n&1&&(Ie(0,"div",10)(1,"h4",29),h(2),g(3,"i18n"),Ne(),Ie(4,"p",30),h(5),g(6,"i18n"),Ne()()),n&2&&(u(2),C(" ",v(3,2,"adminActions")," "),u(3),C(" ",v(6,4,"useSchedulerToManage")," "))}var Oh=class Oh{constructor(){this.request=ge.required();this.onStartWork=de();this.onFinishWork=de();this.onUpdateDuration=de();this.dataService=L(At);this.authService=L(Oi);this.i18n=L($e);this.currentUser=this.authService.appUser;this.canStartWork=K(()=>{let e=this.currentUser(),t=this.request();return e?.role==="professional"&&t.professional_id===e.id&&!t.actual_start_datetime&&t.status==="Agendado"});this.canFinishWork=K(()=>{let e=this.currentUser(),t=this.request();return e?.role==="professional"&&t.professional_id===e.id&&t.actual_start_datetime&&!t.actual_end_datetime&&t.status==="Em execu\xE7\xE3o"});this.canManageSchedule=K(()=>this.currentUser()?.role==="admin");this.schedulingStatus=K(()=>this.dataService.getSchedulingStatus(this.request()));this.actualDuration=K(()=>this.dataService.calculateActualDuration(this.request()));this.durationVariance=K(()=>this.dataService.calculateDurationVariance(this.request()))}formatDuration(e){if(!e)return"--";let t=Math.floor(e/60),i=e%60;return t>0?`${t}h ${i}min`:`${i}min`}formatDateTime(e){if(!e)return"--";let t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString("pt-PT",{hour:"2-digit",minute:"2-digit"})}getStatusClass(e){switch(e){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Delayed":return"bg-red-100 text-red-800";case"Scheduled Today":return"bg-orange-100 text-orange-800";case"Scheduled":return"bg-purple-100 text-purple-800";case"Awaiting Schedule":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}getDurationVarianceClass(e){return e?e>0?"text-red-600":e<0?"text-green-600":"text-gray-600":"text-gray-600"}async startWork(){try{await this.dataService.startServiceWork(this.request().id),this.onStartWork.emit(this.request().id)}catch(e){console.error("Erro ao iniciar trabalho:",e)}}async finishWork(){try{await this.dataService.finishServiceWork(this.request().id),this.onFinishWork.emit(this.request().id)}catch(e){console.error("Erro ao finalizar trabalho:",e)}}};Oh.\u0275fac=function(t){return new(t||Oh)},Oh.\u0275cmp=ce({type:Oh,selectors:[["app-time-control"]],inputs:{request:[1,"request"]},outputs:{onStartWork:"onStartWork",onFinishWork:"onFinishWork",onUpdateDuration:"onUpdateDuration"},decls:36,vars:26,consts:[[1,"bg-white","rounded-lg","border","border-gray-200","p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-3","py-1","rounded-full","text-sm","font-medium"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"block","text-sm","font-medium","text-gray-600","mb-1"],[1,"text-sm","text-gray-900"],[1,"ml-2","text-xs",3,"class"],[1,"flex","flex-col","sm:flex-row","gap-3"],[1,"mt-4","p-4","bg-yellow-50","rounded-lg","border","border-yellow-200"],[1,"ml-2","text-xs"],[1,"bg-blue-50","rounded-lg","p-4"],[1,"block","text-sm","font-medium","text-blue-600","mb-1"],[1,"text-sm","text-blue-900"],[1,"bg-green-50","rounded-lg","p-4"],[1,"block","text-sm","font-medium","text-green-600","mb-1"],[1,"text-sm","text-green-900"],[1,"flex-1","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","gap-2"],[1,"flex-1","bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","gap-2"],[1,"flex-1","bg-gray-100","text-gray-600","px-4","py-2","rounded-lg","text-center"],[1,"flex-1","bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","gap-2",3,"click"],[1,"fas","fa-play"],[1,"flex-1","bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded-lg","transition-colors","duration-200","flex","items-center","justify-center","gap-2",3,"click"],[1,"fas","fa-stop"],[1,"fas","fa-check-circle","mr-2","text-green-600"],[1,"fas","fa-clock","mr-2","text-blue-600"],[1,"fas","fa-calendar-times","mr-2","text-yellow-600"],[1,"fas","fa-hourglass-half","mr-2"],[1,"text-sm","font-medium","text-yellow-800","mb-2"],[1,"text-sm","text-yellow-700"]],template:function(t,i){if(t&1&&(Ie(0,"div",0)(1,"div",1)(2,"h3",2),h(3),g(4,"i18n"),Ne(),Ie(5,"span",3),h(6),Ne()(),Ie(7,"div",4)(8,"div",5)(9,"label",6),h(10),g(11,"i18n"),Ne(),Ie(12,"p",7),h(13),Ne()(),Ie(14,"div",5)(15,"label",6),h(16),g(17,"i18n"),Ne(),Ie(18,"p",7),h(19),Ne()(),Ie(20,"div",5)(21,"label",6),h(22),g(23,"i18n"),Ne(),Ie(24,"p",7),h(25),Ne()(),Ie(26,"div",5)(27,"label",6),h(28),g(29,"i18n"),Ne(),Ie(30,"p",7),h(31),j(32,Jve,2,4,"span",8),Ne()()(),j(33,Kve,13,8,"div",4),j(34,aye,4,3,"div",9),j(35,lye,7,6,"div",10),Ne()),t&2){let r;u(3),C(" ",v(4,16,"timeControl")," "),u(2),me(i.getStatusClass(i.schedulingStatus())),u(),C(" ",i.schedulingStatus()," "),u(4),C(" ",v(11,18,"requestedDateTime")," "),u(3),C(" ",i.formatDateTime(i.request().requested_datetime||i.request().requested_date)," "),u(3),C(" ",v(17,20,"scheduledStartDateTime")," "),u(3),C(" ",i.formatDateTime(i.request().scheduled_start_datetime||i.request().scheduled_date)," "),u(3),C(" ",v(23,22,"estimatedDuration")," "),u(3),C(" ",i.formatDuration(i.request().estimated_duration_minutes)," "),u(3),C(" ",v(29,24,"actualDuration")," "),u(3),C(" ",i.formatDuration(i.actualDuration())," "),u(),q(i.durationVariance()!==null?32:-1),u(),q(i.request().actual_start_datetime||i.request().actual_end_datetime?33:-1),u(),q(((r=i.currentUser())==null?null:r.role)==="professional"?34:-1),u(),q(i.canManageSchedule()?35:-1)}},dependencies:[pe,ft,Se],encapsulation:2,changeDetection:0});var SS=Oh;var cye=(n,e,t)=>({"bg-blue-500 border-blue-500 text-white":n,"bg-green-500 border-green-500 text-white":e,"bg-gray-100 border-gray-300 text-gray-400":t}),uye=(n,e,t)=>({"text-blue-600":n,"text-green-600":e,"text-gray-500":t}),dye=n=>({"bg-blue-500":n}),pye=(n,e)=>e.id;function fye(n,e){if(n&1&&k(0,"div",16),n&2){let t=b().$implicit;A("ngClass",Jn(1,dye,t.completed))}}function hye(n,e){n&1&&(p(0,"span",22),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" \u2713 ",v(2,1,"completed")," "))}function mye(n,e){n&1&&(p(0,"span",23),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" \u23F3 ",v(2,1,"in_progress")," "))}function gye(n,e){n&1&&(p(0,"span",24),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" \u23F8\uFE0F ",v(2,1,"pending")," "))}function vye(n,e){n&1&&k(0,"span",30)}function yye(n,e){if(n&1&&(p(0,"span",29),j(1,vye,1,0,"span",30),h(2),f()),n&2){let t=e.$implicit,i=b(3);A("ngClass",t===i.serviceRequest().status?"bg-blue-100 text-blue-800 font-medium ring-2 ring-blue-200":"bg-gray-100 text-gray-600"),u(),q(t===i.serviceRequest().status?1:-1),u(),C(" ",t," ")}}function _ye(n,e){if(n&1&&(p(0,"div",26)(1,"h5",27),h(2),g(3,"i18n"),f(),p(4,"div",28),oe(5,yye,3,3,"span",29,ln),f()()),n&2){let t=b().$implicit;u(2),C(" ",v(3,1,"possible_states"),": "),u(3),se(t.statuses)}}function bye(n,e){if(n&1&&(p(0,"div",14),j(1,fye,1,3,"div",16),p(2,"div",17)(3,"div",18),h(4),f(),p(5,"div",19)(6,"div",20)(7,"h4",21),h(8),g(9,"i18n"),f(),j(10,hye,3,3,"span",22)(11,mye,3,3,"span",23)(12,gye,3,3,"span",24),f(),p(13,"p",25),h(14),f(),j(15,_ye,7,3,"div",26),f()()()),n&2){let t=e.$implicit,i=b();u(),q(t.id<4?1:-1),u(2),A("ngClass",eC(12,cye,t.current,t.completed,!t.current&&!t.completed)),u(),C(" ",i.getPhaseIcon(t.icon)," "),u(3),A("ngClass",eC(16,uye,t.current,t.completed,!t.current&&!t.completed)),u(),n0(" ",v(9,10,"phase")," ",t.id,": ",t.title," "),u(2),q(t.completed?10:t.current?11:12),u(4),R(t.description),u(),q(t.current?15:-1)}}function Cye(n,e){if(n&1&&(p(0,"div")(1,"span",33),h(2),g(3,"i18n"),f(),p(4,"span",34),h(5),g(6,"date"),f()()),n&2){let t=b(2);u(2),C("",v(3,2,"requested_at"),":"),u(3),C(" ",Ke(6,4,t.serviceRequest().requested_datetime,"dd/MM/yyyy HH:mm")," ")}}function xye(n,e){if(n&1&&(p(0,"div")(1,"span",33),h(2),g(3,"i18n"),f(),p(4,"span",34),h(5),g(6,"date"),f()()),n&2){let t=b(2);u(2),C("",v(3,2,"scheduled_for"),":"),u(3),C(" ",Ke(6,4,t.serviceRequest().scheduled_start_datetime,"dd/MM/yyyy HH:mm")," ")}}function wye(n,e){if(n&1&&(p(0,"div")(1,"span",33),h(2),g(3,"i18n"),f(),p(4,"span",34),h(5),g(6,"date"),f()()),n&2){let t=b(2);u(2),C("",v(3,2,"started_at"),":"),u(3),C(" ",Ke(6,4,t.serviceRequest().actual_start_datetime,"dd/MM/yyyy HH:mm")," ")}}function Sye(n,e){if(n&1&&(p(0,"div")(1,"span",33),h(2),g(3,"i18n"),f(),p(4,"span",34),h(5),g(6,"date"),f()()),n&2){let t=b(2);u(2),C("",v(3,2,"completed_at"),":"),u(3),C(" ",Ke(6,4,t.serviceRequest().actual_end_datetime,"dd/MM/yyyy HH:mm")," ")}}function Eye(n,e){if(n&1&&(p(0,"div",15)(1,"h4",31),h(2),g(3,"i18n"),f(),p(4,"div",32),j(5,Cye,7,7,"div"),j(6,xye,7,7,"div"),j(7,wye,7,7,"div"),j(8,Sye,7,7,"div"),f()()),n&2){let t=b();u(2),C(" ",v(3,5,"timing_information")," "),u(3),q(t.serviceRequest().requested_datetime?5:-1),u(),q(t.serviceRequest().scheduled_start_datetime?6:-1),u(),q(t.serviceRequest().actual_start_datetime?7:-1),u(),q(t.serviceRequest().actual_end_datetime?8:-1)}}var Fh=class Fh{constructor(){this.serviceRequest=ge.required();this.i18n=L($e);this.phases=K(()=>{let t=this.serviceRequest().status;return[{id:1,title:this.i18n.translate("requestAndQuote"),description:this.i18n.translate("requestAndQuoteDescription"),statuses:["Solicitado","Em an\xE1lise","Aguardando esclarecimentos","Or\xE7amento enviado","Aguardando aprova\xE7\xE3o do or\xE7amento","Or\xE7amento rejeitado"],completed:this.isPhaseCompleted(1,t),current:this.isCurrentPhase(1,t),icon:"document-text",color:"blue"},{id:2,title:this.i18n.translate("selectionAndScheduling"),description:this.i18n.translate("selectionAndSchedulingDescription"),statuses:["Or\xE7amento aprovado","Buscando profissional","Profissional selecionado","Aguardando confirma\xE7\xE3o do profissional","Agendado"],completed:this.isPhaseCompleted(2,t),current:this.isCurrentPhase(2,t),icon:"calendar",color:"green"},{id:3,title:this.i18n.translate("execution"),description:this.i18n.translate("executionDescription"),statuses:["Em execu\xE7\xE3o"],completed:this.isPhaseCompleted(3,t),current:this.isCurrentPhase(3,t),icon:"cog",color:"orange"},{id:4,title:this.i18n.translate("approvalAndPayment"),description:this.i18n.translate("approvalAndPaymentDescription"),statuses:["Conclu\xEDdo - Aguardando aprova\xE7\xE3o","Aprovado","Rejeitado","Pago","Finalizado","Cancelado"],completed:this.isPhaseCompleted(4,t),current:this.isCurrentPhase(4,t),icon:"check-circle",color:"purple"}]});this.currentPhaseNumber=K(()=>this.phases().find(i=>i.current)?.id||1);this.progressPercentage=K(()=>{let e=this.phases(),t=e.filter(o=>o.completed).length,r=e.find(o=>o.current)?.5:0;return(t+r)/e.length*100})}isPhaseCompleted(e,t){return this.getPhaseStatuses(e).indexOf(t)===-1?this.isInLaterPhase(e,t):!1}isCurrentPhase(e,t){return this.getPhaseStatuses(e).includes(t)}isInLaterPhase(e,t){for(let i=e+1;i<=4;i++)if(this.getPhaseStatuses(i).includes(t))return!0;return!1}getPhaseStatuses(e){switch(e){case 1:return["Solicitado","Em an\xE1lise","Aguardando esclarecimentos","Or\xE7amento enviado","Aguardando aprova\xE7\xE3o do or\xE7amento","Or\xE7amento rejeitado"];case 2:return["Or\xE7amento aprovado","Buscando profissional","Profissional selecionado","Aguardando confirma\xE7\xE3o do profissional","Agendado"];case 3:return["Em execu\xE7\xE3o"];case 4:return["Conclu\xEDdo - Aguardando aprova\xE7\xE3o","Aprovado","Rejeitado","Pago","Finalizado","Cancelado"];default:return[]}}getPhaseIcon(e){return{"document-text":"\u{1F4C4}",calendar:"\u{1F4C5}",cog:"\u2699\uFE0F","check-circle":"\u2705"}[e]||"\u{1F4C4}"}getStatusColor(e){return En.getColor(e)}};Fh.\u0275fac=function(t){return new(t||Fh)},Fh.\u0275cmp=ce({type:Fh,selectors:[["app-workflow-timeline"]],inputs:{serviceRequest:[1,"serviceRequest"]},decls:27,vars:22,consts:[[1,"workflow-timeline","bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"mb-6"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-blue-500","h-2","rounded-full","transition-all","duration-500"],[1,"text-right","mt-1"],[1,"text-xs","text-gray-500"],[1,"mb-6","p-4","rounded-lg",3,"ngClass"],[1,"flex","items-center","space-x-2"],[1,"font-medium"],[1,"font-semibold"],[1,"space-y-6"],[1,"relative"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"absolute","left-6","top-12","w-0.5","h-16","bg-gray-200",3,"ngClass"],[1,"flex","items-start","space-x-4"],[1,"flex-shrink-0","w-12","h-12","rounded-full","flex","items-center","justify-center","text-lg","border-2",3,"ngClass"],[1,"flex-1","min-w-0"],[1,"flex","items-center","space-x-2","mb-1"],[1,"text-sm","font-semibold",3,"ngClass"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-600"],[1,"text-sm","text-gray-600","mb-2"],[1,"mt-3","p-3","bg-gray-50","rounded-md"],[1,"text-xs","font-medium","text-gray-700","mb-2","uppercase","tracking-wide"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs",3,"ngClass"],[1,"w-2","h-2","bg-blue-500","rounded-full","mr-1"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","text-sm"],[1,"text-gray-500"],[1,"ml-2","font-medium"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),h(4),g(5,"i18n"),f(),p(6,"span",4),h(7),g(8,"i18n"),g(9,"i18n"),f()(),p(10,"div",5),k(11,"div",6),f(),p(12,"div",7)(13,"span",8),h(14),g(15,"number"),f()()(),p(16,"div",9)(17,"div",10)(18,"span",11),h(19),g(20,"i18n"),f(),p(21,"span",12),h(22),f()()(),p(23,"div",13),oe(24,bye,16,20,"div",14,pye),f(),j(26,Eye,9,7,"div",15),f()),t&2&&(u(4),C(" ",v(5,11,"workflow_progress")," "),u(3),n0(" ",v(8,13,"phase")," ",i.currentPhaseNumber()," ",v(9,15,"of")," 4 "),u(4),Vs("width",i.progressPercentage()+"%"),u(3),C("",Ke(15,17,i.progressPercentage(),"1.0-0"),"%"),u(2),A("ngClass",i.getStatusColor(i.serviceRequest().status)),u(3),C("",v(20,20,"current_status"),":"),u(3),R(i.serviceRequest().status),u(2),se(i.phases()),u(2),q(i.serviceRequest().requested_datetime||i.serviceRequest().scheduled_start_datetime?26:-1))},dependencies:[pe,es,Qi,Gi,Se],encapsulation:2,changeDetection:0});var ES=Fh;var Dye=(n,e)=>e.question.id,Aye=(n,e)=>e.id;function Tye(n,e){if(n&1&&(p(0,"span",4),h(1),g(2,"i18n"),f()),n&2){let t=b();u(),je(" ",t.unreadCount()," ",v(2,2,"unread")," ")}}function Iye(n,e){n&1&&k(0,"span",18)}function Mye(n,e){if(n&1){let t=H();p(0,"div",6)(1,"h4",9),h(2),g(3,"i18n"),f(),p(4,"div",10)(5,"div")(6,"label",11),h(7),g(8,"i18n"),f(),p(9,"input",12),g(10,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.newQuestionTitle,r)||(o.newQuestionTitle=r),E(r)}),f()(),p(11,"div")(12,"label",13),h(13),g(14,"i18n"),f(),p(15,"textarea",14),g(16,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b();return Lt(o.newQuestionContent,r)||(o.newQuestionContent=r),E(r)}),f()(),p(17,"div",15)(18,"button",16),D("click",function(){S(t);let r=b();return E(r.clearQuestionForm())}),h(19),g(20,"i18n"),f(),p(21,"button",17),D("click",function(){S(t);let r=b();return E(r.addQuestion())}),j(22,Iye,1,0,"span",18),h(23),g(24,"i18n"),f()()()()}if(n&2){let t=b();u(2),C(" ",v(3,11,"addNewQuestion")," "),u(5),C(" ",v(8,13,"questionTitle")," "),u(2),Rt("ngModel",t.newQuestionTitle),A("placeholder",v(10,15,"questionTitlePlaceholder")),u(4),C(" ",v(14,17,"questionContent")," "),u(2),Rt("ngModel",t.newQuestionContent),A("placeholder",v(16,19,"questionContentPlaceholder")),u(4),C(" ",v(20,21,"cancel")," "),u(2),A("disabled",!t.newQuestionTitle()||!t.newQuestionContent()||t.isSubmitting()),u(),q(t.isSubmitting()?22:-1),u(),C(" ",v(24,23,"addQuestion")," ")}}function kye(n,e){n&1&&(p(0,"span",4),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"new")," "))}function Rye(n,e){if(n&1&&(p(0,"span",28),h(1,"\u2022"),f(),p(2,"span",32),h(3),f()),n&2){let t=b().$implicit;u(3),R(t.question.user_role)}}function Nye(n,e){if(n&1){let t=H();p(0,"button",33),g(1,"i18n"),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.deleteClarification(r.question.id))}),k(2,"i",34),f()}n&2&&A("title",ie(v(1,2,"delete")))}function Pye(n,e){n&1&&(p(0,"span",4),h(1),g(2,"i18n"),f()),n&2&&(u(),C(" ",v(2,1,"new")," "))}function Oye(n,e){if(n&1&&(p(0,"span",28),h(1,"\u2022"),f(),p(2,"span",32),h(3),f()),n&2){let t=b().$implicit;u(3),R(t.user_role)}}function Fye(n,e){if(n&1){let t=H();p(0,"button",33),g(1,"i18n"),D("click",function(){S(t);let r=b().$implicit,o=b(4);return E(o.deleteClarification(r.id))}),k(2,"i",34),f()}n&2&&A("title",ie(v(1,2,"delete")))}function Lye(n,e){if(n&1&&(p(0,"div",35)(1,"div",21)(2,"div",22)(3,"div",23)(4,"span",36),h(5),g(6,"i18n"),f(),j(7,Pye,3,3,"span",4),f(),p(8,"h5",37),h(9),f(),p(10,"p",26),h(11),f(),p(12,"div",27)(13,"span"),h(14),g(15,"i18n"),f(),p(16,"span",28),h(17,"\u2022"),f(),p(18,"span"),h(19),g(20,"date"),f(),j(21,Oye,4,1),f()(),j(22,Fye,3,4,"button",29),f()()),n&2){let t=e.$implicit,i=b(4);u(5),C(" ",v(6,9,"answer")," "),u(2),q(!t.is_read&&t.user_id!==i.currentUser().id?7:-1),u(2),C(" ",t.title," "),u(2),C(" ",t.content," "),u(3),je("",v(15,11,"by")," ",t.user_name||"Unknown"),u(5),R(Ke(20,13,t.created_at,"medium")),u(2),q(t.user_role?21:-1),u(),q(t.user_id===i.currentUser().id?22:-1)}}function Bye(n,e){if(n&1&&(p(0,"div",30),oe(1,Lye,23,16,"div",35,Aye),f()),n&2){let t=b().$implicit;u(),se(t.answers)}}function Vye(n,e){if(n&1){let t=H();p(0,"div",31)(1,"button",38),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.toggleAnswerForm(r.question.id))}),h(2),g(3,"i18n"),f()()}n&2&&(u(2),C(" ",v(3,1,"addAnswer")," "))}function jye(n,e){n&1&&k(0,"span",18)}function qye(n,e){if(n&1){let t=H();p(0,"div",31)(1,"div",10)(2,"div")(3,"label",39),h(4),g(5,"i18n"),f(),p(6,"input",40),g(7,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b(3);return Lt(o.newAnswerTitle,r)||(o.newAnswerTitle=r),E(r)}),f()(),p(8,"div")(9,"label",39),h(10),g(11,"i18n"),f(),p(12,"textarea",41),g(13,"i18n"),Nt("ngModelChange",function(r){S(t);let o=b(3);return Lt(o.newAnswerContent,r)||(o.newAnswerContent=r),E(r)}),f()(),p(14,"div",15)(15,"button",16),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.cancelAnswer(r.question.id))}),h(16),g(17,"i18n"),f(),p(18,"button",42),D("click",function(){S(t);let r=b().$implicit,o=b(2);return E(o.addAnswer(r.question.id))}),j(19,jye,1,0,"span",18),h(20),g(21,"i18n"),f()()()()}if(n&2){let t=b(3);u(4),C(" ",v(5,10,"answerTitle")," "),u(2),Rt("ngModel",t.newAnswerTitle),A("placeholder",v(7,12,"answerTitlePlaceholder")),u(4),C(" ",v(11,14,"answerContent")," "),u(2),Rt("ngModel",t.newAnswerContent),A("placeholder",v(13,16,"answerContentPlaceholder")),u(4),C(" ",v(17,18,"cancel")," "),u(2),A("disabled",!t.newAnswerTitle()||!t.newAnswerContent()||t.isSubmitting()),u(),q(t.isSubmitting()?19:-1),u(),C(" ",v(21,20,"addAnswer")," ")}}function Uye(n,e){if(n&1&&(p(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"div",23)(5,"span",24),h(6),g(7,"i18n"),f(),j(8,kye,3,3,"span",4),f(),p(9,"h4",25),h(10),f(),p(11,"p",26),h(12),f(),p(13,"div",27)(14,"span"),h(15),g(16,"i18n"),f(),p(17,"span",28),h(18,"\u2022"),f(),p(19,"span"),h(20),g(21,"date"),f(),j(22,Rye,4,1),f()(),j(23,Nye,3,4,"button",29),f()(),j(24,Bye,3,0,"div",30),j(25,Vye,4,3,"div",31),j(26,qye,22,22,"div",31),f()),n&2){let t=e.$implicit,i=b(2);u(6),C(" ",v(7,12,"question")," "),u(2),q(!t.question.is_read&&t.question.user_id!==i.currentUser().id?8:-1),u(2),C(" ",t.question.title," "),u(2),C(" ",t.question.content," "),u(3),je("",v(16,14,"by")," ",t.question.user_name||"Unknown"),u(5),R(Ke(21,16,t.question.created_at,"medium")),u(2),q(t.question.user_role?22:-1),u(),q(t.question.user_id===i.currentUser().id?23:-1),u(),q(t.answers.length>0?24:-1),u(),q(i.canAddAnswer()&&!i.showingAnswerForm().has(t.question.id)?25:-1),u(),q(i.showingAnswerForm().has(t.question.id)?26:-1)}}function $ye(n,e){if(n&1&&(p(0,"div",7),oe(1,Uye,27,19,"div",19,Dye),f()),n&2){let t=b();u(),se(t.clarificationThreads())}}function Hye(n,e){n&1&&(p(0,"p",45),h(1),g(2,"i18n"),f()),n&2&&(u(),R(v(2,1,"addFirstQuestion")))}function zye(n,e){if(n&1&&(p(0,"div",8),k(1,"i",43),p(2,"p",44),h(3),g(4,"i18n"),f(),j(5,Hye,3,3,"p",45),f()),n&2){let t=b();u(3),R(v(4,2,"noClarificationsYet")),u(2),q(t.canAddQuestion()?5:-1)}}var Lh=class Lh{constructor(){this.serviceRequest=ge.required();this.currentUser=ge.required();this.clarificationAdded=de();this.dataService=L(At);this.i18n=L($e);this.newQuestionTitle=B("");this.newQuestionContent=B("");this.newAnswerTitle=B("");this.newAnswerContent=B("");this.isSubmitting=B(!1);this.showingAnswerForm=B(new Set);this.clarifications=K(()=>this.dataService.serviceClarifications());this.clarificationThreads=K(()=>this.dataService.getClarificationThreads(this.serviceRequest().id));this.unreadCount=K(()=>{let e=this.currentUser().id;return this.clarifications().filter(t=>t.service_request_id===this.serviceRequest().id&&t.user_id!==e&&!t.is_read).length});this.canAddQuestion=K(()=>{let e=this.currentUser(),t=this.serviceRequest();return e.id===t.client_id||e.id===t.professional_id||e.role==="admin"});this.canAddAnswer=K(()=>{let e=this.currentUser(),t=this.serviceRequest();return e.id===t.client_id||e.id===t.professional_id||e.role==="admin"});Ut(async()=>{let e=this.serviceRequest();e?.id&&(await this.dataService.fetchServiceClarifications(e.id),await this.dataService.markClarificationsAsRead(e.id))})}async addQuestion(){if(!(!this.newQuestionTitle()||!this.newQuestionContent())){this.isSubmitting.set(!0);try{await this.dataService.addClarificationQuestion(this.serviceRequest().id,this.newQuestionTitle(),this.newQuestionContent()),this.clearQuestionForm(),this.clarificationAdded.emit()}catch(e){console.error("Error adding question:",e)}finally{this.isSubmitting.set(!1)}}}async addAnswer(e){if(!(!this.newAnswerTitle()||!this.newAnswerContent())){this.isSubmitting.set(!0);try{await this.dataService.addClarificationAnswer(this.serviceRequest().id,e,this.newAnswerTitle(),this.newAnswerContent()),this.clearAnswerForm(),this.hideAnswerForm(e),this.clarificationAdded.emit()}catch(t){console.error("Error adding answer:",t)}finally{this.isSubmitting.set(!1)}}}async deleteClarification(e){if(confirm(this.i18n.translate("confirmDeleteClarification")))try{await this.dataService.deleteClarification(e,this.serviceRequest().id),this.clarificationAdded.emit()}catch(t){console.error("Error deleting clarification:",t)}}toggleAnswerForm(e){let t=this.showingAnswerForm();t.has(e)?t.delete(e):t.add(e),this.showingAnswerForm.set(new Set(t))}hideAnswerForm(e){let t=this.showingAnswerForm();t.delete(e),this.showingAnswerForm.set(new Set(t))}cancelAnswer(e){this.clearAnswerForm(),this.hideAnswerForm(e)}clearQuestionForm(){this.newQuestionTitle.set(""),this.newQuestionContent.set("")}clearAnswerForm(){this.newAnswerTitle.set(""),this.newAnswerContent.set("")}};Lh.\u0275fac=function(t){return new(t||Lh)},Lh.\u0275cmp=ce({type:Lh,selectors:[["app-service-clarifications"]],inputs:{serviceRequest:[1,"serviceRequest"],currentUser:[1,"currentUser"]},outputs:{clarificationAdded:"clarificationAdded"},decls:11,vars:6,consts:[[1,"bg-white","rounded-lg","border","border-gray-200"],[1,"px-4","py-3","border-b","border-gray-200","bg-gray-50","rounded-t-lg"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-800"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-red-100","text-red-800"],[1,"p-4","space-y-4"],[1,"border","border-gray-200","rounded-lg","p-4","bg-blue-50"],[1,"space-y-6"],[1,"text-center","py-8","text-gray-500"],[1,"text-sm","font-medium","text-gray-800","mb-3"],[1,"space-y-3"],["for","questionTitle",1,"block","text-sm","font-medium","text-gray-700"],["id","questionTitle","type","text","name","questionTitle",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["for","questionContent",1,"block","text-sm","font-medium","text-gray-700"],["id","questionContent","name","questionContent","rows","3",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],[1,"flex","justify-end","space-x-2"],["type","button",1,"px-3","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50",3,"click"],["type","button",1,"px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","border","border-transparent","rounded-md","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"inline-block","w-4","h-4","border-2","border-white","border-t-transparent","rounded-full","animate-spin","mr-2"],[1,"border","border-gray-200","rounded-lg","overflow-hidden"],[1,"bg-yellow-50","p-4","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"flex","items-center","space-x-2","mb-2"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-yellow-100","text-yellow-800"],[1,"text-sm","font-semibold","text-gray-900","mb-1"],[1,"text-sm","text-gray-700","whitespace-pre-wrap","mb-2"],[1,"flex","items-center","text-xs","text-gray-500"],[1,"mx-2"],[1,"text-gray-400","hover:text-red-600","ml-2",3,"title"],[1,"bg-white"],[1,"p-4","bg-gray-50","border-t","border-gray-200"],[1,"capitalize"],[1,"text-gray-400","hover:text-red-600","ml-2",3,"click","title"],[1,"fas","fa-trash","text-sm"],[1,"p-4","border-b","border-gray-100","last:border-b-0"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"text-sm","font-medium","text-gray-900","mb-1"],[1,"text-sm","text-blue-600","hover:text-blue-800","font-medium",3,"click"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["rows","3",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel","placeholder"],["type","button",1,"px-3","py-2","text-sm","font-medium","text-white","bg-green-600","border","border-transparent","rounded-md","hover:bg-green-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-question-circle","text-4xl","mb-3"],[1,"text-sm"],[1,"text-xs","mt-1"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),h(4),g(5,"i18n"),f(),j(6,Tye,3,4,"span",4),f()(),p(7,"div",5),j(8,Mye,25,25,"div",6),j(9,$ye,3,0,"div",7)(10,zye,6,4,"div",8),f()()),t&2&&(u(4),C(" ",v(5,4,"clarifications")," "),u(2),q(i.unreadCount()>0?6:-1),u(2),q(i.canAddQuestion()?8:-1),u(),q(i.clarificationThreads().length>0?9:10))},dependencies:[pe,ft,Vt,Qt,$t,Gi,Se],encapsulation:2,changeDetection:0});var DS=Lh;var Wye=(n,e)=>e.professional_id,Gye=(n,e)=>e.type;function Qye(n,e){if(n&1&&(p(0,"div",0),h(1," Erro: Nenhuma solicita\xE7\xE3o selecionada ou dados inv\xE1lidos."),k(2,"br"),h(3," Volte e selecione uma solicita\xE7\xE3o v\xE1lida."),k(4,"br"),p(5,"span",5),h(6),g(7,"json"),f()()),n&2){let t=b();u(6),C("[DEBUG] request(): ",v(7,1,t.request()))}}function Yye(n,e){if(n&1){let t=H();p(0,"div",1)(1,"div",6)(2,"div",7)(3,"div",8)(4,"button",9),D("click",function(){S(t);let r=b();return E(r.closeDetails.emit())}),k(5,"i",10),f(),p(6,"div")(7,"h1",11),h(8),g(9,"i18n"),f(),p(10,"p",12),h(11),f()()()()()()}if(n&2){let t=b();u(8),C(" ",v(9,2,"serviceRequestDetails")," "),u(3),C(" ",t.request().title," ")}}function Zye(n,e){if(n&1&&(p(0,"p",25),h(1),g(2,"number"),f()),n&2){let t=b().$implicit;u(),C(" \u20AC",Ke(2,1,t.quote_amount,"1.2-2")," ")}}function Xye(n,e){if(n&1&&(p(0,"p",26),h(1),f()),n&2){let t=b().$implicit;u(),C(" ",t.quote_notes," ")}}function Jye(n,e){if(n&1&&(p(0,"p",27),h(1),g(2,"i18n"),f()),n&2){let t=b().$implicit;u(),je(" ",v(2,2,"estimatedDuration"),": ",t.estimated_duration_hours,"h ")}}function Kye(n,e){if(n&1){let t=H();p(0,"div",28)(1,"button",29),D("click",function(){S(t);let r=b(4);return E(r.approveQuote.emit(r.request()))}),h(2),g(3,"i18n"),f(),p(4,"button",30),D("click",function(){S(t);let r=b(4);return E(r.rejectQuote.emit(r.request()))}),h(5),g(6,"i18n"),f()()}n&2&&(u(2),C(" ",v(3,2,"approveQuote")," "),u(3),C(" ",v(6,4,"rejectQuote")," "))}function e_e(n,e){if(n&1&&(p(0,"div",22)(1,"div",23)(2,"h4",24),h(3),g(4,"i18n"),f(),p(5,"span"),h(6),g(7,"i18n"),f()(),j(8,Zye,3,4,"p",25),j(9,Xye,2,1,"p",26),j(10,Jye,3,4,"p",27),j(11,Kye,7,6,"div",28),f()),n&2){let t=e.$implicit,i=b(3);u(3),C(" ",t.professional_name||v(4,8,"professional")," "),u(2),me(i.getResponseStatusClass(t.response_status)),u(),C(" ",v(7,10,t.response_status||"pending")," "),u(2),q(t.quote_amount?8:-1),u(),q(t.quote_notes?9:-1),u(),q(t.estimated_duration_hours?10:-1),u(),q(i.currentUser().role==="admin"&&t.response_status==="responded"&&i.request().status==="Or\xE7amento enviado"?11:-1)}}function t_e(n,e){if(n&1&&(p(0,"div",13)(1,"h3",15),h(2),g(3,"i18n"),f(),p(4,"div",17),oe(5,e_e,12,12,"div",22,Wye),f()()),n&2){let t=b(2);u(2),C(" ",v(3,1,"professionalResponses")," "),u(3),se(t.request().professional_responses)}}function n_e(n,e){if(n&1&&(p(0,"div")(1,"label",18),h(2),g(3,"i18n"),f(),p(4,"p",19),h(5),g(6,"i18n"),f()()),n&2){let t=b(2);u(2),C(" ",v(3,2,"professionalName")," "),u(3),C(" ",t.request().professional_name||v(6,4,"nameNotAvailable")," ")}}function i_e(n,e){if(n&1&&(p(0,"div")(1,"label",18),h(2),g(3,"i18n"),f(),p(4,"p",31),h(5),g(6,"number"),f()()),n&2){let t=b(2);u(2),C(" ",v(3,2,"cost")," "),u(3),C(" \u20AC",Ke(6,4,t.request().cost,"1.2-2")," ")}}function r_e(n,e){if(n&1&&(p(0,"div")(1,"label",18),h(2),g(3,"i18n"),f(),p(4,"p",19),h(5),g(6,"date"),f()()),n&2){let t=b(2);u(2),C(" ",v(3,2,"scheduledDate")," "),u(3),C(" ",Ke(6,4,t.request().scheduled_date,"short")," ")}}function o_e(n,e){if(n&1&&(p(0,"div",13)(1,"h3",15),h(2),g(3,"i18n"),f(),p(4,"div",32)(5,"div")(6,"label",18),h(7),g(8,"i18n"),f(),p(9,"p",33),h(10),f()(),p(11,"div")(12,"label",18),h(13),g(14,"i18n"),f(),p(15,"p",33),h(16),f()(),p(17,"div")(18,"label",18),h(19),g(20,"i18n"),f(),p(21,"p",33),h(22),f()(),p(23,"div")(24,"label",18),h(25),g(26,"i18n"),f(),p(27,"p",33),h(28),f()()()()),n&2){let t=b(2);u(2),C(" ",v(3,9,"address")," "),u(5),C(" ",v(8,11,"streetAddress")," "),u(3),R(t.addressParts().streetNumber||"\u2014"),u(3),C(" ",v(14,13,"postalCode")," "),u(3),R(t.addressParts().postalCode||"\u2014"),u(3),C(" ",v(20,15,"locality")," "),u(3),R(t.addressParts().locality||"\u2014"),u(3),C(" ",v(26,17,"district")," "),u(3),R(t.addressParts().district||"\u2014")}}function s_e(n,e){if(n&1&&(p(0,"div",13)(1,"h3",15),h(2),g(3,"i18n"),f(),k(4,"app-time-control",34),f()),n&2){let t=b(2);u(2),C(" ",v(3,3,"timeControl")," "),u(2),A("serviceRequest",t.request())("user",t.currentUser())}}function a_e(n,e){n&1&&k(0,"span",40)}function l_e(n,e){if(n&1){let t=H();p(0,"button",39),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.executeAction(r))}),j(1,a_e,1,0,"span",40),h(2),g(3,"i18n"),f()}if(n&2){let t=e.$implicit,i=b(3);me(i.getActionButtonClass(t)+" w-full justify-center"),A("disabled",t.loading),u(),q(t.loading?1:-1),u(),C(" ",v(3,5,t.label)," ")}}function c_e(n,e){if(n&1&&(p(0,"div",21)(1,"div",35)(2,"h3",36),h(3),g(4,"i18n"),f(),p(5,"div",37),oe(6,l_e,4,7,"button",38,Gye),f()()()),n&2){let t=b(2);u(3),C(" ",v(4,1,"availableActions")," "),u(3),se(t.availableActions())}}function u_e(n,e){if(n&1&&(p(0,"div",3)(1,"div",13),k(2,"app-workflow-timeline",14),f(),j(3,t_e,7,3,"div",13),p(4,"div",13)(5,"h3",15),h(6),g(7,"i18n"),f(),p(8,"div",16)(9,"div",17)(10,"div")(11,"label",18),h(12),g(13,"i18n"),f(),p(14,"p",19),h(15),f()(),p(16,"div")(17,"label",18),h(18),g(19,"i18n"),f(),p(20,"p",19),h(21),f()(),p(22,"div")(23,"label",18),h(24),g(25,"i18n"),f(),p(26,"p",19),h(27),f()(),p(28,"div")(29,"label",18),h(30),g(31,"i18n"),f(),p(32,"span"),h(33),g(34,"i18n"),f()()(),p(35,"div",17)(36,"div")(37,"label",18),h(38),g(39,"i18n"),f(),p(40,"span"),h(41),f()(),j(42,n_e,7,6,"div"),j(43,i_e,7,7,"div"),p(44,"div")(45,"label",18),h(46),g(47,"i18n"),f(),p(48,"p",19),h(49),g(50,"date"),f()(),j(51,r_e,7,7,"div"),f()()(),j(52,o_e,29,19,"div",13),j(53,s_e,5,5,"div",13),p(54,"div",13),k(55,"app-service-clarifications",20),f(),j(56,c_e,8,3,"div",21),f()),n&2){let t=b();u(2),A("serviceRequest",t.request()),u(),q(t.request().professional_responses&&t.request().professional_responses.length>0?3:-1),u(3),C(" ",v(7,27,"requestInformation")," "),u(6),C(" ",v(13,29,"title")," "),u(3),R(t.request().title),u(3),C(" ",v(19,31,"description")," "),u(3),R(t.request().description),u(3),C(" ",v(25,33,"category")," "),u(3),R(t.request().category),u(3),C(" ",v(31,35,"priority")," "),u(2),me(t.getPriorityClass(t.request().priority)),u(),C(" ",v(34,37,t.request().priority)," "),u(5),C(" ",v(39,39,"status")," "),u(2),me(t.getStatusClass(t.request().status)),u(),C(" ",t.request().status," "),u(),q(t.request().professional_name?42:-1),u(),q(t.request().cost?43:-1),u(3),C(" ",v(47,41,"createdAt")," "),u(3),C(" ",Ke(50,43,t.request().created_at,"short")," "),u(2),q(t.request().scheduled_date?51:-1),u(),q(t.hasAddress()?52:-1),u(),q(t.currentUser().role==="professional"&&t.request().professional_id===t.currentUser().id&&(t.request().status==="Em execu\xE7\xE3o"||t.request().status==="Or\xE7amento aprovado")?53:-1),u(2),A("serviceRequest",t.request())("currentUser",t.currentUser()),u(),q(t.availableActions().length>0?56:-1)}}function d_e(n,e){n&1&&(p(0,"div",4)(1,"p",41),h(2),g(3,"i18n"),f()()),n&2&&(u(2),R(v(3,1,"loadingServiceRequest")))}var Bh=class Bh{constructor(){this.businessRuleError=new vt;this.request=ge.required();this.currentUser=ge.required();this.workflowService=L(Zs);this.notificationService=L(jt);this.showMobileActions=B(!1);this.hasAddress=K(()=>{let e=this.request(),t=e.address;return!!(t?.street||t?.postal_code||t?.locality||t?.district||e.street||e.city||e.state||e.zip_code)});this.addressParts=K(()=>cv(this.request()));this.addressLine1=K(()=>this.addressParts().streetNumber);this.addressLine2=K(()=>{let e=this.addressParts();return[e.postalCode,e.locality].filter(Boolean).join(" ")});this.addressLine3=K(()=>this.addressParts().district);this.closeDetails=new vt;this.openChat=new vt;this.approveQuote=new vt;this.rejectQuote=new vt;this.scheduleRequest=new vt;this.payNow=new vt;this.selectProfessional=new vt;this.refreshRequest=new vt;this.availableActions=K(()=>{let e=this.currentUser(),t=this.request();console.log("\u{1F50D} [Actions Debug] User role:",e.role),console.log("\u{1F50D} [Actions Debug] Request status:",t.status);let r=[{type:"quote",label:"provideQuote",class:"primary",loading:!1,condition:e.role==="professional"&&t.status==="Solicitado"&&!t.professional_id},{type:"approve",label:"approveQuote",class:"primary",loading:!1,condition:e.role==="admin"&&t.status==="Or\xE7amento enviado"},{type:"reject",label:"rejectQuote",class:"secondary",loading:!1,condition:e.role==="admin"&&t.status==="Or\xE7amento enviado"},{type:"schedule",label:"scheduleService",class:"primary",loading:!1,condition:e.role==="professional"&&t.professional_id===e.id&&t.status==="Or\xE7amento aprovado"&&!t.scheduled_date},{type:"start",label:"startService",class:"primary",loading:!1,condition:e.role==="professional"&&t.professional_id===e.id&&t.status==="Agendado"},{type:"complete",label:"completeService",class:"primary",loading:!1,condition:e.role==="professional"&&t.professional_id===e.id&&t.status==="Em execu\xE7\xE3o"},{type:"pay",label:"payNow",class:"primary",loading:!1,condition:e.role==="admin"&&t.status==="Conclu\xEDdo - Aguardando aprova\xE7\xE3o"&&t.cost&&!t.payment_status},{type:"chat",label:"chat",class:"secondary",loading:!1,condition:e.role==="professional"&&t.professional_id===e.id}].filter(o=>o.condition).map(a=>{var l=a,{condition:o}=l,s=RS(l,["condition"]);return s});return console.log("\u{1F50D} [Actions Debug] Available actions:",r),r})}toggleMobileActions(){this.showMobileActions.update(e=>!e)}getActionButtonClass(e){let t="inline-flex items-center font-medium rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed";switch(e.class){case"primary":return`${t} bg-blue-600 hover:bg-blue-700 text-white`;case"secondary":return`${t} bg-gray-600 hover:bg-gray-700 text-white`;case"success":return`${t} bg-green-600 hover:bg-green-700 text-white`;case"danger":return`${t} bg-red-600 hover:bg-red-700 text-white`;default:return`${t} bg-gray-300 hover:bg-gray-400 text-gray-700`}}getStatusClass(e){let t="px-2 py-1 text-xs font-medium rounded-full",i=En.getColor(e);return`${t} ${i} text-white`}getStatusLabel(e){return En.getLabel(e,L($e))}getPriorityClass(e){let t="px-2 py-1 text-xs font-medium rounded-full";switch(e){case"high":return`${t} bg-red-100 text-red-800`;case"medium":return`${t} bg-yellow-100 text-yellow-800`;case"low":return`${t} bg-green-100 text-green-800`;default:return`${t} bg-gray-100 text-gray-800`}}getResponseStatusClass(e){let t="px-2 py-1 text-xs font-medium rounded-full";switch(e){case"pending":return`${t} bg-yellow-100 text-yellow-800`;case"responded":return`${t} bg-blue-100 text-blue-800`;case"accepted":return`${t} bg-green-100 text-green-800`;case"rejected":return`${t} bg-red-100 text-red-800`;default:return`${t} bg-gray-100 text-gray-800`}}async executeAction(e){try{switch(e.loading=!0,e.type){case"quote":break;case"approve":this.approveQuote.emit(this.request());break;case"reject":this.rejectQuote.emit(this.request());break;case"schedule":this.scheduleRequest.emit(this.request());break;case"start":await this.handleStartService();break;case"complete":await this.handleCompleteService();break;case"chat":this.openChat.emit(this.request());break}}catch(t){console.error(`Error executing action ${e.type}:`,t)}finally{e.loading=!1}}async handleStartService(){try{await this.workflowService.startWork(this.request().id),this.notificationService.addNotification("Servi\xE7o iniciado com sucesso!"),this.refreshRequest.emit()}catch(e){if(e instanceof Error&&e.message.includes("Tentativa de in\xEDcio antes da data agendada"))this.businessRuleError.emit("N\xE3o \xE9 permitido iniciar o servi\xE7o antes da data agendada!");else throw e}}async handleCompleteService(){try{await this.workflowService.completeWork(this.request().id),this.notificationService.addNotification("Servi\xE7o marcado como conclu\xEDdo!"),this.refreshRequest.emit()}catch(e){if(e instanceof Error&&e.message.includes("Tentativa de conclus\xE3o antes do tempo m\xEDnimo"))this.businessRuleError.emit("N\xE3o \xE9 permitido concluir o servi\xE7o antes do tempo m\xEDnimo!");else throw e}}};Bh.\u0275fac=function(t){return new(t||Bh)},Bh.\u0275cmp=ce({type:Bh,selectors:[["app-service-request-details"]],inputs:{request:[1,"request"],currentUser:[1,"currentUser"]},outputs:{businessRuleError:"businessRuleError",closeDetails:"closeDetails",openChat:"openChat",approveQuote:"approveQuote",rejectQuote:"rejectQuote",scheduleRequest:"scheduleRequest",payNow:"payNow",selectProfessional:"selectProfessional",refreshRequest:"refreshRequest"},decls:5,vars:2,consts:[[1,"bg-red-100","text-red-700","p-4","rounded","text-center","font-semibold"],[1,"bg-white","border-b","border-gray-200","sticky","top-0","z-10"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"space-y-6"],[1,"flex","items-center","justify-center","h-64"],[2,"font-size","12px"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","items-center","justify-between","h-16"],[1,"flex","items-center","space-x-4"],[1,"inline-flex","items-center","p-2","text-gray-400","hover:text-gray-600","hover:bg-gray-100","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-arrow-left","text-lg"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","truncate"],[1,"text-sm","text-gray-500","truncate"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[3,"serviceRequest"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-gray-900"],[3,"serviceRequest","currentUser"],[1,"block","sm:hidden"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-start","mb-3"],[1,"font-medium","text-gray-800","mb-2","sm:mb-0"],[1,"text-lg","font-semibold","text-green-600","mb-2"],[1,"text-sm","text-gray-600","mb-2"],[1,"text-sm","text-gray-500","mb-3"],[1,"flex","flex-col","sm:flex-row","gap-2","mt-3"],[1,"flex-1","bg-green-600","hover:bg-green-700","text-white","font-medium","py-2","px-4","rounded-md","transition-colors",3,"click"],[1,"flex-1","bg-red-600","hover:bg-red-700","text-white","font-medium","py-2","px-4","rounded-md","transition-colors",3,"click"],[1,"text-lg","font-semibold","text-green-600"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","text-gray-900"],[1,"break-words"],[3,"serviceRequest","user"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-4"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[1,"space-y-2"],[3,"disabled","class"],[3,"click","disabled"],[1,"inline-block","w-4","h-4","border-2","border-white","border-t-transparent","rounded-full","animate-spin","mr-2"],[1,"text-gray-500"]],template:function(t,i){t&1&&(j(0,Qye,8,3,"div",0)(1,Yye,12,4,"div",1),p(2,"div",2),j(3,u_e,57,46,"div",3)(4,d_e,4,3,"div",4),f()),t&2&&(q(i.request()?1:0),u(3),q(i.request()?3:4))},dependencies:[pe,ft,SS,ES,DS,EI,Qi,Gi,Se],encapsulation:2,changeDetection:0});var AS=Bh;var Vh=class Vh{constructor(){this.email=ge.required();this.verified=de();this.resendCode=de();this.backToLanding=de();this.verificationCode=B("")}verify(){this.verificationCode()&&this.verified.emit(this.verificationCode())}goBackToLanding(){this.backToLanding.emit()}};Vh.\u0275fac=function(t){return new(t||Vh)},Vh.\u0275cmp=ce({type:Vh,selectors:[["app-verification"]],inputs:{email:[1,"email"]},outputs:{verified:"verified",resendCode:"resendCode",backToLanding:"backToLanding"},decls:37,vars:30,consts:[["verifyForm","ngForm"],[1,"flex","items-center","justify-center","min-h-full","p-4","text-center"],[1,"w-full","max-w-md","space-y-8"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-4","p-4","bg-green-100","border","border-green-300","rounded-lg"],[1,"text-sm","text-green-800","text-center"],[1,"text-sm","text-green-700","text-center","mt-2"],[1,"mt-8","space-y-6",3,"ngSubmit"],["for","verification-code",1,"sr-only"],["id","verification-code","name","code","type","text","required","",1,"appearance-none","rounded-md","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngModelChange","placeholder","ngModel"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-indigo-300","disabled:cursor-not-allowed",3,"disabled"],[1,"space-y-3"],[1,"text-sm","text-center"],["href","#",1,"font-medium","text-indigo-600","hover:text-indigo-500",3,"click"],["type","button",1,"font-medium","text-gray-600","hover:text-gray-500","border","border-gray-300","px-4","py-2","rounded-md",3,"click"]],template:function(t,i){if(t&1){let r=H();p(0,"div",1)(1,"div",2)(2,"div")(3,"h2",3),h(4),g(5,"i18n"),f(),p(6,"p",4),h(7),g(8,"i18n"),f(),p(9,"div",5)(10,"p",6),h(11),g(12,"i18n"),f(),p(13,"p",7),h(14),g(15,"i18n"),f()()(),p(16,"form",8,0),D("ngSubmit",function(){return S(r),E(i.verify())}),p(18,"div")(19,"label",9),h(20),g(21,"i18n"),f(),p(22,"input",10),g(23,"i18n"),D("ngModelChange",function(s){return S(r),E(i.verificationCode.set(s))}),f()(),p(24,"div")(25,"button",11),h(26),g(27,"i18n"),f()()(),p(28,"div",12)(29,"div",13)(30,"a",14),D("click",function(s){return S(r),s.preventDefault(),E(i.resendCode.emit())}),h(31),g(32,"i18n"),f()(),p(33,"div",13)(34,"button",15),D("click",function(){return S(r),E(i.goBackToLanding())}),h(35),g(36,"i18n"),f()()()()()}if(t&2){let r=Bs(17);u(4),C(" ",v(5,12,"accountVerification")," "),u(3),je(" ",v(8,14,"verificationCodeSentTo")," ",i.email(),". "),u(4),C(" \u2705 ",v(12,16,"registrationSuccessful")," "),u(3),C(" ",v(15,18,"checkEmailBeforeAccess")," "),u(6),R(v(21,20,"verificationCode")),u(2),A("placeholder",v(23,22,"verificationCode"))("ngModel",i.verificationCode()),u(3),A("disabled",!r.valid),u(),C(" ",v(27,24,"verify")," "),u(5),C(" ",v(32,26,"resendCode")," "),u(4),C(" ",v(36,28,"backToHome")," ")}},dependencies:[pe,ft,ni,Vt,Qt,ti,bi,$t,Vn,Se],encapsulation:2,changeDetection:0});var TS=Vh;function p_e(n,e){if(n&1){let t=H();Ie(0,"div",4)(1,"a",5),fr("click",function(r){S(t);let o=b();return r.preventDefault(),E(o.setLanguage("pt"))}),h(2),g(3,"i18n"),Ne(),Ie(4,"a",5),fr("click",function(r){S(t);let o=b();return r.preventDefault(),E(o.setLanguage("en"))}),h(5),g(6,"i18n"),Ne()()}n&2&&(u(2),R(v(3,2,"portuguese")),u(3),R(v(6,4,"english")))}var jh=class jh{constructor(){this.i18n=L($e);this.isOpen=B(!1);this.theme=ge("light")}setLanguage(e){this.i18n.setLanguage(e),this.isOpen.set(!1)}};jh.\u0275fac=function(t){return new(t||jh)},jh.\u0275cmp=ce({type:jh,selectors:[["app-language-switcher"]],inputs:{theme:[1,"theme"]},decls:6,vars:2,consts:[[1,"relative"],[1,"flex","items-center","space-x-2","p-2","rounded-full","transition-colors","duration-200","focus:outline-none","bg-white","shadow-sm","border","border-gray-300",3,"click"],[1,"fas","fa-globe","text-black",2,"font-size","1.5rem","filter","drop-shadow(0 1px 2px rgba(0, 0, 0, 0.15))"],[1,"uppercase","text-sm","font-semibold","tracking-wide","text-black",2,"text-shadow","0 1px 2px rgba(0, 0, 0, 0.1)"],[1,"absolute","right-0","mt-2","w-32","bg-white","rounded-md","shadow-lg","py-1","z-50","ring-1","ring-black","ring-opacity-5"],["href","#",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"]],template:function(t,i){t&1&&(Ie(0,"div",0)(1,"button",1),fr("click",function(){return i.isOpen.set(!i.isOpen())}),Wi(2,"i",2),Ie(3,"span",3),h(4),Ne()(),j(5,p_e,7,6,"div",4),Ne()),t&2&&(u(4),C(" ",i.i18n.language()," "),u(),q(i.isOpen()?5:-1))},dependencies:[pe,Se],encapsulation:2,changeDetection:0});var IS=jh;var OU=n=>({"justify-center":n}),f_e=n=>({category:n}),PU=(n,e)=>e.id;function h_e(n,e){if(n&1){let t=H();Je(0),p(1,"div",3)(2,"div",4),k(3,"app-language-switcher",5),f(),p(4,"app-landing",6),D("signIn",function(){S(t);let r=b();return E(r.showLogin())})("createAccount",function(){S(t);let r=b();return E(r.showRegister())}),f()(),Ye()}if(n&2){let t=b();u(3),A("theme",t.authTheme())}}function m_e(n,e){if(n&1){let t=H();Je(0),p(1,"div",7)(2,"div",4),k(3,"app-language-switcher",5),f(),p(4,"app-login",8,0),D("loggedIn",function(r){S(t);let o=b();return E(o.handleLogin(r))})("switchToRegister",function(){S(t);let r=b();return E(r.showRegister())})("switchToLanding",function(){S(t);let r=b();return E(r.showLanding())})("forgotPassword",function(r){S(t);let o=b();return E(o.handleForgotPassword(r))}),f()(),Ye()}if(n&2){let t=b();u(3),A("theme",t.authTheme())}}function g_e(n,e){if(n&1){let t=H();Je(0),p(1,"div",7)(2,"div",4),k(3,"app-language-switcher",5),f(),p(4,"app-register",9),D("registered",function(r){S(t);let o=b();return E(o.handleRegister(r))})("switchToLogin",function(){S(t);let r=b();return E(r.showLogin())})("switchToLanding",function(){S(t);let r=b();return E(r.showLanding())}),f()(),Ye()}if(n&2){let t=b();u(3),A("theme",t.authTheme())}}function v_e(n,e){if(n&1){let t=H();Je(0),p(1,"app-verification",10),D("verified",function(r){S(t);let o=b();return E(o.handleVerification(r))})("resendCode",function(){S(t);let r=b();return E(r.handleResendVerification())})("backToLanding",function(){S(t);let r=b();return E(r.handleBackToLanding())}),f(),Ye()}if(n&2){let t=b();u(),A("email",t.emailForVerification())}}function y_e(n,e){if(n&1){let t=H();Je(0),p(1,"div",7)(2,"div",4),k(3,"app-language-switcher",5),f(),p(4,"app-forgot-password",11),D("codeRequested",function(r){S(t);let o=b();return E(o.handleForgotPasswordCodeRequested(r))})("backToLogin",function(){S(t);let r=b();return E(r.showLogin())}),f()(),Ye()}if(n&2){let t=b();u(3),A("theme",t.authTheme()),u(),A("initialEmail",t.emailForPasswordReset())}}function __e(n,e){if(n&1){let t=H();Je(0),p(1,"app-reset-password",12),D("passwordResetComplete",function(){S(t);let r=b();return E(r.handlePasswordResetComplete())}),f(),Ye()}if(n&2){let t=b();u(),A("initialEmail",t.emailForPasswordReset())}}function b_e(n,e){if(n&1){let t=H();p(0,"button",41),D("click",function(){let r=S(t).$implicit,o=b(2);return E(o.navigate(r.id))}),k(1,"i"),p(2,"span",42),h(3),g(4,"i18n"),f()()}if(n&2){let t=e.$implicit,i=b(2);me(i.currentNav()===t.id?"w-full flex items-center gap-3 px-3 py-2 rounded-md bg-gray-100 text-gray-900":"w-full flex items-center gap-3 px-3 py-2 rounded-md text-gray-600 hover:bg-gray-50"),A("ngClass",Jn(10,OU,i.isSidebarCollapsed())),u(),me(t.icon),u(),yt("hidden",i.isSidebarCollapsed()),u(),R(v(4,8,t.labelKey))}}function C_e(n,e){if(n&1){let t=H();p(0,"div",43)(1,"button",44),D("click",function(){S(t);let r=b(2);return E(r.openNewAdminRequestForm())}),k(2,"i",45),p(3,"span"),h(4),g(5,"i18n"),f()()()}if(n&2){let t=b(2);u(),A("ngClass",Jn(6,OU,t.isSidebarCollapsed())),u(2),yt("hidden",t.isSidebarCollapsed()),u(),R(v(5,4,"createServiceRequest"))}}function x_e(n,e){if(n&1&&(p(0,"span",46),h(1),f()),n&2){let t,i=b(2);u(),R((t=i.currentUser())==null?null:t.name)}}function w_e(n,e){if(n&1&&(p(0,"span",47),h(1),g(2,"i18n"),f()),n&2){let t,i=b(2);u(),R(v(2,1,(t=i.currentUser())==null?null:t.role))}}function S_e(n,e){n&1&&k(0,"span",48)}function E_e(n,e){if(n&1&&(p(0,"option",52),h(1),f()),n&2){let t=e.$implicit;A("value",t.id),u(),C(" ",t.label," ")}}function D_e(n,e){if(n&1){let t=H();p(0,"button",56),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.setAdminView(r.id))}),k(1,"i"),p(2,"span",35),h(3),f()()}if(n&2){let t=e.$implicit,i=b(3);me("whitespace-nowrap py-3 px-3 sm:py-4 sm:px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 flex-shrink-0 min-w-[80px] sm:min-w-0 "+(i.currentAdminView()===t.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")),u(),me(t.icon+" mr-0 sm:mr-2"),u(2),R(t.label)}}function A_e(n,e){if(n&1){let t=H();p(0,"div",49)(1,"div",50)(2,"select",51),D("change",function(r){S(t);let o=b(2);return E(o.setAdminView(r.target.value))}),oe(3,E_e,2,2,"option",52,PU),f()(),p(5,"nav",53)(6,"div",54),oe(7,D_e,4,5,"button",55,PU),f()()()}if(n&2){let t=b(2);u(2),A("value",t.currentAdminView()),u(),se(t.adminViews()),u(4),se(t.adminViews())}}function T_e(n,e){if(n&1){let t=H();Je(0),p(1,"app-admin-dashboard",57),D("viewDetails",function(r){S(t);let o=b(4);return E(o.openDetails(r))})("openChat",function(r){S(t);let o=b(4);return E(o.openChat(r))}),f(),Ye()}if(n&2){let t=b(4);u(),A("viewFromParent",t.currentAdminView())}}function I_e(n,e){if(n&1){let t=H();Je(0),p(1,"app-dashboard",58),D("viewDetails",function(r){S(t);let o=b(4);return E(o.openDetails(r))})("openChat",function(r){S(t);let o=b(4);return E(o.openChat(r))})("payNow",function(r){S(t);let o=b(4);return E(o.handlePayment(r))})("scheduleRequest",function(r){S(t);let o=b(4);return E(o.openScheduler(r))})("provideClarification",function(r){S(t);let o=b(4);return E(o.openClarificationModal(r))}),f(),Ye()}if(n&2){let t=b(4);u(),A("user",t.currentUser())}}function M_e(n,e){if(n&1){let t=H();Je(0),p(1,"app-dashboard",58),D("viewDetails",function(r){S(t);let o=b(4);return E(o.openDetails(r))})("openChat",function(r){S(t);let o=b(4);return E(o.openChat(r))})("payNow",function(r){S(t);let o=b(4);return E(o.handlePayment(r))})("scheduleRequest",function(r){S(t);let o=b(4);return E(o.openScheduler(r))})("provideClarification",function(r){S(t);let o=b(4);return E(o.openClarificationModal(r))}),f(),Ye()}if(n&2){let t=b(4);u(),A("user",t.currentUser())}}function k_e(n,e){if(n&1&&(Je(0),he(1,T_e,2,1,"ng-container",39)(2,I_e,2,1,"ng-container",39)(3,M_e,2,1,"ng-container",39),Ye()),n&2){let t,i,r,o=b(3);u(),A("ngIf",((t=o.currentUser())==null?null:t.role)==="admin"),u(),A("ngIf",((i=o.currentUser())==null?null:i.role)==="professional"),u(),A("ngIf",((r=o.currentUser())==null?null:r.role)==="client")}}function R_e(n,e){if(n&1){let t=H();Je(0),p(1,"app-schedule",59),D("viewDetails",function(r){S(t);let o=b(3);return E(o.openDetails(r))}),f(),Ye()}if(n&2){let t=b(3);u(),A("user",t.currentUser())}}function N_e(n,e){if(n&1&&(Je(0),k(1,"app-search",60),Ye()),n&2){let t=b(3);u(),A("user",t.currentUser())}}function P_e(n,e){if(n&1&&(Je(0),k(1,"app-profile",60),Ye()),n&2){let t=b(3);u(),A("user",t.currentUser())}}function O_e(n,e){if(n&1){let t=H();Je(0),p(1,"app-service-request-details",61),D("close",function(){S(t);let r=b(4);return E(r.goBackFromDetails())})("openChat",function(r){S(t);let o=b(4);return E(o.openChat(r))})("approveQuote",function(r){S(t);let o=b(4);return E(o.handleApproveQuote(r))})("rejectQuote",function(r){S(t);let o=b(4);return E(o.handleRejectQuote(r))})("scheduleRequest",function(r){S(t);let o=b(4);return E(o.openScheduler(r))})("payNow",function(r){S(t);let o=b(4);return E(o.handlePayment(r))})("refreshRequest",function(){S(t);let r=b(4);return E(r.handleRefreshRequest())}),f(),Ye()}if(n&2){let t=b(4);u(),A("request",t.selectedRequest())("currentUser",t.currentUser())}}function F_e(n,e){if(n&1&&(Je(0),he(1,O_e,2,2,"ng-container",39),Ye()),n&2){let t=b(3);u(),A("ngIf",t.selectedRequest())}}function L_e(n,e){if(n&1){let t=H();Je(0),p(1,"app-modal",62),g(2,"i18n"),D("closed",function(){S(t);let r=b(3);return E(r.categoryManagement==null?null:r.categoryManagement.cancelDeleteCategory())}),p(3,"button",63),D("click",function(){S(t);let r=b(3);return E(r.categoryManagement==null?null:r.categoryManagement.confirmDeleteCategory())}),h(4),g(5,"i18n"),f(),p(6,"button",64),D("click",function(){S(t);let r=b(3);return E(r.categoryManagement==null?null:r.categoryManagement.cancelDeleteCategory())}),h(7),g(8,"i18n"),f()(),Ye()}if(n&2){let t,i=b(3);u(),A("isVisible",!0)("title",v(2,5,"delete"))("message",i.i18n.translate("confirmDeleteCategory",Jn(11,f_e,(i.categoryManagement==null||(t=i.categoryManagement.categoryToDelete())==null?null:t.name)||""))),u(3),C(" ",v(5,7,"delete")," "),u(3),C(" ",v(8,9,"cancel")," ")}}function B_e(n,e){if(n&1&&(Je(0)(1,1),he(2,k_e,4,3,"ng-container",2)(3,R_e,2,1,"ng-container",2)(4,N_e,2,1,"ng-container",2)(5,P_e,2,1,"ng-container",2)(6,F_e,2,1,"ng-container",2),Ye(),he(7,L_e,9,13,"ng-container",39),Ye()),n&2){let t=b(2);u(),A("ngSwitch",t.currentNav()),u(),A("ngSwitchCase","dashboard"),u(),A("ngSwitchCase","schedule"),u(),A("ngSwitchCase","search"),u(),A("ngSwitchCase","profile"),u(),A("ngSwitchCase","details"),u(),A("ngIf",t.categoryManagement==null?null:t.categoryManagement.showDeleteModal())}}function V_e(n,e){if(n&1){let t=H();p(0,"button",74),D("click",function(){let r=S(t).$implicit,o=b(3);return E(o.navigate(r.id))}),k(1,"i"),p(2,"span"),h(3),g(4,"i18n"),f()()}if(n&2){let t=e.$implicit,i=b(3);me(i.currentNav()===t.id?"w-full flex items-center gap-3 px-3 py-2 rounded-md bg-gray-100 text-gray-900":"w-full flex items-center gap-3 px-3 py-2 rounded-md text-gray-600 hover:bg-gray-50"),u(),me(t.icon),u(2),R(v(4,5,t.labelKey))}}function j_e(n,e){if(n&1){let t=H();p(0,"div",43)(1,"button",75),D("click",function(){S(t);let r=b(3);return r.openNewAdminRequestForm(),E(r.toggleSidebar())}),k(2,"i",45),p(3,"span"),h(4),g(5,"i18n"),f()()()}n&2&&(u(4),R(v(5,1,"createServiceRequest")))}function q_e(n,e){if(n&1){let t=H();p(0,"div",65)(1,"div",66),D("click",function(){S(t);let r=b(2);return E(r.toggleSidebar())})("keydown.enter",function(){S(t);let r=b(2);return E(r.toggleSidebar())}),f(),p(2,"aside",67)(3,"div",68),k(4,"img",69),p(5,"button",70),D("click",function(){S(t);let r=b(2);return E(r.toggleSidebar())}),k(6,"i",71),f()(),p(7,"nav",72),he(8,V_e,5,7,"button",73),f(),he(9,j_e,6,3,"div",19),p(10,"div",20),k(11,"img",21),p(12,"span",46),h(13),f(),p(14,"span",47),h(15),g(16,"i18n"),f()()()()}if(n&2){let t,i,r,o,s=b(2);u(8),A("ngForOf",s.navItems()),u(),A("ngIf",((t=s.currentUser())==null?null:t.role)==="admin"),u(2),A("src",((i=s.currentUser())==null?null:i.avatar_url)||"src/assets/logo.jpg",dr),u(2),R((r=s.currentUser())==null?null:r.name),u(2),R(v(16,5,(o=s.currentUser())==null?null:o.role))}}function U_e(n,e){if(n&1){let t=H();Je(0),p(1,"div",76),D("click",function(){S(t);let r=b(2);return E(r.closeModal())})("keydown.enter",function(){S(t);let r=b(2);return E(r.closeModal())}),p(2,"app-notification-center",77),D("close",function(){S(t);let r=b(2);return E(r.closeModal())})("click",function(r){return S(t),E(r.stopPropagation())})("keydown.enter",function(r){S(t);let o=b(2);return r.stopPropagation(),E(o.closeModal())}),f()(),Ye()}}function $_e(n,e){if(n&1){let t=H();Je(0),p(1,"div",78),D("click",function(){S(t);let r=b(2);return E(r.closeModal())})("keydown.enter",function(){S(t);let r=b(2);return E(r.closeModal())}),p(2,"div",79),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown.enter",function(r){S(t);let o=b(2);return r.stopPropagation(),E(o.closeModal())}),p(3,"app-chat",80),D("close",function(){S(t);let r=b(2);return E(r.closeModal())}),f()()(),Ye()}if(n&2){let t=b(2);u(3),A("currentUser",t.currentUser())("serviceRequest",t.selectedRequest())}}function H_e(n,e){if(n&1){let t=H();Je(0),p(1,"div",81),D("click",function(){S(t);let r=b(2);return E(r.closeModal())})("keydown.enter",function(){S(t);let r=b(2);return E(r.closeModal())}),p(2,"div",82),D("click",function(r){return S(t),E(r.stopPropagation())})("keydown.enter",function(r){S(t);let o=b(2);return r.stopPropagation(),E(o.closeModal())}),p(3,"app-scheduler",83),D("close",function(){S(t);let r=b(2);return E(r.closeModal())})("appointmentConfirmed",function(r){S(t);let o=b(2);return E(o.handleScheduleConfirmed(r))}),f()()(),Ye()}if(n&2){let t=b(2);u(3),A("serviceRequest",t.selectedRequest())}}function z_e(n,e){if(n&1){let t=H();Je(0),p(1,"div",13)(2,"aside",14)(3,"div",15),k(4,"img",16),f(),p(5,"nav",17),he(6,b_e,5,12,"button",18),f(),he(7,C_e,6,8,"div",19),p(8,"div",20),k(9,"img",21),he(10,x_e,2,1,"span",22)(11,w_e,3,3,"span",23),f()(),p(12,"div",24)(13,"header",25)(14,"div",26)(15,"button",27),g(16,"i18n"),g(17,"i18n"),g(18,"i18n"),D("click",function(){S(t);let r=b();return E(r.toggleSidebar())}),k(19,"i",28),f(),p(20,"span",29),h(21,"HomeService"),f()(),p(22,"div",26)(23,"button",30),g(24,"i18n"),D("click",function(){S(t);let r=b();return E(r.openNotificationCenter())}),k(25,"i",31),he(26,S_e,1,0,"span",32),f(),k(27,"app-language-switcher",5),p(28,"button",33),D("click",function(){S(t);let r=b();return E(r.handleLogout())}),k(29,"i",34),p(30,"span",35),h(31),g(32,"i18n"),f()()()(),he(33,A_e,9,1,"div",36),p(34,"main",37)(35,"router-outlet",38),D("activate",function(r){S(t);let o=b();return E(o.onActivate(r))})("deactivate",function(r){S(t);let o=b();return E(o.onDeactivate(r))}),f(),he(36,B_e,8,7,"ng-container",39),f()(),he(37,q_e,17,7,"div",40),f(),he(38,U_e,3,0,"ng-container",39)(39,$_e,4,2,"ng-container",39)(40,H_e,4,1,"ng-container",39),Ye()}if(n&2){let t,i,r,o=b();u(2),A("ngClass",o.isSidebarCollapsed()?"md:w-16":"md:w-64"),u(4),A("ngForOf",o.navItems()),u(),A("ngIf",((t=o.currentUser())==null?null:t.role)==="admin"),u(2),A("src",((i=o.currentUser())==null?null:i.avatar_url)||"src/assets/logo.jpg",dr),u(),A("ngIf",!o.isSidebarCollapsed()),u(),A("ngIf",!o.isSidebarCollapsed()),u(4),et("title",o.isMobile()?v(16,19,"menu"):o.isSidebarCollapsed()?v(17,21,"expand"):v(18,23,"collapse"))("aria-expanded",o.isMobile()?o.isSidebarOpen():!o.isSidebarCollapsed()),u(8),A("title",ie(v(24,25,"notifications"))),u(3),A("ngIf",o.hasUnreadNotifications()),u(),A("theme","dark"),u(4),R(v(32,27,"logout")),u(2),A("ngIf",((r=o.currentUser())==null?null:r.role)==="admin"),u(3),A("ngIf",!o.isRouterOutletActivated),u(),A("ngIf",o.isSidebarOpen()),u(),A("ngIf",o.isNotificationCenterOpen()),u(),A("ngIf",o.isChatOpen()&&o.selectedRequest()),u(),A("ngIf",o.isSchedulerOpen()&&o.selectedRequest())}}var qh=class qh{constructor(){this.authService=L(Oi);this.dataService=L(At);this.notificationService=L(jt);this.i18n=L($e);this.pushNotificationService=L(qx);this.router=L(Zi);this.view=B("landing");this.currentNav=B("dashboard");this.isRouterOutletActivated=!1;this.adminViews=K(()=>[{id:"overview",label:this.i18n.translate("overview"),icon:"fas fa-tachometer-alt"},{id:"requests",label:this.i18n.translate("requests"),icon:"fas fa-list"},{id:"approvals",label:this.i18n.translate("approvals"),icon:"fas fa-user-check"},{id:"finances",label:this.i18n.translate("finances"),icon:"fas fa-chart-line"},{id:"professionals",label:this.i18n.translate("professionals"),icon:"fas fa-users"},{id:"clients",label:this.i18n.translate("clients"),icon:"fas fa-user-friends"},{id:"categories",label:this.i18n.translate("categories"),icon:"fas fa-tags"}]);this.currentAdminView=B("overview");this.isSidebarOpen=B(!1);this.isSidebarCollapsed=B(!1);this.isNotificationCenterOpen=B(!1);this.isChatOpen=B(!1);this.isSchedulerOpen=B(!1);this.showRegistrationModal=B(!1);this.isClarificationModalOpen=B(!1);this.selectedRequest=B(null);this.currentUser=this.authService.appUser;this.pendingEmailConfirmation=this.authService.pendingEmailConfirmation;this.emailForVerification=B("");this.emailForPasswordReset=B("");this.hasUnreadNotifications=K(()=>this.notificationService.notifications().some(e=>!e.read));this.authTheme=K(()=>this.view()==="landing"?"light":"dark");this.isMobile=K(()=>globalThis.window===void 0?!1:globalThis.window.innerWidth<768);this.navItems=K(()=>{let e=[{id:"dashboard",labelKey:"dashboard",icon:"fa-solid fa-table-columns"},{id:"schedule",labelKey:"schedule",icon:"fa-solid fa-calendar-days"},{id:"search",labelKey:"search",icon:"fa-solid fa-magnifying-glass"},{id:"profile",labelKey:"profile",icon:"fa-solid fa-user"}];return this.currentUser()?.role==="client"&&e.push({id:"create-service-request",labelKey:"newServiceRequest",icon:"fa-solid fa-plus"}),e});globalThis.window.addEventListener("message",e=>{e.origin===globalThis.window.location.origin&&(e.data?.type==="OPEN_REQUEST_DETAILS"&&e.data?.payload?this.openDetails(e.data.payload):e.data?.type==="OPEN_CHAT"&&e.data?.payload&&this.openChat(e.data.payload))}),Ut(()=>{let e=this.currentUser(),t=this.pendingEmailConfirmation();t?(this.emailForVerification.set(t),this.view.set("verification"),this.dataService.clearData()):e?e.status==="Active"?(this.view.set("app"),this.dataService.loadInitialData(e),this.pushNotificationService.requestPermission()):e.status==="Pending"?this.view.set("app"):this.authService.logout():(this.view.set("landing"),this.dataService.clearData())})}onActivate(e){this.isRouterOutletActivated=!0}onDeactivate(e){this.isRouterOutletActivated=!1}setAdminView(e){this.currentAdminView.set(e),this.currentNav()!=="dashboard"&&this.navigate("dashboard")}showLogin(){this.view.set("login")}showRegister(){this.view.set("register")}showLanding(){this.view.set("landing")}navigate(e){e==="create-service-request"?this.router.navigate(["/create-service-request"]):e==="admin-create-service-request"?this.router.navigate(["/admin-create-service-request"]):(this.router.navigate(["/"]),this.currentNav.set(e)),this.isMobile()&&this.isSidebarOpen.set(!1)}async handleLogin(e){try{let t=await this.authService.login(e.email,e.password);t.error?this.loginComponent&&this.loginComponent.setError(t.error.message):this.loginComponent&&this.loginComponent.clearError()}catch(t){console.error("Error during login:",t);let i=t instanceof Error?t.message:this.i18n.translate("login_error");this.loginComponent&&this.loginComponent.setError(i),this.notificationService.addNotification(i)}}handleRegister(e){this.authService.register(e.name,e.email,e.password,e.role),this.showRegistrationModal.set(!0)}handleVerification(e){this.authService.verifyOtp(this.emailForVerification(),e).then(t=>{t.error||(this.notificationService.addNotification("Verification successful! You can now access the application."),this.authService.pendingEmailConfirmation.set(null))})}handleResendVerification(){let e=this.emailForVerification();e&&this.authService.resendVerificationCode(e)}handleBackToLanding(){this.authService.pendingEmailConfirmation.set(null),this.emailForVerification.set(""),this.view.set("landing")}handleForgotPassword(e){this.emailForPasswordReset.set(e),this.view.set("forgot-password")}handleForgotPasswordCodeRequested(e){this.emailForPasswordReset.set(e),this.view.set("reset-password")}handlePasswordResetComplete(){this.emailForPasswordReset.set(""),this.view.set("login"),this.notificationService.addNotification(this.i18n.translate("password_reset_success"))}async handleLogout(){try{await this.authService.logout(),this.view.set("landing"),this.isSidebarOpen.set(!1),this.selectedRequest.set(null),this.isChatOpen.set(!1),this.isNotificationCenterOpen.set(!1)}catch(e){console.error("Error during logout:",e);let t=e instanceof Error?e.message:this.i18n.translate("logout_error");this.notificationService.addNotification(t),this.view.set("landing"),this.isSidebarOpen.set(!1),this.authService.appUser.set(null)}}openNewAdminRequestForm(){this.router.navigate(["/admin-create-service-request"]),this.isSidebarOpen.set(!1)}openChat(e){this.selectedRequest.set(e),this.isChatOpen.set(!0)}openScheduler(e){this.selectedRequest.set(e),this.isSchedulerOpen.set(!0)}openDetails(e){this.selectedRequest.set(e),this.currentNav.set("details")}goBackFromDetails(){this.selectedRequest.set(null),this.currentNav.set("dashboard")}openClarificationModal(e){this.selectedRequest.set(e),this.isClarificationModalOpen.set(!0)}toggleSidebar(){this.isMobile()?this.isSidebarOpen.set(!this.isSidebarOpen()):this.isSidebarCollapsed.set(!this.isSidebarCollapsed())}openNotificationCenter(){this.isNotificationCenterOpen.set(!0)}handleScheduleConfirmed(e){this.dataService.scheduleServiceRequest(e.requestId,e.professionalId,e.date),this.closeModal()}closeModal(){this.isNotificationCenterOpen.set(!1),this.isChatOpen.set(!1),this.isSchedulerOpen.set(!1),this.isClarificationModalOpen.set(!1),this.selectedRequest.set(null)}handleApproveQuote(e){this.dataService.updateServiceRequest(e.id,{status:"Aprovado"}),this.notificationService.addNotification(`Quote for "${e.title}" approved`),this.closeModal()}handleRejectQuote(e){this.dataService.updateServiceRequest(e.id,{status:"Cancelado"}),this.notificationService.addNotification(`Quote for "${e.title}" rejected`),this.closeModal()}handlePayment(e){this.dataService.updatePaymentStatus(e.id,"Paid").then(async()=>{this.notificationService.addNotification(`Payment for request #${e.id} processed.`),await this.dataService.loadInitialData(this.currentUser()),this.closeModal()}).catch(t=>{this.notificationService.addNotification(`Erro ao processar pagamento: ${t.message}`)})}handleModalClose(){this.showRegistrationModal.set(!1),this.view.set("landing")}handleRefreshRequest(){let e=this.currentUser();e&&this.dataService.loadInitialData(e)}ngOnInit(){globalThis.window!==void 0&&(this.isSidebarOpen.set(globalThis.window.innerWidth>=768),globalThis.window.addEventListener("resize",()=>{globalThis.window.innerWidth>=768?this.isSidebarOpen.set(!0):this.isSidebarOpen.set(!1)}))}};qh.\u0275fac=function(t){return new(t||qh)},qh.\u0275cmp=ce({type:qh,selectors:[["app-root"]],viewQuery:function(t,i){if(t&1&&_u(uv,5),t&2){let r;cn(r=un())&&(i.loginComponent=r.first)}},decls:8,vars:8,consts:[["loginComponent",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"relative","w-full","h-full","mobile-safe"],[1,"absolute","top-4","right-4","z-10"],[3,"theme"],[3,"signIn","createAccount"],[1,"relative","w-full","h-full"],[3,"loggedIn","switchToRegister","switchToLanding","forgotPassword"],[3,"registered","switchToLogin","switchToLanding"],[3,"verified","resendCode","backToLanding","email"],[3,"codeRequested","backToLogin","initialEmail"],[3,"passwordResetComplete","initialEmail"],[1,"flex","h-screen","bg-gray-100","text-gray-800","overflow-hidden","mobile-safe"],["aria-label","Menu lateral de navega\xE7\xE3o",1,"hidden","md:flex","bg-white","border-r","border-gray-200","flex-col","transition-all","duration-200","overflow-hidden",3,"ngClass"],[1,"h-16","flex","items-center","px-4","border-b","border-gray-200"],["src","src/assets/logo.jpg","alt","HomeService",1,"h-8","w-auto"],["aria-label","Navega\xE7\xE3o principal do menu lateral",1,"flex-1","overflow-y-auto","p-2","space-y-1"],[3,"class","ngClass","click",4,"ngFor","ngForOf"],["class","p-4 border-t border-gray-200",4,"ngIf"],[1,"flex","flex-col","items-center","gap-2","pt-4","pb-2","border-t","border-gray-100"],["alt","Avatar do usu\xE1rio",1,"w-12","h-12","rounded-full","object-cover","border","border-gray-300","shadow-sm",3,"src"],["class","font-semibold text-sm text-gray-800 text-center truncate max-w-[120px]",4,"ngIf"],["class","text-xs text-gray-500 text-center",4,"ngIf"],[1,"flex-1","flex","flex-col","overflow-hidden","min-w-0"],[1,"bg-white","shadow-sm","px-4","py-3","flex","items-center","justify-between","z-10","flex-shrink-0","min-h-[60px]"],[1,"flex","items-center","gap-2"],[1,"p-2","rounded-md","border","border-gray-200",3,"click"],[1,"fa-solid","fa-bars"],[1,"hidden","md:inline","font-semibold"],[1,"relative","p-2","rounded-md","hover:bg-gray-50",3,"click","title"],[1,"fa-solid","fa-bell"],["class","absolute -top-0.5 -right-0.5 inline-block h-2 w-2 rounded-full bg-red-500",4,"ngIf"],[1,"inline-flex","items-center","gap-2","px-3","py-2","rounded-md","border","border-gray-200","hover:bg-gray-50",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"hidden","sm:inline"],["class","flex-shrink-0 border-b-2 border-gray-200 bg-white shadow-sm",4,"ngIf"],[1,"flex-1","overflow-y-auto","overflow-x-hidden","min-w-0"],[3,"activate","deactivate"],[4,"ngIf"],["class","md:hidden",4,"ngIf"],[3,"click","ngClass"],[1,"transition-all"],[1,"p-4","border-t","border-gray-200"],[1,"w-full","inline-flex","items-center","justify-center","gap-2","px-3","py-2","rounded-md","bg-green-600","text-white","hover:bg-green-700",3,"click","ngClass"],[1,"fa-solid","fa-plus"],[1,"font-semibold","text-sm","text-gray-800","text-center","truncate","max-w-[120px]"],[1,"text-xs","text-gray-500","text-center"],[1,"absolute","-top-0.5","-right-0.5","inline-block","h-2","w-2","rounded-full","bg-red-500"],[1,"flex-shrink-0","border-b-2","border-gray-200","bg-white","shadow-sm"],[1,"block","sm:hidden","px-4","py-3"],[1,"w-full","px-3","py-2","text-sm","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500",3,"change","value"],[3,"value"],["aria-label","Navega\xE7\xE3o de visualiza\xE7\xF5es administrativas",1,"hidden","sm:flex","overflow-x-auto","-mb-px","px-4","sm:px-6","scrollbar-hide"],[1,"flex","space-x-4","sm:space-x-6","min-w-max"],[1,"flex","items-center","justify-center","sm:justify-start",3,"class"],[1,"flex","items-center","justify-center","sm:justify-start",3,"click"],[3,"viewDetails","openChat","viewFromParent"],[3,"viewDetails","openChat","payNow","scheduleRequest","provideClarification","user"],[3,"viewDetails","user"],[3,"user"],[3,"close","openChat","approveQuote","rejectQuote","scheduleRequest","payNow","refreshRequest","request","currentUser"],[3,"closed","isVisible","title","message"],["type","button",1,"px-4","py-2","bg-red-600","text-white","rounded-lg","hover:bg-red-700","mr-2",3,"click"],["type","button",1,"px-4","py-2","bg-gray-300","text-gray-800","rounded-lg","hover:bg-gray-400",3,"click"],[1,"md:hidden"],["aria-label","Fechar menu lateral",1,"fixed","inset-0","bg-black/40","z-40",3,"click","keydown.enter"],["aria-label","Menu lateral de navega\xE7\xE3o (mobile)",1,"fixed","inset-y-0","left-0","w-64","bg-white","z-50","shadow-lg","flex","flex-col"],[1,"h-16","flex","items-center","px-4","border-b","border-gray-200","justify-between"],["src","assets/logo.jpg","alt","HomeService",1,"h-8","w-auto"],[1,"p-2",3,"click"],[1,"fa-solid","fa-xmark"],["aria-label","Navega\xE7\xE3o principal do menu lateral (mobile)",1,"flex-1","overflow-y-auto","p-2","space-y-1"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"w-full","inline-flex","items-center","justify-center","gap-2","px-3","py-2","rounded-md","bg-green-600","text-white","hover:bg-green-700",3,"click"],["aria-label","Fechar centro de notifica\xE7\xF5es",1,"modal-backdrop-right",3,"click","keydown.enter"],["aria-label","Centro de notifica\xE7\xF5es",3,"close","click","keydown.enter"],["aria-label","Fechar modal de chat",1,"modal-backdrop",3,"click","keydown.enter"],["aria-label","Conte\xFAdo do chat",1,"modal-content","max-w-2xl","h-3/4",3,"click","keydown.enter"],[3,"close","currentUser","serviceRequest"],["aria-label","Fechar modal de agendamento",1,"modal-backdrop",3,"click","keydown.enter"],["aria-label","Conte\xFAdo do agendamento",1,"modal-content",3,"click","keydown.enter"],[3,"close","appointmentConfirmed","serviceRequest"]],template:function(t,i){t&1&&(Je(0,1),he(1,h_e,5,1,"ng-container",2)(2,m_e,6,1,"ng-container",2)(3,g_e,5,1,"ng-container",2)(4,v_e,2,1,"ng-container",2)(5,y_e,5,2,"ng-container",2)(6,__e,2,1,"ng-container",2)(7,z_e,41,29,"ng-container",2),Ye()),t&2&&(A("ngSwitch",i.view()),u(),A("ngSwitchCase","landing"),u(),A("ngSwitchCase","login"),u(),A("ngSwitchCase","register"),u(),A("ngSwitchCase","verification"),u(),A("ngSwitchCase","forgot-password"),u(),A("ngSwitchCase","reset-password"),u(),A("ngSwitchCase","app"))},dependencies:[pe,es,Kn,Ln,gC,xI,_M,N0,Jx,uv,nw,TS,Xx,iw,Wx,Zx,CS,wS,tw,AS,xS,Gx,Kx,IS,Se],styles:['[_nghost-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}.mobile-safe[_ngcontent-%COMP%]{max-width:100vw;overflow-x:hidden}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.modal-backdrop-right[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{height:100%;width:100%}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translate3d(0,20px,0)}to{opacity:1;transform:translateZ(0)}}.notification-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out forwards}'],changeDetection:0});var oh=qh;vC(uj);vC(dj);vC(pj);var FU=document.createElement("script");FU.src="https://cdn.tailwindcss.com";document.head.appendChild(FU);try{await OI(oh,{providers:[vM(cj),KT(),UI($I()),{provide:Ol,useValue:"de"}]})}catch(n){console.error(n)}
